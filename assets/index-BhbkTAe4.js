(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function uO(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Cy={exports:{}},yd={};var tS;function dO(){if(tS)return yd;tS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:o}}return yd.Fragment=e,yd.jsx=t,yd.jsxs=t,yd}var nS;function hO(){return nS||(nS=1,Cy.exports=dO()),Cy.exports}var x=hO(),Ry={exports:{}},Be={};var rS;function fO(){if(rS)return Be;rS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),E=Symbol.iterator;function I(z){return z===null||typeof z!="object"?null:(z=E&&z[E]||z["@@iterator"],typeof z=="function"?z:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,V={};function K(z,ne,ge){this.props=z,this.context=ne,this.refs=V,this.updater=ge||U}K.prototype.isReactComponent={},K.prototype.setState=function(z,ne){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ne,"setState")},K.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function F(){}F.prototype=K.prototype;function G(z,ne,ge){this.props=z,this.context=ne,this.refs=V,this.updater=ge||U}var ce=G.prototype=new F;ce.constructor=G,k(ce,K.prototype),ce.isPureReactComponent=!0;var ae=Array.isArray;function de(){}var D={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(z,ne,ge){var _e=ge.ref;return{$$typeof:n,type:z,key:ne,ref:_e!==void 0?_e:null,props:ge}}function M(z,ne){return R(z.type,ne,z.props)}function P(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function B(z){var ne={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ge){return ne[ge]})}var N=/\/+/g;function Ie(z,ne){return typeof z=="object"&&z!==null&&z.key!=null?B(""+z.key):ne.toString(36)}function Ye(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(de,de):(z.status="pending",z.then(function(ne){z.status==="pending"&&(z.status="fulfilled",z.value=ne)},function(ne){z.status==="pending"&&(z.status="rejected",z.reason=ne)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Z(z,ne,ge,_e,ke){var Re=typeof z;(Re==="undefined"||Re==="boolean")&&(z=null);var ze=!1;if(z===null)ze=!0;else switch(Re){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(z.$$typeof){case n:case e:ze=!0;break;case v:return ze=z._init,Z(ze(z._payload),ne,ge,_e,ke)}}if(ze)return ke=ke(z),ze=_e===""?"."+Ie(z,0):_e,ae(ke)?(ge="",ze!=null&&(ge=ze.replace(N,"$&/")+"/"),Z(ke,ne,ge,"",function(Fe){return Fe})):ke!=null&&(P(ke)&&(ke=M(ke,ge+(ke.key==null||z&&z.key===ke.key?"":(""+ke.key).replace(N,"$&/")+"/")+ze)),ne.push(ke)),1;ze=0;var yt=_e===""?".":_e+":";if(ae(z))for(var et=0;et<z.length;et++)_e=z[et],Re=yt+Ie(_e,et),ze+=Z(_e,ne,ge,Re,ke);else if(et=I(z),typeof et=="function")for(z=et.call(z),et=0;!(_e=z.next()).done;)_e=_e.value,Re=yt+Ie(_e,et++),ze+=Z(_e,ne,ge,Re,ke);else if(Re==="object"){if(typeof z.then=="function")return Z(Ye(z),ne,ge,_e,ke);throw ne=String(z),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return ze}function ue(z,ne,ge){if(z==null)return z;var _e=[],ke=0;return Z(z,_e,"","",function(Re){return ne.call(ge,Re,ke++)}),_e}function be(z){if(z._status===-1){var ne=z._result;ne=ne(),ne.then(function(ge){(z._status===0||z._status===-1)&&(z._status=1,z._result=ge)},function(ge){(z._status===0||z._status===-1)&&(z._status=2,z._result=ge)}),z._status===-1&&(z._status=0,z._result=ne)}if(z._status===1)return z._result.default;throw z._result}var Pe=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},He={map:ue,forEach:function(z,ne,ge){ue(z,function(){ne.apply(this,arguments)},ge)},count:function(z){var ne=0;return ue(z,function(){ne++}),ne},toArray:function(z){return ue(z,function(ne){return ne})||[]},only:function(z){if(!P(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Be.Activity=y,Be.Children=He,Be.Component=K,Be.Fragment=t,Be.Profiler=a,Be.PureComponent=G,Be.StrictMode=r,Be.Suspense=f,Be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Be.__COMPILER_RUNTIME={__proto__:null,c:function(z){return D.H.useMemoCache(z)}},Be.cache=function(z){return function(){return z.apply(null,arguments)}},Be.cacheSignal=function(){return null},Be.cloneElement=function(z,ne,ge){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var _e=k({},z.props),ke=z.key;if(ne!=null)for(Re in ne.key!==void 0&&(ke=""+ne.key),ne)!A.call(ne,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ne.ref===void 0||(_e[Re]=ne[Re]);var Re=arguments.length-2;if(Re===1)_e.children=ge;else if(1<Re){for(var ze=Array(Re),yt=0;yt<Re;yt++)ze[yt]=arguments[yt+2];_e.children=ze}return R(z.type,ke,_e)},Be.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},Be.createElement=function(z,ne,ge){var _e,ke={},Re=null;if(ne!=null)for(_e in ne.key!==void 0&&(Re=""+ne.key),ne)A.call(ne,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(ke[_e]=ne[_e]);var ze=arguments.length-2;if(ze===1)ke.children=ge;else if(1<ze){for(var yt=Array(ze),et=0;et<ze;et++)yt[et]=arguments[et+2];ke.children=yt}if(z&&z.defaultProps)for(_e in ze=z.defaultProps,ze)ke[_e]===void 0&&(ke[_e]=ze[_e]);return R(z,Re,ke)},Be.createRef=function(){return{current:null}},Be.forwardRef=function(z){return{$$typeof:d,render:z}},Be.isValidElement=P,Be.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:be}},Be.memo=function(z,ne){return{$$typeof:m,type:z,compare:ne===void 0?null:ne}},Be.startTransition=function(z){var ne=D.T,ge={};D.T=ge;try{var _e=z(),ke=D.S;ke!==null&&ke(ge,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(de,Pe)}catch(Re){Pe(Re)}finally{ne!==null&&ge.types!==null&&(ne.types=ge.types),D.T=ne}},Be.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Be.use=function(z){return D.H.use(z)},Be.useActionState=function(z,ne,ge){return D.H.useActionState(z,ne,ge)},Be.useCallback=function(z,ne){return D.H.useCallback(z,ne)},Be.useContext=function(z){return D.H.useContext(z)},Be.useDebugValue=function(){},Be.useDeferredValue=function(z,ne){return D.H.useDeferredValue(z,ne)},Be.useEffect=function(z,ne){return D.H.useEffect(z,ne)},Be.useEffectEvent=function(z){return D.H.useEffectEvent(z)},Be.useId=function(){return D.H.useId()},Be.useImperativeHandle=function(z,ne,ge){return D.H.useImperativeHandle(z,ne,ge)},Be.useInsertionEffect=function(z,ne){return D.H.useInsertionEffect(z,ne)},Be.useLayoutEffect=function(z,ne){return D.H.useLayoutEffect(z,ne)},Be.useMemo=function(z,ne){return D.H.useMemo(z,ne)},Be.useOptimistic=function(z,ne){return D.H.useOptimistic(z,ne)},Be.useReducer=function(z,ne,ge){return D.H.useReducer(z,ne,ge)},Be.useRef=function(z){return D.H.useRef(z)},Be.useState=function(z){return D.H.useState(z)},Be.useSyncExternalStore=function(z,ne,ge){return D.H.useSyncExternalStore(z,ne,ge)},Be.useTransition=function(){return D.H.useTransition()},Be.version="19.2.4",Be}var iS;function L_(){return iS||(iS=1,Ry.exports=fO()),Ry.exports}var S=L_();const Jt=uO(S);var Dy={exports:{}},bd={},Ny={exports:{}},ky={};var sS;function pO(){return sS||(sS=1,(function(n){function e(Z,ue){var be=Z.length;Z.push(ue);e:for(;0<be;){var Pe=be-1>>>1,He=Z[Pe];if(0<a(He,ue))Z[Pe]=ue,Z[be]=He,be=Pe;else break e}}function t(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var ue=Z[0],be=Z.pop();if(be!==ue){Z[0]=be;e:for(var Pe=0,He=Z.length,z=He>>>1;Pe<z;){var ne=2*(Pe+1)-1,ge=Z[ne],_e=ne+1,ke=Z[_e];if(0>a(ge,be))_e<He&&0>a(ke,ge)?(Z[Pe]=ke,Z[_e]=be,Pe=_e):(Z[Pe]=ge,Z[ne]=be,Pe=ne);else if(_e<He&&0>a(ke,be))Z[Pe]=ke,Z[_e]=be,Pe=_e;else break e}}return ue}function a(Z,ue){var be=Z.sortIndex-ue.sortIndex;return be!==0?be:Z.id-ue.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var f=[],m=[],v=1,y=null,E=3,I=!1,U=!1,k=!1,V=!1,K=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function ce(Z){for(var ue=t(m);ue!==null;){if(ue.callback===null)r(m);else if(ue.startTime<=Z)r(m),ue.sortIndex=ue.expirationTime,e(f,ue);else break;ue=t(m)}}function ae(Z){if(k=!1,ce(Z),!U)if(t(f)!==null)U=!0,de||(de=!0,B());else{var ue=t(m);ue!==null&&Ye(ae,ue.startTime-Z)}}var de=!1,D=-1,A=5,R=-1;function M(){return V?!0:!(n.unstable_now()-R<A)}function P(){if(V=!1,de){var Z=n.unstable_now();R=Z;var ue=!0;try{e:{U=!1,k&&(k=!1,F(D),D=-1),I=!0;var be=E;try{t:{for(ce(Z),y=t(f);y!==null&&!(y.expirationTime>Z&&M());){var Pe=y.callback;if(typeof Pe=="function"){y.callback=null,E=y.priorityLevel;var He=Pe(y.expirationTime<=Z);if(Z=n.unstable_now(),typeof He=="function"){y.callback=He,ce(Z),ue=!0;break t}y===t(f)&&r(f),ce(Z)}else r(f);y=t(f)}if(y!==null)ue=!0;else{var z=t(m);z!==null&&Ye(ae,z.startTime-Z),ue=!1}}break e}finally{y=null,E=be,I=!1}ue=void 0}}finally{ue?B():de=!1}}}var B;if(typeof G=="function")B=function(){G(P)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Ie=N.port2;N.port1.onmessage=P,B=function(){Ie.postMessage(null)}}else B=function(){K(P,0)};function Ye(Z,ue){D=K(function(){Z(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(Z){switch(E){case 1:case 2:case 3:var ue=3;break;default:ue=E}var be=E;E=ue;try{return Z()}finally{E=be}},n.unstable_requestPaint=function(){V=!0},n.unstable_runWithPriority=function(Z,ue){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var be=E;E=Z;try{return ue()}finally{E=be}},n.unstable_scheduleCallback=function(Z,ue,be){var Pe=n.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?Pe+be:Pe):be=Pe,Z){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=be+He,Z={id:v++,callback:ue,priorityLevel:Z,startTime:be,expirationTime:He,sortIndex:-1},be>Pe?(Z.sortIndex=be,e(m,Z),t(f)===null&&Z===t(m)&&(k?(F(D),D=-1):k=!0,Ye(ae,be-Pe))):(Z.sortIndex=He,e(f,Z),U||I||(U=!0,de||(de=!0,B()))),Z},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(Z){var ue=E;return function(){var be=E;E=ue;try{return Z.apply(this,arguments)}finally{E=be}}}})(ky)),ky}var aS;function mO(){return aS||(aS=1,Ny.exports=pO()),Ny.exports}var Oy={exports:{}},ir={};var oS;function gO(){if(oS)return ir;oS=1;var n=L_();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,m,v){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:f,containerInfo:m,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ir.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ir.createPortal=function(f,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(f,m,null,v)},ir.flushSync=function(f){var m=c.T,v=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=m,r.p=v,r.d.f()}},ir.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},ir.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},ir.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var v=m.as,y=d(v,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,I=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:E,fetchPriority:I}):v==="script"&&r.d.X(f,{crossOrigin:y,integrity:E,fetchPriority:I,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ir.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=d(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},ir.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,y=d(v,m.crossOrigin);r.d.L(f,v,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ir.preloadModule=function(f,m){if(typeof f=="string")if(m){var v=d(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},ir.requestFormReset=function(f){r.d.r(f)},ir.unstable_batchedUpdates=function(f,m){return f(m)},ir.useFormState=function(f,m,v){return c.H.useFormState(f,m,v)},ir.useFormStatus=function(){return c.H.useHostTransitionStatus()},ir.version="19.2.4",ir}var lS;function E1(){if(lS)return Oy.exports;lS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Oy.exports=gO(),Oy.exports}var cS;function vO(){if(cS)return bd;cS=1;var n=mO(),e=L_(),t=E1();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function m(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,u=s;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(u=p.return,u!==null){l=u;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return f(p),i;if(g===u)return f(p),s;g=g.sibling}throw Error(r(188))}if(l.return!==u.return)l=p,u=g;else{for(var _=!1,T=p.child;T;){if(T===l){_=!0,l=p,u=g;break}if(T===u){_=!0,u=p,l=g;break}T=T.sibling}if(!_){for(T=g.child;T;){if(T===l){_=!0,l=g,u=p;break}if(T===u){_=!0,u=g,l=p;break}T=T.sibling}if(!_)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function v(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=v(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,E=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),G=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var N=Symbol.for("react.client.reference");function Ie(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===N?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case K:return"Profiler";case V:return"StrictMode";case ae:return"Suspense";case de:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case U:return"Portal";case G:return i.displayName||"Context";case F:return(i._context.displayName||"Context")+".Consumer";case ce:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return s=i.displayName||null,s!==null?s:Ie(i.type)||"Memo";case A:s=i._payload,i=i._init;try{return Ie(i(s))}catch{}}return null}var Ye=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},Pe=[],He=-1;function z(i){return{current:i}}function ne(i){0>He||(i.current=Pe[He],Pe[He]=null,He--)}function ge(i,s){He++,Pe[He]=i.current,i.current=s}var _e=z(null),ke=z(null),Re=z(null),ze=z(null);function yt(i,s){switch(ge(Re,s),ge(ke,i),ge(_e,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?TT(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=TT(s),i=ST(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ne(_e),ge(_e,i)}function et(){ne(_e),ne(ke),ne(Re)}function Fe(i){i.memoizedState!==null&&ge(ze,i);var s=_e.current,l=ST(s,i.type);s!==l&&(ge(ke,i),ge(_e,l))}function pr(i){ke.current===i&&(ne(_e),ne(ke)),ze.current===i&&(ne(ze),pd._currentValue=be)}var un,mr;function ct(i){if(un===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);un=s&&s[1]||"",mr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+un+i+mr}var Pt=!1;function Cn(i,s){if(!i||Pt)return"";Pt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(ee){var X=ee}Reflect.construct(i,[],le)}else{try{le.call()}catch(ee){X=ee}i.call(le.prototype)}}else{try{throw Error()}catch(ee){X=ee}(le=i())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(ee){if(ee&&X&&typeof ee.stack=="string")return[ee.stack,X.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),_=g[0],T=g[1];if(_&&T){var L=_.split(`
`),W=T.split(`
`);for(p=u=0;u<L.length&&!L[u].includes("DetermineComponentFrameRoot");)u++;for(;p<W.length&&!W[p].includes("DetermineComponentFrameRoot");)p++;if(u===L.length||p===W.length)for(u=L.length-1,p=W.length-1;1<=u&&0<=p&&L[u]!==W[p];)p--;for(;1<=u&&0<=p;u--,p--)if(L[u]!==W[p]){if(u!==1||p!==1)do if(u--,p--,0>p||L[u]!==W[p]){var ie=`
`+L[u].replace(" at new "," at ");return i.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",i.displayName)),ie}while(1<=u&&0<=p);break}}}finally{Pt=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?ct(l):""}function gr(i,s){switch(i.tag){case 26:case 27:case 5:return ct(i.type);case 16:return ct("Lazy");case 13:return i.child!==s&&s!==null?ct("Suspense Fallback"):ct("Suspense");case 19:return ct("SuspenseList");case 0:case 15:return Cn(i.type,!1);case 11:return Cn(i.type.render,!1);case 1:return Cn(i.type,!0);case 31:return ct("Activity");default:return""}}function Lt(i){try{var s="",l=null;do s+=gr(i,l),l=i,i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Qe=Object.prototype.hasOwnProperty,at=n.unstable_scheduleCallback,tr=n.unstable_cancelCallback,Fr=n.unstable_shouldYield,xs=n.unstable_requestPaint,Yt=n.unstable_now,Ni=n.unstable_getCurrentPriorityLevel,Xi=n.unstable_ImmediatePriority,Rr=n.unstable_UserBlockingPriority,yn=n.unstable_NormalPriority,ki=n.unstable_LowPriority,vr=n.unstable_IdlePriority,yr=n.log,Ji=n.unstable_setDisableYieldValue,br=null,$t=null;function Rn(i){if(typeof yr=="function"&&Ji(i),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(br,i)}catch{}}var Nt=Math.clz32?Math.clz32:Oi,Ts=Math.log,Dr=Math.LN2;function Oi(i){return i>>>=0,i===0?32:31-(Ts(i)/Dr|0)|0}var Nr=256,qr=262144,Ge=4194304;function Mt(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function bt(i,s,l){var u=i.pendingLanes;if(u===0)return 0;var p=0,g=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var T=u&134217727;return T!==0?(u=T&~g,u!==0?p=Mt(u):(_&=T,_!==0?p=Mt(_):l||(l=T&~i,l!==0&&(p=Mt(l))))):(T=u&~g,T!==0?p=Mt(T):_!==0?p=Mt(_):l||(l=u&~i,l!==0&&(p=Mt(l)))),p===0?0:s!==0&&s!==p&&(s&g)===0&&(g=p&-p,l=s&-s,g>=l||g===32&&(l&4194048)!==0)?s:p}function Qt(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Dn(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dn(){var i=Ge;return Ge<<=1,(Ge&62914560)===0&&(Ge=4194304),i}function Ft(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Nn(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function qt(i,s,l,u,p,g){var _=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var T=i.entanglements,L=i.expirationTimes,W=i.hiddenUpdates;for(l=_&~l;0<l;){var ie=31-Nt(l),le=1<<ie;T[ie]=0,L[ie]=-1;var X=W[ie];if(X!==null)for(W[ie]=null,ie=0;ie<X.length;ie++){var ee=X[ie];ee!==null&&(ee.lane&=-536870913)}l&=~le}u!==0&&kn(i,u,0),g!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=g&~(_&~s))}function kn(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-Nt(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|l&261930}function On(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var u=31-Nt(l),p=1<<u;p&s|i[u]&s&&(i[u]|=s),l&=~p}}function zn(i,s){var l=s&-s;return l=(l&42)!==0?1:_r(l),(l&(i.suspendedLanes|s))!==0?0:l}function _r(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function jn(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function nr(){var i=ue.p;return i!==0?i:(i=window.event,i===void 0?32:YT(i.type))}function bn(i,s){var l=ue.p;try{return ue.p=i,s()}finally{ue.p=l}}var Pn=Math.random().toString(36).slice(2),kt="__reactFiber$"+Pn,_n="__reactProps$"+Pn,oi="__reactContainer$"+Pn,va="__reactEvents$"+Pn,Du="__reactListeners$"+Pn,Fl="__reactHandles$"+Pn,ql="__reactResources$"+Pn,li="__reactMarker$"+Pn;function Ss(i){delete i[kt],delete i[_n],delete i[va],delete i[Du],delete i[Fl]}function wr(i){var s=i[kt];if(s)return s;for(var l=i.parentNode;l;){if(s=l[oi]||l[kt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=kT(i);i!==null;){if(l=i[kt])return l;i=kT(i)}return s}i=l,l=i.parentNode}return null}function kr(i){if(i=i[kt]||i[oi]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function rr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Hr(i){var s=i[ql];return s||(s=i[ql]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Wt(i){i[li]=!0}var ya=new Set,ba={};function ci(i,s){ui(i,s),ui(i+"Capture",s)}function ui(i,s){for(ba[i]=s,i=0;i<s.length;i++)ya.add(s[i])}var Ro=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),di={},Do={};function Hl(i){return Qe.call(Do,i)?!0:Qe.call(di,i)?!1:Ro.test(i)?Do[i]=!0:(di[i]=!0,!1)}function _a(i,s,l){if(Hl(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function Er(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function tn(i,s,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+u)}}function wn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Zi(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function No(i,s,l){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,g=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(_){l=""+_,g.call(this,_)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function pt(i){if(!i._valueTracker){var s=Zi(i)?"checked":"value";i._valueTracker=No(i,s,""+i[s])}}function As(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return i&&(u=Zi(i)?i.checked?"true":"false":i.value),i=u,i!==l?(s.setValue(i),!0):!1}function Or(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Pi=/[\n"\\]/g;function Gn(i){return i.replace(Pi,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function wa(i,s,l,u,p,g,_,T){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),s!=null?_==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+wn(s)):i.value!==""+wn(s)&&(i.value=""+wn(s)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),s!=null?Ea(i,_,wn(s)):l!=null?Ea(i,_,wn(l)):u!=null&&i.removeAttribute("value"),p==null&&g!=null&&(i.defaultChecked=!!g),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.name=""+wn(T):i.removeAttribute("name")}function Is(i,s,l,u,p,g,_,T){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){pt(i);return}l=l!=null?""+wn(l):"",s=s!=null?""+wn(s):l,T||s===i.value||(i.value=s),i.defaultValue=s}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=T?i.checked:!!u,i.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),pt(i)}function Ea(i,s,l){s==="number"&&Or(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function hi(i,s,l,u){if(i=i.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=s.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&u&&(i[l].defaultSelected=!0)}else{for(l=""+wn(l),s=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,u&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function ko(i,s,l){if(s!=null&&(s=""+wn(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+wn(l):""}function es(i,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(r(92));if(Ye(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=wn(s),i.defaultValue=l,u=i.textContent,u===l&&u!==""&&u!==null&&(i.value=u),pt(i)}function O(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var se=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function me(i,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,l):typeof l!="number"||l===0||se.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function we(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var p in s)u=s[p],s.hasOwnProperty(p)&&l[p]!==u&&me(i,p,u)}else for(var g in s)s.hasOwnProperty(g)&&me(i,g,s[g])}function Oe(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var We=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xt(i){return nn.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Me(){}var Pr=null;function Mr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Gr=null,ts=null;function Oo(i){var s=kr(i);if(s&&(i=s.stateNode)){var l=i[_n]||null;e:switch(i=s.stateNode,s.type){case"input":if(wa(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Gn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==i&&u.form===i.form){var p=u[_n]||null;if(!p)throw Error(r(90));wa(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===i.form&&As(u)}break e;case"textarea":ko(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&hi(i,!!l.multiple,s,!1)}}}var Gl=!1;function xa(i,s,l){if(Gl)return i(s,l);Gl=!0;try{var u=i(s);return u}finally{if(Gl=!1,(Gr!==null||ts!==null)&&($f(),Gr&&(s=Gr,i=ts,ts=Gr=null,Oo(s),i)))for(s=0;s<i.length;s++)Oo(i[s])}}function Mi(i,s){var l=i.stateNode;if(l===null)return null;var u=l[_n]||null;if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Po=!1;if(fi)try{var St={};Object.defineProperty(St,"passive",{get:function(){Po=!0}}),window.addEventListener("test",St,St),window.removeEventListener("test",St,St)}catch{Po=!1}var ns=null,Nu=null,Mo=null;function ku(){if(Mo)return Mo;var i,s=Nu,l=s.length,u,p="value"in ns?ns.value:ns.textContent,g=p.length;for(i=0;i<l&&s[i]===p[i];i++);var _=l-i;for(u=1;u<=_&&s[l-u]===p[g-u];u++);return Mo=p.slice(i,1<u?1-u:void 0)}function Vo(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Cs(){return!0}function Vi(){return!1}function Kn(i){function s(l,u,p,g,_){this._reactName=l,this._targetInst=p,this.type=u,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var T in i)i.hasOwnProperty(T)&&(l=i[T],this[T]=l?l(g):g[T]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Cs:Vi,this.isPropagationStopped=Vi,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),s}var Rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rs=Kn(Rs),Ta=y({},Rs,{view:0,detail:0}),Ou=Kn(Ta),Sa,Kl,is,Yl=y({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Aa,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==is&&(is&&i.type==="mousemove"?(Sa=i.screenX-is.screenX,Kl=i.screenY-is.screenY):Kl=Sa=0,is=i),Sa)},movementY:function(i){return"movementY"in i?i.movementY:Kl}}),Pu=Kn(Yl),Lo=y({},Yl,{dataTransfer:0}),Qh=Kn(Lo),Wh=y({},Ta,{relatedTarget:0}),Uo=Kn(Wh),Mu=y({},Rs,{animationName:0,elapsedTime:0,pseudoElement:0}),Xh=Kn(Mu),Ql=y({},Rs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Jh=Kn(Ql),Zh=y({},Rs,{data:0}),ss=Kn(Zh),ef={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rf(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=nf[i])?!!s[i]:!1}function Aa(){return rf}var xr=y({},Ta,{key:function(i){if(i.key){var s=ef[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Vo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?tf[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Aa,charCode:function(i){return i.type==="keypress"?Vo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Vo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),sf=Kn(xr),af=y({},Yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ds=Kn(af),h=y({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Aa}),b=Kn(h),w=y({},Rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=Kn(w),Y=y({},Yl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),J=Kn(Y),ve=y({},Rs,{newState:0,oldState:0}),je=Kn(ve),hn=[9,13,27,32],mt=fi&&"CompositionEvent"in window,Ht=null;fi&&"documentMode"in document&&(Ht=document.documentMode);var pi=fi&&"TextEvent"in window&&!Ht,as=fi&&(!mt||Ht&&8<Ht&&11>=Ht),Li=" ",Ui=!1;function Bo(i,s){switch(i){case"keyup":return hn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wl(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Xl=!1;function PN(i,s){switch(i){case"compositionend":return Wl(s);case"keypress":return s.which!==32?null:(Ui=!0,Li);case"textInput":return i=s.data,i===Li&&Ui?null:i;default:return null}}function MN(i,s){if(Xl)return i==="compositionend"||!mt&&Bo(i,s)?(i=ku(),Mo=Nu=ns=null,Xl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return as&&s.locale!=="ko"?null:s.data;default:return null}}var VN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mw(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!VN[i.type]:s==="textarea"}function Vw(i,s,l,u){Gr?ts?ts.push(u):ts=[u]:Gr=u,s=Qf(s,"onChange"),0<s.length&&(l=new rs("onChange","change",null,l,u),i.push({event:l,listeners:s}))}var Vu=null,Lu=null;function LN(i){yT(i,0)}function of(i){var s=rr(i);if(As(s))return i}function Lw(i,s){if(i==="change")return s}var Uw=!1;if(fi){var Mg;if(fi){var Vg="oninput"in document;if(!Vg){var Bw=document.createElement("div");Bw.setAttribute("oninput","return;"),Vg=typeof Bw.oninput=="function"}Mg=Vg}else Mg=!1;Uw=Mg&&(!document.documentMode||9<document.documentMode)}function zw(){Vu&&(Vu.detachEvent("onpropertychange",jw),Lu=Vu=null)}function jw(i){if(i.propertyName==="value"&&of(Lu)){var s=[];Vw(s,Lu,i,Mr(i)),xa(LN,s)}}function UN(i,s,l){i==="focusin"?(zw(),Vu=s,Lu=l,Vu.attachEvent("onpropertychange",jw)):i==="focusout"&&zw()}function BN(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return of(Lu)}function zN(i,s){if(i==="click")return of(s)}function jN(i,s){if(i==="input"||i==="change")return of(s)}function $N(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Kr=typeof Object.is=="function"?Object.is:$N;function Uu(i,s){if(Kr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var p=l[u];if(!Qe.call(s,p)||!Kr(i[p],s[p]))return!1}return!0}function $w(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Fw(i,s){var l=$w(i);i=0;for(var u;l;){if(l.nodeType===3){if(u=i+l.textContent.length,i<=s&&u>=s)return{node:l,offset:s-i};i=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=$w(l)}}function qw(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?qw(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Hw(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Or(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Or(i.document)}return s}function Lg(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var FN=fi&&"documentMode"in document&&11>=document.documentMode,Jl=null,Ug=null,Bu=null,Bg=!1;function Gw(i,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Bg||Jl==null||Jl!==Or(u)||(u=Jl,"selectionStart"in u&&Lg(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Bu&&Uu(Bu,u)||(Bu=u,u=Qf(Ug,"onSelect"),0<u.length&&(s=new rs("onSelect","select",null,s,l),i.push({event:s,listeners:u}),s.target=Jl)))}function zo(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var Zl={animationend:zo("Animation","AnimationEnd"),animationiteration:zo("Animation","AnimationIteration"),animationstart:zo("Animation","AnimationStart"),transitionrun:zo("Transition","TransitionRun"),transitionstart:zo("Transition","TransitionStart"),transitioncancel:zo("Transition","TransitionCancel"),transitionend:zo("Transition","TransitionEnd")},zg={},Kw={};fi&&(Kw=document.createElement("div").style,"AnimationEvent"in window||(delete Zl.animationend.animation,delete Zl.animationiteration.animation,delete Zl.animationstart.animation),"TransitionEvent"in window||delete Zl.transitionend.transition);function jo(i){if(zg[i])return zg[i];if(!Zl[i])return i;var s=Zl[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in Kw)return zg[i]=s[l];return i}var Yw=jo("animationend"),Qw=jo("animationiteration"),Ww=jo("animationstart"),qN=jo("transitionrun"),HN=jo("transitionstart"),GN=jo("transitioncancel"),Xw=jo("transitionend"),Jw=new Map,jg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jg.push("scrollEnd");function Bi(i,s){Jw.set(i,s),ci(s,[i])}var lf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},mi=[],ec=0,$g=0;function cf(){for(var i=ec,s=$g=ec=0;s<i;){var l=mi[s];mi[s++]=null;var u=mi[s];mi[s++]=null;var p=mi[s];mi[s++]=null;var g=mi[s];if(mi[s++]=null,u!==null&&p!==null){var _=u.pending;_===null?p.next=p:(p.next=_.next,_.next=p),u.pending=p}g!==0&&Zw(l,p,g)}}function uf(i,s,l,u){mi[ec++]=i,mi[ec++]=s,mi[ec++]=l,mi[ec++]=u,$g|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Fg(i,s,l,u){return uf(i,s,l,u),df(i)}function $o(i,s){return uf(i,null,null,s),df(i)}function Zw(i,s,l){i.lanes|=l;var u=i.alternate;u!==null&&(u.lanes|=l);for(var p=!1,g=i.return;g!==null;)g.childLanes|=l,u=g.alternate,u!==null&&(u.childLanes|=l),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(p=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,p&&s!==null&&(p=31-Nt(l),i=g.hiddenUpdates,u=i[p],u===null?i[p]=[s]:u.push(s),s.lane=l|536870912),g):null}function df(i){if(50<od)throw od=0,Jv=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var tc={};function KN(i,s,l,u){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yr(i,s,l,u){return new KN(i,s,l,u)}function qg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ns(i,s){var l=i.alternate;return l===null?(l=Yr(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function eE(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function hf(i,s,l,u,p,g){var _=0;if(u=i,typeof i=="function")qg(i)&&(_=1);else if(typeof i=="string")_=Jk(i,l,_e.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case R:return i=Yr(31,l,s,p),i.elementType=R,i.lanes=g,i;case k:return Fo(l.children,p,g,s);case V:_=8,p|=24;break;case K:return i=Yr(12,l,s,p|2),i.elementType=K,i.lanes=g,i;case ae:return i=Yr(13,l,s,p),i.elementType=ae,i.lanes=g,i;case de:return i=Yr(19,l,s,p),i.elementType=de,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case G:_=10;break e;case F:_=9;break e;case ce:_=11;break e;case D:_=14;break e;case A:_=16,u=null;break e}_=29,l=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=Yr(_,l,s,p),s.elementType=i,s.type=u,s.lanes=g,s}function Fo(i,s,l,u){return i=Yr(7,i,u,s),i.lanes=l,i}function Hg(i,s,l){return i=Yr(6,i,null,s),i.lanes=l,i}function tE(i){var s=Yr(18,null,null,0);return s.stateNode=i,s}function Gg(i,s,l){return s=Yr(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var nE=new WeakMap;function gi(i,s){if(typeof i=="object"&&i!==null){var l=nE.get(i);return l!==void 0?l:(s={value:i,source:s,stack:Lt(s)},nE.set(i,s),s)}return{value:i,source:s,stack:Lt(s)}}var nc=[],rc=0,ff=null,zu=0,vi=[],yi=0,Ia=null,os=1,ls="";function ks(i,s){nc[rc++]=zu,nc[rc++]=ff,ff=i,zu=s}function rE(i,s,l){vi[yi++]=os,vi[yi++]=ls,vi[yi++]=Ia,Ia=i;var u=os;i=ls;var p=32-Nt(u)-1;u&=~(1<<p),l+=1;var g=32-Nt(s)+p;if(30<g){var _=p-p%5;g=(u&(1<<_)-1).toString(32),u>>=_,p-=_,os=1<<32-Nt(s)+p|l<<p|u,ls=g+i}else os=1<<g|l<<p|u,ls=i}function Kg(i){i.return!==null&&(ks(i,1),rE(i,1,0))}function Yg(i){for(;i===ff;)ff=nc[--rc],nc[rc]=null,zu=nc[--rc],nc[rc]=null;for(;i===Ia;)Ia=vi[--yi],vi[yi]=null,ls=vi[--yi],vi[yi]=null,os=vi[--yi],vi[yi]=null}function iE(i,s){vi[yi++]=os,vi[yi++]=ls,vi[yi++]=Ia,os=s.id,ls=s.overflow,Ia=i}var Yn=null,Ut=null,st=!1,Ca=null,bi=!1,Qg=Error(r(519));function Ra(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ju(gi(s,i)),Qg}function sE(i){var s=i.stateNode,l=i.type,u=i.memoizedProps;switch(s[kt]=i,s[_n]=u,l){case"dialog":Je("cancel",s),Je("close",s);break;case"iframe":case"object":case"embed":Je("load",s);break;case"video":case"audio":for(l=0;l<cd.length;l++)Je(cd[l],s);break;case"source":Je("error",s);break;case"img":case"image":case"link":Je("error",s),Je("load",s);break;case"details":Je("toggle",s);break;case"input":Je("invalid",s),Is(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Je("invalid",s);break;case"textarea":Je("invalid",s),es(s,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||ET(s.textContent,l)?(u.popover!=null&&(Je("beforetoggle",s),Je("toggle",s)),u.onScroll!=null&&Je("scroll",s),u.onScrollEnd!=null&&Je("scrollend",s),u.onClick!=null&&(s.onclick=Me),s=!0):s=!1,s||Ra(i,!0)}function aE(i){for(Yn=i.return;Yn;)switch(Yn.tag){case 5:case 31:case 13:bi=!1;return;case 27:case 3:bi=!0;return;default:Yn=Yn.return}}function ic(i){if(i!==Yn)return!1;if(!st)return aE(i),st=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||fy(i.type,i.memoizedProps)),l=!l),l&&Ut&&Ra(i),aE(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Ut=NT(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Ut=NT(i)}else s===27?(s=Ut,Fa(i.type)?(i=yy,yy=null,Ut=i):Ut=s):Ut=Yn?wi(i.stateNode.nextSibling):null;return!0}function qo(){Ut=Yn=null,st=!1}function Wg(){var i=Ca;return i!==null&&(Br===null?Br=i:Br.push.apply(Br,i),Ca=null),i}function ju(i){Ca===null?Ca=[i]:Ca.push(i)}var Xg=z(null),Ho=null,Os=null;function Da(i,s,l){ge(Xg,s._currentValue),s._currentValue=l}function Ps(i){i._currentValue=Xg.current,ne(Xg)}function Jg(i,s,l){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===l)break;i=i.return}}function Zg(i,s,l,u){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var g=p.dependencies;if(g!==null){var _=p.child;g=g.firstContext;e:for(;g!==null;){var T=g;g=p;for(var L=0;L<s.length;L++)if(T.context===s[L]){g.lanes|=l,T=g.alternate,T!==null&&(T.lanes|=l),Jg(g.return,l,i),u||(_=null);break e}g=T.next}}else if(p.tag===18){if(_=p.return,_===null)throw Error(r(341));_.lanes|=l,g=_.alternate,g!==null&&(g.lanes|=l),Jg(_,l,i),_=null}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===i){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}}function sc(i,s,l,u){i=null;for(var p=s,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var _=p.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var T=p.type;Kr(p.pendingProps.value,_.value)||(i!==null?i.push(T):i=[T])}}else if(p===ze.current){if(_=p.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(pd):i=[pd])}p=p.return}i!==null&&Zg(s,i,l,u),s.flags|=262144}function pf(i){for(i=i.firstContext;i!==null;){if(!Kr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Go(i){Ho=i,Os=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Qn(i){return oE(Ho,i)}function mf(i,s){return Ho===null&&Go(i),oE(i,s)}function oE(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Os===null){if(i===null)throw Error(r(308));Os=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Os=Os.next=s;return l}var YN=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},QN=n.unstable_scheduleCallback,WN=n.unstable_NormalPriority,En={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ev(){return{controller:new YN,data:new Map,refCount:0}}function $u(i){i.refCount--,i.refCount===0&&QN(WN,function(){i.controller.abort()})}var Fu=null,tv=0,ac=0,oc=null;function XN(i,s){if(Fu===null){var l=Fu=[];tv=0,ac=iy(),oc={status:"pending",value:void 0,then:function(u){l.push(u)}}}return tv++,s.then(lE,lE),s}function lE(){if(--tv===0&&Fu!==null){oc!==null&&(oc.status="fulfilled");var i=Fu;Fu=null,ac=0,oc=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function JN(i,s){var l=[],u={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var p=0;p<l.length;p++)(0,l[p])(s)},function(p){for(u.status="rejected",u.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),u}var cE=Z.S;Z.S=function(i,s){Gx=Yt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&XN(i,s),cE!==null&&cE(i,s)};var Ko=z(null);function nv(){var i=Ko.current;return i!==null?i:Ot.pooledCache}function gf(i,s){s===null?ge(Ko,Ko.current):ge(Ko,s.pool)}function uE(){var i=nv();return i===null?null:{parent:En._currentValue,pool:i}}var lc=Error(r(460)),rv=Error(r(474)),vf=Error(r(542)),yf={then:function(){}};function dE(i){return i=i.status,i==="fulfilled"||i==="rejected"}function hE(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(Me,Me),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,pE(i),i;default:if(typeof s.status=="string")s.then(Me,Me);else{if(i=Ot,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=u}},function(u){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,pE(i),i}throw Qo=s,lc}}function Yo(i){try{var s=i._init;return s(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Qo=l,lc):l}}var Qo=null;function fE(){if(Qo===null)throw Error(r(459));var i=Qo;return Qo=null,i}function pE(i){if(i===lc||i===vf)throw Error(r(483))}var cc=null,qu=0;function bf(i){var s=qu;return qu+=1,cc===null&&(cc=[]),hE(cc,i,s)}function Hu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function _f(i,s){throw s.$$typeof===E?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function mE(i){function s(q,j){if(i){var Q=q.deletions;Q===null?(q.deletions=[j],q.flags|=16):Q.push(j)}}function l(q,j){if(!i)return null;for(;j!==null;)s(q,j),j=j.sibling;return null}function u(q){for(var j=new Map;q!==null;)q.key!==null?j.set(q.key,q):j.set(q.index,q),q=q.sibling;return j}function p(q,j){return q=Ns(q,j),q.index=0,q.sibling=null,q}function g(q,j,Q){return q.index=Q,i?(Q=q.alternate,Q!==null?(Q=Q.index,Q<j?(q.flags|=67108866,j):Q):(q.flags|=67108866,j)):(q.flags|=1048576,j)}function _(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function T(q,j,Q,oe){return j===null||j.tag!==6?(j=Hg(Q,q.mode,oe),j.return=q,j):(j=p(j,Q),j.return=q,j)}function L(q,j,Q,oe){var De=Q.type;return De===k?ie(q,j,Q.props.children,oe,Q.key):j!==null&&(j.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===A&&Yo(De)===j.type)?(j=p(j,Q.props),Hu(j,Q),j.return=q,j):(j=hf(Q.type,Q.key,Q.props,null,q.mode,oe),Hu(j,Q),j.return=q,j)}function W(q,j,Q,oe){return j===null||j.tag!==4||j.stateNode.containerInfo!==Q.containerInfo||j.stateNode.implementation!==Q.implementation?(j=Gg(Q,q.mode,oe),j.return=q,j):(j=p(j,Q.children||[]),j.return=q,j)}function ie(q,j,Q,oe,De){return j===null||j.tag!==7?(j=Fo(Q,q.mode,oe,De),j.return=q,j):(j=p(j,Q),j.return=q,j)}function le(q,j,Q){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Hg(""+j,q.mode,Q),j.return=q,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case I:return Q=hf(j.type,j.key,j.props,null,q.mode,Q),Hu(Q,j),Q.return=q,Q;case U:return j=Gg(j,q.mode,Q),j.return=q,j;case A:return j=Yo(j),le(q,j,Q)}if(Ye(j)||B(j))return j=Fo(j,q.mode,Q,null),j.return=q,j;if(typeof j.then=="function")return le(q,bf(j),Q);if(j.$$typeof===G)return le(q,mf(q,j),Q);_f(q,j)}return null}function X(q,j,Q,oe){var De=j!==null?j.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return De!==null?null:T(q,j,""+Q,oe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case I:return Q.key===De?L(q,j,Q,oe):null;case U:return Q.key===De?W(q,j,Q,oe):null;case A:return Q=Yo(Q),X(q,j,Q,oe)}if(Ye(Q)||B(Q))return De!==null?null:ie(q,j,Q,oe,null);if(typeof Q.then=="function")return X(q,j,bf(Q),oe);if(Q.$$typeof===G)return X(q,j,mf(q,Q),oe);_f(q,Q)}return null}function ee(q,j,Q,oe,De){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return q=q.get(Q)||null,T(j,q,""+oe,De);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case I:return q=q.get(oe.key===null?Q:oe.key)||null,L(j,q,oe,De);case U:return q=q.get(oe.key===null?Q:oe.key)||null,W(j,q,oe,De);case A:return oe=Yo(oe),ee(q,j,Q,oe,De)}if(Ye(oe)||B(oe))return q=q.get(Q)||null,ie(j,q,oe,De,null);if(typeof oe.then=="function")return ee(q,j,Q,bf(oe),De);if(oe.$$typeof===G)return ee(q,j,Q,mf(j,oe),De);_f(j,oe)}return null}function Te(q,j,Q,oe){for(var De=null,ut=null,Ae=j,qe=j=0,nt=null;Ae!==null&&qe<Q.length;qe++){Ae.index>qe?(nt=Ae,Ae=null):nt=Ae.sibling;var dt=X(q,Ae,Q[qe],oe);if(dt===null){Ae===null&&(Ae=nt);break}i&&Ae&&dt.alternate===null&&s(q,Ae),j=g(dt,j,qe),ut===null?De=dt:ut.sibling=dt,ut=dt,Ae=nt}if(qe===Q.length)return l(q,Ae),st&&ks(q,qe),De;if(Ae===null){for(;qe<Q.length;qe++)Ae=le(q,Q[qe],oe),Ae!==null&&(j=g(Ae,j,qe),ut===null?De=Ae:ut.sibling=Ae,ut=Ae);return st&&ks(q,qe),De}for(Ae=u(Ae);qe<Q.length;qe++)nt=ee(Ae,q,qe,Q[qe],oe),nt!==null&&(i&&nt.alternate!==null&&Ae.delete(nt.key===null?qe:nt.key),j=g(nt,j,qe),ut===null?De=nt:ut.sibling=nt,ut=nt);return i&&Ae.forEach(function(Ya){return s(q,Ya)}),st&&ks(q,qe),De}function Ve(q,j,Q,oe){if(Q==null)throw Error(r(151));for(var De=null,ut=null,Ae=j,qe=j=0,nt=null,dt=Q.next();Ae!==null&&!dt.done;qe++,dt=Q.next()){Ae.index>qe?(nt=Ae,Ae=null):nt=Ae.sibling;var Ya=X(q,Ae,dt.value,oe);if(Ya===null){Ae===null&&(Ae=nt);break}i&&Ae&&Ya.alternate===null&&s(q,Ae),j=g(Ya,j,qe),ut===null?De=Ya:ut.sibling=Ya,ut=Ya,Ae=nt}if(dt.done)return l(q,Ae),st&&ks(q,qe),De;if(Ae===null){for(;!dt.done;qe++,dt=Q.next())dt=le(q,dt.value,oe),dt!==null&&(j=g(dt,j,qe),ut===null?De=dt:ut.sibling=dt,ut=dt);return st&&ks(q,qe),De}for(Ae=u(Ae);!dt.done;qe++,dt=Q.next())dt=ee(Ae,q,qe,dt.value,oe),dt!==null&&(i&&dt.alternate!==null&&Ae.delete(dt.key===null?qe:dt.key),j=g(dt,j,qe),ut===null?De=dt:ut.sibling=dt,ut=dt);return i&&Ae.forEach(function(cO){return s(q,cO)}),st&&ks(q,qe),De}function Ct(q,j,Q,oe){if(typeof Q=="object"&&Q!==null&&Q.type===k&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case I:e:{for(var De=Q.key;j!==null;){if(j.key===De){if(De=Q.type,De===k){if(j.tag===7){l(q,j.sibling),oe=p(j,Q.props.children),oe.return=q,q=oe;break e}}else if(j.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===A&&Yo(De)===j.type){l(q,j.sibling),oe=p(j,Q.props),Hu(oe,Q),oe.return=q,q=oe;break e}l(q,j);break}else s(q,j);j=j.sibling}Q.type===k?(oe=Fo(Q.props.children,q.mode,oe,Q.key),oe.return=q,q=oe):(oe=hf(Q.type,Q.key,Q.props,null,q.mode,oe),Hu(oe,Q),oe.return=q,q=oe)}return _(q);case U:e:{for(De=Q.key;j!==null;){if(j.key===De)if(j.tag===4&&j.stateNode.containerInfo===Q.containerInfo&&j.stateNode.implementation===Q.implementation){l(q,j.sibling),oe=p(j,Q.children||[]),oe.return=q,q=oe;break e}else{l(q,j);break}else s(q,j);j=j.sibling}oe=Gg(Q,q.mode,oe),oe.return=q,q=oe}return _(q);case A:return Q=Yo(Q),Ct(q,j,Q,oe)}if(Ye(Q))return Te(q,j,Q,oe);if(B(Q)){if(De=B(Q),typeof De!="function")throw Error(r(150));return Q=De.call(Q),Ve(q,j,Q,oe)}if(typeof Q.then=="function")return Ct(q,j,bf(Q),oe);if(Q.$$typeof===G)return Ct(q,j,mf(q,Q),oe);_f(q,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,j!==null&&j.tag===6?(l(q,j.sibling),oe=p(j,Q),oe.return=q,q=oe):(l(q,j),oe=Hg(Q,q.mode,oe),oe.return=q,q=oe),_(q)):l(q,j)}return function(q,j,Q,oe){try{qu=0;var De=Ct(q,j,Q,oe);return cc=null,De}catch(Ae){if(Ae===lc||Ae===vf)throw Ae;var ut=Yr(29,Ae,null,q.mode);return ut.lanes=oe,ut.return=q,ut}}}var Wo=mE(!0),gE=mE(!1),Na=!1;function iv(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sv(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ka(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Oa(i,s,l){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(gt&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,s=df(i),Zw(i,null,l),s}return uf(i,u,s,l),df(i)}function Gu(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,l|=u,s.lanes=l,On(i,l)}}function av(i,s){var l=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var _={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?p=g=_:g=g.next=_,l=l.next}while(l!==null);g===null?p=g=s:g=g.next=s}else p=g=s;l={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var ov=!1;function Ku(){if(ov){var i=oc;if(i!==null)throw i}}function Yu(i,s,l,u){ov=!1;var p=i.updateQueue;Na=!1;var g=p.firstBaseUpdate,_=p.lastBaseUpdate,T=p.shared.pending;if(T!==null){p.shared.pending=null;var L=T,W=L.next;L.next=null,_===null?g=W:_.next=W,_=L;var ie=i.alternate;ie!==null&&(ie=ie.updateQueue,T=ie.lastBaseUpdate,T!==_&&(T===null?ie.firstBaseUpdate=W:T.next=W,ie.lastBaseUpdate=L))}if(g!==null){var le=p.baseState;_=0,ie=W=L=null,T=g;do{var X=T.lane&-536870913,ee=X!==T.lane;if(ee?(tt&X)===X:(u&X)===X){X!==0&&X===ac&&(ov=!0),ie!==null&&(ie=ie.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Te=i,Ve=T;X=s;var Ct=l;switch(Ve.tag){case 1:if(Te=Ve.payload,typeof Te=="function"){le=Te.call(Ct,le,X);break e}le=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Ve.payload,X=typeof Te=="function"?Te.call(Ct,le,X):Te,X==null)break e;le=y({},le,X);break e;case 2:Na=!0}}X=T.callback,X!==null&&(i.flags|=64,ee&&(i.flags|=8192),ee=p.callbacks,ee===null?p.callbacks=[X]:ee.push(X))}else ee={lane:X,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ie===null?(W=ie=ee,L=le):ie=ie.next=ee,_|=X;if(T=T.next,T===null){if(T=p.shared.pending,T===null)break;ee=T,T=ee.next,ee.next=null,p.lastBaseUpdate=ee,p.shared.pending=null}}while(!0);ie===null&&(L=le),p.baseState=L,p.firstBaseUpdate=W,p.lastBaseUpdate=ie,g===null&&(p.shared.lanes=0),Ua|=_,i.lanes=_,i.memoizedState=le}}function vE(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function yE(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)vE(l[i],s)}var uc=z(null),wf=z(0);function bE(i,s){i=Fs,ge(wf,i),ge(uc,s),Fs=i|s.baseLanes}function lv(){ge(wf,Fs),ge(uc,uc.current)}function cv(){Fs=wf.current,ne(uc),ne(wf)}var Qr=z(null),_i=null;function Pa(i){var s=i.alternate;ge(fn,fn.current&1),ge(Qr,i),_i===null&&(s===null||uc.current!==null||s.memoizedState!==null)&&(_i=i)}function uv(i){ge(fn,fn.current),ge(Qr,i),_i===null&&(_i=i)}function _E(i){i.tag===22?(ge(fn,fn.current),ge(Qr,i),_i===null&&(_i=i)):Ma()}function Ma(){ge(fn,fn.current),ge(Qr,Qr.current)}function Wr(i){ne(Qr),_i===i&&(_i=null),ne(fn)}var fn=z(0);function Ef(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||gy(l)||vy(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ms=0,$e=null,At=null,xn=null,xf=!1,dc=!1,Xo=!1,Tf=0,Qu=0,hc=null,ZN=0;function rn(){throw Error(r(321))}function dv(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Kr(i[l],s[l]))return!1;return!0}function hv(i,s,l,u,p,g){return Ms=g,$e=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=i===null||i.memoizedState===null?rx:Iv,Xo=!1,g=l(u,p),Xo=!1,dc&&(g=EE(s,l,u,p)),wE(i),g}function wE(i){Z.H=Ju;var s=At!==null&&At.next!==null;if(Ms=0,xn=At=$e=null,xf=!1,Qu=0,hc=null,s)throw Error(r(300));i===null||Tn||(i=i.dependencies,i!==null&&pf(i)&&(Tn=!0))}function EE(i,s,l,u){$e=i;var p=0;do{if(dc&&(hc=null),Qu=0,dc=!1,25<=p)throw Error(r(301));if(p+=1,xn=At=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Z.H=ix,g=s(l,u)}while(dc);return g}function ek(){var i=Z.H,s=i.useState()[0];return s=typeof s.then=="function"?Wu(s):s,i=i.useState()[0],(At!==null?At.memoizedState:null)!==i&&($e.flags|=1024),s}function fv(){var i=Tf!==0;return Tf=0,i}function pv(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function mv(i){if(xf){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}xf=!1}Ms=0,xn=At=$e=null,dc=!1,Qu=Tf=0,hc=null}function Tr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?$e.memoizedState=xn=i:xn=xn.next=i,xn}function pn(){if(At===null){var i=$e.alternate;i=i!==null?i.memoizedState:null}else i=At.next;var s=xn===null?$e.memoizedState:xn.next;if(s!==null)xn=s,At=i;else{if(i===null)throw $e.alternate===null?Error(r(467)):Error(r(310));At=i,i={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},xn===null?$e.memoizedState=xn=i:xn=xn.next=i}return xn}function Sf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wu(i){var s=Qu;return Qu+=1,hc===null&&(hc=[]),i=hE(hc,i,s),s=$e,(xn===null?s.memoizedState:xn.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?rx:Iv),i}function Af(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Wu(i);if(i.$$typeof===G)return Qn(i)}throw Error(r(438,String(i)))}function gv(i){var s=null,l=$e.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=$e.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Sf(),$e.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),u=0;u<i;u++)l[u]=M;return s.index++,l}function Vs(i,s){return typeof s=="function"?s(i):s}function If(i){var s=pn();return vv(s,At,i)}function vv(i,s,l){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var p=i.baseQueue,g=u.pending;if(g!==null){if(p!==null){var _=p.next;p.next=g.next,g.next=_}s.baseQueue=p=g,u.pending=null}if(g=i.baseState,p===null)i.memoizedState=g;else{s=p.next;var T=_=null,L=null,W=s,ie=!1;do{var le=W.lane&-536870913;if(le!==W.lane?(tt&le)===le:(Ms&le)===le){var X=W.revertLane;if(X===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),le===ac&&(ie=!0);else if((Ms&X)===X){W=W.next,X===ac&&(ie=!0);continue}else le={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},L===null?(T=L=le,_=g):L=L.next=le,$e.lanes|=X,Ua|=X;le=W.action,Xo&&l(g,le),g=W.hasEagerState?W.eagerState:l(g,le)}else X={lane:le,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},L===null?(T=L=X,_=g):L=L.next=X,$e.lanes|=le,Ua|=le;W=W.next}while(W!==null&&W!==s);if(L===null?_=g:L.next=T,!Kr(g,i.memoizedState)&&(Tn=!0,ie&&(l=oc,l!==null)))throw l;i.memoizedState=g,i.baseState=_,i.baseQueue=L,u.lastRenderedState=g}return p===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function yv(i){var s=pn(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var u=l.dispatch,p=l.pending,g=s.memoizedState;if(p!==null){l.pending=null;var _=p=p.next;do g=i(g,_.action),_=_.next;while(_!==p);Kr(g,s.memoizedState)||(Tn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,u]}function xE(i,s,l){var u=$e,p=pn(),g=st;if(g){if(l===void 0)throw Error(r(407));l=l()}else l=s();var _=!Kr((At||p).memoizedState,l);if(_&&(p.memoizedState=l,Tn=!0),p=p.queue,wv(AE.bind(null,u,p,i),[i]),p.getSnapshot!==s||_||xn!==null&&xn.memoizedState.tag&1){if(u.flags|=2048,fc(9,{destroy:void 0},SE.bind(null,u,p,l,s),null),Ot===null)throw Error(r(349));g||(Ms&127)!==0||TE(u,s,l)}return l}function TE(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=$e.updateQueue,s===null?(s=Sf(),$e.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function SE(i,s,l,u){s.value=l,s.getSnapshot=u,IE(s)&&CE(i)}function AE(i,s,l){return l(function(){IE(s)&&CE(i)})}function IE(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Kr(i,l)}catch{return!0}}function CE(i){var s=$o(i,2);s!==null&&zr(s,i,2)}function bv(i){var s=Tr();if(typeof i=="function"){var l=i;if(i=l(),Xo){Rn(!0);try{l()}finally{Rn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:i},s}function RE(i,s,l,u){return i.baseState=l,vv(i,At,typeof u=="function"?u:Vs)}function tk(i,s,l,u,p){if(Df(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){g.listeners.push(_)}};Z.T!==null?l(!0):g.isTransition=!1,u(g),l=s.pending,l===null?(g.next=s.pending=g,DE(s,g)):(g.next=l.next,s.pending=l.next=g)}}function DE(i,s){var l=s.action,u=s.payload,p=i.state;if(s.isTransition){var g=Z.T,_={};Z.T=_;try{var T=l(p,u),L=Z.S;L!==null&&L(_,T),NE(i,s,T)}catch(W){_v(i,s,W)}finally{g!==null&&_.types!==null&&(g.types=_.types),Z.T=g}}else try{g=l(p,u),NE(i,s,g)}catch(W){_v(i,s,W)}}function NE(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){kE(i,s,u)},function(u){return _v(i,s,u)}):kE(i,s,l)}function kE(i,s,l){s.status="fulfilled",s.value=l,OE(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,DE(i,l)))}function _v(i,s,l){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,OE(s),s=s.next;while(s!==u)}i.action=null}function OE(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function PE(i,s){return s}function ME(i,s){if(st){var l=Ot.formState;if(l!==null){e:{var u=$e;if(st){if(Ut){t:{for(var p=Ut,g=bi;p.nodeType!==8;){if(!g){p=null;break t}if(p=wi(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Ut=wi(p.nextSibling),u=p.data==="F!";break e}}Ra(u)}u=!1}u&&(s=l[0])}}return l=Tr(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:PE,lastRenderedState:s},l.queue=u,l=ex.bind(null,$e,u),u.dispatch=l,u=bv(!1),g=Av.bind(null,$e,!1,u.queue),u=Tr(),p={state:s,dispatch:null,action:i,pending:null},u.queue=p,l=tk.bind(null,$e,p,g,l),p.dispatch=l,u.memoizedState=i,[s,l,!1]}function VE(i){var s=pn();return LE(s,At,i)}function LE(i,s,l){if(s=vv(i,s,PE)[0],i=If(Vs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Wu(s)}catch(_){throw _===lc?vf:_}else u=s;s=pn();var p=s.queue,g=p.dispatch;return l!==s.memoizedState&&($e.flags|=2048,fc(9,{destroy:void 0},nk.bind(null,p,l),null)),[u,g,i]}function nk(i,s){i.action=s}function UE(i){var s=pn(),l=At;if(l!==null)return LE(s,l,i);pn(),s=s.memoizedState,l=pn();var u=l.queue.dispatch;return l.memoizedState=i,[s,u,!1]}function fc(i,s,l,u){return i={tag:i,create:l,deps:u,inst:s,next:null},s=$e.updateQueue,s===null&&(s=Sf(),$e.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(u=l.next,l.next=i,i.next=u,s.lastEffect=i),i}function BE(){return pn().memoizedState}function Cf(i,s,l,u){var p=Tr();$e.flags|=i,p.memoizedState=fc(1|s,{destroy:void 0},l,u===void 0?null:u)}function Rf(i,s,l,u){var p=pn();u=u===void 0?null:u;var g=p.memoizedState.inst;At!==null&&u!==null&&dv(u,At.memoizedState.deps)?p.memoizedState=fc(s,g,l,u):($e.flags|=i,p.memoizedState=fc(1|s,g,l,u))}function zE(i,s){Cf(8390656,8,i,s)}function wv(i,s){Rf(2048,8,i,s)}function rk(i){$e.flags|=4;var s=$e.updateQueue;if(s===null)s=Sf(),$e.updateQueue=s,s.events=[i];else{var l=s.events;l===null?s.events=[i]:l.push(i)}}function jE(i){var s=pn().memoizedState;return rk({ref:s,nextImpl:i}),function(){if((gt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function $E(i,s){return Rf(4,2,i,s)}function FE(i,s){return Rf(4,4,i,s)}function qE(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function HE(i,s,l){l=l!=null?l.concat([i]):null,Rf(4,4,qE.bind(null,s,i),l)}function Ev(){}function GE(i,s){var l=pn();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&dv(s,u[1])?u[0]:(l.memoizedState=[i,s],i)}function KE(i,s){var l=pn();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&dv(s,u[1]))return u[0];if(u=i(),Xo){Rn(!0);try{i()}finally{Rn(!1)}}return l.memoizedState=[u,s],u}function xv(i,s,l){return l===void 0||(Ms&1073741824)!==0&&(tt&261930)===0?i.memoizedState=s:(i.memoizedState=l,i=Yx(),$e.lanes|=i,Ua|=i,l)}function YE(i,s,l,u){return Kr(l,s)?l:uc.current!==null?(i=xv(i,l,u),Kr(i,s)||(Tn=!0),i):(Ms&42)===0||(Ms&1073741824)!==0&&(tt&261930)===0?(Tn=!0,i.memoizedState=l):(i=Yx(),$e.lanes|=i,Ua|=i,s)}function QE(i,s,l,u,p){var g=ue.p;ue.p=g!==0&&8>g?g:8;var _=Z.T,T={};Z.T=T,Av(i,!1,s,l);try{var L=p(),W=Z.S;if(W!==null&&W(T,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ie=JN(L,u);Xu(i,s,ie,Zr(i))}else Xu(i,s,u,Zr(i))}catch(le){Xu(i,s,{then:function(){},status:"rejected",reason:le},Zr())}finally{ue.p=g,_!==null&&T.types!==null&&(_.types=T.types),Z.T=_}}function ik(){}function Tv(i,s,l,u){if(i.tag!==5)throw Error(r(476));var p=WE(i).queue;QE(i,p,s,be,l===null?ik:function(){return XE(i),l(u)})}function WE(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:be},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function XE(i){var s=WE(i);s.next===null&&(s=i.alternate.memoizedState),Xu(i,s.next.queue,{},Zr())}function Sv(){return Qn(pd)}function JE(){return pn().memoizedState}function ZE(){return pn().memoizedState}function sk(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=Zr();i=ka(l);var u=Oa(s,i,l);u!==null&&(zr(u,s,l),Gu(u,s,l)),s={cache:ev()},i.payload=s;return}s=s.return}}function ak(i,s,l){var u=Zr();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Df(i)?tx(s,l):(l=Fg(i,s,l,u),l!==null&&(zr(l,i,u),nx(l,s,u)))}function ex(i,s,l){var u=Zr();Xu(i,s,l,u)}function Xu(i,s,l,u){var p={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Df(i))tx(s,p);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var _=s.lastRenderedState,T=g(_,l);if(p.hasEagerState=!0,p.eagerState=T,Kr(T,_))return uf(i,s,p,0),Ot===null&&cf(),!1}catch{}if(l=Fg(i,s,p,u),l!==null)return zr(l,i,u),nx(l,s,u),!0}return!1}function Av(i,s,l,u){if(u={lane:2,revertLane:iy(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Df(i)){if(s)throw Error(r(479))}else s=Fg(i,l,u,2),s!==null&&zr(s,i,2)}function Df(i){var s=i.alternate;return i===$e||s!==null&&s===$e}function tx(i,s){dc=xf=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function nx(i,s,l){if((l&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,l|=u,s.lanes=l,On(i,l)}}var Ju={readContext:Qn,use:Af,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useLayoutEffect:rn,useInsertionEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useSyncExternalStore:rn,useId:rn,useHostTransitionStatus:rn,useFormState:rn,useActionState:rn,useOptimistic:rn,useMemoCache:rn,useCacheRefresh:rn};Ju.useEffectEvent=rn;var rx={readContext:Qn,use:Af,useCallback:function(i,s){return Tr().memoizedState=[i,s===void 0?null:s],i},useContext:Qn,useEffect:zE,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,Cf(4194308,4,qE.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Cf(4194308,4,i,s)},useInsertionEffect:function(i,s){Cf(4,2,i,s)},useMemo:function(i,s){var l=Tr();s=s===void 0?null:s;var u=i();if(Xo){Rn(!0);try{i()}finally{Rn(!1)}}return l.memoizedState=[u,s],u},useReducer:function(i,s,l){var u=Tr();if(l!==void 0){var p=l(s);if(Xo){Rn(!0);try{l(s)}finally{Rn(!1)}}}else p=s;return u.memoizedState=u.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},u.queue=i,i=i.dispatch=ak.bind(null,$e,i),[u.memoizedState,i]},useRef:function(i){var s=Tr();return i={current:i},s.memoizedState=i},useState:function(i){i=bv(i);var s=i.queue,l=ex.bind(null,$e,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:Ev,useDeferredValue:function(i,s){var l=Tr();return xv(l,i,s)},useTransition:function(){var i=bv(!1);return i=QE.bind(null,$e,i.queue,!0,!1),Tr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var u=$e,p=Tr();if(st){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),Ot===null)throw Error(r(349));(tt&127)!==0||TE(u,s,l)}p.memoizedState=l;var g={value:l,getSnapshot:s};return p.queue=g,zE(AE.bind(null,u,g,i),[i]),u.flags|=2048,fc(9,{destroy:void 0},SE.bind(null,u,g,l,s),null),l},useId:function(){var i=Tr(),s=Ot.identifierPrefix;if(st){var l=ls,u=os;l=(u&~(1<<32-Nt(u)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Tf++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=ZN++,s="_"+s+"r_"+l.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Sv,useFormState:ME,useActionState:ME,useOptimistic:function(i){var s=Tr();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Av.bind(null,$e,!0,l),l.dispatch=s,[i,s]},useMemoCache:gv,useCacheRefresh:function(){return Tr().memoizedState=sk.bind(null,$e)},useEffectEvent:function(i){var s=Tr(),l={impl:i};return s.memoizedState=l,function(){if((gt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},Iv={readContext:Qn,use:Af,useCallback:GE,useContext:Qn,useEffect:wv,useImperativeHandle:HE,useInsertionEffect:$E,useLayoutEffect:FE,useMemo:KE,useReducer:If,useRef:BE,useState:function(){return If(Vs)},useDebugValue:Ev,useDeferredValue:function(i,s){var l=pn();return YE(l,At.memoizedState,i,s)},useTransition:function(){var i=If(Vs)[0],s=pn().memoizedState;return[typeof i=="boolean"?i:Wu(i),s]},useSyncExternalStore:xE,useId:JE,useHostTransitionStatus:Sv,useFormState:VE,useActionState:VE,useOptimistic:function(i,s){var l=pn();return RE(l,At,i,s)},useMemoCache:gv,useCacheRefresh:ZE};Iv.useEffectEvent=jE;var ix={readContext:Qn,use:Af,useCallback:GE,useContext:Qn,useEffect:wv,useImperativeHandle:HE,useInsertionEffect:$E,useLayoutEffect:FE,useMemo:KE,useReducer:yv,useRef:BE,useState:function(){return yv(Vs)},useDebugValue:Ev,useDeferredValue:function(i,s){var l=pn();return At===null?xv(l,i,s):YE(l,At.memoizedState,i,s)},useTransition:function(){var i=yv(Vs)[0],s=pn().memoizedState;return[typeof i=="boolean"?i:Wu(i),s]},useSyncExternalStore:xE,useId:JE,useHostTransitionStatus:Sv,useFormState:UE,useActionState:UE,useOptimistic:function(i,s){var l=pn();return At!==null?RE(l,At,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:gv,useCacheRefresh:ZE};ix.useEffectEvent=jE;function Cv(i,s,l,u){s=i.memoizedState,l=l(u,s),l=l==null?s:y({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Rv={enqueueSetState:function(i,s,l){i=i._reactInternals;var u=Zr(),p=ka(u);p.payload=s,l!=null&&(p.callback=l),s=Oa(i,p,u),s!==null&&(zr(s,i,u),Gu(s,i,u))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var u=Zr(),p=ka(u);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=Oa(i,p,u),s!==null&&(zr(s,i,u),Gu(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=Zr(),u=ka(l);u.tag=2,s!=null&&(u.callback=s),s=Oa(i,u,l),s!==null&&(zr(s,i,l),Gu(s,i,l))}};function sx(i,s,l,u,p,g,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,_):s.prototype&&s.prototype.isPureReactComponent?!Uu(l,u)||!Uu(p,g):!0}function ax(i,s,l,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==i&&Rv.enqueueReplaceState(s,s.state,null)}function Jo(i,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(i=i.defaultProps){l===s&&(l=y({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}function ox(i){lf(i)}function lx(i){console.error(i)}function cx(i){lf(i)}function Nf(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function ux(i,s,l){try{var u=i.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Dv(i,s,l){return l=ka(l),l.tag=3,l.payload={element:null},l.callback=function(){Nf(i,s)},l}function dx(i){return i=ka(i),i.tag=3,i}function hx(i,s,l,u){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var g=u.value;i.payload=function(){return p(g)},i.callback=function(){ux(s,l,u)}}var _=l.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){ux(s,l,u),typeof p!="function"&&(Ba===null?Ba=new Set([this]):Ba.add(this));var T=u.stack;this.componentDidCatch(u.value,{componentStack:T!==null?T:""})})}function ok(i,s,l,u,p){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&sc(s,l,p,!0),l=Qr.current,l!==null){switch(l.tag){case 31:case 13:return _i===null?Ff():l.alternate===null&&sn===0&&(sn=3),l.flags&=-257,l.flags|=65536,l.lanes=p,u===yf?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),ty(i,u,p)),!1;case 22:return l.flags|=65536,u===yf?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),ty(i,u,p)),!1}throw Error(r(435,l.tag))}return ty(i,u,p),Ff(),!1}if(st)return s=Qr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,u!==Qg&&(i=Error(r(422),{cause:u}),ju(gi(i,l)))):(u!==Qg&&(s=Error(r(423),{cause:u}),ju(gi(s,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,u=gi(u,l),p=Dv(i.stateNode,u,p),av(i,p),sn!==4&&(sn=2)),!1;var g=Error(r(520),{cause:u});if(g=gi(g,l),ad===null?ad=[g]:ad.push(g),sn!==4&&(sn=2),s===null)return!0;u=gi(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=Dv(l.stateNode,u,i),av(l,i),!1;case 1:if(s=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ba===null||!Ba.has(g))))return l.flags|=65536,p&=-p,l.lanes|=p,p=dx(p),hx(p,i,l,u),av(l,p),!1}l=l.return}while(l!==null);return!1}var Nv=Error(r(461)),Tn=!1;function Wn(i,s,l,u){s.child=i===null?gE(s,null,l,u):Wo(s,i.child,l,u)}function fx(i,s,l,u,p){l=l.render;var g=s.ref;if("ref"in u){var _={};for(var T in u)T!=="ref"&&(_[T]=u[T])}else _=u;return Go(s),u=hv(i,s,l,_,g,p),T=fv(),i!==null&&!Tn?(pv(i,s,p),Ls(i,s,p)):(st&&T&&Kg(s),s.flags|=1,Wn(i,s,u,p),s.child)}function px(i,s,l,u,p){if(i===null){var g=l.type;return typeof g=="function"&&!qg(g)&&g.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=g,mx(i,s,g,u,p)):(i=hf(l.type,null,u,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!Bv(i,p)){var _=g.memoizedProps;if(l=l.compare,l=l!==null?l:Uu,l(_,u)&&i.ref===s.ref)return Ls(i,s,p)}return s.flags|=1,i=Ns(g,u),i.ref=s.ref,i.return=s,s.child=i}function mx(i,s,l,u,p){if(i!==null){var g=i.memoizedProps;if(Uu(g,u)&&i.ref===s.ref)if(Tn=!1,s.pendingProps=u=g,Bv(i,p))(i.flags&131072)!==0&&(Tn=!0);else return s.lanes=i.lanes,Ls(i,s,p)}return kv(i,s,l,u,p)}function gx(i,s,l,u){var p=u.children,g=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|l:l,i!==null){for(u=s.child=i.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~g}else u=0,s.child=null;return vx(i,s,g,l,u)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&gf(s,g!==null?g.cachePool:null),g!==null?bE(s,g):lv(),_E(s);else return u=s.lanes=536870912,vx(i,s,g!==null?g.baseLanes|l:l,l,u)}else g!==null?(gf(s,g.cachePool),bE(s,g),Ma(),s.memoizedState=null):(i!==null&&gf(s,null),lv(),Ma());return Wn(i,s,p,l),s.child}function Zu(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function vx(i,s,l,u,p){var g=nv();return g=g===null?null:{parent:En._currentValue,pool:g},s.memoizedState={baseLanes:l,cachePool:g},i!==null&&gf(s,null),lv(),_E(s),i!==null&&sc(i,s,u,!0),s.childLanes=p,null}function kf(i,s){return s=Pf({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function yx(i,s,l){return Wo(s,i.child,null,l),i=kf(s,s.pendingProps),i.flags|=2,Wr(s),s.memoizedState=null,i}function lk(i,s,l){var u=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(st){if(u.mode==="hidden")return i=kf(s,u),s.lanes=536870912,Zu(null,i);if(uv(s),(i=Ut)?(i=DT(i,bi),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Ia!==null?{id:os,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},l=tE(i),l.return=s,s.child=l,Yn=s,Ut=null)):i=null,i===null)throw Ra(s);return s.lanes=536870912,null}return kf(s,u)}var g=i.memoizedState;if(g!==null){var _=g.dehydrated;if(uv(s),p)if(s.flags&256)s.flags&=-257,s=yx(i,s,l);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Tn||sc(i,s,l,!1),p=(l&i.childLanes)!==0,Tn||p){if(u=Ot,u!==null&&(_=zn(u,l),_!==0&&_!==g.retryLane))throw g.retryLane=_,$o(i,_),zr(u,i,_),Nv;Ff(),s=yx(i,s,l)}else i=g.treeContext,Ut=wi(_.nextSibling),Yn=s,st=!0,Ca=null,bi=!1,i!==null&&iE(s,i),s=kf(s,u),s.flags|=4096;return s}return i=Ns(i.child,{mode:u.mode,children:u.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Of(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function kv(i,s,l,u,p){return Go(s),l=hv(i,s,l,u,void 0,p),u=fv(),i!==null&&!Tn?(pv(i,s,p),Ls(i,s,p)):(st&&u&&Kg(s),s.flags|=1,Wn(i,s,l,p),s.child)}function bx(i,s,l,u,p,g){return Go(s),s.updateQueue=null,l=EE(s,u,l,p),wE(i),u=fv(),i!==null&&!Tn?(pv(i,s,g),Ls(i,s,g)):(st&&u&&Kg(s),s.flags|=1,Wn(i,s,l,g),s.child)}function _x(i,s,l,u,p){if(Go(s),s.stateNode===null){var g=tc,_=l.contextType;typeof _=="object"&&_!==null&&(g=Qn(_)),g=new l(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Rv,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},iv(s),_=l.contextType,g.context=typeof _=="object"&&_!==null?Qn(_):tc,g.state=s.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(Cv(s,l,_,u),g.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(_=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),_!==g.state&&Rv.enqueueReplaceState(g,g.state,null),Yu(s,u,g,p),Ku(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){g=s.stateNode;var T=s.memoizedProps,L=Jo(l,T);g.props=L;var W=g.context,ie=l.contextType;_=tc,typeof ie=="object"&&ie!==null&&(_=Qn(ie));var le=l.getDerivedStateFromProps;ie=typeof le=="function"||typeof g.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,ie||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T||W!==_)&&ax(s,g,u,_),Na=!1;var X=s.memoizedState;g.state=X,Yu(s,u,g,p),Ku(),W=s.memoizedState,T||X!==W||Na?(typeof le=="function"&&(Cv(s,l,le,u),W=s.memoizedState),(L=Na||sx(s,l,L,u,X,W,_))?(ie||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=W),g.props=u,g.state=W,g.context=_,u=L):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,sv(i,s),_=s.memoizedProps,ie=Jo(l,_),g.props=ie,le=s.pendingProps,X=g.context,W=l.contextType,L=tc,typeof W=="object"&&W!==null&&(L=Qn(W)),T=l.getDerivedStateFromProps,(W=typeof T=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(_!==le||X!==L)&&ax(s,g,u,L),Na=!1,X=s.memoizedState,g.state=X,Yu(s,u,g,p),Ku();var ee=s.memoizedState;_!==le||X!==ee||Na||i!==null&&i.dependencies!==null&&pf(i.dependencies)?(typeof T=="function"&&(Cv(s,l,T,u),ee=s.memoizedState),(ie=Na||sx(s,l,ie,u,X,ee,L)||i!==null&&i.dependencies!==null&&pf(i.dependencies))?(W||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,ee,L),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,ee,L)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||_===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=ee),g.props=u,g.state=ee,g.context=L,u=ie):(typeof g.componentDidUpdate!="function"||_===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),u=!1)}return g=u,Of(i,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&u?(s.child=Wo(s,i.child,null,p),s.child=Wo(s,null,l,p)):Wn(i,s,l,p),s.memoizedState=g.state,i=s.child):i=Ls(i,s,p),i}function wx(i,s,l,u){return qo(),s.flags|=256,Wn(i,s,l,u),s.child}var Ov={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pv(i){return{baseLanes:i,cachePool:uE()}}function Mv(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=Jr),i}function Ex(i,s,l){var u=s.pendingProps,p=!1,g=(s.flags&128)!==0,_;if((_=g)||(_=i!==null&&i.memoizedState===null?!1:(fn.current&2)!==0),_&&(p=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,i===null){if(st){if(p?Pa(s):Ma(),(i=Ut)?(i=DT(i,bi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Ia!==null?{id:os,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},l=tE(i),l.return=s,s.child=l,Yn=s,Ut=null)):i=null,i===null)throw Ra(s);return vy(i)?s.lanes=32:s.lanes=536870912,null}var T=u.children;return u=u.fallback,p?(Ma(),p=s.mode,T=Pf({mode:"hidden",children:T},p),u=Fo(u,p,l,null),T.return=s,u.return=s,T.sibling=u,s.child=T,u=s.child,u.memoizedState=Pv(l),u.childLanes=Mv(i,_,l),s.memoizedState=Ov,Zu(null,u)):(Pa(s),Vv(s,T))}var L=i.memoizedState;if(L!==null&&(T=L.dehydrated,T!==null)){if(g)s.flags&256?(Pa(s),s.flags&=-257,s=Lv(i,s,l)):s.memoizedState!==null?(Ma(),s.child=i.child,s.flags|=128,s=null):(Ma(),T=u.fallback,p=s.mode,u=Pf({mode:"visible",children:u.children},p),T=Fo(T,p,l,null),T.flags|=2,u.return=s,T.return=s,u.sibling=T,s.child=u,Wo(s,i.child,null,l),u=s.child,u.memoizedState=Pv(l),u.childLanes=Mv(i,_,l),s.memoizedState=Ov,s=Zu(null,u));else if(Pa(s),vy(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var W=_.dgst;_=W,u=Error(r(419)),u.stack="",u.digest=_,ju({value:u,source:null,stack:null}),s=Lv(i,s,l)}else if(Tn||sc(i,s,l,!1),_=(l&i.childLanes)!==0,Tn||_){if(_=Ot,_!==null&&(u=zn(_,l),u!==0&&u!==L.retryLane))throw L.retryLane=u,$o(i,u),zr(_,i,u),Nv;gy(T)||Ff(),s=Lv(i,s,l)}else gy(T)?(s.flags|=192,s.child=i.child,s=null):(i=L.treeContext,Ut=wi(T.nextSibling),Yn=s,st=!0,Ca=null,bi=!1,i!==null&&iE(s,i),s=Vv(s,u.children),s.flags|=4096);return s}return p?(Ma(),T=u.fallback,p=s.mode,L=i.child,W=L.sibling,u=Ns(L,{mode:"hidden",children:u.children}),u.subtreeFlags=L.subtreeFlags&65011712,W!==null?T=Ns(W,T):(T=Fo(T,p,l,null),T.flags|=2),T.return=s,u.return=s,u.sibling=T,s.child=u,Zu(null,u),u=s.child,T=i.child.memoizedState,T===null?T=Pv(l):(p=T.cachePool,p!==null?(L=En._currentValue,p=p.parent!==L?{parent:L,pool:L}:p):p=uE(),T={baseLanes:T.baseLanes|l,cachePool:p}),u.memoizedState=T,u.childLanes=Mv(i,_,l),s.memoizedState=Ov,Zu(i.child,u)):(Pa(s),l=i.child,i=l.sibling,l=Ns(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,i!==null&&(_=s.deletions,_===null?(s.deletions=[i],s.flags|=16):_.push(i)),s.child=l,s.memoizedState=null,l)}function Vv(i,s){return s=Pf({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Pf(i,s){return i=Yr(22,i,null,s),i.lanes=0,i}function Lv(i,s,l){return Wo(s,i.child,null,l),i=Vv(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function xx(i,s,l){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Jg(i.return,s,l)}function Uv(i,s,l,u,p,g){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:p,treeForkCount:g}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=l,_.tailMode=p,_.treeForkCount=g)}function Tx(i,s,l){var u=s.pendingProps,p=u.revealOrder,g=u.tail;u=u.children;var _=fn.current,T=(_&2)!==0;if(T?(_=_&1|2,s.flags|=128):_&=1,ge(fn,_),Wn(i,s,u,l),u=st?zu:0,!T&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&xx(i,l,s);else if(i.tag===19)xx(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(l=s.child,p=null;l!==null;)i=l.alternate,i!==null&&Ef(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),Uv(s,!1,p,l,g,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&Ef(i)===null){s.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}Uv(s,!0,l,null,g,u);break;case"together":Uv(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function Ls(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),Ua|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(sc(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=Ns(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Ns(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function Bv(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&pf(i)))}function ck(i,s,l){switch(s.tag){case 3:yt(s,s.stateNode.containerInfo),Da(s,En,i.memoizedState.cache),qo();break;case 27:case 5:Fe(s);break;case 4:yt(s,s.stateNode.containerInfo);break;case 10:Da(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,uv(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Pa(s),s.flags|=128,null):(l&s.child.childLanes)!==0?Ex(i,s,l):(Pa(s),i=Ls(i,s,l),i!==null?i.sibling:null);Pa(s);break;case 19:var p=(i.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(sc(i,s,l,!1),u=(l&s.childLanes)!==0),p){if(u)return Tx(i,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ge(fn,fn.current),u)break;return null;case 22:return s.lanes=0,gx(i,s,l,s.pendingProps);case 24:Da(s,En,i.memoizedState.cache)}return Ls(i,s,l)}function Sx(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)Tn=!0;else{if(!Bv(i,l)&&(s.flags&128)===0)return Tn=!1,ck(i,s,l);Tn=(i.flags&131072)!==0}else Tn=!1,st&&(s.flags&1048576)!==0&&rE(s,zu,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(i=Yo(s.elementType),s.type=i,typeof i=="function")qg(i)?(u=Jo(i,u),s.tag=1,s=_x(null,s,i,u,l)):(s.tag=0,s=kv(null,s,i,u,l));else{if(i!=null){var p=i.$$typeof;if(p===ce){s.tag=11,s=fx(null,s,i,u,l);break e}else if(p===D){s.tag=14,s=px(null,s,i,u,l);break e}}throw s=Ie(i)||i,Error(r(306,s,""))}}return s;case 0:return kv(i,s,s.type,s.pendingProps,l);case 1:return u=s.type,p=Jo(u,s.pendingProps),_x(i,s,u,p,l);case 3:e:{if(yt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var g=s.memoizedState;p=g.element,sv(i,s),Yu(s,u,null,l);var _=s.memoizedState;if(u=_.cache,Da(s,En,u),u!==g.cache&&Zg(s,[En],l,!0),Ku(),u=_.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=wx(i,s,u,l);break e}else if(u!==p){p=gi(Error(r(424)),s),ju(p),s=wx(i,s,u,l);break e}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Ut=wi(i.firstChild),Yn=s,st=!0,Ca=null,bi=!0,l=gE(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(qo(),u===p){s=Ls(i,s,l);break e}Wn(i,s,u,l)}s=s.child}return s;case 26:return Of(i,s),i===null?(l=VT(s.type,null,s.pendingProps,null))?s.memoizedState=l:st||(l=s.type,i=s.pendingProps,u=Wf(Re.current).createElement(l),u[kt]=s,u[_n]=i,Xn(u,l,i),Wt(u),s.stateNode=u):s.memoizedState=VT(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Fe(s),i===null&&st&&(u=s.stateNode=OT(s.type,s.pendingProps,Re.current),Yn=s,bi=!0,p=Ut,Fa(s.type)?(yy=p,Ut=wi(u.firstChild)):Ut=p),Wn(i,s,s.pendingProps.children,l),Of(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&st&&((p=u=Ut)&&(u=Bk(u,s.type,s.pendingProps,bi),u!==null?(s.stateNode=u,Yn=s,Ut=wi(u.firstChild),bi=!1,p=!0):p=!1),p||Ra(s)),Fe(s),p=s.type,g=s.pendingProps,_=i!==null?i.memoizedProps:null,u=g.children,fy(p,g)?u=null:_!==null&&fy(p,_)&&(s.flags|=32),s.memoizedState!==null&&(p=hv(i,s,ek,null,null,l),pd._currentValue=p),Of(i,s),Wn(i,s,u,l),s.child;case 6:return i===null&&st&&((i=l=Ut)&&(l=zk(l,s.pendingProps,bi),l!==null?(s.stateNode=l,Yn=s,Ut=null,i=!0):i=!1),i||Ra(s)),null;case 13:return Ex(i,s,l);case 4:return yt(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=Wo(s,null,u,l):Wn(i,s,u,l),s.child;case 11:return fx(i,s,s.type,s.pendingProps,l);case 7:return Wn(i,s,s.pendingProps,l),s.child;case 8:return Wn(i,s,s.pendingProps.children,l),s.child;case 12:return Wn(i,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,Da(s,s.type,u.value),Wn(i,s,u.children,l),s.child;case 9:return p=s.type._context,u=s.pendingProps.children,Go(s),p=Qn(p),u=u(p),s.flags|=1,Wn(i,s,u,l),s.child;case 14:return px(i,s,s.type,s.pendingProps,l);case 15:return mx(i,s,s.type,s.pendingProps,l);case 19:return Tx(i,s,l);case 31:return lk(i,s,l);case 22:return gx(i,s,l,s.pendingProps);case 24:return Go(s),u=Qn(En),i===null?(p=nv(),p===null&&(p=Ot,g=ev(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=l),p=g),s.memoizedState={parent:u,cache:p},iv(s),Da(s,En,p)):((i.lanes&l)!==0&&(sv(i,s),Yu(s,null,null,l),Ku()),p=i.memoizedState,g=s.memoizedState,p.parent!==u?(p={parent:u,cache:u},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),Da(s,En,u)):(u=g.cache,Da(s,En,u),u!==p.cache&&Zg(s,[En],l,!0))),Wn(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Us(i){i.flags|=4}function zv(i,s,l,u,p){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(Jx())i.flags|=8192;else throw Qo=yf,rv}else i.flags&=-16777217}function Ax(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!jT(s))if(Jx())i.flags|=8192;else throw Qo=yf,rv}function Mf(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?dn():536870912,i.lanes|=s,vc|=s)}function ed(i,s){if(!st)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function Bt(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,u=0;if(s)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=u,i.childLanes=l,s}function uk(i,s,l){var u=s.pendingProps;switch(Yg(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(s),null;case 1:return Bt(s),null;case 3:return l=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ps(En),et(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(ic(s)?Us(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Wg())),Bt(s),null;case 26:var p=s.type,g=s.memoizedState;return i===null?(Us(s),g!==null?(Bt(s),Ax(s,g)):(Bt(s),zv(s,p,null,u,l))):g?g!==i.memoizedState?(Us(s),Bt(s),Ax(s,g)):(Bt(s),s.flags&=-16777217):(i=i.memoizedProps,i!==u&&Us(s),Bt(s),zv(s,p,i,u,l)),null;case 27:if(pr(s),l=Re.current,p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&Us(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Bt(s),null}i=_e.current,ic(s)?sE(s):(i=OT(p,u,l),s.stateNode=i,Us(s))}return Bt(s),null;case 5:if(pr(s),p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&Us(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Bt(s),null}if(g=_e.current,ic(s))sE(s);else{var _=Wf(Re.current);switch(g){case 1:g=_.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=_.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=_.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?_.createElement(p,{is:u.is}):_.createElement(p)}}g[kt]=s,g[_n]=u;e:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)g.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break e;for(;_.sibling===null;){if(_.return===null||_.return===s)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=g;e:switch(Xn(g,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Us(s)}}return Bt(s),zv(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,l),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&Us(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=Re.current,ic(s)){if(i=s.stateNode,l=s.memoizedProps,u=null,p=Yn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}i[kt]=s,i=!!(i.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||ET(i.nodeValue,l)),i||Ra(s,!0)}else i=Wf(i).createTextNode(u),i[kt]=s,s.stateNode=i}return Bt(s),null;case 31:if(l=s.memoizedState,i===null||i.memoizedState!==null){if(u=ic(s),l!==null){if(i===null){if(!u)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[kt]=s}else qo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Bt(s),i=!1}else l=Wg(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return s.flags&256?(Wr(s),s):(Wr(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Bt(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=ic(s),u!==null&&u.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[kt]=s}else qo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Bt(s),p=!1}else p=Wg(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Wr(s),s):(Wr(s),null)}return Wr(s),(s.flags&128)!==0?(s.lanes=l,s):(l=u!==null,i=i!==null&&i.memoizedState!==null,l&&(u=s.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==p&&(u.flags|=2048)),l!==i&&l&&(s.child.flags|=8192),Mf(s,s.updateQueue),Bt(s),null);case 4:return et(),i===null&&ly(s.stateNode.containerInfo),Bt(s),null;case 10:return Ps(s.type),Bt(s),null;case 19:if(ne(fn),u=s.memoizedState,u===null)return Bt(s),null;if(p=(s.flags&128)!==0,g=u.rendering,g===null)if(p)ed(u,!1);else{if(sn!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=Ef(i),g!==null){for(s.flags|=128,ed(u,!1),i=g.updateQueue,s.updateQueue=i,Mf(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)eE(l,i),l=l.sibling;return ge(fn,fn.current&1|2),st&&ks(s,u.treeForkCount),s.child}i=i.sibling}u.tail!==null&&Yt()>zf&&(s.flags|=128,p=!0,ed(u,!1),s.lanes=4194304)}else{if(!p)if(i=Ef(g),i!==null){if(s.flags|=128,p=!0,i=i.updateQueue,s.updateQueue=i,Mf(s,i),ed(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!st)return Bt(s),null}else 2*Yt()-u.renderingStartTime>zf&&l!==536870912&&(s.flags|=128,p=!0,ed(u,!1),s.lanes=4194304);u.isBackwards?(g.sibling=s.child,s.child=g):(i=u.last,i!==null?i.sibling=g:s.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=Yt(),i.sibling=null,l=fn.current,ge(fn,p?l&1|2:l&1),st&&ks(s,u.treeForkCount),i):(Bt(s),null);case 22:case 23:return Wr(s),cv(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(Bt(s),s.subtreeFlags&6&&(s.flags|=8192)):Bt(s),l=s.updateQueue,l!==null&&Mf(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),i!==null&&ne(Ko),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Ps(En),Bt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function dk(i,s){switch(Yg(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ps(En),et(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return pr(s),null;case 31:if(s.memoizedState!==null){if(Wr(s),s.alternate===null)throw Error(r(340));qo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Wr(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));qo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ne(fn),null;case 4:return et(),null;case 10:return Ps(s.type),null;case 22:case 23:return Wr(s),cv(),i!==null&&ne(Ko),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ps(En),null;case 25:return null;default:return null}}function Ix(i,s){switch(Yg(s),s.tag){case 3:Ps(En),et();break;case 26:case 27:case 5:pr(s);break;case 4:et();break;case 31:s.memoizedState!==null&&Wr(s);break;case 13:Wr(s);break;case 19:ne(fn);break;case 10:Ps(s.type);break;case 22:case 23:Wr(s),cv(),i!==null&&ne(Ko);break;case 24:Ps(En)}}function td(i,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var p=u.next;l=p;do{if((l.tag&i)===i){u=void 0;var g=l.create,_=l.inst;u=g(),_.destroy=u}l=l.next}while(l!==p)}}catch(T){wt(s,s.return,T)}}function Va(i,s,l){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var g=p.next;u=g;do{if((u.tag&i)===i){var _=u.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,p=s;var L=l,W=T;try{W()}catch(ie){wt(p,L,ie)}}}u=u.next}while(u!==g)}}catch(ie){wt(s,s.return,ie)}}function Cx(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{yE(s,l)}catch(u){wt(i,i.return,u)}}}function Rx(i,s,l){l.props=Jo(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(u){wt(i,s,u)}}function nd(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof l=="function"?i.refCleanup=l(u):l.current=u}}catch(p){wt(i,s,p)}}function cs(i,s){var l=i.ref,u=i.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(p){wt(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){wt(i,s,p)}else l.current=null}function Dx(i){var s=i.type,l=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(p){wt(i,i.return,p)}}function jv(i,s,l){try{var u=i.stateNode;Ok(u,i.type,l,s),u[_n]=s}catch(p){wt(i,i.return,p)}}function Nx(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Fa(i.type)||i.tag===4}function $v(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Nx(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Fa(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Fv(i,s,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Me));else if(u!==4&&(u===27&&Fa(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(Fv(i,s,l),i=i.sibling;i!==null;)Fv(i,s,l),i=i.sibling}function Vf(i,s,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(u!==4&&(u===27&&Fa(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Vf(i,s,l),i=i.sibling;i!==null;)Vf(i,s,l),i=i.sibling}function kx(i){var s=i.stateNode,l=i.memoizedProps;try{for(var u=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Xn(s,u,l),s[kt]=i,s[_n]=l}catch(g){wt(i,i.return,g)}}var Bs=!1,Sn=!1,qv=!1,Ox=typeof WeakSet=="function"?WeakSet:Set,$n=null;function hk(i,s){if(i=i.containerInfo,dy=rp,i=Hw(i),Lg(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var p=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var _=0,T=-1,L=-1,W=0,ie=0,le=i,X=null;t:for(;;){for(var ee;le!==l||p!==0&&le.nodeType!==3||(T=_+p),le!==g||u!==0&&le.nodeType!==3||(L=_+u),le.nodeType===3&&(_+=le.nodeValue.length),(ee=le.firstChild)!==null;)X=le,le=ee;for(;;){if(le===i)break t;if(X===l&&++W===p&&(T=_),X===g&&++ie===u&&(L=_),(ee=le.nextSibling)!==null)break;le=X,X=le.parentNode}le=ee}l=T===-1||L===-1?null:{start:T,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(hy={focusedElem:i,selectionRange:l},rp=!1,$n=s;$n!==null;)if(s=$n,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,$n=i;else for(;$n!==null;){switch(s=$n,g=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)p=i[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,l=s,p=g.memoizedProps,g=g.memoizedState,u=l.stateNode;try{var Te=Jo(l.type,p);i=u.getSnapshotBeforeUpdate(Te,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Ve){wt(l,l.return,Ve)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)my(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":my(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,$n=i;break}$n=s.return}}function Px(i,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:js(i,l),u&4&&td(5,l);break;case 1:if(js(i,l),u&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(_){wt(l,l.return,_)}else{var p=Jo(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(_){wt(l,l.return,_)}}u&64&&Cx(l),u&512&&nd(l,l.return);break;case 3:if(js(i,l),u&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{yE(i,s)}catch(_){wt(l,l.return,_)}}break;case 27:s===null&&u&4&&kx(l);case 26:case 5:js(i,l),s===null&&u&4&&Dx(l),u&512&&nd(l,l.return);break;case 12:js(i,l);break;case 31:js(i,l),u&4&&Lx(i,l);break;case 13:js(i,l),u&4&&Ux(i,l),u&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=wk.bind(null,l),jk(i,l))));break;case 22:if(u=l.memoizedState!==null||Bs,!u){s=s!==null&&s.memoizedState!==null||Sn,p=Bs;var g=Sn;Bs=u,(Sn=s)&&!g?$s(i,l,(l.subtreeFlags&8772)!==0):js(i,l),Bs=p,Sn=g}break;case 30:break;default:js(i,l)}}function Mx(i){var s=i.alternate;s!==null&&(i.alternate=null,Mx(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ss(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Gt=null,Vr=!1;function zs(i,s,l){for(l=l.child;l!==null;)Vx(i,s,l),l=l.sibling}function Vx(i,s,l){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(br,l)}catch{}switch(l.tag){case 26:Sn||cs(l,s),zs(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Sn||cs(l,s);var u=Gt,p=Vr;Fa(l.type)&&(Gt=l.stateNode,Vr=!1),zs(i,s,l),dd(l.stateNode),Gt=u,Vr=p;break;case 5:Sn||cs(l,s);case 6:if(u=Gt,p=Vr,Gt=null,zs(i,s,l),Gt=u,Vr=p,Gt!==null)if(Vr)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(l.stateNode)}catch(g){wt(l,s,g)}else try{Gt.removeChild(l.stateNode)}catch(g){wt(l,s,g)}break;case 18:Gt!==null&&(Vr?(i=Gt,CT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Sc(i)):CT(Gt,l.stateNode));break;case 4:u=Gt,p=Vr,Gt=l.stateNode.containerInfo,Vr=!0,zs(i,s,l),Gt=u,Vr=p;break;case 0:case 11:case 14:case 15:Va(2,l,s),Sn||Va(4,l,s),zs(i,s,l);break;case 1:Sn||(cs(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Rx(l,s,u)),zs(i,s,l);break;case 21:zs(i,s,l);break;case 22:Sn=(u=Sn)||l.memoizedState!==null,zs(i,s,l),Sn=u;break;default:zs(i,s,l)}}function Lx(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Sc(i)}catch(l){wt(s,s.return,l)}}}function Ux(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Sc(i)}catch(l){wt(s,s.return,l)}}function fk(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Ox),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Ox),s;default:throw Error(r(435,i.tag))}}function Lf(i,s){var l=fk(i);s.forEach(function(u){if(!l.has(u)){l.add(u);var p=Ek.bind(null,i,u);u.then(p,p)}})}function Lr(i,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var p=l[u],g=i,_=s,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Fa(T.type)){Gt=T.stateNode,Vr=!1;break e}break;case 5:Gt=T.stateNode,Vr=!1;break e;case 3:case 4:Gt=T.stateNode.containerInfo,Vr=!0;break e}T=T.return}if(Gt===null)throw Error(r(160));Vx(g,_,p),Gt=null,Vr=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Bx(s,i),s=s.sibling}var zi=null;function Bx(i,s){var l=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Lr(s,i),Ur(i),u&4&&(Va(3,i,i.return),td(3,i),Va(5,i,i.return));break;case 1:Lr(s,i),Ur(i),u&512&&(Sn||l===null||cs(l,l.return)),u&64&&Bs&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var p=zi;if(Lr(s,i),Ur(i),u&512&&(Sn||l===null||cs(l,l.return)),u&4){var g=l!==null?l.memoizedState:null;if(u=i.memoizedState,l===null)if(u===null)if(i.stateNode===null){e:{u=i.type,l=i.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":g=p.getElementsByTagName("title")[0],(!g||g[li]||g[kt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(u),p.head.insertBefore(g,p.querySelector("head > title"))),Xn(g,u,l),g[kt]=i,Wt(g),u=g;break e;case"link":var _=BT("link","href",p).get(u+(l.href||""));if(_){for(var T=0;T<_.length;T++)if(g=_[T],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){_.splice(T,1);break t}}g=p.createElement(u),Xn(g,u,l),p.head.appendChild(g);break;case"meta":if(_=BT("meta","content",p).get(u+(l.content||""))){for(T=0;T<_.length;T++)if(g=_[T],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){_.splice(T,1);break t}}g=p.createElement(u),Xn(g,u,l),p.head.appendChild(g);break;default:throw Error(r(468,u))}g[kt]=i,Wt(g),u=g}i.stateNode=u}else zT(p,i.type,i.stateNode);else i.stateNode=UT(p,u,i.memoizedProps);else g!==u?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,u===null?zT(p,i.type,i.stateNode):UT(p,u,i.memoizedProps)):u===null&&i.stateNode!==null&&jv(i,i.memoizedProps,l.memoizedProps)}break;case 27:Lr(s,i),Ur(i),u&512&&(Sn||l===null||cs(l,l.return)),l!==null&&u&4&&jv(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Lr(s,i),Ur(i),u&512&&(Sn||l===null||cs(l,l.return)),i.flags&32){p=i.stateNode;try{O(p,"")}catch(Te){wt(i,i.return,Te)}}u&4&&i.stateNode!=null&&(p=i.memoizedProps,jv(i,p,l!==null?l.memoizedProps:p)),u&1024&&(qv=!0);break;case 6:if(Lr(s,i),Ur(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,l=i.stateNode;try{l.nodeValue=u}catch(Te){wt(i,i.return,Te)}}break;case 3:if(Zf=null,p=zi,zi=Xf(s.containerInfo),Lr(s,i),zi=p,Ur(i),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Sc(s.containerInfo)}catch(Te){wt(i,i.return,Te)}qv&&(qv=!1,zx(i));break;case 4:u=zi,zi=Xf(i.stateNode.containerInfo),Lr(s,i),Ur(i),zi=u;break;case 12:Lr(s,i),Ur(i);break;case 31:Lr(s,i),Ur(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Lf(i,u)));break;case 13:Lr(s,i),Ur(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Bf=Yt()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Lf(i,u)));break;case 22:p=i.memoizedState!==null;var L=l!==null&&l.memoizedState!==null,W=Bs,ie=Sn;if(Bs=W||p,Sn=ie||L,Lr(s,i),Sn=ie,Bs=W,Ur(i),u&8192)e:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(l===null||L||Bs||Sn||Zo(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){L=l=s;try{if(g=L.stateNode,p)_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=L.stateNode;var le=L.memoizedProps.style,X=le!=null&&le.hasOwnProperty("display")?le.display:null;T.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Te){wt(L,L.return,Te)}}}else if(s.tag===6){if(l===null){L=s;try{L.stateNode.nodeValue=p?"":L.memoizedProps}catch(Te){wt(L,L.return,Te)}}}else if(s.tag===18){if(l===null){L=s;try{var ee=L.stateNode;p?RT(ee,!0):RT(L.stateNode,!1)}catch(Te){wt(L,L.return,Te)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Lf(i,l))));break;case 19:Lr(s,i),Ur(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Lf(i,u)));break;case 30:break;case 21:break;default:Lr(s,i),Ur(i)}}function Ur(i){var s=i.flags;if(s&2){try{for(var l,u=i.return;u!==null;){if(Nx(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var p=l.stateNode,g=$v(i);Vf(i,g,p);break;case 5:var _=l.stateNode;l.flags&32&&(O(_,""),l.flags&=-33);var T=$v(i);Vf(i,T,_);break;case 3:case 4:var L=l.stateNode.containerInfo,W=$v(i);Fv(i,W,L);break;default:throw Error(r(161))}}catch(ie){wt(i,i.return,ie)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function zx(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;zx(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function js(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Px(i,s.alternate,s),s=s.sibling}function Zo(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Va(4,s,s.return),Zo(s);break;case 1:cs(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&Rx(s,s.return,l),Zo(s);break;case 27:dd(s.stateNode);case 26:case 5:cs(s,s.return),Zo(s);break;case 22:s.memoizedState===null&&Zo(s);break;case 30:Zo(s);break;default:Zo(s)}i=i.sibling}}function $s(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,p=i,g=s,_=g.flags;switch(g.tag){case 0:case 11:case 15:$s(p,g,l),td(4,g);break;case 1:if($s(p,g,l),u=g,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(W){wt(u,u.return,W)}if(u=g,p=u.updateQueue,p!==null){var T=u.stateNode;try{var L=p.shared.hiddenCallbacks;if(L!==null)for(p.shared.hiddenCallbacks=null,p=0;p<L.length;p++)vE(L[p],T)}catch(W){wt(u,u.return,W)}}l&&_&64&&Cx(g),nd(g,g.return);break;case 27:kx(g);case 26:case 5:$s(p,g,l),l&&u===null&&_&4&&Dx(g),nd(g,g.return);break;case 12:$s(p,g,l);break;case 31:$s(p,g,l),l&&_&4&&Lx(p,g);break;case 13:$s(p,g,l),l&&_&4&&Ux(p,g);break;case 22:g.memoizedState===null&&$s(p,g,l),nd(g,g.return);break;case 30:break;default:$s(p,g,l)}s=s.sibling}}function Hv(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&$u(l))}function Gv(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&$u(i))}function ji(i,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)jx(i,s,l,u),s=s.sibling}function jx(i,s,l,u){var p=s.flags;switch(s.tag){case 0:case 11:case 15:ji(i,s,l,u),p&2048&&td(9,s);break;case 1:ji(i,s,l,u);break;case 3:ji(i,s,l,u),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&$u(i)));break;case 12:if(p&2048){ji(i,s,l,u),i=s.stateNode;try{var g=s.memoizedProps,_=g.id,T=g.onPostCommit;typeof T=="function"&&T(_,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(L){wt(s,s.return,L)}}else ji(i,s,l,u);break;case 31:ji(i,s,l,u);break;case 13:ji(i,s,l,u);break;case 23:break;case 22:g=s.stateNode,_=s.alternate,s.memoizedState!==null?g._visibility&2?ji(i,s,l,u):rd(i,s):g._visibility&2?ji(i,s,l,u):(g._visibility|=2,pc(i,s,l,u,(s.subtreeFlags&10256)!==0||!1)),p&2048&&Hv(_,s);break;case 24:ji(i,s,l,u),p&2048&&Gv(s.alternate,s);break;default:ji(i,s,l,u)}}function pc(i,s,l,u,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=i,_=s,T=l,L=u,W=_.flags;switch(_.tag){case 0:case 11:case 15:pc(g,_,T,L,p),td(8,_);break;case 23:break;case 22:var ie=_.stateNode;_.memoizedState!==null?ie._visibility&2?pc(g,_,T,L,p):rd(g,_):(ie._visibility|=2,pc(g,_,T,L,p)),p&&W&2048&&Hv(_.alternate,_);break;case 24:pc(g,_,T,L,p),p&&W&2048&&Gv(_.alternate,_);break;default:pc(g,_,T,L,p)}s=s.sibling}}function rd(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,u=s,p=u.flags;switch(u.tag){case 22:rd(l,u),p&2048&&Hv(u.alternate,u);break;case 24:rd(l,u),p&2048&&Gv(u.alternate,u);break;default:rd(l,u)}s=s.sibling}}var id=8192;function mc(i,s,l){if(i.subtreeFlags&id)for(i=i.child;i!==null;)$x(i,s,l),i=i.sibling}function $x(i,s,l){switch(i.tag){case 26:mc(i,s,l),i.flags&id&&i.memoizedState!==null&&Zk(l,zi,i.memoizedState,i.memoizedProps);break;case 5:mc(i,s,l);break;case 3:case 4:var u=zi;zi=Xf(i.stateNode.containerInfo),mc(i,s,l),zi=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=id,id=16777216,mc(i,s,l),id=u):mc(i,s,l));break;default:mc(i,s,l)}}function Fx(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function sd(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];$n=u,Hx(u,i)}Fx(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)qx(i),i=i.sibling}function qx(i){switch(i.tag){case 0:case 11:case 15:sd(i),i.flags&2048&&Va(9,i,i.return);break;case 3:sd(i);break;case 12:sd(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Uf(i)):sd(i);break;default:sd(i)}}function Uf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];$n=u,Hx(u,i)}Fx(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Va(8,s,s.return),Uf(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Uf(s));break;default:Uf(s)}i=i.sibling}}function Hx(i,s){for(;$n!==null;){var l=$n;switch(l.tag){case 0:case 11:case 15:Va(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:$u(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,$n=u;else e:for(l=i;$n!==null;){u=$n;var p=u.sibling,g=u.return;if(Mx(u),u===l){$n=null;break e}if(p!==null){p.return=g,$n=p;break e}$n=g}}}var pk={getCacheForType:function(i){var s=Qn(En),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l},cacheSignal:function(){return Qn(En).controller.signal}},mk=typeof WeakMap=="function"?WeakMap:Map,gt=0,Ot=null,Xe=null,tt=0,_t=0,Xr=null,La=!1,gc=!1,Kv=!1,Fs=0,sn=0,Ua=0,el=0,Yv=0,Jr=0,vc=0,ad=null,Br=null,Qv=!1,Bf=0,Gx=0,zf=1/0,jf=null,Ba=null,Mn=0,za=null,yc=null,qs=0,Wv=0,Xv=null,Kx=null,od=0,Jv=null;function Zr(){return(gt&2)!==0&&tt!==0?tt&-tt:Z.T!==null?iy():nr()}function Yx(){if(Jr===0)if((tt&536870912)===0||st){var i=qr;qr<<=1,(qr&3932160)===0&&(qr=262144),Jr=i}else Jr=536870912;return i=Qr.current,i!==null&&(i.flags|=32),Jr}function zr(i,s,l){(i===Ot&&(_t===2||_t===9)||i.cancelPendingCommit!==null)&&(bc(i,0),ja(i,tt,Jr,!1)),Nn(i,l),((gt&2)===0||i!==Ot)&&(i===Ot&&((gt&2)===0&&(el|=l),sn===4&&ja(i,tt,Jr,!1)),us(i))}function Qx(i,s,l){if((gt&6)!==0)throw Error(r(327));var u=!l&&(s&127)===0&&(s&i.expiredLanes)===0||Qt(i,s),p=u?yk(i,s):ey(i,s,!0),g=u;do{if(p===0){gc&&!u&&ja(i,s,0,!1);break}else{if(l=i.current.alternate,g&&!gk(l)){p=ey(i,s,!1),g=!1;continue}if(p===2){if(g=s,i.errorRecoveryDisabledLanes&g)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var T=i;p=ad;var L=T.current.memoizedState.isDehydrated;if(L&&(bc(T,_).flags|=256),_=ey(T,_,!1),_!==2){if(Kv&&!L){T.errorRecoveryDisabledLanes|=g,el|=g,p=4;break e}g=Br,Br=p,g!==null&&(Br===null?Br=g:Br.push.apply(Br,g))}p=_}if(g=!1,p!==2)continue}}if(p===1){bc(i,0),ja(i,s,0,!0);break}e:{switch(u=i,g=p,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ja(u,s,Jr,!La);break e;case 2:Br=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=Bf+300-Yt(),10<p)){if(ja(u,s,Jr,!La),bt(u,0,!0)!==0)break e;qs=s,u.timeoutHandle=AT(Wx.bind(null,u,l,Br,jf,Qv,s,Jr,el,vc,La,g,"Throttled",-0,0),p);break e}Wx(u,l,Br,jf,Qv,s,Jr,el,vc,La,g,null,-0,0)}}break}while(!0);us(i)}function Wx(i,s,l,u,p,g,_,T,L,W,ie,le,X,ee){if(i.timeoutHandle=-1,le=s.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Me},$x(s,g,le);var Te=(g&62914560)===g?Bf-Yt():(g&4194048)===g?Gx-Yt():0;if(Te=eO(le,Te),Te!==null){qs=g,i.cancelPendingCommit=Te(iT.bind(null,i,s,g,l,u,p,_,T,L,ie,le,null,X,ee)),ja(i,g,_,!W);return}}iT(i,s,g,l,u,p,_,T,L)}function gk(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var p=l[u],g=p.getSnapshot;p=p.value;try{if(!Kr(g(),p))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ja(i,s,l,u){s&=~Yv,s&=~el,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var p=s;0<p;){var g=31-Nt(p),_=1<<g;u[g]=-1,p&=~_}l!==0&&kn(i,l,s)}function $f(){return(gt&6)===0?(ld(0),!1):!0}function Zv(){if(Xe!==null){if(_t===0)var i=Xe.return;else i=Xe,Os=Ho=null,mv(i),cc=null,qu=0,i=Xe;for(;i!==null;)Ix(i.alternate,i),i=i.return;Xe=null}}function bc(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,Vk(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),qs=0,Zv(),Ot=i,Xe=l=Ns(i.current,null),tt=s,_t=0,Xr=null,La=!1,gc=Qt(i,s),Kv=!1,vc=Jr=Yv=el=Ua=sn=0,Br=ad=null,Qv=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var p=31-Nt(u),g=1<<p;s|=i[p],u&=~g}return Fs=s,cf(),l}function Xx(i,s){$e=null,Z.H=Ju,s===lc||s===vf?(s=fE(),_t=3):s===rv?(s=fE(),_t=4):_t=s===Nv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Xr=s,Xe===null&&(sn=1,Nf(i,gi(s,i.current)))}function Jx(){var i=Qr.current;return i===null?!0:(tt&4194048)===tt?_i===null:(tt&62914560)===tt||(tt&536870912)!==0?i===_i:!1}function Zx(){var i=Z.H;return Z.H=Ju,i===null?Ju:i}function eT(){var i=Z.A;return Z.A=pk,i}function Ff(){sn=4,La||(tt&4194048)!==tt&&Qr.current!==null||(gc=!0),(Ua&134217727)===0&&(el&134217727)===0||Ot===null||ja(Ot,tt,Jr,!1)}function ey(i,s,l){var u=gt;gt|=2;var p=Zx(),g=eT();(Ot!==i||tt!==s)&&(jf=null,bc(i,s)),s=!1;var _=sn;e:do try{if(_t!==0&&Xe!==null){var T=Xe,L=Xr;switch(_t){case 8:Zv(),_=6;break e;case 3:case 2:case 9:case 6:Qr.current===null&&(s=!0);var W=_t;if(_t=0,Xr=null,_c(i,T,L,W),l&&gc){_=0;break e}break;default:W=_t,_t=0,Xr=null,_c(i,T,L,W)}}vk(),_=sn;break}catch(ie){Xx(i,ie)}while(!0);return s&&i.shellSuspendCounter++,Os=Ho=null,gt=u,Z.H=p,Z.A=g,Xe===null&&(Ot=null,tt=0,cf()),_}function vk(){for(;Xe!==null;)tT(Xe)}function yk(i,s){var l=gt;gt|=2;var u=Zx(),p=eT();Ot!==i||tt!==s?(jf=null,zf=Yt()+500,bc(i,s)):gc=Qt(i,s);e:do try{if(_t!==0&&Xe!==null){s=Xe;var g=Xr;t:switch(_t){case 1:_t=0,Xr=null,_c(i,s,g,1);break;case 2:case 9:if(dE(g)){_t=0,Xr=null,nT(s);break}s=function(){_t!==2&&_t!==9||Ot!==i||(_t=7),us(i)},g.then(s,s);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:dE(g)?(_t=0,Xr=null,nT(s)):(_t=0,Xr=null,_c(i,s,g,7));break;case 5:var _=null;switch(Xe.tag){case 26:_=Xe.memoizedState;case 5:case 27:var T=Xe;if(_?jT(_):T.stateNode.complete){_t=0,Xr=null;var L=T.sibling;if(L!==null)Xe=L;else{var W=T.return;W!==null?(Xe=W,qf(W)):Xe=null}break t}}_t=0,Xr=null,_c(i,s,g,5);break;case 6:_t=0,Xr=null,_c(i,s,g,6);break;case 8:Zv(),sn=6;break e;default:throw Error(r(462))}}bk();break}catch(ie){Xx(i,ie)}while(!0);return Os=Ho=null,Z.H=u,Z.A=p,gt=l,Xe!==null?0:(Ot=null,tt=0,cf(),sn)}function bk(){for(;Xe!==null&&!Fr();)tT(Xe)}function tT(i){var s=Sx(i.alternate,i,Fs);i.memoizedProps=i.pendingProps,s===null?qf(i):Xe=s}function nT(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=bx(l,s,s.pendingProps,s.type,void 0,tt);break;case 11:s=bx(l,s,s.pendingProps,s.type.render,s.ref,tt);break;case 5:mv(s);default:Ix(l,s),s=Xe=eE(s,Fs),s=Sx(l,s,Fs)}i.memoizedProps=i.pendingProps,s===null?qf(i):Xe=s}function _c(i,s,l,u){Os=Ho=null,mv(s),cc=null,qu=0;var p=s.return;try{if(ok(i,p,s,l,tt)){sn=1,Nf(i,gi(l,i.current)),Xe=null;return}}catch(g){if(p!==null)throw Xe=p,g;sn=1,Nf(i,gi(l,i.current)),Xe=null;return}s.flags&32768?(st||u===1?i=!0:gc||(tt&536870912)!==0?i=!1:(La=i=!0,(u===2||u===9||u===3||u===6)&&(u=Qr.current,u!==null&&u.tag===13&&(u.flags|=16384))),rT(s,i)):qf(s)}function qf(i){var s=i;do{if((s.flags&32768)!==0){rT(s,La);return}i=s.return;var l=uk(s.alternate,s,Fs);if(l!==null){Xe=l;return}if(s=s.sibling,s!==null){Xe=s;return}Xe=s=i}while(s!==null);sn===0&&(sn=5)}function rT(i,s){do{var l=dk(i.alternate,i);if(l!==null){l.flags&=32767,Xe=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){Xe=i;return}Xe=i=l}while(i!==null);sn=6,Xe=null}function iT(i,s,l,u,p,g,_,T,L){i.cancelPendingCommit=null;do Hf();while(Mn!==0);if((gt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=$g,qt(i,l,g,_,T,L),i===Ot&&(Xe=Ot=null,tt=0),yc=s,za=i,qs=l,Wv=g,Xv=p,Kx=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,xk(yn,function(){return cT(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,p=ue.p,ue.p=2,_=gt,gt|=4;try{hk(i,s,l)}finally{gt=_,ue.p=p,Z.T=u}}Mn=1,sT(),aT(),oT()}}function sT(){if(Mn===1){Mn=0;var i=za,s=yc,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null;var u=ue.p;ue.p=2;var p=gt;gt|=4;try{Bx(s,i);var g=hy,_=Hw(i.containerInfo),T=g.focusedElem,L=g.selectionRange;if(_!==T&&T&&T.ownerDocument&&qw(T.ownerDocument.documentElement,T)){if(L!==null&&Lg(T)){var W=L.start,ie=L.end;if(ie===void 0&&(ie=W),"selectionStart"in T)T.selectionStart=W,T.selectionEnd=Math.min(ie,T.value.length);else{var le=T.ownerDocument||document,X=le&&le.defaultView||window;if(X.getSelection){var ee=X.getSelection(),Te=T.textContent.length,Ve=Math.min(L.start,Te),Ct=L.end===void 0?Ve:Math.min(L.end,Te);!ee.extend&&Ve>Ct&&(_=Ct,Ct=Ve,Ve=_);var q=Fw(T,Ve),j=Fw(T,Ct);if(q&&j&&(ee.rangeCount!==1||ee.anchorNode!==q.node||ee.anchorOffset!==q.offset||ee.focusNode!==j.node||ee.focusOffset!==j.offset)){var Q=le.createRange();Q.setStart(q.node,q.offset),ee.removeAllRanges(),Ve>Ct?(ee.addRange(Q),ee.extend(j.node,j.offset)):(Q.setEnd(j.node,j.offset),ee.addRange(Q))}}}}for(le=[],ee=T;ee=ee.parentNode;)ee.nodeType===1&&le.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<le.length;T++){var oe=le[T];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}rp=!!dy,hy=dy=null}finally{gt=p,ue.p=u,Z.T=l}}i.current=s,Mn=2}}function aT(){if(Mn===2){Mn=0;var i=za,s=yc,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=Z.T,Z.T=null;var u=ue.p;ue.p=2;var p=gt;gt|=4;try{Px(i,s.alternate,s)}finally{gt=p,ue.p=u,Z.T=l}}Mn=3}}function oT(){if(Mn===4||Mn===3){Mn=0,xs();var i=za,s=yc,l=qs,u=Kx;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Mn=5:(Mn=0,yc=za=null,lT(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Ba=null),jn(l),s=s.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(br,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=Z.T,p=ue.p,ue.p=2,Z.T=null;try{for(var g=i.onRecoverableError,_=0;_<u.length;_++){var T=u[_];g(T.value,{componentStack:T.stack})}}finally{Z.T=s,ue.p=p}}(qs&3)!==0&&Hf(),us(i),p=i.pendingLanes,(l&261930)!==0&&(p&42)!==0?i===Jv?od++:(od=0,Jv=i):od=0,ld(0)}}function lT(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,$u(s)))}function Hf(){return sT(),aT(),oT(),cT()}function cT(){if(Mn!==5)return!1;var i=za,s=Wv;Wv=0;var l=jn(qs),u=Z.T,p=ue.p;try{ue.p=32>l?32:l,Z.T=null,l=Xv,Xv=null;var g=za,_=qs;if(Mn=0,yc=za=null,qs=0,(gt&6)!==0)throw Error(r(331));var T=gt;if(gt|=4,qx(g.current),jx(g,g.current,_,l),gt=T,ld(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(br,g)}catch{}return!0}finally{ue.p=p,Z.T=u,lT(i,s)}}function uT(i,s,l){s=gi(l,s),s=Dv(i.stateNode,s,2),i=Oa(i,s,2),i!==null&&(Nn(i,2),us(i))}function wt(i,s,l){if(i.tag===3)uT(i,i,l);else for(;s!==null;){if(s.tag===3){uT(s,i,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ba===null||!Ba.has(u))){i=gi(l,i),l=dx(2),u=Oa(s,l,2),u!==null&&(hx(l,u,s,i),Nn(u,2),us(u));break}}s=s.return}}function ty(i,s,l){var u=i.pingCache;if(u===null){u=i.pingCache=new mk;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(l)||(Kv=!0,p.add(l),i=_k.bind(null,i,s,l),s.then(i,i))}function _k(i,s,l){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Ot===i&&(tt&l)===l&&(sn===4||sn===3&&(tt&62914560)===tt&&300>Yt()-Bf?(gt&2)===0&&bc(i,0):Yv|=l,vc===tt&&(vc=0)),us(i)}function dT(i,s){s===0&&(s=dn()),i=$o(i,s),i!==null&&(Nn(i,s),us(i))}function wk(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),dT(i,l)}function Ek(i,s){var l=0;switch(i.tag){case 31:case 13:var u=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),dT(i,l)}function xk(i,s){return at(i,s)}var Gf=null,wc=null,ny=!1,Kf=!1,ry=!1,$a=0;function us(i){i!==wc&&i.next===null&&(wc===null?Gf=wc=i:wc=wc.next=i),Kf=!0,ny||(ny=!0,Sk())}function ld(i,s){if(!ry&&Kf){ry=!0;do for(var l=!1,u=Gf;u!==null;){if(i!==0){var p=u.pendingLanes;if(p===0)var g=0;else{var _=u.suspendedLanes,T=u.pingedLanes;g=(1<<31-Nt(42|i)+1)-1,g&=p&~(_&~T),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,mT(u,g))}else g=tt,g=bt(u,u===Ot?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Qt(u,g)||(l=!0,mT(u,g));u=u.next}while(l);ry=!1}}function Tk(){hT()}function hT(){Kf=ny=!1;var i=0;$a!==0&&Mk()&&(i=$a);for(var s=Yt(),l=null,u=Gf;u!==null;){var p=u.next,g=fT(u,s);g===0?(u.next=null,l===null?Gf=p:l.next=p,p===null&&(wc=l)):(l=u,(i!==0||(g&3)!==0)&&(Kf=!0)),u=p}Mn!==0&&Mn!==5||ld(i),$a!==0&&($a=0)}function fT(i,s){for(var l=i.suspendedLanes,u=i.pingedLanes,p=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var _=31-Nt(g),T=1<<_,L=p[_];L===-1?((T&l)===0||(T&u)!==0)&&(p[_]=Dn(T,s)):L<=s&&(i.expiredLanes|=T),g&=~T}if(s=Ot,l=tt,l=bt(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,l===0||i===s&&(_t===2||_t===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&tr(u),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Qt(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(u!==null&&tr(u),jn(l)){case 2:case 8:l=Rr;break;case 32:l=yn;break;case 268435456:l=vr;break;default:l=yn}return u=pT.bind(null,i),l=at(l,u),i.callbackPriority=s,i.callbackNode=l,s}return u!==null&&u!==null&&tr(u),i.callbackPriority=2,i.callbackNode=null,2}function pT(i,s){if(Mn!==0&&Mn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Hf()&&i.callbackNode!==l)return null;var u=tt;return u=bt(i,i===Ot?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(Qx(i,u,s),fT(i,Yt()),i.callbackNode!=null&&i.callbackNode===l?pT.bind(null,i):null)}function mT(i,s){if(Hf())return null;Qx(i,s,!0)}function Sk(){Lk(function(){(gt&6)!==0?at(Xi,Tk):hT()})}function iy(){if($a===0){var i=ac;i===0&&(i=Nr,Nr<<=1,(Nr&261888)===0&&(Nr=256)),$a=i}return $a}function gT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Xt(""+i)}function vT(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function Ak(i,s,l,u,p){if(s==="submit"&&l&&l.stateNode===p){var g=gT((p[_n]||null).action),_=u.submitter;_&&(s=(s=_[_n]||null)?gT(s.formAction):_.getAttribute("formAction"),s!==null&&(g=s,_=null));var T=new rs("action","action",null,u,p);i.push({event:T,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if($a!==0){var L=_?vT(p,_):new FormData(p);Tv(l,{pending:!0,data:L,method:p.method,action:g},null,L)}}else typeof g=="function"&&(T.preventDefault(),L=_?vT(p,_):new FormData(p),Tv(l,{pending:!0,data:L,method:p.method,action:g},g,L))},currentTarget:p}]})}}for(var sy=0;sy<jg.length;sy++){var ay=jg[sy],Ik=ay.toLowerCase(),Ck=ay[0].toUpperCase()+ay.slice(1);Bi(Ik,"on"+Ck)}Bi(Yw,"onAnimationEnd"),Bi(Qw,"onAnimationIteration"),Bi(Ww,"onAnimationStart"),Bi("dblclick","onDoubleClick"),Bi("focusin","onFocus"),Bi("focusout","onBlur"),Bi(qN,"onTransitionRun"),Bi(HN,"onTransitionStart"),Bi(GN,"onTransitionCancel"),Bi(Xw,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cd));function yT(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var u=i[l],p=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var _=u.length-1;0<=_;_--){var T=u[_],L=T.instance,W=T.currentTarget;if(T=T.listener,L!==g&&p.isPropagationStopped())break e;g=T,p.currentTarget=W;try{g(p)}catch(ie){lf(ie)}p.currentTarget=null,g=L}else for(_=0;_<u.length;_++){if(T=u[_],L=T.instance,W=T.currentTarget,T=T.listener,L!==g&&p.isPropagationStopped())break e;g=T,p.currentTarget=W;try{g(p)}catch(ie){lf(ie)}p.currentTarget=null,g=L}}}}function Je(i,s){var l=s[va];l===void 0&&(l=s[va]=new Set);var u=i+"__bubble";l.has(u)||(bT(s,i,2,!1),l.add(u))}function oy(i,s,l){var u=0;s&&(u|=4),bT(l,i,u,s)}var Yf="_reactListening"+Math.random().toString(36).slice(2);function ly(i){if(!i[Yf]){i[Yf]=!0,ya.forEach(function(l){l!=="selectionchange"&&(Rk.has(l)||oy(l,!1,i),oy(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Yf]||(s[Yf]=!0,oy("selectionchange",!1,s))}}function bT(i,s,l,u){switch(YT(s)){case 2:var p=rO;break;case 8:p=iO;break;default:p=xy}l=p.bind(null,s,l,i),p=void 0,!Po||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?i.addEventListener(s,l,{capture:!0,passive:p}):i.addEventListener(s,l,!0):p!==void 0?i.addEventListener(s,l,{passive:p}):i.addEventListener(s,l,!1)}function cy(i,s,l,u,p){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var T=u.stateNode.containerInfo;if(T===p)break;if(_===4)for(_=u.return;_!==null;){var L=_.tag;if((L===3||L===4)&&_.stateNode.containerInfo===p)return;_=_.return}for(;T!==null;){if(_=wr(T),_===null)return;if(L=_.tag,L===5||L===6||L===26||L===27){u=g=_;continue e}T=T.parentNode}}u=u.return}xa(function(){var W=g,ie=Mr(l),le=[];e:{var X=Jw.get(i);if(X!==void 0){var ee=rs,Te=i;switch(i){case"keypress":if(Vo(l)===0)break e;case"keydown":case"keyup":ee=sf;break;case"focusin":Te="focus",ee=Uo;break;case"focusout":Te="blur",ee=Uo;break;case"beforeblur":case"afterblur":ee=Uo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Pu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Qh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=b;break;case Yw:case Qw:case Ww:ee=Xh;break;case Xw:ee=C;break;case"scroll":case"scrollend":ee=Ou;break;case"wheel":ee=J;break;case"copy":case"cut":case"paste":ee=Jh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Ds;break;case"toggle":case"beforetoggle":ee=je}var Ve=(s&4)!==0,Ct=!Ve&&(i==="scroll"||i==="scrollend"),q=Ve?X!==null?X+"Capture":null:X;Ve=[];for(var j=W,Q;j!==null;){var oe=j;if(Q=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Q===null||q===null||(oe=Mi(j,q),oe!=null&&Ve.push(ud(j,oe,Q))),Ct)break;j=j.return}0<Ve.length&&(X=new ee(X,Te,null,l,ie),le.push({event:X,listeners:Ve}))}}if((s&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",ee=i==="mouseout"||i==="pointerout",X&&l!==Pr&&(Te=l.relatedTarget||l.fromElement)&&(wr(Te)||Te[oi]))break e;if((ee||X)&&(X=ie.window===ie?ie:(X=ie.ownerDocument)?X.defaultView||X.parentWindow:window,ee?(Te=l.relatedTarget||l.toElement,ee=W,Te=Te?wr(Te):null,Te!==null&&(Ct=o(Te),Ve=Te.tag,Te!==Ct||Ve!==5&&Ve!==27&&Ve!==6)&&(Te=null)):(ee=null,Te=W),ee!==Te)){if(Ve=Pu,oe="onMouseLeave",q="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(Ve=Ds,oe="onPointerLeave",q="onPointerEnter",j="pointer"),Ct=ee==null?X:rr(ee),Q=Te==null?X:rr(Te),X=new Ve(oe,j+"leave",ee,l,ie),X.target=Ct,X.relatedTarget=Q,oe=null,wr(ie)===W&&(Ve=new Ve(q,j+"enter",Te,l,ie),Ve.target=Q,Ve.relatedTarget=Ct,oe=Ve),Ct=oe,ee&&Te)t:{for(Ve=Dk,q=ee,j=Te,Q=0,oe=q;oe;oe=Ve(oe))Q++;oe=0;for(var De=j;De;De=Ve(De))oe++;for(;0<Q-oe;)q=Ve(q),Q--;for(;0<oe-Q;)j=Ve(j),oe--;for(;Q--;){if(q===j||j!==null&&q===j.alternate){Ve=q;break t}q=Ve(q),j=Ve(j)}Ve=null}else Ve=null;ee!==null&&_T(le,X,ee,Ve,!1),Te!==null&&Ct!==null&&_T(le,Ct,Te,Ve,!0)}}e:{if(X=W?rr(W):window,ee=X.nodeName&&X.nodeName.toLowerCase(),ee==="select"||ee==="input"&&X.type==="file")var ut=Lw;else if(Mw(X))if(Uw)ut=jN;else{ut=BN;var Ae=UN}else ee=X.nodeName,!ee||ee.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?W&&Oe(W.elementType)&&(ut=Lw):ut=zN;if(ut&&(ut=ut(i,W))){Vw(le,ut,l,ie);break e}Ae&&Ae(i,X,W),i==="focusout"&&W&&X.type==="number"&&W.memoizedProps.value!=null&&Ea(X,"number",X.value)}switch(Ae=W?rr(W):window,i){case"focusin":(Mw(Ae)||Ae.contentEditable==="true")&&(Jl=Ae,Ug=W,Bu=null);break;case"focusout":Bu=Ug=Jl=null;break;case"mousedown":Bg=!0;break;case"contextmenu":case"mouseup":case"dragend":Bg=!1,Gw(le,l,ie);break;case"selectionchange":if(FN)break;case"keydown":case"keyup":Gw(le,l,ie)}var qe;if(mt)e:{switch(i){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else Xl?Bo(i,l)&&(nt="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(nt="onCompositionStart");nt&&(as&&l.locale!=="ko"&&(Xl||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&Xl&&(qe=ku()):(ns=ie,Nu="value"in ns?ns.value:ns.textContent,Xl=!0)),Ae=Qf(W,nt),0<Ae.length&&(nt=new ss(nt,i,null,l,ie),le.push({event:nt,listeners:Ae}),qe?nt.data=qe:(qe=Wl(l),qe!==null&&(nt.data=qe)))),(qe=pi?PN(i,l):MN(i,l))&&(nt=Qf(W,"onBeforeInput"),0<nt.length&&(Ae=new ss("onBeforeInput","beforeinput",null,l,ie),le.push({event:Ae,listeners:nt}),Ae.data=qe)),Ak(le,i,W,l,ie)}yT(le,s)})}function ud(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Qf(i,s){for(var l=s+"Capture",u=[];i!==null;){var p=i,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Mi(i,l),p!=null&&u.unshift(ud(i,p,g)),p=Mi(i,s),p!=null&&u.push(ud(i,p,g))),i.tag===3)return u;i=i.return}return[]}function Dk(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function _T(i,s,l,u,p){for(var g=s._reactName,_=[];l!==null&&l!==u;){var T=l,L=T.alternate,W=T.stateNode;if(T=T.tag,L!==null&&L===u)break;T!==5&&T!==26&&T!==27||W===null||(L=W,p?(W=Mi(l,g),W!=null&&_.unshift(ud(l,W,L))):p||(W=Mi(l,g),W!=null&&_.push(ud(l,W,L)))),l=l.return}_.length!==0&&i.push({event:s,listeners:_})}var Nk=/\r\n?/g,kk=/\u0000|\uFFFD/g;function wT(i){return(typeof i=="string"?i:""+i).replace(Nk,`
`).replace(kk,"")}function ET(i,s){return s=wT(s),wT(i)===s}function It(i,s,l,u,p,g){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||O(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&O(i,""+u);break;case"className":Er(i,"class",u);break;case"tabIndex":Er(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Er(i,l,u);break;case"style":we(i,u,g);break;case"data":if(s!=="object"){Er(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Xt(""+u),i.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(s!=="input"&&It(i,s,"name",p.name,p,null),It(i,s,"formEncType",p.formEncType,p,null),It(i,s,"formMethod",p.formMethod,p,null),It(i,s,"formTarget",p.formTarget,p,null)):(It(i,s,"encType",p.encType,p,null),It(i,s,"method",p.method,p,null),It(i,s,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Xt(""+u),i.setAttribute(l,u);break;case"onClick":u!=null&&(i.onclick=Me);break;case"onScroll":u!=null&&Je("scroll",i);break;case"onScrollEnd":u!=null&&Je("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}l=Xt(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""+u):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":u===!0?i.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,u):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(l,u):i.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(l):i.setAttribute(l,u);break;case"popover":Je("beforetoggle",i),Je("toggle",i),_a(i,"popover",u);break;case"xlinkActuate":tn(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":tn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":tn(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":tn(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":tn(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":tn(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":tn(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":tn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":tn(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":_a(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=We.get(l)||l,_a(i,l,u))}}function uy(i,s,l,u,p,g){switch(l){case"style":we(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof u=="string"?O(i,u):(typeof u=="number"||typeof u=="bigint")&&O(i,""+u);break;case"onScroll":u!=null&&Je("scroll",i);break;case"onScrollEnd":u!=null&&Je("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Me);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ba.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),s=l.slice(2,p?l.length-7:void 0),g=i[_n]||null,g=g!=null?g[l]:null,typeof g=="function"&&i.removeEventListener(s,g,p),typeof u=="function")){typeof g!="function"&&g!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,u,p);break e}l in i?i[l]=u:u===!0?i.setAttribute(l,""):_a(i,l,u)}}}function Xn(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",i),Je("load",i);var u=!1,p=!1,g;for(g in l)if(l.hasOwnProperty(g)){var _=l[g];if(_!=null)switch(g){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:It(i,s,g,_,l,null)}}p&&It(i,s,"srcSet",l.srcSet,l,null),u&&It(i,s,"src",l.src,l,null);return;case"input":Je("invalid",i);var T=g=_=p=null,L=null,W=null;for(u in l)if(l.hasOwnProperty(u)){var ie=l[u];if(ie!=null)switch(u){case"name":p=ie;break;case"type":_=ie;break;case"checked":L=ie;break;case"defaultChecked":W=ie;break;case"value":g=ie;break;case"defaultValue":T=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,s));break;default:It(i,s,u,ie,l,null)}}Is(i,g,T,L,W,_,p,!1);return;case"select":Je("invalid",i),u=_=g=null;for(p in l)if(l.hasOwnProperty(p)&&(T=l[p],T!=null))switch(p){case"value":g=T;break;case"defaultValue":_=T;break;case"multiple":u=T;default:It(i,s,p,T,l,null)}s=g,l=_,i.multiple=!!u,s!=null?hi(i,!!u,s,!1):l!=null&&hi(i,!!u,l,!0);return;case"textarea":Je("invalid",i),g=p=u=null;for(_ in l)if(l.hasOwnProperty(_)&&(T=l[_],T!=null))switch(_){case"value":u=T;break;case"defaultValue":p=T;break;case"children":g=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:It(i,s,_,T,l,null)}es(i,u,p,g);return;case"option":for(L in l)l.hasOwnProperty(L)&&(u=l[L],u!=null)&&(L==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":It(i,s,L,u,l,null));return;case"dialog":Je("beforetoggle",i),Je("toggle",i),Je("cancel",i),Je("close",i);break;case"iframe":case"object":Je("load",i);break;case"video":case"audio":for(u=0;u<cd.length;u++)Je(cd[u],i);break;case"image":Je("error",i),Je("load",i);break;case"details":Je("toggle",i);break;case"embed":case"source":case"link":Je("error",i),Je("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in l)if(l.hasOwnProperty(W)&&(u=l[W],u!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:It(i,s,W,u,l,null)}return;default:if(Oe(s)){for(ie in l)l.hasOwnProperty(ie)&&(u=l[ie],u!==void 0&&uy(i,s,ie,u,l,void 0));return}}for(T in l)l.hasOwnProperty(T)&&(u=l[T],u!=null&&It(i,s,T,u,l,null))}function Ok(i,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,_=null,T=null,L=null,W=null,ie=null;for(ee in l){var le=l[ee];if(l.hasOwnProperty(ee)&&le!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":L=le;default:u.hasOwnProperty(ee)||It(i,s,ee,null,u,le)}}for(var X in u){var ee=u[X];if(le=l[X],u.hasOwnProperty(X)&&(ee!=null||le!=null))switch(X){case"type":g=ee;break;case"name":p=ee;break;case"checked":W=ee;break;case"defaultChecked":ie=ee;break;case"value":_=ee;break;case"defaultValue":T=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,s));break;default:ee!==le&&It(i,s,X,ee,u,le)}}wa(i,_,T,L,W,ie,g,p);return;case"select":ee=_=T=X=null;for(g in l)if(L=l[g],l.hasOwnProperty(g)&&L!=null)switch(g){case"value":break;case"multiple":ee=L;default:u.hasOwnProperty(g)||It(i,s,g,null,u,L)}for(p in u)if(g=u[p],L=l[p],u.hasOwnProperty(p)&&(g!=null||L!=null))switch(p){case"value":X=g;break;case"defaultValue":T=g;break;case"multiple":_=g;default:g!==L&&It(i,s,p,g,u,L)}s=T,l=_,u=ee,X!=null?hi(i,!!l,X,!1):!!u!=!!l&&(s!=null?hi(i,!!l,s,!0):hi(i,!!l,l?[]:"",!1));return;case"textarea":ee=X=null;for(T in l)if(p=l[T],l.hasOwnProperty(T)&&p!=null&&!u.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:It(i,s,T,null,u,p)}for(_ in u)if(p=u[_],g=l[_],u.hasOwnProperty(_)&&(p!=null||g!=null))switch(_){case"value":X=p;break;case"defaultValue":ee=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==g&&It(i,s,_,p,u,g)}ko(i,X,ee);return;case"option":for(var Te in l)X=l[Te],l.hasOwnProperty(Te)&&X!=null&&!u.hasOwnProperty(Te)&&(Te==="selected"?i.selected=!1:It(i,s,Te,null,u,X));for(L in u)X=u[L],ee=l[L],u.hasOwnProperty(L)&&X!==ee&&(X!=null||ee!=null)&&(L==="selected"?i.selected=X&&typeof X!="function"&&typeof X!="symbol":It(i,s,L,X,u,ee));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in l)X=l[Ve],l.hasOwnProperty(Ve)&&X!=null&&!u.hasOwnProperty(Ve)&&It(i,s,Ve,null,u,X);for(W in u)if(X=u[W],ee=l[W],u.hasOwnProperty(W)&&X!==ee&&(X!=null||ee!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:It(i,s,W,X,u,ee)}return;default:if(Oe(s)){for(var Ct in l)X=l[Ct],l.hasOwnProperty(Ct)&&X!==void 0&&!u.hasOwnProperty(Ct)&&uy(i,s,Ct,void 0,u,X);for(ie in u)X=u[ie],ee=l[ie],!u.hasOwnProperty(ie)||X===ee||X===void 0&&ee===void 0||uy(i,s,ie,X,u,ee);return}}for(var q in l)X=l[q],l.hasOwnProperty(q)&&X!=null&&!u.hasOwnProperty(q)&&It(i,s,q,null,u,X);for(le in u)X=u[le],ee=l[le],!u.hasOwnProperty(le)||X===ee||X==null&&ee==null||It(i,s,le,X,u,ee)}function xT(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Pk(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var p=l[u],g=p.transferSize,_=p.initiatorType,T=p.duration;if(g&&T&&xT(_)){for(_=0,T=p.responseEnd,u+=1;u<l.length;u++){var L=l[u],W=L.startTime;if(W>T)break;var ie=L.transferSize,le=L.initiatorType;ie&&xT(le)&&(L=L.responseEnd,_+=ie*(L<T?1:(T-W)/(L-W)))}if(--u,s+=8*(g+_)/(p.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var dy=null,hy=null;function Wf(i){return i.nodeType===9?i:i.ownerDocument}function TT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ST(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function fy(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var py=null;function Mk(){var i=window.event;return i&&i.type==="popstate"?i===py?!1:(py=i,!0):(py=null,!1)}var AT=typeof setTimeout=="function"?setTimeout:void 0,Vk=typeof clearTimeout=="function"?clearTimeout:void 0,IT=typeof Promise=="function"?Promise:void 0,Lk=typeof queueMicrotask=="function"?queueMicrotask:typeof IT<"u"?function(i){return IT.resolve(null).then(i).catch(Uk)}:AT;function Uk(i){setTimeout(function(){throw i})}function Fa(i){return i==="head"}function CT(i,s){var l=s,u=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(u===0){i.removeChild(p),Sc(s);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")dd(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,dd(l);for(var g=l.firstChild;g;){var _=g.nextSibling,T=g.nodeName;g[li]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&g.rel.toLowerCase()==="stylesheet"||l.removeChild(g),g=_}}else l==="body"&&dd(i.ownerDocument.body);l=p}while(l);Sc(s)}function RT(i,s){var l=i;i=0;do{var u=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=u}while(l)}function my(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":my(l),Ss(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function Bk(i,s,l,u){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[li])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=wi(i.nextSibling),i===null)break}return null}function zk(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=wi(i.nextSibling),i===null))return null;return i}function DT(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=wi(i.nextSibling),i===null))return null;return i}function gy(i){return i.data==="$?"||i.data==="$~"}function vy(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function jk(i,s){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||l.readyState!=="loading")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function wi(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var yy=null;function NT(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(s===0)return wi(i.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}i=i.nextSibling}return null}function kT(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return i;s--}else l!=="/$"&&l!=="/&"||s++}i=i.previousSibling}return null}function OT(i,s,l){switch(s=Wf(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function dd(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Ss(i)}var Ei=new Map,PT=new Set;function Xf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Hs=ue.d;ue.d={f:$k,r:Fk,D:qk,C:Hk,L:Gk,m:Kk,X:Qk,S:Yk,M:Wk};function $k(){var i=Hs.f(),s=$f();return i||s}function Fk(i){var s=kr(i);s!==null&&s.tag===5&&s.type==="form"?XE(s):Hs.r(i)}var Ec=typeof document>"u"?null:document;function MT(i,s,l){var u=Ec;if(u&&typeof s=="string"&&s){var p=Gn(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),PT.has(p)||(PT.add(p),i={rel:i,crossOrigin:l,href:s},u.querySelector(p)===null&&(s=u.createElement("link"),Xn(s,"link",i),Wt(s),u.head.appendChild(s)))}}function qk(i){Hs.D(i),MT("dns-prefetch",i,null)}function Hk(i,s){Hs.C(i,s),MT("preconnect",i,s)}function Gk(i,s,l){Hs.L(i,s,l);var u=Ec;if(u&&i&&s){var p='link[rel="preload"][as="'+Gn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Gn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Gn(l.imageSizes)+'"]')):p+='[href="'+Gn(i)+'"]';var g=p;switch(s){case"style":g=xc(i);break;case"script":g=Tc(i)}Ei.has(g)||(i=y({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Ei.set(g,i),u.querySelector(p)!==null||s==="style"&&u.querySelector(hd(g))||s==="script"&&u.querySelector(fd(g))||(s=u.createElement("link"),Xn(s,"link",i),Wt(s),u.head.appendChild(s)))}}function Kk(i,s){Hs.m(i,s);var l=Ec;if(l&&i){var u=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Gn(u)+'"][href="'+Gn(i)+'"]',g=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Tc(i)}if(!Ei.has(g)&&(i=y({rel:"modulepreload",href:i},s),Ei.set(g,i),l.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(fd(g)))return}u=l.createElement("link"),Xn(u,"link",i),Wt(u),l.head.appendChild(u)}}}function Yk(i,s,l){Hs.S(i,s,l);var u=Ec;if(u&&i){var p=Hr(u).hoistableStyles,g=xc(i);s=s||"default";var _=p.get(g);if(!_){var T={loading:0,preload:null};if(_=u.querySelector(hd(g)))T.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Ei.get(g))&&by(i,l);var L=_=u.createElement("link");Wt(L),Xn(L,"link",i),L._p=new Promise(function(W,ie){L.onload=W,L.onerror=ie}),L.addEventListener("load",function(){T.loading|=1}),L.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Jf(_,s,u)}_={type:"stylesheet",instance:_,count:1,state:T},p.set(g,_)}}}function Qk(i,s){Hs.X(i,s);var l=Ec;if(l&&i){var u=Hr(l).hoistableScripts,p=Tc(i),g=u.get(p);g||(g=l.querySelector(fd(p)),g||(i=y({src:i,async:!0},s),(s=Ei.get(p))&&_y(i,s),g=l.createElement("script"),Wt(g),Xn(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function Wk(i,s){Hs.M(i,s);var l=Ec;if(l&&i){var u=Hr(l).hoistableScripts,p=Tc(i),g=u.get(p);g||(g=l.querySelector(fd(p)),g||(i=y({src:i,async:!0,type:"module"},s),(s=Ei.get(p))&&_y(i,s),g=l.createElement("script"),Wt(g),Xn(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function VT(i,s,l,u){var p=(p=Re.current)?Xf(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=xc(l.href),l=Hr(p).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=xc(l.href);var g=Hr(p).hoistableStyles,_=g.get(i);if(_||(p=p.ownerDocument||p,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,_),(g=p.querySelector(hd(i)))&&!g._p&&(_.instance=g,_.state.loading=5),Ei.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ei.set(i,l),g||Xk(p,i,l,_.state))),s&&u===null)throw Error(r(528,""));return _}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Tc(l),l=Hr(p).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function xc(i){return'href="'+Gn(i)+'"'}function hd(i){return'link[rel="stylesheet"]['+i+"]"}function LT(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function Xk(i,s,l,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Xn(s,"link",l),Wt(s),i.head.appendChild(s))}function Tc(i){return'[src="'+Gn(i)+'"]'}function fd(i){return"script[async]"+i}function UT(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+Gn(l.href)+'"]');if(u)return s.instance=u,Wt(u),u;var p=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Wt(u),Xn(u,"style",p),Jf(u,l.precedence,i),s.instance=u;case"stylesheet":p=xc(l.href);var g=i.querySelector(hd(p));if(g)return s.state.loading|=4,s.instance=g,Wt(g),g;u=LT(l),(p=Ei.get(p))&&by(u,p),g=(i.ownerDocument||i).createElement("link"),Wt(g);var _=g;return _._p=new Promise(function(T,L){_.onload=T,_.onerror=L}),Xn(g,"link",u),s.state.loading|=4,Jf(g,l.precedence,i),s.instance=g;case"script":return g=Tc(l.src),(p=i.querySelector(fd(g)))?(s.instance=p,Wt(p),p):(u=l,(p=Ei.get(g))&&(u=y({},l),_y(u,p)),i=i.ownerDocument||i,p=i.createElement("script"),Wt(p),Xn(p,"link",u),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Jf(u,l.precedence,i));return s.instance}function Jf(i,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,g=p,_=0;_<u.length;_++){var T=u[_];if(T.dataset.precedence===s)g=T;else if(g!==p)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function by(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function _y(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Zf=null;function BT(i,s,l){if(Zf===null){var u=new Map,p=Zf=new Map;p.set(l,u)}else p=Zf,u=p.get(l),u||(u=new Map,p.set(l,u));if(u.has(i))return u;for(u.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var g=l[p];if(!(g[li]||g[kt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var _=g.getAttribute(s)||"";_=i+_;var T=u.get(_);T?T.push(g):u.set(_,[g])}}return u}function zT(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function Jk(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function jT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function Zk(i,s,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=xc(u.href),g=s.querySelector(hd(p));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=ep.bind(i),s.then(i,i)),l.state.loading|=4,l.instance=g,Wt(g);return}g=s.ownerDocument||s,u=LT(u),(p=Ei.get(p))&&by(u,p),g=g.createElement("link"),Wt(g);var _=g;_._p=new Promise(function(T,L){_.onload=T,_.onerror=L}),Xn(g,"link",u),l.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=ep.bind(i),s.addEventListener("load",l),s.addEventListener("error",l))}}var wy=0;function eO(i,s){return i.stylesheets&&i.count===0&&np(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var u=setTimeout(function(){if(i.stylesheets&&np(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+s);0<i.imgBytes&&wy===0&&(wy=62500*Pk());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&np(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>wy?50:800)+s);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function ep(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)np(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var tp=null;function np(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,tp=new Map,s.forEach(tO,i),tp=null,ep.call(i))}function tO(i,s){if(!(s.state.loading&4)){var l=tp.get(i);if(l)var u=l.get(null);else{l=new Map,tp.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var _=p[g];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(l.set(_.dataset.precedence,_),u=_)}u&&l.set(null,u)}p=s.instance,_=p.getAttribute("data-precedence"),g=l.get(_)||u,g===u&&l.set(null,p),l.set(_,p),this.count++,u=ep.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),g?g.parentNode.insertBefore(p,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var pd={$$typeof:G,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function nO(i,s,l,u,p,g,_,T,L){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ft(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ft(0),this.hiddenUpdates=Ft(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function $T(i,s,l,u,p,g,_,T,L,W,ie,le){return i=new nO(i,s,l,_,L,W,ie,le,T),s=1,g===!0&&(s|=24),g=Yr(3,null,null,s),i.current=g,g.stateNode=i,s=ev(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:l,cache:s},iv(g),i}function FT(i){return i?(i=tc,i):tc}function qT(i,s,l,u,p,g){p=FT(p),u.context===null?u.context=p:u.pendingContext=p,u=ka(s),u.payload={element:l},g=g===void 0?null:g,g!==null&&(u.callback=g),l=Oa(i,u,s),l!==null&&(zr(l,i,s),Gu(l,i,s))}function HT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Ey(i,s){HT(i,s),(i=i.alternate)&&HT(i,s)}function GT(i){if(i.tag===13||i.tag===31){var s=$o(i,67108864);s!==null&&zr(s,i,67108864),Ey(i,67108864)}}function KT(i){if(i.tag===13||i.tag===31){var s=Zr();s=_r(s);var l=$o(i,s);l!==null&&zr(l,i,s),Ey(i,s)}}var rp=!0;function rO(i,s,l,u){var p=Z.T;Z.T=null;var g=ue.p;try{ue.p=2,xy(i,s,l,u)}finally{ue.p=g,Z.T=p}}function iO(i,s,l,u){var p=Z.T;Z.T=null;var g=ue.p;try{ue.p=8,xy(i,s,l,u)}finally{ue.p=g,Z.T=p}}function xy(i,s,l,u){if(rp){var p=Ty(u);if(p===null)cy(i,s,u,ip,l),QT(i,u);else if(aO(p,i,s,l,u))u.stopPropagation();else if(QT(i,u),s&4&&-1<sO.indexOf(i)){for(;p!==null;){var g=kr(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var _=Mt(g.pendingLanes);if(_!==0){var T=g;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var L=1<<31-Nt(_);T.entanglements[1]|=L,_&=~L}us(g),(gt&6)===0&&(zf=Yt()+500,ld(0))}}break;case 31:case 13:T=$o(g,2),T!==null&&zr(T,g,2),$f(),Ey(g,2)}if(g=Ty(u),g===null&&cy(i,s,u,ip,l),g===p)break;p=g}p!==null&&u.stopPropagation()}else cy(i,s,u,null,l)}}function Ty(i){return i=Mr(i),Sy(i)}var ip=null;function Sy(i){if(ip=null,i=wr(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=c(s),i!==null)return i;i=null}else if(l===31){if(i=d(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return ip=i,null}function YT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ni()){case Xi:return 2;case Rr:return 8;case yn:case ki:return 32;case vr:return 268435456;default:return 32}default:return 32}}var Ay=!1,qa=null,Ha=null,Ga=null,md=new Map,gd=new Map,Ka=[],sO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function QT(i,s){switch(i){case"focusin":case"focusout":qa=null;break;case"dragenter":case"dragleave":Ha=null;break;case"mouseover":case"mouseout":Ga=null;break;case"pointerover":case"pointerout":md.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":gd.delete(s.pointerId)}}function vd(i,s,l,u,p,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:g,targetContainers:[p]},s!==null&&(s=kr(s),s!==null&&GT(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function aO(i,s,l,u,p){switch(s){case"focusin":return qa=vd(qa,i,s,l,u,p),!0;case"dragenter":return Ha=vd(Ha,i,s,l,u,p),!0;case"mouseover":return Ga=vd(Ga,i,s,l,u,p),!0;case"pointerover":var g=p.pointerId;return md.set(g,vd(md.get(g)||null,i,s,l,u,p)),!0;case"gotpointercapture":return g=p.pointerId,gd.set(g,vd(gd.get(g)||null,i,s,l,u,p)),!0}return!1}function WT(i){var s=wr(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){i.blockedOn=s,bn(i.priority,function(){KT(l)});return}}else if(s===31){if(s=d(l),s!==null){i.blockedOn=s,bn(i.priority,function(){KT(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function sp(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Ty(i.nativeEvent);if(l===null){l=i.nativeEvent;var u=new l.constructor(l.type,l);Pr=u,l.target.dispatchEvent(u),Pr=null}else return s=kr(l),s!==null&&GT(s),i.blockedOn=l,!1;s.shift()}return!0}function XT(i,s,l){sp(i)&&l.delete(s)}function oO(){Ay=!1,qa!==null&&sp(qa)&&(qa=null),Ha!==null&&sp(Ha)&&(Ha=null),Ga!==null&&sp(Ga)&&(Ga=null),md.forEach(XT),gd.forEach(XT)}function ap(i,s){i.blockedOn===s&&(i.blockedOn=null,Ay||(Ay=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,oO)))}var op=null;function JT(i){op!==i&&(op=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){op===i&&(op=null);for(var s=0;s<i.length;s+=3){var l=i[s],u=i[s+1],p=i[s+2];if(typeof u!="function"){if(Sy(u||l)===null)continue;break}var g=kr(l);g!==null&&(i.splice(s,3),s-=3,Tv(g,{pending:!0,data:p,method:l.method,action:u},u,p))}}))}function Sc(i){function s(L){return ap(L,i)}qa!==null&&ap(qa,i),Ha!==null&&ap(Ha,i),Ga!==null&&ap(Ga,i),md.forEach(s),gd.forEach(s);for(var l=0;l<Ka.length;l++){var u=Ka[l];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Ka.length&&(l=Ka[0],l.blockedOn===null);)WT(l),l.blockedOn===null&&Ka.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var p=l[u],g=l[u+1],_=p[_n]||null;if(typeof g=="function")_||JT(l);else if(_){var T=null;if(g&&g.hasAttribute("formAction")){if(p=g,_=g[_n]||null)T=_.formAction;else if(Sy(p)!==null)continue}else T=_.action;typeof T=="function"?l[u+1]=T:(l.splice(u,3),u-=3),JT(l)}}}function ZT(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(_){return p=_})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function Iy(i){this._internalRoot=i}lp.prototype.render=Iy.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,u=Zr();qT(l,u,i,s,null,null)},lp.prototype.unmount=Iy.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;qT(i.current,2,null,i,null,null),$f(),s[oi]=null}};function lp(i){this._internalRoot=i}lp.prototype.unstable_scheduleHydration=function(i){if(i){var s=nr();i={blockedOn:null,target:i,priority:s};for(var l=0;l<Ka.length&&s!==0&&s<Ka[l].priority;l++);Ka.splice(l,0,i),l===0&&WT(i)}};var eS=e.version;if(eS!=="19.2.4")throw Error(r(527,eS,"19.2.4"));ue.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(s),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var lO={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cp.isDisabled&&cp.supportsFiber)try{br=cp.inject(lO),$t=cp}catch{}}return bd.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,u="",p=ox,g=lx,_=cx;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=$T(i,1,!1,null,null,l,u,null,p,g,_,ZT),i[oi]=s.current,ly(i),new Iy(s)},bd.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var u=!1,p="",g=ox,_=lx,T=cx,L=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(T=l.onRecoverableError),l.formState!==void 0&&(L=l.formState)),s=$T(i,1,!0,s,l??null,u,p,L,g,_,T,ZT),s.context=FT(null),l=s.current,u=Zr(),u=_r(u),p=ka(u),p.callback=null,Oa(l,p,u),l=u,s.current.lanes=l,Nn(s,l),us(s),i[oi]=s.current,ly(i),new lp(s)},bd.version="19.2.4",bd}var uS;function yO(){if(uS)return Dy.exports;uS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Dy.exports=vO(),Dy.exports}var bO=yO();var dS="popstate";function _O(n={}){function e(a,o){let{pathname:c="/",search:d="",hash:f=""}=mu(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),bb("",{pathname:c,search:d,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(a,o){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let f=a.location.href,m=f.indexOf("#");d=m===-1?f:f.slice(0,m)}return d+"#"+(typeof o=="string"?o:eh(o))}function r(a,o){Ci(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return EO(e,t,r,n)}function Ln(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ci(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wO(){return Math.random().toString(36).substring(2,10)}function hS(n,e){return{usr:n.state,key:n.key,idx:e}}function bb(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?mu(e):e,state:t,key:e&&e.key||r||wO()}}function eh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function mu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function EO(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,c=a.history,d="POP",f=null,m=v();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function v(){return(c.state||{idx:null}).idx}function y(){d="POP";let V=v(),K=V==null?null:V-m;m=V,f&&f({action:d,location:k.location,delta:K})}function E(V,K){d="PUSH";let F=bb(k.location,V,K);t&&t(F,V),m=v()+1;let G=hS(F,m),ce=k.createHref(F);try{c.pushState(G,"",ce)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;a.location.assign(ce)}o&&f&&f({action:d,location:k.location,delta:1})}function I(V,K){d="REPLACE";let F=bb(k.location,V,K);t&&t(F,V),m=v();let G=hS(F,m),ce=k.createHref(F);c.replaceState(G,"",ce),o&&f&&f({action:d,location:k.location,delta:0})}function U(V){return xO(V)}let k={get action(){return d},get location(){return n(a,c)},listen(V){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(dS,y),f=V,()=>{a.removeEventListener(dS,y),f=null}},createHref(V){return e(a,V)},createURL:U,encodeLocation(V){let K=U(V);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:E,replace:I,go(V){return c.go(V)}};return k}function xO(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ln(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:eh(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function x1(n,e,t="/"){return TO(n,e,t,!1)}function TO(n,e,t,r){let a=typeof e=="string"?mu(e):e,o=na(a.pathname||"/",t);if(o==null)return null;let c=T1(n);SO(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let m=VO(o);d=PO(c[f],m,r)}return d}function T1(n,e=[],t=[],r="",a=!1){let o=(c,d,f=a,m)=>{let v={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&f)return;Ln(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let y=Zs([r,v.relativePath]),E=t.concat(v);c.children&&c.children.length>0&&(Ln(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),T1(c.children,e,E,y,f)),!(c.path==null&&!c.index)&&e.push({path:y,score:kO(y,c.index),routesMeta:E})};return n.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))o(c,d);else for(let f of S1(c.path))o(c,d,!0,f)}),e}function S1(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let c=S1(r.join("/")),d=[];return d.push(...c.map(f=>f===""?o:[o,f].join("/"))),a&&d.push(...c),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function SO(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:OO(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var AO=/^:[\w-]+$/,IO=3,CO=2,RO=1,DO=10,NO=-2,fS=n=>n==="*";function kO(n,e){let t=n.split("/"),r=t.length;return t.some(fS)&&(r+=NO),e&&(r+=CO),t.filter(a=>!fS(a)).reduce((a,o)=>a+(AO.test(o)?IO:o===""?RO:DO),r)}function OO(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function PO(n,e,t=!1){let{routesMeta:r}=n,a={},o="/",c=[];for(let d=0;d<r.length;++d){let f=r[d],m=d===r.length-1,v=o==="/"?e:e.slice(o.length)||"/",y=em({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},v),E=f.route;if(!y&&m&&t&&!r[r.length-1].route.index&&(y=em({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!y)return null;Object.assign(a,y.params),c.push({params:a,pathname:Zs([o,y.pathname]),pathnameBase:zO(Zs([o,y.pathnameBase])),route:E}),y.pathnameBase!=="/"&&(o=Zs([o,y.pathnameBase]))}return c}function em(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=MO(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((m,{paramName:v,isOptional:y},E)=>{if(v==="*"){let U=d[E]||"";c=o.slice(0,o.length-U.length).replace(/(.)\/+$/,"$1")}const I=d[E];return y&&!I?m[v]=void 0:m[v]=(I||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:n}}function MO(n,e=!1,t=!0){Ci(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function VO(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ci(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function na(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var LO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function UO(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?mu(n):n,o;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?o=pS(t.substring(1),"/"):o=pS(t,e)):o=e,{pathname:o,search:jO(r),hash:$O(a)}}function pS(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Py(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function BO(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function A1(n){let e=BO(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function I1(n,e,t,r=!1){let a;typeof n=="string"?a=mu(n):(a={...n},Ln(!a.pathname||!a.pathname.includes("?"),Py("?","pathname","search",a)),Ln(!a.pathname||!a.pathname.includes("#"),Py("#","pathname","hash",a)),Ln(!a.search||!a.search.includes("#"),Py("#","search","hash",a)));let o=n===""||a.pathname==="",c=o?"/":a.pathname,d;if(c==null)d=t;else{let y=e.length-1;if(!r&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),y-=1;a.pathname=E.join("/")}d=y>=0?e[y]:"/"}let f=UO(a,d),m=c&&c!=="/"&&c.endsWith("/"),v=(o||c===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||v)&&(f.pathname+="/"),f}var Zs=n=>n.join("/").replace(/\/\/+/g,"/"),zO=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),jO=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,$O=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,FO=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function qO(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function HO(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var C1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function R1(n,e){let t=n;if(typeof t!="string"||!LO.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let r=t,a=!1;if(C1)try{let o=new URL(window.location.href),c=t.startsWith("//")?new URL(o.protocol+t):new URL(t),d=na(c.pathname,e);c.origin===o.origin&&d!=null?t=d+c.search+c.hash:a=!0}catch{Ci(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var D1=["POST","PUT","PATCH","DELETE"];new Set(D1);var GO=["GET",...D1];new Set(GO);var gu=S.createContext(null);gu.displayName="DataRouter";var zm=S.createContext(null);zm.displayName="DataRouterState";var KO=S.createContext(!1),N1=S.createContext({isTransitioning:!1});N1.displayName="ViewTransition";var YO=S.createContext(new Map);YO.displayName="Fetchers";var QO=S.createContext(null);QO.displayName="Await";var Di=S.createContext(null);Di.displayName="Navigation";var jm=S.createContext(null);jm.displayName="Location";var ua=S.createContext({outlet:null,matches:[],isDataRoute:!1});ua.displayName="Route";var U_=S.createContext(null);U_.displayName="RouteError";var k1="REACT_ROUTER_ERROR",WO="REDIRECT",XO="ROUTE_ERROR_RESPONSE";function JO(n){if(n.startsWith(`${k1}:${WO}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function ZO(n){if(n.startsWith(`${k1}:${XO}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new FO(e.status,e.statusText,e.data)}catch{}}function eP(n,{relative:e}={}){Ln(xh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=S.useContext(Di),{hash:a,pathname:o,search:c}=Th(n,{relative:e}),d=o;return t!=="/"&&(d=o==="/"?t:Zs([t,o])),r.createHref({pathname:d,search:c,hash:a})}function xh(){return S.useContext(jm)!=null}function yo(){return Ln(xh(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(jm).location}var O1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function P1(n){S.useContext(Di).static||S.useLayoutEffect(n)}function M1(){let{isDataRoute:n}=S.useContext(ua);return n?fP():tP()}function tP(){Ln(xh(),"useNavigate() may be used only in the context of a <Router> component.");let n=S.useContext(gu),{basename:e,navigator:t}=S.useContext(Di),{matches:r}=S.useContext(ua),{pathname:a}=yo(),o=JSON.stringify(A1(r)),c=S.useRef(!1);return P1(()=>{c.current=!0}),S.useCallback((f,m={})=>{if(Ci(c.current,O1),!c.current)return;if(typeof f=="number"){t.go(f);return}let v=I1(f,JSON.parse(o),a,m.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Zs([e,v.pathname])),(m.replace?t.replace:t.push)(v,m.state,m)},[e,t,o,a,n])}S.createContext(null);function Th(n,{relative:e}={}){let{matches:t}=S.useContext(ua),{pathname:r}=yo(),a=JSON.stringify(A1(t));return S.useMemo(()=>I1(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function nP(n,e,t,r,a){Ln(xh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=S.useContext(Di),{matches:c}=S.useContext(ua),d=c[c.length-1],f=d?d.params:{},m=d?d.pathname:"/",v=d?d.pathnameBase:"/",y=d&&d.route;{let F=y&&y.path||"";L1(m,!y||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let E=yo(),I;I=E;let U=I.pathname||"/",k=U;if(v!=="/"){let F=v.replace(/^\//,"").split("/");k="/"+U.replace(/^\//,"").split("/").slice(F.length).join("/")}let V=x1(n,{pathname:k});return Ci(y||V!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Ci(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),oP(V&&V.map(F=>Object.assign({},F,{params:Object.assign({},f,F.params),pathname:Zs([v,o.encodeLocation?o.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?v:Zs([v,o.encodeLocation?o.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),c,t,r,a)}function rP(){let n=hP(),e=qO(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:o},"ErrorBoundary")," or"," ",S.createElement("code",{style:o},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),t?S.createElement("pre",{style:a},t):null,c)}var iP=S.createElement(rP,null),V1=class extends S.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=ZO(n.digest);t&&(n=t)}let e=n!==void 0?S.createElement(ua.Provider,{value:this.props.routeContext},S.createElement(U_.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?S.createElement(sP,{error:n},e):e}};V1.contextType=KO;var My=new WeakMap;function sP({children:n,error:e}){let{basename:t}=S.useContext(Di);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=JO(e.digest);if(r){let a=My.get(e);if(a)throw a;let o=R1(r.location,t);if(C1&&!My.get(e))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw My.set(e,c),c}return S.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return n}function aP({routeContext:n,match:e,children:t}){let r=S.useContext(gu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(ua.Provider,{value:n},t)}function oP(n,e=[],t=null,r=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,c=t?.errors;if(c!=null){let v=o.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);Ln(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,v+1))}let d=!1,f=-1;if(t)for(let v=0;v<o.length;v++){let y=o[v];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=v),y.route.id){let{loaderData:E,errors:I}=t,U=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!I||I[y.route.id]===void 0);if(y.route.lazy||U){d=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}let m=t&&r?(v,y)=>{r(v,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:HO(t.matches),errorInfo:y})}:void 0;return o.reduceRight((v,y,E)=>{let I,U=!1,k=null,V=null;t&&(I=c&&y.route.id?c[y.route.id]:void 0,k=y.route.errorElement||iP,d&&(f<0&&E===0?(L1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),U=!0,V=null):f===E&&(U=!0,V=y.route.hydrateFallbackElement||null)));let K=e.concat(o.slice(0,E+1)),F=()=>{let G;return I?G=k:U?G=V:y.route.Component?G=S.createElement(y.route.Component,null):y.route.element?G=y.route.element:G=v,S.createElement(aP,{match:y,routeContext:{outlet:v,matches:K,isDataRoute:t!=null},children:G})};return t&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?S.createElement(V1,{location:t.location,revalidation:t.revalidation,component:k,error:I,children:F(),routeContext:{outlet:null,matches:K,isDataRoute:!0},onError:m}):F()},null)}function B_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lP(n){let e=S.useContext(gu);return Ln(e,B_(n)),e}function cP(n){let e=S.useContext(zm);return Ln(e,B_(n)),e}function uP(n){let e=S.useContext(ua);return Ln(e,B_(n)),e}function z_(n){let e=uP(n),t=e.matches[e.matches.length-1];return Ln(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function dP(){return z_("useRouteId")}function hP(){let n=S.useContext(U_),e=cP("useRouteError"),t=z_("useRouteError");return n!==void 0?n:e.errors?.[t]}function fP(){let{router:n}=lP("useNavigate"),e=z_("useNavigate"),t=S.useRef(!1);return P1(()=>{t.current=!0}),S.useCallback(async(a,o={})=>{Ci(t.current,O1),t.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var mS={};function L1(n,e,t){!e&&!mS[n]&&(mS[n]=!0,Ci(!1,t))}S.memo(pP);function pP({routes:n,future:e,state:t,onError:r}){return nP(n,void 0,t,r,e)}function mP({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:o=!1,unstable_useTransitions:c}){Ln(!xh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),f=S.useMemo(()=>({basename:d,navigator:a,static:o,unstable_useTransitions:c,future:{}}),[d,a,o,c]);typeof t=="string"&&(t=mu(t));let{pathname:m="/",search:v="",hash:y="",state:E=null,key:I="default"}=t,U=S.useMemo(()=>{let k=na(m,d);return k==null?null:{location:{pathname:k,search:v,hash:y,state:E,key:I},navigationType:r}},[d,m,v,y,E,I,r]);return Ci(U!=null,`<Router basename="${d}"> is not able to match the URL "${m}${v}${y}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:S.createElement(Di.Provider,{value:f},S.createElement(jm.Provider,{children:e,value:U}))}var kp="get",Op="application/x-www-form-urlencoded";function $m(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function gP(n){return $m(n)&&n.tagName.toLowerCase()==="button"}function vP(n){return $m(n)&&n.tagName.toLowerCase()==="form"}function yP(n){return $m(n)&&n.tagName.toLowerCase()==="input"}function bP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function _P(n,e){return n.button===0&&(!e||e==="_self")&&!bP(n)}function _b(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(a=>[t,a]):[[t,r]])},[]))}function wP(n,e){let t=_b(n);return e&&e.forEach((r,a)=>{t.has(a)||e.getAll(a).forEach(o=>{t.append(a,o)})}),t}var up=null;function EP(){if(up===null)try{new FormData(document.createElement("form"),0),up=!1}catch{up=!0}return up}var xP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vy(n){return n!=null&&!xP.has(n)?(Ci(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Op}"`),null):n}function TP(n,e){let t,r,a,o,c;if(vP(n)){let d=n.getAttribute("action");r=d?na(d,e):null,t=n.getAttribute("method")||kp,a=Vy(n.getAttribute("enctype"))||Op,o=new FormData(n)}else if(gP(n)||yP(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||d.getAttribute("action");if(r=f?na(f,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||kp,a=Vy(n.getAttribute("formenctype"))||Vy(d.getAttribute("enctype"))||Op,o=new FormData(d,n),!EP()){let{name:m,type:v,value:y}=n;if(v==="image"){let E=m?`${m}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else m&&o.append(m,y)}}else{if($m(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=kp,r=null,a=Op,c=n}return o&&a==="text/plain"&&(c=o,o=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function j_(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function SP(n,e,t,r){let a=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:e&&na(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function AP(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function IP(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function CP(n,e,t){let r=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await AP(o,t);return c.links?c.links():[]}return[]}));return kP(r.flat(1).filter(IP).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function gS(n,e,t,r,a,o){let c=(f,m)=>t[m]?f.route.id!==t[m].route.id:!0,d=(f,m)=>t[m].pathname!==f.pathname||t[m].route.path?.endsWith("*")&&t[m].params["*"]!==f.params["*"];return o==="assets"?e.filter((f,m)=>c(f,m)||d(f,m)):o==="data"?e.filter((f,m)=>{let v=r.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(c(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function RP(n,e,{includeHydrateFallback:t}={}){return DP(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function DP(n){return[...new Set(n)]}function NP(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function kP(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let o=JSON.stringify(NP(a));return t.has(o)||(t.add(o),r.push({key:o,link:a})),r},[])}function U1(){let n=S.useContext(gu);return j_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function OP(){let n=S.useContext(zm);return j_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var $_=S.createContext(void 0);$_.displayName="FrameworkContext";function B1(){let n=S.useContext($_);return j_(n,"You must render this element inside a <HydratedRouter> element"),n}function PP(n,e){let t=S.useContext($_),[r,a]=S.useState(!1),[o,c]=S.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:v,onTouchStart:y}=e,E=S.useRef(null);S.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let k=K=>{K.forEach(F=>{c(F.isIntersecting)})},V=new IntersectionObserver(k,{threshold:.5});return E.current&&V.observe(E.current),()=>{V.disconnect()}}},[n]),S.useEffect(()=>{if(r){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[r]);let I=()=>{a(!0)},U=()=>{a(!1),c(!1)};return t?n!=="intent"?[o,E,{}]:[o,E,{onFocus:_d(d,I),onBlur:_d(f,U),onMouseEnter:_d(m,I),onMouseLeave:_d(v,U),onTouchStart:_d(y,I)}]:[!1,E,{}]}function _d(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function MP({page:n,...e}){let{router:t}=U1(),r=S.useMemo(()=>x1(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?S.createElement(LP,{page:n,matches:r,...e}):null}function VP(n){let{manifest:e,routeModules:t}=B1(),[r,a]=S.useState([]);return S.useEffect(()=>{let o=!1;return CP(n,e,t).then(c=>{o||a(c)}),()=>{o=!0}},[n,e,t]),r}function LP({page:n,matches:e,...t}){let r=yo(),{future:a,manifest:o,routeModules:c}=B1(),{basename:d}=U1(),{loaderData:f,matches:m}=OP(),v=S.useMemo(()=>gS(n,e,m,o,r,"data"),[n,e,m,o,r]),y=S.useMemo(()=>gS(n,e,m,o,r,"assets"),[n,e,m,o,r]),E=S.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let k=new Set,V=!1;if(e.forEach(F=>{let G=o.routes[F.route.id];!G||!G.hasLoader||(!v.some(ce=>ce.route.id===F.route.id)&&F.route.id in f&&c[F.route.id]?.shouldRevalidate||G.hasClientLoader?V=!0:k.add(F.route.id))}),k.size===0)return[];let K=SP(n,d,a.unstable_trailingSlashAwareDataRequests,"data");return V&&k.size>0&&K.searchParams.set("_routes",e.filter(F=>k.has(F.route.id)).map(F=>F.route.id).join(",")),[K.pathname+K.search]},[d,a.unstable_trailingSlashAwareDataRequests,f,r,o,v,e,n,c]),I=S.useMemo(()=>RP(y,o),[y,o]),U=VP(y);return S.createElement(S.Fragment,null,E.map(k=>S.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...t})),I.map(k=>S.createElement("link",{key:k,rel:"modulepreload",href:k,...t})),U.map(({key:k,link:V})=>S.createElement("link",{key:k,nonce:t.nonce,...V,crossOrigin:V.crossOrigin??t.crossOrigin})))}function UP(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var BP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{BP&&(window.__reactRouterVersion="7.13.0")}catch{}function zP({basename:n,children:e,unstable_useTransitions:t,window:r}){let a=S.useRef();a.current==null&&(a.current=_O({window:r,v5Compat:!0}));let o=a.current,[c,d]=S.useState({action:o.action,location:o.location}),f=S.useCallback(m=>{t===!1?d(m):S.startTransition(()=>d(m))},[t]);return S.useLayoutEffect(()=>o.listen(f),[o,f]),S.createElement(mP,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:t})}var z1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,j1=S.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:o,replace:c,state:d,target:f,to:m,preventScrollReset:v,viewTransition:y,unstable_defaultShouldRevalidate:E,...I},U){let{basename:k,unstable_useTransitions:V}=S.useContext(Di),K=typeof m=="string"&&z1.test(m),F=R1(m,k);m=F.to;let G=eP(m,{relative:a}),[ce,ae,de]=PP(r,I),D=qP(m,{replace:c,state:d,target:f,preventScrollReset:v,relative:a,viewTransition:y,unstable_defaultShouldRevalidate:E,unstable_useTransitions:V});function A(M){e&&e(M),M.defaultPrevented||D(M)}let R=S.createElement("a",{...I,...de,href:F.absoluteURL||G,onClick:F.isExternal||o?e:A,ref:UP(U,ae),target:f,"data-discover":!K&&t==="render"?"true":void 0});return ce&&!K?S.createElement(S.Fragment,null,R,S.createElement(MP,{page:G})):R});j1.displayName="Link";var jP=S.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:o,to:c,viewTransition:d,children:f,...m},v){let y=Th(c,{relative:m.relative}),E=yo(),I=S.useContext(zm),{navigator:U,basename:k}=S.useContext(Di),V=I!=null&&WP(y)&&d===!0,K=U.encodeLocation?U.encodeLocation(y).pathname:y.pathname,F=E.pathname,G=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(F=F.toLowerCase(),G=G?G.toLowerCase():null,K=K.toLowerCase()),G&&k&&(G=na(G,k)||G);const ce=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let ae=F===K||!a&&F.startsWith(K)&&F.charAt(ce)==="/",de=G!=null&&(G===K||!a&&G.startsWith(K)&&G.charAt(K.length)==="/"),D={isActive:ae,isPending:de,isTransitioning:V},A=ae?e:void 0,R;typeof r=="function"?R=r(D):R=[r,ae?"active":null,de?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let M=typeof o=="function"?o(D):o;return S.createElement(j1,{...m,"aria-current":A,className:R,ref:v,style:M,to:c,viewTransition:d},typeof f=="function"?f(D):f)});jP.displayName="NavLink";var $P=S.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:o,method:c=kp,action:d,onSubmit:f,relative:m,preventScrollReset:v,viewTransition:y,unstable_defaultShouldRevalidate:E,...I},U)=>{let{unstable_useTransitions:k}=S.useContext(Di),V=YP(),K=QP(d,{relative:m}),F=c.toLowerCase()==="get"?"get":"post",G=typeof d=="string"&&z1.test(d),ce=ae=>{if(f&&f(ae),ae.defaultPrevented)return;ae.preventDefault();let de=ae.nativeEvent.submitter,D=de?.getAttribute("formmethod")||c,A=()=>V(de||ae.currentTarget,{fetcherKey:e,method:D,navigate:t,replace:a,state:o,relative:m,preventScrollReset:v,viewTransition:y,unstable_defaultShouldRevalidate:E});k&&t!==!1?S.startTransition(()=>A()):A()};return S.createElement("form",{ref:U,method:F,action:K,onSubmit:r?f:ce,...I,"data-discover":!G&&n==="render"?"true":void 0})});$P.displayName="Form";function FP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $1(n){let e=S.useContext(gu);return Ln(e,FP(n)),e}function qP(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:f}={}){let m=M1(),v=yo(),y=Th(n,{relative:o});return S.useCallback(E=>{if(_P(E,e)){E.preventDefault();let I=t!==void 0?t:eh(v)===eh(y),U=()=>m(n,{replace:I,state:r,preventScrollReset:a,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:d});f?S.startTransition(()=>U()):U()}},[v,m,y,t,r,e,n,a,o,c,d,f])}function HP(n){Ci(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=S.useRef(_b(n)),t=S.useRef(!1),r=yo(),a=S.useMemo(()=>wP(r.search,t.current?null:e.current),[r.search]),o=M1(),c=S.useCallback((d,f)=>{const m=_b(typeof d=="function"?d(new URLSearchParams(a)):d);t.current=!0,o("?"+m,f)},[o,a]);return[a,c]}var GP=0,KP=()=>`__${String(++GP)}__`;function YP(){let{router:n}=$1("useSubmit"),{basename:e}=S.useContext(Di),t=dP(),r=n.fetch,a=n.navigate;return S.useCallback(async(o,c={})=>{let{action:d,method:f,encType:m,formData:v,body:y}=TP(o,e);if(c.navigate===!1){let E=c.fetcherKey||KP();await r(E,t,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:y,formMethod:c.method||f,formEncType:c.encType||m,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:y,formMethod:c.method||f,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,a,e,t])}function QP(n,{relative:e}={}){let{basename:t}=S.useContext(Di),r=S.useContext(ua);Ln(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...Th(n||".",{relative:e})},c=yo();if(n==null){o.search=c.search;let d=new URLSearchParams(o.search),f=d.getAll("index");if(f.some(v=>v==="")){d.delete("index"),f.filter(y=>y).forEach(y=>d.append("index",y));let v=d.toString();o.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Zs([t,o.pathname])),eh(o)}function WP(n,{relative:e}={}){let t=S.useContext(N1);Ln(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=$1("useViewTransitionState"),a=Th(n,{relative:e});if(!t.isTransitioning)return!1;let o=na(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=na(t.nextLocation.pathname,r)||t.nextLocation.pathname;return em(a.pathname,c)!=null||em(a.pathname,o)!=null}var Dd=E1();const XP=()=>{};var vS={};const F1=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},JP=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],c=n[t++],d=n[t++],f=((a&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],c=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},q1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],c=a+1<n.length,d=c?n[a+1]:0,f=a+2<n.length,m=f?n[a+2]:0,v=o>>2,y=(o&3)<<4|d>>4;let E=(d&15)<<2|m>>6,I=m&63;f||(I=64,c||(E=64)),r.push(t[v],t[y],t[E],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(F1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):JP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const m=a<n.length?t[n.charAt(a)]:64;++a;const y=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||d==null||m==null||y==null)throw new ZP;const E=o<<2|d>>4;if(r.push(E),m!==64){const I=d<<4&240|m>>2;if(r.push(I),y!==64){const U=m<<6&192|y;r.push(U)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ZP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eM=function(n){const e=F1(n);return q1.encodeByteArray(e,!0)},H1=function(n){return eM(n).replace(/\./g,"")},G1=function(n){try{return q1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function K1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const tM=()=>K1().__FIREBASE_DEFAULTS__,nM=()=>{if(typeof process>"u"||typeof vS>"u")return;const n=vS.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},rM=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&G1(n[1]);return e&&JSON.parse(e)},Fm=()=>{try{return XP()||tM()||nM()||rM()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},iM=n=>Fm()?.emulatorHosts?.[n],Y1=()=>Fm()?.config,Q1=n=>Fm()?.[`_${n}`];class sM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function vu(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function W1(n){return(await fetch(n,{credentials:"include"})).ok}const Bd={};function aM(){const n={prod:[],emulator:[]};for(const e of Object.keys(Bd))Bd[e]?n.emulator.push(e):n.prod.push(e);return n}function oM(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let yS=!1;function lM(n,e){if(typeof window>"u"||typeof document>"u"||!vu(window.location.host)||Bd[n]===e||Bd[n]||yS)return;Bd[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",o=aM().prod.length>0;function c(){const E=document.getElementById(r);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,I){E.setAttribute("width","24"),E.setAttribute("id",I),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{yS=!0,c()},E}function v(E,I){E.setAttribute("id",I),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function y(){const E=oM(r),I=t("text"),U=document.getElementById(I)||document.createElement("span"),k=t("learnmore"),V=document.getElementById(k)||document.createElement("a"),K=t("preprendIcon"),F=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const G=E.element;d(G),v(V,k);const ce=m();f(F,K),G.append(F,U,V,ce),document.body.appendChild(G)}o?(U.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}function Un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Un())}function X1(){const n=Fm()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dM(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function hM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fM(){const n=Un();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function J1(){return!X1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Z1(){return!X1()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function F_(){try{return typeof indexedDB=="object"}catch{return!1}}function eC(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}function pM(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const mM="FirebaseError";class Es extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=mM,Object.setPrototypeOf(this,Es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ul.prototype.create)}}class Ul{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?gM(o,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Es(a,d,r)}}function gM(n,e){return n.replace(vM,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const vM=/\{\$([^}]+)}/g;function yM(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ra(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const o=n[a],c=e[a];if(bS(o)&&bS(c)){if(!ra(o,c))return!1}else if(o!==c)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function bS(n){return n!==null&&typeof n=="object"}function Sh(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Nd(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function kd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function bM(n,e){const t=new _M(n,e);return t.subscribe.bind(t)}class _M{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");wM(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Ly),a.error===void 0&&(a.error=Ly),a.complete===void 0&&(a.complete=Ly);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wM(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ly(){}function zt(n){return n&&n._delegate?n._delegate:n}class Ki{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const al="[DEFAULT]";class EM{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new sM;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TM(e))try{this.getOrInitializeService({instanceIdentifier:al})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=al){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=al){return this.instances.has(e)}getOptions(e=al){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&c.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xM(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=al){return this.component?this.component.multipleInstances?e:al:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xM(n){return n===al?void 0:n}function TM(n){return n.instantiationMode==="EAGER"}class SM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new EM(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var rt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(rt||(rt={}));const AM={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},IM=rt.INFO,CM={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},RM=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=CM[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class q_{constructor(e){this.name=e,this._logLevel=IM,this._logHandler=RM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const DM=(n,e)=>e.some(t=>n instanceof t);let _S,wS;function NM(){return _S||(_S=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kM(){return wS||(wS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tC=new WeakMap,wb=new WeakMap,nC=new WeakMap,Uy=new WeakMap,H_=new WeakMap;function OM(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(ea(n.result)),a()},c=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&tC.set(t,n)}).catch(()=>{}),H_.set(e,n),e}function PM(n){if(wb.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),a()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});wb.set(n,e)}let Eb={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return wb.get(n);if(e==="objectStoreNames")return n.objectStoreNames||nC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ea(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function MM(n){Eb=n(Eb)}function VM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(By(this),e,...t);return nC.set(r,e.sort?e.sort():[e]),ea(r)}:kM().includes(n)?function(...e){return n.apply(By(this),e),ea(tC.get(this))}:function(...e){return ea(n.apply(By(this),e))}}function LM(n){return typeof n=="function"?VM(n):(n instanceof IDBTransaction&&PM(n),DM(n,NM())?new Proxy(n,Eb):n)}function ea(n){if(n instanceof IDBRequest)return OM(n);if(Uy.has(n))return Uy.get(n);const e=LM(n);return e!==n&&(Uy.set(n,e),H_.set(e,n)),e}const By=n=>H_.get(n);function qm(n,e,{blocked:t,upgrade:r,blocking:a,terminated:o}={}){const c=indexedDB.open(n,e),d=ea(c);return r&&c.addEventListener("upgradeneeded",f=>{r(ea(c.result),f.oldVersion,f.newVersion,ea(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}function zy(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",r=>e(r.oldVersion,r)),ea(t).then(()=>{})}const UM=["get","getKey","getAll","getAllKeys","count"],BM=["put","add","delete","clear"],jy=new Map;function ES(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(jy.get(e))return jy.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=BM.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||UM.includes(t)))return;const o=async function(c,...d){const f=this.transaction(c,a?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),a&&f.done]))[0]};return jy.set(e,o),o}MM(n=>({...n,get:(e,t,r)=>ES(e,t)||n.get(e,t,r),has:(e,t)=>!!ES(e,t)||n.has(e,t)}));class zM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(jM(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function jM(n){return n.getComponent()?.type==="VERSION"}const xb="@firebase/app",xS="0.14.8";const ia=new q_("@firebase/app"),$M="@firebase/app-compat",FM="@firebase/analytics-compat",qM="@firebase/analytics",HM="@firebase/app-check-compat",GM="@firebase/app-check",KM="@firebase/auth",YM="@firebase/auth-compat",QM="@firebase/database",WM="@firebase/data-connect",XM="@firebase/database-compat",JM="@firebase/functions",ZM="@firebase/functions-compat",e4="@firebase/installations",t4="@firebase/installations-compat",n4="@firebase/messaging",r4="@firebase/messaging-compat",i4="@firebase/performance",s4="@firebase/performance-compat",a4="@firebase/remote-config",o4="@firebase/remote-config-compat",l4="@firebase/storage",c4="@firebase/storage-compat",u4="@firebase/firestore",d4="@firebase/ai",h4="@firebase/firestore-compat",f4="firebase",p4="12.9.0";const Tb="[DEFAULT]",m4={[xb]:"fire-core",[$M]:"fire-core-compat",[qM]:"fire-analytics",[FM]:"fire-analytics-compat",[GM]:"fire-app-check",[HM]:"fire-app-check-compat",[KM]:"fire-auth",[YM]:"fire-auth-compat",[QM]:"fire-rtdb",[WM]:"fire-data-connect",[XM]:"fire-rtdb-compat",[JM]:"fire-fn",[ZM]:"fire-fn-compat",[e4]:"fire-iid",[t4]:"fire-iid-compat",[n4]:"fire-fcm",[r4]:"fire-fcm-compat",[i4]:"fire-perf",[s4]:"fire-perf-compat",[a4]:"fire-rc",[o4]:"fire-rc-compat",[l4]:"fire-gcs",[c4]:"fire-gcs-compat",[u4]:"fire-fst",[h4]:"fire-fst-compat",[d4]:"fire-vertex","fire-js":"fire-js",[f4]:"fire-js-all"};const tm=new Map,g4=new Map,Sb=new Map;function TS(n,e){try{n.container.addComponent(e)}catch(t){ia.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function _s(n){const e=n.name;if(Sb.has(e))return ia.debug(`There were multiple attempts to register component ${e}.`),!1;Sb.set(e,n);for(const t of tm.values())TS(t,n);for(const t of g4.values())TS(t,n);return!0}function yu(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ti(n){return n==null?!1:n.settings!==void 0}const v4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oo=new Ul("app","Firebase",v4);class y4{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oo.create("app-deleted",{appName:this._name})}}const bu=p4;function rC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Tb,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw oo.create("bad-app-name",{appName:String(a)});if(t||(t=Y1()),!t)throw oo.create("no-options");const o=tm.get(a);if(o){if(ra(t,o.options)&&ra(r,o.config))return o;throw oo.create("duplicate-app",{appName:a})}const c=new SM(a);for(const f of Sb.values())c.addComponent(f);const d=new y4(t,r,c);return tm.set(a,d),d}function iC(n=Tb){const e=tm.get(n);if(!e&&n===Tb&&Y1())return rC();if(!e)throw oo.create("no-app",{appName:n});return e}function Ii(n,e,t){let r=m4[n]??n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ia.warn(c.join(" "));return}_s(new Ki(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const b4="firebase-heartbeat-database",_4=1,th="firebase-heartbeat-store";let $y=null;function sC(){return $y||($y=qm(b4,_4,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(th)}catch(t){console.warn(t)}}}}).catch(n=>{throw oo.create("idb-open",{originalErrorMessage:n.message})})),$y}async function w4(n){try{const t=(await sC()).transaction(th),r=await t.objectStore(th).get(aC(n));return await t.done,r}catch(e){if(e instanceof Es)ia.warn(e.message);else{const t=oo.create("idb-get",{originalErrorMessage:e?.message});ia.warn(t.message)}}}async function SS(n,e){try{const r=(await sC()).transaction(th,"readwrite");await r.objectStore(th).put(e,aC(n)),await r.done}catch(t){if(t instanceof Es)ia.warn(t.message);else{const r=oo.create("idb-set",{originalErrorMessage:t?.message});ia.warn(r.message)}}}function aC(n){return`${n.name}!${n.options.appId}`}const E4=1024,x4=30;class T4{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new A4(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=AS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>x4){const a=I4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ia.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=AS(),{heartbeatsToSend:t,unsentEntries:r}=S4(this._heartbeatsCache.heartbeats),a=H1(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return ia.warn(e),""}}}function AS(){return new Date().toISOString().substring(0,10)}function S4(n,e=E4){const t=[];let r=n.slice();for(const a of n){const o=t.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),IS(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),IS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class A4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return F_()?eC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await w4(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return SS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return SS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function IS(n){return H1(JSON.stringify({version:2,heartbeats:n})).length}function I4(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function C4(n){_s(new Ki("platform-logger",e=>new zM(e),"PRIVATE")),_s(new Ki("heartbeat",e=>new T4(e),"PRIVATE")),Ii(xb,xS,n),Ii(xb,xS,"esm2020"),Ii("fire-js","")}C4("");function oC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const R4=oC,lC=new Ul("auth","Firebase",oC());const nm=new q_("@firebase/auth");function D4(n,...e){nm.logLevel<=rt.WARN&&nm.warn(`Auth (${bu}): ${n}`,...e)}function Pp(n,...e){nm.logLevel<=rt.ERROR&&nm.error(`Auth (${bu}): ${n}`,...e)}function Ri(n,...e){throw K_(n,...e)}function Hi(n,...e){return K_(n,...e)}function G_(n,e,t){const r={...R4(),[e]:t};return new Ul("auth","Firebase",r).create(e,{appName:n.name})}function ta(n){return G_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function N4(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ri(n,"argument-error"),G_(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function K_(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return lC.create(n,...e)}function Le(n,e,...t){if(!n)throw K_(e,...t)}function Ws(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Pp(e),new Error(e)}function sa(n,e){n||Ws(e)}function Ab(){return typeof self<"u"&&self.location?.href||""}function k4(){return CS()==="http:"||CS()==="https:"}function CS(){return typeof self<"u"&&self.location?.protocol||null}function O4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(k4()||dM()||"connection"in navigator)?navigator.onLine:!0}function P4(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Ah{constructor(e,t){this.shortDelay=e,this.longDelay=t,sa(t>e,"Short delay should be less than long delay!"),this.isMobile=cM()||hM()}get(){return O4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Y_(n,e){sa(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class cC{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ws("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ws("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ws("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const M4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const V4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],L4=new Ah(3e4,6e4);function bo(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function da(n,e,t,r,a={}){return uC(n,a,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const d=Sh({key:n.config.apiKey,...c}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:f,...o};return uM()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&vu(n.emulatorConfig.host)&&(m.credentials="include"),cC.fetch()(await dC(n,n.config.apiHost,t,d),m)})}async function uC(n,e,t){n._canInitEmulator=!1;const r={...M4,...e};try{const a=new B4(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw dp(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const d=o.ok?c.errorMessage:c.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw dp(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw dp(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw dp(n,"user-disabled",c);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw G_(n,v,m);Ri(n,v)}}catch(a){if(a instanceof Es)throw a;Ri(n,"network-request-failed",{message:String(a)})}}async function Ih(n,e,t,r,a={}){const o=await da(n,e,t,r,a);return"mfaPendingCredential"in o&&Ri(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function dC(n,e,t,r){const a=`${e}${t}?${r}`,o=n,c=o.config.emulator?Y_(n.config,a):`${n.config.apiScheme}://${a}`;return V4.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function U4(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class B4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Hi(this.auth,"network-request-failed")),L4.get())})}}function dp(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=Hi(n,e,r);return a.customData._tokenResponse=t,a}function RS(n){return n!==void 0&&n.enterprise!==void 0}class z4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return U4(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function j4(n,e){return da(n,"GET","/v2/recaptchaConfig",bo(n,e))}async function $4(n,e){return da(n,"POST","/v1/accounts:delete",e)}async function rm(n,e){return da(n,"POST","/v1/accounts:lookup",e)}function zd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function F4(n,e=!1){const t=zt(n),r=await t.getIdToken(e),a=Q_(r);Le(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:r,authTime:zd(Fy(a.auth_time)),issuedAtTime:zd(Fy(a.iat)),expirationTime:zd(Fy(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Fy(n){return Number(n)*1e3}function Q_(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Pp("JWT malformed, contained fewer than 3 sections"),null;try{const a=G1(t);return a?JSON.parse(a):(Pp("Failed to decode base64 JWT payload"),null)}catch(a){return Pp("Caught error parsing JWT payload as JSON",a?.toString()),null}}function DS(n){const e=Q_(n);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Qc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Es&&q4(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function q4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class H4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ib{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=zd(this.lastLoginAt),this.creationTime=zd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function im(n){const e=n.auth,t=await n.getIdToken(),r=await Qc(n,rm(e,{idToken:t}));Le(r?.users.length,e,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const o=a.providerUserInfo?.length?hC(a.providerUserInfo):[],c=K4(n.providerData,o),d=n.isAnonymous,f=!(n.email&&a.passwordHash)&&!c?.length,m=d?f:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Ib(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(n,v)}async function G4(n){const e=zt(n);await im(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function K4(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function hC(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function Y4(n,e){const t=await uC(n,{},async()=>{const r=Sh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,c=await dC(n,a,"/v1/token",`key=${o}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return n.emulatorConfig&&vu(n.emulatorConfig.host)&&(f.credentials="include"),cC.fetch()(c,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Q4(n,e){return da(n,"POST","/v2/accounts:revokeToken",bo(n,e))}class jc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):DS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const t=DS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:o}=await Y4(e,t);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:o}=t,c=new jc;return r&&(Le(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Le(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&(Le(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jc,this.toJSON())}_performRefresh(){return Ws("not implemented")}}function Qa(n,e){Le(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class qi{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new H4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Ib(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Qc(this,this.stsTokenManager.getToken(this.auth,e));return Le(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return F4(this,e)}reload(){return G4(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new qi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await im(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(ta(this.auth));const e=await this.getIdToken();return await Qc(this,$4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,o=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,f=t._redirectEventId??void 0,m=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:y,emailVerified:E,isAnonymous:I,providerData:U,stsTokenManager:k}=t;Le(y&&k,e,"internal-error");const V=jc.fromJSON(this.name,k);Le(typeof y=="string",e,"internal-error"),Qa(r,e.name),Qa(a,e.name),Le(typeof E=="boolean",e,"internal-error"),Le(typeof I=="boolean",e,"internal-error"),Qa(o,e.name),Qa(c,e.name),Qa(d,e.name),Qa(f,e.name),Qa(m,e.name),Qa(v,e.name);const K=new qi({uid:y,auth:e,email:a,emailVerified:E,displayName:r,isAnonymous:I,photoURL:c,phoneNumber:o,tenantId:d,stsTokenManager:V,createdAt:m,lastLoginAt:v});return U&&Array.isArray(U)&&(K.providerData=U.map(F=>({...F}))),f&&(K._redirectEventId=f),K}static async _fromIdTokenResponse(e,t,r=!1){const a=new jc;a.updateFromServerResponse(t);const o=new qi({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await im(o),o}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];Le(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?hC(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,d=new jc;d.updateFromIdToken(r);const f=new qi({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Ib(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(f,m),f}}const NS=new Map;function Xs(n){sa(n instanceof Function,"Expected a class definition");let e=NS.get(n);return e?(sa(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,NS.set(n,e),e)}class fC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}fC.type="NONE";const kS=fC;function Mp(n,e,t){return`firebase:${n}:${e}:${t}`}class $c{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=Mp(this.userKey,a.apiKey,o),this.fullPersistenceKey=Mp("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await rm(this.auth,{idToken:e}).catch(()=>{});return t?qi._fromGetAccountInfoResponse(this.auth,t,e):null}return qi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new $c(Xs(kS),e,r);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=a[0]||Xs(kS);const c=Mp(r,e.config.apiKey,e.name);let d=null;for(const m of t)try{const v=await m._get(c);if(v){let y;if(typeof v=="string"){const E=await rm(e,{idToken:v}).catch(()=>{});if(!E)break;y=await qi._fromGetAccountInfoResponse(e,E,v)}else y=qi._fromJSON(e,v);m!==o&&(d=y),o=m;break}}catch{}const f=a.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new $c(o,e,r):(o=f[0],d&&await o._set(c,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new $c(o,e,r))}}function OS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bC(e))return"Blackberry";if(_C(e))return"Webos";if(mC(e))return"Safari";if((e.includes("chrome/")||gC(e))&&!e.includes("edge/"))return"Chrome";if(yC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function pC(n=Un()){return/firefox\//i.test(n)}function mC(n=Un()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gC(n=Un()){return/crios\//i.test(n)}function vC(n=Un()){return/iemobile/i.test(n)}function yC(n=Un()){return/android/i.test(n)}function bC(n=Un()){return/blackberry/i.test(n)}function _C(n=Un()){return/webos/i.test(n)}function W_(n=Un()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function W4(n=Un()){return W_(n)&&!!window.navigator?.standalone}function X4(){return fM()&&document.documentMode===10}function wC(n=Un()){return W_(n)||yC(n)||_C(n)||bC(n)||/windows phone/i.test(n)||vC(n)}function EC(n,e=[]){let t;switch(n){case"Browser":t=OS(Un());break;case"Worker":t=`${OS(Un())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${bu}/${r}`}class J4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((c,d)=>{try{const f=e(o);c(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Z4(n,e={}){return da(n,"GET","/v2/passwordPolicy",bo(n,e))}const eV=6;class tV{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??eV,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class nV{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new PS(this),this.idTokenSubscription=new PS(this),this.beforeStateQueue=new J4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Xs(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $c.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await rm(this,{idToken:e}),r=await qi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ti(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===c)&&d?.user&&(r=d.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await im(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=P4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ti(this.app))return Promise.reject(ta(this));const t=e?zt(e):null;return t&&Le(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(ta(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ti(this.app)?Promise.reject(ta(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Z4(this),t=new tV(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ul("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Q4(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Xs(e)||this._popupRedirectResolver;Le(t,this,"argument-error"),this.redirectPersistenceManager=await $c.create(this,[Xs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(d,this,"internal-error"),d.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,a);return()=>{c=!0,f()}}else{const f=e.addObserver(t);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=EC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&D4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function _o(n){return zt(n)}class PS{constructor(e){this.auth=e,this.observer=null,this.addObserver=bM(t=>this.observer=t)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Hm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rV(n){Hm=n}function xC(n){return Hm.loadJS(n)}function iV(){return Hm.recaptchaEnterpriseScript}function sV(){return Hm.gapiScript}function aV(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class oV{constructor(){this.enterprise=new lV}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class lV{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const cV="recaptcha-enterprise",TC="NO_RECAPTCHA";class uV{constructor(e){this.type=cV,this.auth=_o(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,d)=>{j4(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new z4(f);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,c(m.siteKey)}}).catch(f=>{d(f)})})}function a(o,c,d){const f=window.grecaptcha;RS(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(m=>{c(m)}).catch(()=>{c(TC)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oV().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{r(this.auth).then(d=>{if(!t&&RS(window.grecaptcha))a(d,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=iV();f.length!==0&&(f+=d),xC(f).then(()=>{a(d,o,c)}).catch(m=>{c(m)})}}).catch(d=>{c(d)})})}}async function MS(n,e,t,r=!1,a=!1){const o=new uV(n);let c;if(a)c=TC;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Cb(n,e,t,r,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await MS(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await MS(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(o)})}function dV(n,e){const t=yu(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(ra(o,e??{}))return a;Ri(a,"already-initialized")}return t.initialize({options:e})}function hV(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Xs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function fV(n,e,t){const r=_o(n);Le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=SC(e),{host:c,port:d}=pV(e),f=d===null?"":`:${d}`,m={url:`${o}//${c}${f}/`},v=Object.freeze({host:c,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Le(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Le(ra(m,r.config.emulator)&&ra(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,vu(c)?(W1(`${o}//${c}${f}`),lM("Auth",!0)):mV()}function SC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function pV(n){const e=SC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:VS(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:VS(c)}}}function VS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function mV(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class X_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ws("not implemented")}_getIdTokenResponse(e){return Ws("not implemented")}_linkToIdToken(e,t){return Ws("not implemented")}_getReauthenticationResolver(e){return Ws("not implemented")}}async function gV(n,e){return da(n,"POST","/v1/accounts:signUp",e)}async function vV(n,e){return Ih(n,"POST","/v1/accounts:signInWithPassword",bo(n,e))}async function yV(n,e){return Ih(n,"POST","/v1/accounts:signInWithEmailLink",bo(n,e))}async function bV(n,e){return Ih(n,"POST","/v1/accounts:signInWithEmailLink",bo(n,e))}class nh extends X_{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new nh(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new nh(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cb(e,t,"signInWithPassword",vV);case"emailLink":return yV(e,{email:this._email,oobCode:this._password});default:Ri(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cb(e,r,"signUpPassword",gV);case"emailLink":return bV(e,{idToken:t,email:this._email,oobCode:this._password});default:Ri(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Fc(n,e){return Ih(n,"POST","/v1/accounts:signInWithIdp",bo(n,e))}const _V="http://localhost";class aa extends X_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ri("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...o}=t;if(!r||!a)return null;const c=new aa(r,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Fc(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Fc(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Fc(e,t)}buildRequest(){const e={requestUri:_V,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Sh(t)}return e}}function wV(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function EV(n){const e=Nd(kd(n)).link,t=e?Nd(kd(e)).deep_link_id:null,r=Nd(kd(n)).deep_link_id;return(r?Nd(kd(r)).link:null)||r||t||e||n}class J_{constructor(e){const t=Nd(kd(e)),r=t.apiKey??null,a=t.oobCode??null,o=wV(t.mode??null);Le(r&&a&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=EV(e);try{return new J_(t)}catch{return null}}}class _u{constructor(){this.providerId=_u.PROVIDER_ID}static credential(e,t){return nh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=J_.parseLink(t);return Le(r,"argument-error"),nh._fromEmailAndCode(e,r.code,r.tenantId)}}_u.PROVIDER_ID="password";_u.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_u.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Z_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class wu extends Z_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class jd extends wu{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return Le("providerId"in t&&"signInMethod"in t,"argument-error"),aa._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return Le(e.idToken||e.accessToken,"argument-error"),aa._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return jd.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return jd.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:a,pendingToken:o,nonce:c,providerId:d}=e;if(!r&&!a&&!t&&!o||!d)return null;try{return new jd(d)._credential({idToken:t,accessToken:r,nonce:c,pendingToken:o})}catch{return null}}}class to extends wu{constructor(){super("facebook.com")}static credential(e){return aa._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return to.credential(e.oauthAccessToken)}catch{return null}}}to.FACEBOOK_SIGN_IN_METHOD="facebook.com";to.PROVIDER_ID="facebook.com";class Qs extends wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return aa._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Qs.credential(t,r)}catch{return null}}}Qs.GOOGLE_SIGN_IN_METHOD="google.com";Qs.PROVIDER_ID="google.com";class no extends wu{constructor(){super("github.com")}static credential(e){return aa._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return no.credential(e.oauthAccessToken)}catch{return null}}}no.GITHUB_SIGN_IN_METHOD="github.com";no.PROVIDER_ID="github.com";class ro extends wu{constructor(){super("twitter.com")}static credential(e,t){return aa._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ro.credential(t,r)}catch{return null}}}ro.TWITTER_SIGN_IN_METHOD="twitter.com";ro.PROVIDER_ID="twitter.com";async function xV(n,e){return Ih(n,"POST","/v1/accounts:signUp",bo(n,e))}class xl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const o=await qi._fromIdTokenResponse(e,r,a),c=LS(r);return new xl({user:o,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=LS(r);return new xl({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function LS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class sm extends Es{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,sm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new sm(e,t,r,a)}}function AC(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?sm._fromErrorAndOperation(n,o,e,r):o})}async function TV(n,e,t=!1){const r=await Qc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return xl._forOperation(n,"link",r)}async function SV(n,e,t=!1){const{auth:r}=n;if(ti(r.app))return Promise.reject(ta(r));const a="reauthenticate";try{const o=await Qc(n,AC(r,a,e,n),t);Le(o.idToken,r,"internal-error");const c=Q_(o.idToken);Le(c,r,"internal-error");const{sub:d}=c;return Le(n.uid===d,r,"user-mismatch"),xl._forOperation(n,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ri(r,"user-mismatch"),o}}async function IC(n,e,t=!1){if(ti(n.app))return Promise.reject(ta(n));const r="signIn",a=await AC(n,r,e),o=await xl._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(o.user),o}async function AV(n,e){return IC(_o(n),e)}async function CC(n){const e=_o(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function IV(n,e,t){if(ti(n.app))return Promise.reject(ta(n));const r=_o(n),c=await Cb(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xV).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&CC(n),f}),d=await xl._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(d.user),d}function CV(n,e,t){return ti(n.app)?Promise.reject(ta(n)):AV(zt(n),_u.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&CC(n),r})}async function RV(n,e){return da(n,"POST","/v1/accounts:update",e)}async function DV(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=zt(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await Qc(r,RV(r.auth,o));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const d=r.providerData.find(({providerId:f})=>f==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function NV(n,e,t,r){return zt(n).onIdTokenChanged(e,t,r)}function kV(n,e,t){return zt(n).beforeAuthStateChanged(e,t)}function OV(n,e,t,r){return zt(n).onAuthStateChanged(e,t,r)}function qy(n){return zt(n).signOut()}async function PV(n){return zt(n).delete()}const am="__sak";class RC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(am,"1"),this.storage.removeItem(am),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const MV=1e3,VV=10;class DC extends RC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,f)=>{this.notifyListeners(c,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);X4()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,VV):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},MV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}DC.type="LOCAL";const LV=DC;class NC extends RC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}NC.type="SESSION";const kC=NC;function UV(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Gm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new Gm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:o}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(c).map(async m=>m(t.origin,o)),f=await UV(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gm.receivers=[];function e0(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class BV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((d,f)=>{const m=e0("",20);a.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(y){const E=y;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(E.data.response);break;default:clearTimeout(v),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function gs(){return window}function zV(n){gs().location.href=n}function OC(){return typeof gs().WorkerGlobalScope<"u"&&typeof gs().importScripts=="function"}async function jV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $V(){return navigator?.serviceWorker?.controller||null}function FV(){return OC()?self:null}const PC="firebaseLocalStorageDb",qV=1,om="firebaseLocalStorage",MC="fbase_key";class Ch{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Km(n,e){return n.transaction([om],e?"readwrite":"readonly").objectStore(om)}function HV(){const n=indexedDB.deleteDatabase(PC);return new Ch(n).toPromise()}function Rb(){const n=indexedDB.open(PC,qV);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(om,{keyPath:MC})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(om)?e(r):(r.close(),await HV(),e(await Rb()))})})}async function US(n,e,t){const r=Km(n,!0).put({[MC]:e,value:t});return new Ch(r).toPromise()}async function GV(n,e){const t=Km(n,!1).get(e),r=await new Ch(t).toPromise();return r===void 0?null:r.value}function BS(n,e){const t=Km(n,!0).delete(e);return new Ch(t).toPromise()}const KV=800,YV=3;class VC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rb(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>YV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gm._getInstance(FV()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await jV(),!this.activeServiceWorker)return;this.sender=new BV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$V()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rb();return await US(e,am,"1"),await BS(e,am),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>US(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>GV(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>BS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Km(a,!1).getAll();return new Ch(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VC.type="LOCAL";const QV=VC;new Ah(3e4,6e4);function LC(n,e){return e?Xs(e):(Le(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class t0 extends X_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Fc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Fc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function WV(n){return IC(n.auth,new t0(n),n.bypassAuthState)}function XV(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),SV(t,new t0(n),n.bypassAuthState)}async function JV(n){const{auth:e,user:t}=n;return Le(t,e,"internal-error"),TV(t,new t0(n),n.bypassAuthState)}class UC{constructor(e,t,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:o,error:c,type:d}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WV;case"linkViaPopup":case"linkViaRedirect":return JV;case"reauthViaPopup":case"reauthViaRedirect":return XV;default:Ri(this.auth,"internal-error")}}resolve(e){sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ZV=new Ah(2e3,1e4);async function eL(n,e,t){if(ti(n.app))return Promise.reject(Hi(n,"operation-not-supported-in-this-environment"));const r=_o(n);N4(n,e,Z_);const a=LC(r,t);return new pl(r,"signInViaPopup",e,a).executeNotNull()}class pl extends UC{constructor(e,t,r,a,o){super(e,t,a,o),this.provider=r,this.authWindow=null,this.pollId=null,pl.currentPopupAction&&pl.currentPopupAction.cancel(),pl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){sa(this.filter.length===1,"Popup operations only handle one event");const e=e0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZV.get())};e()}}pl.currentPopupAction=null;const tL="pendingRedirect",Vp=new Map;class nL extends UC{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Vp.get(this.auth._key());if(!e){try{const r=await rL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Vp.set(this.auth._key(),e)}return this.bypassAuthState||Vp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rL(n,e){const t=aL(e),r=sL(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function iL(n,e){Vp.set(n._key(),e)}function sL(n){return Xs(n._redirectPersistence)}function aL(n){return Mp(tL,n.config.apiKey,n.name)}async function oL(n,e,t=!1){if(ti(n.app))return Promise.reject(ta(n));const r=_o(n),a=LC(r,e),c=await new nL(r,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const lL=600*1e3;class cL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uL(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!BC(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Hi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lL&&this.cachedEventUids.clear(),this.cachedEventUids.has(zS(e))}saveEventToCache(e){this.cachedEventUids.add(zS(e)),this.lastProcessedEventTime=Date.now()}}function zS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function BC({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function uL(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BC(n);default:return!1}}async function dL(n,e={}){return da(n,"GET","/v1/projects",e)}const hL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fL=/^https?/;async function pL(n){if(n.config.emulator)return;const{authorizedDomains:e}=await dL(n);for(const t of e)try{if(mL(t))return}catch{}Ri(n,"unauthorized-domain")}function mL(n){const e=Ab(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!fL.test(t))return!1;if(hL.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const gL=new Ah(3e4,6e4);function jS(){const n=gs().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function vL(n){return new Promise((e,t)=>{function r(){jS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jS(),t(Hi(n,"network-request-failed"))},timeout:gL.get()})}if(gs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(gs().gapi?.load)r();else{const a=aV("iframefcb");return gs()[a]=()=>{gapi.load?r():t(Hi(n,"network-request-failed"))},xC(`${sV()}?onload=${a}`).catch(o=>t(o))}}).catch(e=>{throw Lp=null,e})}let Lp=null;function yL(n){return Lp=Lp||vL(n),Lp}const bL=new Ah(5e3,15e3),_L="__/auth/iframe",wL="emulator/auth/iframe",EL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TL(n){const e=n.config;Le(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Y_(e,wL):`https://${n.config.authDomain}/${_L}`,r={apiKey:e.apiKey,appName:n.name,v:bu},a=xL.get(n.config.apiHost);a&&(r.eid=a);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Sh(r).slice(1)}`}async function SL(n){const e=await yL(n),t=gs().gapi;return Le(t,n,"internal-error"),e.open({where:document.body,url:TL(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EL,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const c=Hi(n,"network-request-failed"),d=gs().setTimeout(()=>{o(c)},bL.get());function f(){gs().clearTimeout(d),a(r)}r.ping(f).then(f,()=>{o(c)})}))}const AL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IL=500,CL=600,RL="_blank",DL="http://localhost";class $S{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NL(n,e,t,r=IL,a=CL){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...AL,width:r.toString(),height:a.toString(),top:o,left:c},m=Un().toLowerCase();t&&(d=gC(m)?RL:t),pC(m)&&(e=e||DL,f.scrollbars="yes");const v=Object.entries(f).reduce((E,[I,U])=>`${E}${I}=${U},`,"");if(W4(m)&&d!=="_self")return kL(e||"",d),new $S(null);const y=window.open(e||"",d,v);Le(y,n,"popup-blocked");try{y.focus()}catch{}return new $S(y)}function kL(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const OL="__/auth/handler",PL="emulator/auth/handler",ML=encodeURIComponent("fac");async function FS(n,e,t,r,a,o){Le(n.config.authDomain,n,"auth-domain-config-required"),Le(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:bu,eventId:a};if(e instanceof Z_){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",yM(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,y]of Object.entries({}))c[v]=y}if(e instanceof wu){const v=e.getScopes().filter(y=>y!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const f=await n._getAppCheckToken(),m=f?`#${ML}=${encodeURIComponent(f)}`:"";return`${VL(n)}?${Sh(d).slice(1)}${m}`}function VL({config:n}){return n.emulator?Y_(n,PL):`https://${n.authDomain}/${OL}`}const Hy="webStorageSupport";class LL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kC,this._completeRedirectFn=oL,this._overrideRedirectResult=iL}async _openPopup(e,t,r,a){sa(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await FS(e,t,r,Ab(),a);return NL(e,o,e0())}async _openRedirect(e,t,r,a){await this._originValidation(e);const o=await FS(e,t,r,Ab(),a);return zV(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(sa(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await SL(e),r=new cL(e);return t.register("authEvent",a=>(Le(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Hy,{type:Hy},a=>{const o=a?.[0]?.[Hy];o!==void 0&&t(!!o),Ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=pL(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return wC()||mC()||W_()}}const UL=LL;var qS="@firebase/auth",HS="1.12.0";class BL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function zL(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jL(n){_s(new Ki("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Le(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:EC(n)},m=new nV(r,a,o,f);return hV(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),_s(new Ki("auth-internal",e=>{const t=_o(e.getProvider("auth").getImmediate());return(r=>new BL(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ii(qS,HS,zL(n)),Ii(qS,HS,"esm2020")}const $L=300,FL=Q1("authIdTokenMaxAge")||$L;let GS=null;const qL=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>FL)return;const a=t?.token;GS!==a&&(GS=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function HL(n=iC()){const e=yu(n,"auth");if(e.isInitialized())return e.getImmediate();const t=dV(n,{popupRedirectResolver:UL,persistence:[QV,LV,kC]}),r=Q1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=qL(o.toString());kV(t,c,()=>c(t.currentUser)),NV(t,d=>c(d))}}const a=iM("auth");return a&&fV(t,`http://${a}`),t}function GL(){return document.getElementsByTagName("head")?.[0]??document}rV({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const o=Hi("internal-error");o.customData=a,t(o)},r.type="text/javascript",r.charset="UTF-8",GL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jL("Browser");var KS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lo,zC;(function(){var n;function e(D,A){function R(){}R.prototype=A.prototype,D.F=A.prototype,D.prototype=new R,D.prototype.constructor=D,D.D=function(M,P,B){for(var N=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)N[Ie-2]=arguments[Ie];return A.prototype[P].apply(M,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,A,R){R||(R=0);const M=Array(16);if(typeof A=="string")for(var P=0;P<16;++P)M[P]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(P=0;P<16;++P)M[P]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=D.g[0],R=D.g[1],P=D.g[2];let B=D.g[3],N;N=A+(B^R&(P^B))+M[0]+3614090360&4294967295,A=R+(N<<7&4294967295|N>>>25),N=B+(P^A&(R^P))+M[1]+3905402710&4294967295,B=A+(N<<12&4294967295|N>>>20),N=P+(R^B&(A^R))+M[2]+606105819&4294967295,P=B+(N<<17&4294967295|N>>>15),N=R+(A^P&(B^A))+M[3]+3250441966&4294967295,R=P+(N<<22&4294967295|N>>>10),N=A+(B^R&(P^B))+M[4]+4118548399&4294967295,A=R+(N<<7&4294967295|N>>>25),N=B+(P^A&(R^P))+M[5]+1200080426&4294967295,B=A+(N<<12&4294967295|N>>>20),N=P+(R^B&(A^R))+M[6]+2821735955&4294967295,P=B+(N<<17&4294967295|N>>>15),N=R+(A^P&(B^A))+M[7]+4249261313&4294967295,R=P+(N<<22&4294967295|N>>>10),N=A+(B^R&(P^B))+M[8]+1770035416&4294967295,A=R+(N<<7&4294967295|N>>>25),N=B+(P^A&(R^P))+M[9]+2336552879&4294967295,B=A+(N<<12&4294967295|N>>>20),N=P+(R^B&(A^R))+M[10]+4294925233&4294967295,P=B+(N<<17&4294967295|N>>>15),N=R+(A^P&(B^A))+M[11]+2304563134&4294967295,R=P+(N<<22&4294967295|N>>>10),N=A+(B^R&(P^B))+M[12]+1804603682&4294967295,A=R+(N<<7&4294967295|N>>>25),N=B+(P^A&(R^P))+M[13]+4254626195&4294967295,B=A+(N<<12&4294967295|N>>>20),N=P+(R^B&(A^R))+M[14]+2792965006&4294967295,P=B+(N<<17&4294967295|N>>>15),N=R+(A^P&(B^A))+M[15]+1236535329&4294967295,R=P+(N<<22&4294967295|N>>>10),N=A+(P^B&(R^P))+M[1]+4129170786&4294967295,A=R+(N<<5&4294967295|N>>>27),N=B+(R^P&(A^R))+M[6]+3225465664&4294967295,B=A+(N<<9&4294967295|N>>>23),N=P+(A^R&(B^A))+M[11]+643717713&4294967295,P=B+(N<<14&4294967295|N>>>18),N=R+(B^A&(P^B))+M[0]+3921069994&4294967295,R=P+(N<<20&4294967295|N>>>12),N=A+(P^B&(R^P))+M[5]+3593408605&4294967295,A=R+(N<<5&4294967295|N>>>27),N=B+(R^P&(A^R))+M[10]+38016083&4294967295,B=A+(N<<9&4294967295|N>>>23),N=P+(A^R&(B^A))+M[15]+3634488961&4294967295,P=B+(N<<14&4294967295|N>>>18),N=R+(B^A&(P^B))+M[4]+3889429448&4294967295,R=P+(N<<20&4294967295|N>>>12),N=A+(P^B&(R^P))+M[9]+568446438&4294967295,A=R+(N<<5&4294967295|N>>>27),N=B+(R^P&(A^R))+M[14]+3275163606&4294967295,B=A+(N<<9&4294967295|N>>>23),N=P+(A^R&(B^A))+M[3]+4107603335&4294967295,P=B+(N<<14&4294967295|N>>>18),N=R+(B^A&(P^B))+M[8]+1163531501&4294967295,R=P+(N<<20&4294967295|N>>>12),N=A+(P^B&(R^P))+M[13]+2850285829&4294967295,A=R+(N<<5&4294967295|N>>>27),N=B+(R^P&(A^R))+M[2]+4243563512&4294967295,B=A+(N<<9&4294967295|N>>>23),N=P+(A^R&(B^A))+M[7]+1735328473&4294967295,P=B+(N<<14&4294967295|N>>>18),N=R+(B^A&(P^B))+M[12]+2368359562&4294967295,R=P+(N<<20&4294967295|N>>>12),N=A+(R^P^B)+M[5]+4294588738&4294967295,A=R+(N<<4&4294967295|N>>>28),N=B+(A^R^P)+M[8]+2272392833&4294967295,B=A+(N<<11&4294967295|N>>>21),N=P+(B^A^R)+M[11]+1839030562&4294967295,P=B+(N<<16&4294967295|N>>>16),N=R+(P^B^A)+M[14]+4259657740&4294967295,R=P+(N<<23&4294967295|N>>>9),N=A+(R^P^B)+M[1]+2763975236&4294967295,A=R+(N<<4&4294967295|N>>>28),N=B+(A^R^P)+M[4]+1272893353&4294967295,B=A+(N<<11&4294967295|N>>>21),N=P+(B^A^R)+M[7]+4139469664&4294967295,P=B+(N<<16&4294967295|N>>>16),N=R+(P^B^A)+M[10]+3200236656&4294967295,R=P+(N<<23&4294967295|N>>>9),N=A+(R^P^B)+M[13]+681279174&4294967295,A=R+(N<<4&4294967295|N>>>28),N=B+(A^R^P)+M[0]+3936430074&4294967295,B=A+(N<<11&4294967295|N>>>21),N=P+(B^A^R)+M[3]+3572445317&4294967295,P=B+(N<<16&4294967295|N>>>16),N=R+(P^B^A)+M[6]+76029189&4294967295,R=P+(N<<23&4294967295|N>>>9),N=A+(R^P^B)+M[9]+3654602809&4294967295,A=R+(N<<4&4294967295|N>>>28),N=B+(A^R^P)+M[12]+3873151461&4294967295,B=A+(N<<11&4294967295|N>>>21),N=P+(B^A^R)+M[15]+530742520&4294967295,P=B+(N<<16&4294967295|N>>>16),N=R+(P^B^A)+M[2]+3299628645&4294967295,R=P+(N<<23&4294967295|N>>>9),N=A+(P^(R|~B))+M[0]+4096336452&4294967295,A=R+(N<<6&4294967295|N>>>26),N=B+(R^(A|~P))+M[7]+1126891415&4294967295,B=A+(N<<10&4294967295|N>>>22),N=P+(A^(B|~R))+M[14]+2878612391&4294967295,P=B+(N<<15&4294967295|N>>>17),N=R+(B^(P|~A))+M[5]+4237533241&4294967295,R=P+(N<<21&4294967295|N>>>11),N=A+(P^(R|~B))+M[12]+1700485571&4294967295,A=R+(N<<6&4294967295|N>>>26),N=B+(R^(A|~P))+M[3]+2399980690&4294967295,B=A+(N<<10&4294967295|N>>>22),N=P+(A^(B|~R))+M[10]+4293915773&4294967295,P=B+(N<<15&4294967295|N>>>17),N=R+(B^(P|~A))+M[1]+2240044497&4294967295,R=P+(N<<21&4294967295|N>>>11),N=A+(P^(R|~B))+M[8]+1873313359&4294967295,A=R+(N<<6&4294967295|N>>>26),N=B+(R^(A|~P))+M[15]+4264355552&4294967295,B=A+(N<<10&4294967295|N>>>22),N=P+(A^(B|~R))+M[6]+2734768916&4294967295,P=B+(N<<15&4294967295|N>>>17),N=R+(B^(P|~A))+M[13]+1309151649&4294967295,R=P+(N<<21&4294967295|N>>>11),N=A+(P^(R|~B))+M[4]+4149444226&4294967295,A=R+(N<<6&4294967295|N>>>26),N=B+(R^(A|~P))+M[11]+3174756917&4294967295,B=A+(N<<10&4294967295|N>>>22),N=P+(A^(B|~R))+M[2]+718787259&4294967295,P=B+(N<<15&4294967295|N>>>17),N=R+(B^(P|~A))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(P+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+B&4294967295}r.prototype.v=function(D,A){A===void 0&&(A=D.length);const R=A-this.blockSize,M=this.C;let P=this.h,B=0;for(;B<A;){if(P==0)for(;B<=R;)a(this,D,B),B+=this.blockSize;if(typeof D=="string"){for(;B<A;)if(M[P++]=D.charCodeAt(B++),P==this.blockSize){a(this,M),P=0;break}}else for(;B<A;)if(M[P++]=D[B++],P==this.blockSize){a(this,M),P=0;break}}this.h=P,this.o+=A},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;A=this.o*8;for(var R=D.length-8;R<D.length;++R)D[R]=A&255,A/=256;for(this.v(D),D=Array(16),A=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)D[A++]=this.g[R]>>>M&255;return D};function o(D,A){var R=d;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=A(D)}function c(D,A){this.h=A;const R=[];let M=!0;for(let P=D.length-1;P>=0;P--){const B=D[P]|0;M&&B==A||(R[P]=B,M=!1)}this.g=R}var d={};function f(D){return-128<=D&&D<128?o(D,function(A){return new c([A|0],A<0?-1:0)}):new c([D|0],D<0?-1:0)}function m(D){if(isNaN(D)||!isFinite(D))return y;if(D<0)return V(m(-D));const A=[];let R=1;for(let M=0;D>=R;M++)A[M]=D/R|0,R*=4294967296;return new c(A,0)}function v(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return V(v(D.substring(1),A));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=m(Math.pow(A,8));let M=y;for(let B=0;B<D.length;B+=8){var P=Math.min(8,D.length-B);const N=parseInt(D.substring(B,B+P),A);P<8?(P=m(Math.pow(A,P)),M=M.j(P).add(m(N))):(M=M.j(R),M=M.add(m(N)))}return M}var y=f(0),E=f(1),I=f(16777216);n=c.prototype,n.m=function(){if(k(this))return-V(this).m();let D=0,A=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);D+=(M>=0?M:4294967296+M)*A,A*=4294967296}return D},n.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(U(this))return"0";if(k(this))return"-"+V(this).toString(D);const A=m(Math.pow(D,6));var R=this;let M="";for(;;){const P=ce(R,A).g;R=K(R,P.j(A));let B=((R.g.length>0?R.g[0]:R.h)>>>0).toString(D);if(R=P,U(R))return B+M;for(;B.length<6;)B="0"+B;M=B+M}},n.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function U(D){if(D.h!=0)return!1;for(let A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function k(D){return D.h==-1}n.l=function(D){return D=K(this,D),k(D)?-1:U(D)?0:1};function V(D){const A=D.g.length,R=[];for(let M=0;M<A;M++)R[M]=~D.g[M];return new c(R,~D.h).add(E)}n.abs=function(){return k(this)?V(this):this},n.add=function(D){const A=Math.max(this.g.length,D.g.length),R=[];let M=0;for(let P=0;P<=A;P++){let B=M+(this.i(P)&65535)+(D.i(P)&65535),N=(B>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);M=N>>>16,B&=65535,N&=65535,R[P]=N<<16|B}return new c(R,R[R.length-1]&-2147483648?-1:0)};function K(D,A){return D.add(V(A))}n.j=function(D){if(U(this)||U(D))return y;if(k(this))return k(D)?V(this).j(V(D)):V(V(this).j(D));if(k(D))return V(this.j(V(D)));if(this.l(I)<0&&D.l(I)<0)return m(this.m()*D.m());const A=this.g.length+D.g.length,R=[];for(var M=0;M<2*A;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let P=0;P<D.g.length;P++){const B=this.i(M)>>>16,N=this.i(M)&65535,Ie=D.i(P)>>>16,Ye=D.i(P)&65535;R[2*M+2*P]+=N*Ye,F(R,2*M+2*P),R[2*M+2*P+1]+=B*Ye,F(R,2*M+2*P+1),R[2*M+2*P+1]+=N*Ie,F(R,2*M+2*P+1),R[2*M+2*P+2]+=B*Ie,F(R,2*M+2*P+2)}for(D=0;D<A;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=A;D<2*A;D++)R[D]=0;return new c(R,0)};function F(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function G(D,A){this.g=D,this.h=A}function ce(D,A){if(U(A))throw Error("division by zero");if(U(D))return new G(y,y);if(k(D))return A=ce(V(D),A),new G(V(A.g),V(A.h));if(k(A))return A=ce(D,V(A)),new G(V(A.g),A.h);if(D.g.length>30){if(k(D)||k(A))throw Error("slowDivide_ only works with positive integers.");for(var R=E,M=A;M.l(D)<=0;)R=ae(R),M=ae(M);var P=de(R,1),B=de(M,1);for(M=de(M,2),R=de(R,2);!U(M);){var N=B.add(M);N.l(D)<=0&&(P=P.add(R),B=N),M=de(M,1),R=de(R,1)}return A=K(D,P.j(A)),new G(P,A)}for(P=y;D.l(A)>=0;){for(R=Math.max(1,Math.floor(D.m()/A.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),B=m(R),N=B.j(A);k(N)||N.l(D)>0;)R-=M,B=m(R),N=B.j(A);U(B)&&(B=E),P=P.add(B),D=K(D,N)}return new G(P,D)}n.B=function(D){return ce(this,D).h},n.and=function(D){const A=Math.max(this.g.length,D.g.length),R=[];for(let M=0;M<A;M++)R[M]=this.i(M)&D.i(M);return new c(R,this.h&D.h)},n.or=function(D){const A=Math.max(this.g.length,D.g.length),R=[];for(let M=0;M<A;M++)R[M]=this.i(M)|D.i(M);return new c(R,this.h|D.h)},n.xor=function(D){const A=Math.max(this.g.length,D.g.length),R=[];for(let M=0;M<A;M++)R[M]=this.i(M)^D.i(M);return new c(R,this.h^D.h)};function ae(D){const A=D.g.length+1,R=[];for(let M=0;M<A;M++)R[M]=D.i(M)<<1|D.i(M-1)>>>31;return new c(R,D.h)}function de(D,A){const R=A>>5;A%=32;const M=D.g.length-R,P=[];for(let B=0;B<M;B++)P[B]=A>0?D.i(B+R)>>>A|D.i(B+R+1)<<32-A:D.i(B+R);return new c(P,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,zC=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=v,lo=c}).apply(typeof KS<"u"?KS:typeof self<"u"?self:typeof window<"u"?window:{});var hp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var jC,Od,$C,Up,Db,FC,qC,HC;(function(){var n,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof hp=="object"&&hp];for(var b=0;b<h.length;++b){var w=h[b];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function a(h,b){if(b)e:{var w=r;h=h.split(".");for(var C=0;C<h.length-1;C++){var Y=h[C];if(!(Y in w))break e;w=w[Y]}h=h[h.length-1],C=w[h],b=b(C),b!=C&&b!=null&&e(w,h,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(b){var w=[],C;for(C in b)Object.prototype.hasOwnProperty.call(b,C)&&w.push([C,b[C]]);return w}});var o=o||{},c=this||self;function d(h){var b=typeof h;return b=="object"&&h!=null||b=="function"}function f(h,b,w){return h.call.apply(h.bind,arguments)}function m(h,b,w){return m=f,m.apply(null,arguments)}function v(h,b){var w=Array.prototype.slice.call(arguments,1);return function(){var C=w.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function y(h,b){function w(){}w.prototype=b.prototype,h.Z=b.prototype,h.prototype=new w,h.prototype.constructor=h,h.Ob=function(C,Y,J){for(var ve=Array(arguments.length-2),je=2;je<arguments.length;je++)ve[je-2]=arguments[je];return b.prototype[Y].apply(C,ve)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function I(h){const b=h.length;if(b>0){const w=Array(b);for(let C=0;C<b;C++)w[C]=h[C];return w}return[]}function U(h,b){for(let C=1;C<arguments.length;C++){const Y=arguments[C];var w=typeof Y;if(w=w!="object"?w:Y?Array.isArray(Y)?"array":w:"null",w=="array"||w=="object"&&typeof Y.length=="number"){w=h.length||0;const J=Y.length||0;h.length=w+J;for(let ve=0;ve<J;ve++)h[w+ve]=Y[ve]}else h.push(Y)}}class k{constructor(b,w){this.i=b,this.j=w,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function V(h){c.setTimeout(()=>{throw h},0)}function K(){var h=D;let b=null;return h.g&&(b=h.g,h.g=h.g.next,h.g||(h.h=null),b.next=null),b}class F{constructor(){this.h=this.g=null}add(b,w){const C=G.get();C.set(b,w),this.h?this.h.next=C:this.g=C,this.h=C}}var G=new k(()=>new ce,h=>h.reset());class ce{constructor(){this.next=this.g=this.h=null}set(b,w){this.h=b,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,de=!1,D=new F,A=()=>{const h=Promise.resolve(void 0);ae=()=>{h.then(R)}};function R(){for(var h;h=K();){try{h.h.call(h.g)}catch(w){V(w)}var b=G;b.j(h),b.h<100&&(b.h++,h.next=b.g,b.g=h)}de=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(h,b){this.type=h,this.g=this.target=b,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,b=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};c.addEventListener("test",w,b),c.removeEventListener("test",w,b)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function Ie(h,b){P.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,b)}y(Ie,P),Ie.prototype.init=function(h,b){const w=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=b,b=h.relatedTarget,b||(w=="mouseover"?b=h.fromElement:w=="mouseout"&&(b=h.toElement)),this.relatedTarget=b,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ie.Z.h.call(this)},Ie.prototype.h=function(){Ie.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ye="closure_listenable_"+(Math.random()*1e6|0),Z=0;function ue(h,b,w,C,Y){this.listener=h,this.proxy=null,this.src=b,this.type=w,this.capture=!!C,this.ha=Y,this.key=++Z,this.da=this.fa=!1}function be(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Pe(h,b,w){for(const C in h)b.call(w,h[C],C,h)}function He(h,b){for(const w in h)b.call(void 0,h[w],w,h)}function z(h){const b={};for(const w in h)b[w]=h[w];return b}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(h,b){let w,C;for(let Y=1;Y<arguments.length;Y++){C=arguments[Y];for(w in C)h[w]=C[w];for(let J=0;J<ne.length;J++)w=ne[J],Object.prototype.hasOwnProperty.call(C,w)&&(h[w]=C[w])}}function _e(h){this.src=h,this.g={},this.h=0}_e.prototype.add=function(h,b,w,C,Y){const J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);const ve=Re(h,b,C,Y);return ve>-1?(b=h[ve],w||(b.fa=!1)):(b=new ue(b,this.src,J,!!C,Y),b.fa=w,h.push(b)),b};function ke(h,b){const w=b.type;if(w in h.g){var C=h.g[w],Y=Array.prototype.indexOf.call(C,b,void 0),J;(J=Y>=0)&&Array.prototype.splice.call(C,Y,1),J&&(be(b),h.g[w].length==0&&(delete h.g[w],h.h--))}}function Re(h,b,w,C){for(let Y=0;Y<h.length;++Y){const J=h[Y];if(!J.da&&J.listener==b&&J.capture==!!w&&J.ha==C)return Y}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),yt={};function et(h,b,w,C,Y){if(Array.isArray(b)){for(let J=0;J<b.length;J++)et(h,b[J],w,C,Y);return null}return w=Lt(w),h&&h[Ye]?h.J(b,w,d(C)?!!C.capture:!1,Y):Fe(h,b,w,!1,C,Y)}function Fe(h,b,w,C,Y,J){if(!b)throw Error("Invalid event type");const ve=d(Y)?!!Y.capture:!!Y;let je=Cn(h);if(je||(h[ze]=je=new _e(h)),w=je.add(b,w,C,ve,J),w.proxy)return w;if(C=pr(),w.proxy=C,C.src=h,C.listener=w,h.addEventListener)B||(Y=ve),Y===void 0&&(Y=!1),h.addEventListener(b.toString(),C,Y);else if(h.attachEvent)h.attachEvent(ct(b.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return w}function pr(){function h(w){return b.call(h.src,h.listener,w)}const b=Pt;return h}function un(h,b,w,C,Y){if(Array.isArray(b))for(var J=0;J<b.length;J++)un(h,b[J],w,C,Y);else C=d(C)?!!C.capture:!!C,w=Lt(w),h&&h[Ye]?(h=h.i,J=String(b).toString(),J in h.g&&(b=h.g[J],w=Re(b,w,C,Y),w>-1&&(be(b[w]),Array.prototype.splice.call(b,w,1),b.length==0&&(delete h.g[J],h.h--)))):h&&(h=Cn(h))&&(b=h.g[b.toString()],h=-1,b&&(h=Re(b,w,C,Y)),(w=h>-1?b[h]:null)&&mr(w))}function mr(h){if(typeof h!="number"&&h&&!h.da){var b=h.src;if(b&&b[Ye])ke(b.i,h);else{var w=h.type,C=h.proxy;b.removeEventListener?b.removeEventListener(w,C,h.capture):b.detachEvent?b.detachEvent(ct(w),C):b.addListener&&b.removeListener&&b.removeListener(C),(w=Cn(b))?(ke(w,h),w.h==0&&(w.src=null,b[ze]=null)):be(h)}}}function ct(h){return h in yt?yt[h]:yt[h]="on"+h}function Pt(h,b){if(h.da)h=!0;else{b=new Ie(b,this);const w=h.listener,C=h.ha||h.src;h.fa&&mr(h),h=w.call(C,b)}return h}function Cn(h){return h=h[ze],h instanceof _e?h:null}var gr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Lt(h){return typeof h=="function"?h:(h[gr]||(h[gr]=function(b){return h.handleEvent(b)}),h[gr])}function Qe(){M.call(this),this.i=new _e(this),this.M=this,this.G=null}y(Qe,M),Qe.prototype[Ye]=!0,Qe.prototype.removeEventListener=function(h,b,w,C){un(this,h,b,w,C)};function at(h,b){var w,C=h.G;if(C)for(w=[];C;C=C.G)w.push(C);if(h=h.M,C=b.type||b,typeof b=="string")b=new P(b,h);else if(b instanceof P)b.target=b.target||h;else{var Y=b;b=new P(C,h),ge(b,Y)}Y=!0;let J,ve;if(w)for(ve=w.length-1;ve>=0;ve--)J=b.g=w[ve],Y=tr(J,C,!0,b)&&Y;if(J=b.g=h,Y=tr(J,C,!0,b)&&Y,Y=tr(J,C,!1,b)&&Y,w)for(ve=0;ve<w.length;ve++)J=b.g=w[ve],Y=tr(J,C,!1,b)&&Y}Qe.prototype.N=function(){if(Qe.Z.N.call(this),this.i){var h=this.i;for(const b in h.g){const w=h.g[b];for(let C=0;C<w.length;C++)be(w[C]);delete h.g[b],h.h--}}this.G=null},Qe.prototype.J=function(h,b,w,C){return this.i.add(String(h),b,!1,w,C)},Qe.prototype.K=function(h,b,w,C){return this.i.add(String(h),b,!0,w,C)};function tr(h,b,w,C){if(b=h.i.g[String(b)],!b)return!0;b=b.concat();let Y=!0;for(let J=0;J<b.length;++J){const ve=b[J];if(ve&&!ve.da&&ve.capture==w){const je=ve.listener,hn=ve.ha||ve.src;ve.fa&&ke(h.i,ve),Y=je.call(hn,C)!==!1&&Y}}return Y&&!C.defaultPrevented}function Fr(h,b){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=m(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:c.setTimeout(h,b||0)}function xs(h){h.g=Fr(()=>{h.g=null,h.i&&(h.i=!1,xs(h))},h.l);const b=h.h;h.h=null,h.m.apply(null,b)}class Yt extends M{constructor(b,w){super(),this.m=b,this.l=w,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:xs(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ni(h){M.call(this),this.h=h,this.g={}}y(Ni,M);var Xi=[];function Rr(h){Pe(h.g,function(b,w){this.g.hasOwnProperty(w)&&mr(b)},h),h.g={}}Ni.prototype.N=function(){Ni.Z.N.call(this),Rr(this)},Ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yn=c.JSON.stringify,ki=c.JSON.parse,vr=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function yr(){}function Ji(){}var br={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $t(){P.call(this,"d")}y($t,P);function Rn(){P.call(this,"c")}y(Rn,P);var Nt={},Ts=null;function Dr(){return Ts=Ts||new Qe}Nt.Ia="serverreachability";function Oi(h){P.call(this,Nt.Ia,h)}y(Oi,P);function Nr(h){const b=Dr();at(b,new Oi(b))}Nt.STAT_EVENT="statevent";function qr(h,b){P.call(this,Nt.STAT_EVENT,h),this.stat=b}y(qr,P);function Ge(h){const b=Dr();at(b,new qr(b,h))}Nt.Ja="timingevent";function Mt(h,b){P.call(this,Nt.Ja,h),this.size=b}y(Mt,P);function bt(h,b){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},b)}function Qt(){this.g=!0}Qt.prototype.ua=function(){this.g=!1};function Dn(h,b,w,C,Y,J){h.info(function(){if(h.g)if(J){var ve="",je=J.split("&");for(let mt=0;mt<je.length;mt++){var hn=je[mt].split("=");if(hn.length>1){const Ht=hn[0];hn=hn[1];const pi=Ht.split("_");ve=pi.length>=2&&pi[1]=="type"?ve+(Ht+"="+hn+"&"):ve+(Ht+"=redacted&")}}}else ve=null;else ve=J;return"XMLHTTP REQ ("+C+") [attempt "+Y+"]: "+b+`
`+w+`
`+ve})}function dn(h,b,w,C,Y,J,ve){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+Y+"]: "+b+`
`+w+`
`+J+" "+ve})}function Ft(h,b,w,C){h.info(function(){return"XMLHTTP TEXT ("+b+"): "+qt(h,w)+(C?" "+C:"")})}function Nn(h,b){h.info(function(){return"TIMEOUT: "+b})}Qt.prototype.info=function(){};function qt(h,b){if(!h.g)return b;if(!b)return null;try{const J=JSON.parse(b);if(J){for(h=0;h<J.length;h++)if(Array.isArray(J[h])){var w=J[h];if(!(w.length<2)){var C=w[1];if(Array.isArray(C)&&!(C.length<1)){var Y=C[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let ve=1;ve<C.length;ve++)C[ve]=""}}}}return yn(J)}catch{return b}}var kn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},On={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},zn;function _r(){}y(_r,yr),_r.prototype.g=function(){return new XMLHttpRequest},zn=new _r;function jn(h){return encodeURIComponent(String(h))}function nr(h){var b=1;h=h.split(":");const w=[];for(;b>0&&h.length;)w.push(h.shift()),b--;return h.length&&w.push(h.join(":")),w}function bn(h,b,w,C){this.j=h,this.i=b,this.l=w,this.S=C||1,this.V=new Ni(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var kt={},_n={};function oi(h,b,w){h.M=1,h.A=As(tn(b)),h.u=w,h.R=!0,va(h,null)}function va(h,b){h.F=Date.now(),li(h),h.B=tn(h.A);var w=h.B,C=h.S;Array.isArray(C)||(C=[String(C)]),Oe(w.i,"t",C),h.C=0,w=h.j.L,h.h=new Pn,h.g=nf(h.j,w?b:null,!h.u),h.P>0&&(h.O=new Yt(m(h.Y,h,h.g),h.P)),b=h.V,w=h.g,C=h.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(Xi[0]=Y.toString()),Y=Xi);for(let J=0;J<Y.length;J++){const ve=et(w,Y[J],C||b.handleEvent,!1,b.h||b);if(!ve)break;b.g[ve.key]=ve}b=h.J?z(h.J):{},h.u?(h.v||(h.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,b)):(h.v="GET",h.g.ea(h.B,h.v,null,b)),Nr(),Dn(h.i,h.v,h.B,h.l,h.S,h.u)}bn.prototype.ba=function(h){h=h.target;const b=this.O;b&&Vi(h)==3?b.j():this.Y(h)},bn.prototype.Y=function(h){try{if(h==this.g)e:{const je=Vi(this.g),hn=this.g.ya(),mt=this.g.ca();if(!(je<3)&&(je!=3||this.g&&(this.h.h||this.g.la()||Kn(this.g)))){this.K||je!=4||hn==7||(hn==8||mt<=0?Nr(3):Nr(2)),wr(this);var b=this.g.ca();this.X=b;var w=Du(this);if(this.o=b==200,dn(this.i,this.v,this.B,this.l,this.S,je,b),this.o){if(this.U&&!this.L){t:{if(this.g){var C,Y=this.g;if((C=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(C)){var J=C;break t}}J=null}if(h=J)Ft(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Hr(this,h);else{this.o=!1,this.m=3,Ge(12),rr(this),kr(this);break e}}if(this.R){h=!0;let Ht;for(;!this.K&&this.C<w.length;)if(Ht=ql(this,w),Ht==_n){je==4&&(this.m=4,Ge(14),h=!1),Ft(this.i,this.l,null,"[Incomplete Response]");break}else if(Ht==kt){this.m=4,Ge(15),Ft(this.i,this.l,w,"[Invalid Chunk]"),h=!1;break}else Ft(this.i,this.l,Ht,null),Hr(this,Ht);if(Fl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||w.length!=0||this.h.h||(this.m=1,Ge(16),h=!1),this.o=this.o&&h,!h)Ft(this.i,this.l,w,"[Invalid Chunked Response]"),rr(this),kr(this);else if(w.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Mu(ve),ve.P=!0,Ge(11))}}else Ft(this.i,this.l,w,null),Hr(this,w);je==4&&rr(this),this.o&&!this.K&&(je==4?Jh(this.j,this):(this.o=!1,li(this)))}else Rs(this.g),b==400&&w.indexOf("Unknown SID")>0?(this.m=3,Ge(12)):(this.m=0,Ge(13)),rr(this),kr(this)}}}catch{}};function Du(h){if(!Fl(h))return h.g.la();const b=Kn(h.g);if(b==="")return"";let w="";const C=b.length,Y=Vi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return rr(h),kr(h),"";h.h.i=new c.TextDecoder}for(let J=0;J<C;J++)h.h.h=!0,w+=h.h.i.decode(b[J],{stream:!(Y&&J==C-1)});return b.length=0,h.h.g+=w,h.C=0,h.h.g}function Fl(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function ql(h,b){var w=h.C,C=b.indexOf(`
`,w);return C==-1?_n:(w=Number(b.substring(w,C)),isNaN(w)?kt:(C+=1,C+w>b.length?_n:(b=b.slice(C,C+w),h.C=C+w,b)))}bn.prototype.cancel=function(){this.K=!0,rr(this)};function li(h){h.T=Date.now()+h.H,Ss(h,h.H)}function Ss(h,b){if(h.D!=null)throw Error("WatchDog timer not null");h.D=bt(m(h.aa,h),b)}function wr(h){h.D&&(c.clearTimeout(h.D),h.D=null)}bn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Nn(this.i,this.B),this.M!=2&&(Nr(),Ge(17)),rr(this),this.m=2,kr(this)):Ss(this,this.T-h)};function kr(h){h.j.I==0||h.K||Jh(h.j,h)}function rr(h){wr(h);var b=h.O;b&&typeof b.dispose=="function"&&b.dispose(),h.O=null,Rr(h.V),h.g&&(b=h.g,h.g=null,b.abort(),b.dispose())}function Hr(h,b){try{var w=h.j;if(w.I!=0&&(w.g==h||ui(w.h,h))){if(!h.L&&ui(w.h,h)&&w.I==3){try{var C=w.Ba.g.parse(b)}catch{C=null}if(Array.isArray(C)&&C.length==3){var Y=C;if(Y[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<h.F)Ql(w),Sa(w);else break e;Uo(w),Ge(18)}}else w.xa=Y[1],0<w.xa-w.K&&Y[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=bt(m(w.Va,w),6e3));ci(w.h)<=1&&w.ta&&(w.ta=void 0)}else ss(w,11)}else if((h.L||w.g==h)&&Ql(w),!N(b))for(Y=w.Ba.g.parse(b),b=0;b<Y.length;b++){let mt=Y[b];const Ht=mt[0];if(!(Ht<=w.K))if(w.K=Ht,mt=mt[1],w.I==2)if(mt[0]=="c"){w.M=mt[1],w.ba=mt[2];const pi=mt[3];pi!=null&&(w.ka=pi,w.j.info("VER="+w.ka));const as=mt[4];as!=null&&(w.za=as,w.j.info("SVER="+w.za));const Li=mt[5];Li!=null&&typeof Li=="number"&&Li>0&&(C=1.5*Li,w.O=C,w.j.info("backChannelRequestTimeoutMs_="+C)),C=w;const Ui=h.g;if(Ui){const Bo=Ui.g?Ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bo){var J=C.h;J.g||Bo.indexOf("spdy")==-1&&Bo.indexOf("quic")==-1&&Bo.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Ro(J,J.h),J.h=null))}if(C.G){const Wl=Ui.g?Ui.g.getResponseHeader("X-HTTP-Session-Id"):null;Wl&&(C.wa=Wl,pt(C.J,C.G,Wl))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-h.F,w.j.info("Handshake RTT: "+w.T+"ms")),C=w;var ve=h;if(C.na=tf(C,C.L?C.ba:null,C.W),ve.L){di(C.h,ve);var je=ve,hn=C.O;hn&&(je.H=hn),je.D&&(wr(je),li(je)),C.g=ve}else Wh(C);w.i.length>0&&is(w)}else mt[0]!="stop"&&mt[0]!="close"||ss(w,7);else w.I==3&&(mt[0]=="stop"||mt[0]=="close"?mt[0]=="stop"?ss(w,7):Ou(w):mt[0]!="noop"&&w.l&&w.l.qa(mt),w.A=0)}}Nr(4)}catch{}}var Wt=class{constructor(h,b){this.g=h,this.map=b}};function ya(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ba(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ci(h){return h.h?1:h.g?h.g.size:0}function ui(h,b){return h.h?h.h==b:h.g?h.g.has(b):!1}function Ro(h,b){h.g?h.g.add(b):h.h=b}function di(h,b){h.h&&h.h==b?h.h=null:h.g&&h.g.has(b)&&h.g.delete(b)}ya.prototype.cancel=function(){if(this.i=Do(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Do(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let b=h.i;for(const w of h.g.values())b=b.concat(w.G);return b}return I(h.i)}var Hl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _a(h,b){if(h){h=h.split("&");for(let w=0;w<h.length;w++){const C=h[w].indexOf("=");let Y,J=null;C>=0?(Y=h[w].substring(0,C),J=h[w].substring(C+1)):Y=h[w],b(Y,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Er(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;h instanceof Er?(this.l=h.l,wn(this,h.j),this.o=h.o,this.g=h.g,Zi(this,h.u),this.h=h.h,No(this,We(h.i)),this.m=h.m):h&&(b=String(h).match(Hl))?(this.l=!1,wn(this,b[1]||"",!0),this.o=Or(b[2]||""),this.g=Or(b[3]||"",!0),Zi(this,b[4]),this.h=Or(b[5]||"",!0),No(this,b[6]||"",!0),this.m=Or(b[7]||"")):(this.l=!1,this.i=new es(null,this.l))}Er.prototype.toString=function(){const h=[];var b=this.j;b&&h.push(Pi(b,wa,!0),":");var w=this.g;return(w||b=="file")&&(h.push("//"),(b=this.o)&&h.push(Pi(b,wa,!0),"@"),h.push(jn(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&h.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(Pi(w,w.charAt(0)=="/"?Ea:Is,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",Pi(w,ko)),h.join("")},Er.prototype.resolve=function(h){const b=tn(this);let w=!!h.j;w?wn(b,h.j):w=!!h.o,w?b.o=h.o:w=!!h.g,w?b.g=h.g:w=h.u!=null;var C=h.h;if(w)Zi(b,h.u);else if(w=!!h.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var Y=b.h.lastIndexOf("/");Y!=-1&&(C=b.h.slice(0,Y+1)+C)}if(Y=C,Y==".."||Y==".")C="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){C=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const J=[];for(let ve=0;ve<Y.length;){const je=Y[ve++];je=="."?C&&ve==Y.length&&J.push(""):je==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),C&&ve==Y.length&&J.push("")):(J.push(je),C=!0)}C=J.join("/")}else C=Y}return w?b.h=C:w=h.i.toString()!=="",w?No(b,We(h.i)):w=!!h.m,w&&(b.m=h.m),b};function tn(h){return new Er(h)}function wn(h,b,w){h.j=w?Or(b,!0):b,h.j&&(h.j=h.j.replace(/:$/,""))}function Zi(h,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);h.u=b}else h.u=null}function No(h,b,w){b instanceof es?(h.i=b,Xt(h.i,h.l)):(w||(b=Pi(b,hi)),h.i=new es(b,h.l))}function pt(h,b,w){h.i.set(b,w)}function As(h){return pt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Or(h,b){return h?b?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Pi(h,b,w){return typeof h=="string"?(h=encodeURI(h).replace(b,Gn),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Gn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var wa=/[#\/\?@]/g,Is=/[#\?:]/g,Ea=/[#\?]/g,hi=/[#\?@]/g,ko=/#/g;function es(h,b){this.h=this.g=null,this.i=h||null,this.j=!!b}function O(h){h.g||(h.g=new Map,h.h=0,h.i&&_a(h.i,function(b,w){h.add(decodeURIComponent(b.replace(/\+/g," ")),w)}))}n=es.prototype,n.add=function(h,b){O(this),this.i=null,h=nn(this,h);let w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(b),this.h+=1,this};function se(h,b){O(h),b=nn(h,b),h.g.has(b)&&(h.i=null,h.h-=h.g.get(b).length,h.g.delete(b))}function me(h,b){return O(h),b=nn(h,b),h.g.has(b)}n.forEach=function(h,b){O(this),this.g.forEach(function(w,C){w.forEach(function(Y){h.call(b,Y,C,this)},this)},this)};function we(h,b){O(h);let w=[];if(typeof b=="string")me(h,b)&&(w=w.concat(h.g.get(nn(h,b))));else for(h=Array.from(h.g.values()),b=0;b<h.length;b++)w=w.concat(h[b]);return w}n.set=function(h,b){return O(this),this.i=null,h=nn(this,h),me(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[b]),this.h+=1,this},n.get=function(h,b){return h?(h=we(this,h),h.length>0?String(h[0]):b):b};function Oe(h,b,w){se(h,b),w.length>0&&(h.i=null,h.g.set(nn(h,b),I(w)),h.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],b=Array.from(this.g.keys());for(let C=0;C<b.length;C++){var w=b[C];const Y=jn(w);w=we(this,w);for(let J=0;J<w.length;J++){let ve=Y;w[J]!==""&&(ve+="="+jn(w[J])),h.push(ve)}}return this.i=h.join("&")};function We(h){const b=new es;return b.i=h.i,h.g&&(b.g=new Map(h.g),b.h=h.h),b}function nn(h,b){return b=String(b),h.j&&(b=b.toLowerCase()),b}function Xt(h,b){b&&!h.j&&(O(h),h.i=null,h.g.forEach(function(w,C){const Y=C.toLowerCase();C!=Y&&(se(this,C),Oe(this,Y,w))},h)),h.j=b}function Me(h,b){const w=new Qt;if(c.Image){const C=new Image;C.onload=v(Mr,w,"TestLoadImage: loaded",!0,b,C),C.onerror=v(Mr,w,"TestLoadImage: error",!1,b,C),C.onabort=v(Mr,w,"TestLoadImage: abort",!1,b,C),C.ontimeout=v(Mr,w,"TestLoadImage: timeout",!1,b,C),c.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else b(!1)}function Pr(h,b){const w=new Qt,C=new AbortController,Y=setTimeout(()=>{C.abort(),Mr(w,"TestPingServer: timeout",!1,b)},1e4);fetch(h,{signal:C.signal}).then(J=>{clearTimeout(Y),J.ok?Mr(w,"TestPingServer: ok",!0,b):Mr(w,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Y),Mr(w,"TestPingServer: error",!1,b)})}function Mr(h,b,w,C,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),C(w)}catch{}}function Gr(){this.g=new vr}function ts(h){this.i=h.Sb||null,this.h=h.ab||!1}y(ts,yr),ts.prototype.g=function(){return new Oo(this.i,this.h)};function Oo(h,b){Qe.call(this),this.H=h,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(Oo,Qe),n=Oo.prototype,n.open=function(h,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=b,this.readyState=1,Mi(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(b.body=h),(this.H||c).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xa(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Mi(this)),this.g&&(this.readyState=3,Mi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Gl(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Gl(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var b=h.value?h.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!h.done}))&&(this.response=this.responseText+=b)}h.done?xa(this):Mi(this),this.readyState==3&&Gl(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,xa(this))},n.Na=function(h){this.g&&(this.response=h,xa(this))},n.ga=function(){this.g&&xa(this)};function xa(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Mi(h)}n.setRequestHeader=function(h,b){this.A.append(h,b)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],b=this.h.entries();for(var w=b.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=b.next();return h.join(`\r
`)};function Mi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Oo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function fi(h){let b="";return Pe(h,function(w,C){b+=C,b+=":",b+=w,b+=`\r
`}),b}function Po(h,b,w){e:{for(C in w){var C=!1;break e}C=!0}C||(w=fi(w),typeof h=="string"?w!=null&&jn(w):pt(h,b,w))}function St(h){Qe.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(St,Qe);var ns=/^https?$/i,Nu=["POST","PUT"];n=St.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,b,w,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);b=b?b.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():zn.g(),this.g.onreadystatechange=E(m(this.Ca,this));try{this.B=!0,this.g.open(b,String(h),!0),this.B=!1}catch(J){Mo(this,J);return}if(h=w||"",w=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var Y in C)w.set(Y,C[Y]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const J of C.keys())w.set(J,C.get(J));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(w.keys()).find(J=>J.toLowerCase()=="content-type"),Y=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Nu,b,void 0)>=0)||C||Y||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ve]of w)this.g.setRequestHeader(J,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(J){Mo(this,J)}};function Mo(h,b){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=b,h.o=5,ku(h),Cs(h)}function ku(h){h.A||(h.A=!0,at(h,"complete"),at(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,at(this,"complete"),at(this,"abort"),Cs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cs(this,!0)),St.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Vo(this):this.Xa())},n.Xa=function(){Vo(this)};function Vo(h){if(h.h&&typeof o<"u"){if(h.v&&Vi(h)==4)setTimeout(h.Ca.bind(h),0);else if(at(h,"readystatechange"),Vi(h)==4){h.h=!1;try{const J=h.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var w;if(!(w=b)){var C;if(C=J===0){let ve=String(h.D).match(Hl)[1]||null;!ve&&c.self&&c.self.location&&(ve=c.self.location.protocol.slice(0,-1)),C=!ns.test(ve?ve.toLowerCase():"")}w=C}if(w)at(h,"complete"),at(h,"success");else{h.o=6;try{var Y=Vi(h)>2?h.g.statusText:""}catch{Y=""}h.l=Y+" ["+h.ca()+"]",ku(h)}}finally{Cs(h)}}}}function Cs(h,b){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const w=h.g;h.g=null,b||at(h,"ready");try{w.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Vi(h){return h.g?h.g.readyState:0}n.ca=function(){try{return Vi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var b=this.g.responseText;return h&&b.indexOf(h)==0&&(b=b.substring(h.length)),ki(b)}};function Kn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Rs(h){const b={};h=(h.g&&Vi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(N(h[C]))continue;var w=nr(h[C]);const Y=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const J=b[Y]||[];b[Y]=J,J.push(w)}He(b,function(C){return C.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function rs(h,b,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||b}function Ta(h){this.za=0,this.i=[],this.j=new Qt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=rs("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=rs("baseRetryDelayMs",5e3,h),this.Za=rs("retryDelaySeedMs",1e4,h),this.Ta=rs("forwardChannelMaxRetries",2,h),this.va=rs("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new ya(h&&h.concurrentRequestLimit),this.Ba=new Gr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ta.prototype,n.ka=8,n.I=1,n.connect=function(h,b,w,C){Ge(0),this.W=h,this.H=b||{},w&&C!==void 0&&(this.H.OSID=w,this.H.OAID=C),this.F=this.X,this.J=tf(this,null,this.W),is(this)};function Ou(h){if(Kl(h),h.I==3){var b=h.V++,w=tn(h.J);if(pt(w,"SID",h.M),pt(w,"RID",b),pt(w,"TYPE","terminate"),Lo(h,w),b=new bn(h,h.j,b),b.M=2,b.A=As(tn(w)),w=!1,c.navigator&&c.navigator.sendBeacon)try{w=c.navigator.sendBeacon(b.A.toString(),"")}catch{}!w&&c.Image&&(new Image().src=b.A,w=!0),w||(b.g=nf(b.j,null),b.g.ea(b.A)),b.F=Date.now(),li(b)}ef(h)}function Sa(h){h.g&&(Mu(h),h.g.cancel(),h.g=null)}function Kl(h){Sa(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ql(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function is(h){if(!ba(h.h)&&!h.m){h.m=!0;var b=h.Ea;ae||A(),de||(ae(),de=!0),D.add(b,h),h.D=0}}function Yl(h,b){return ci(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=b.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=bt(m(h.Ea,h,b),Zh(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const Y=new bn(this,this.j,h);let J=this.o;if(this.U&&(J?(J=z(J),ge(J,this.U)):J=this.U),this.u!==null||this.R||(Y.J=J,J=null),this.S)e:{for(var b=0,w=0;w<this.i.length;w++){t:{var C=this.i[w];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(b+=C,b>4096){b=w;break e}if(b===4096||w===this.i.length-1){b=w+1;break e}}b=1e3}else b=1e3;b=Qh(this,Y,b),w=tn(this.J),pt(w,"RID",h),pt(w,"CVER",22),this.G&&pt(w,"X-HTTP-Session-Id",this.G),Lo(this,w),J&&(this.R?b="headers="+jn(fi(J))+"&"+b:this.u&&Po(w,this.u,J)),Ro(this.h,Y),this.Ra&&pt(w,"TYPE","init"),this.S?(pt(w,"$req",b),pt(w,"SID","null"),Y.U=!0,oi(Y,w,null)):oi(Y,w,b),this.I=2}}else this.I==3&&(h?Pu(this,h):this.i.length==0||ba(this.h)||Pu(this))};function Pu(h,b){var w;b?w=b.l:w=h.V++;const C=tn(h.J);pt(C,"SID",h.M),pt(C,"RID",w),pt(C,"AID",h.K),Lo(h,C),h.u&&h.o&&Po(C,h.u,h.o),w=new bn(h,h.j,w,h.D+1),h.u===null&&(w.J=h.o),b&&(h.i=b.G.concat(h.i)),b=Qh(h,w,1e3),w.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Ro(h.h,w),oi(w,C,b)}function Lo(h,b){h.H&&Pe(h.H,function(w,C){pt(b,C,w)}),h.l&&Pe({},function(w,C){pt(b,C,w)})}function Qh(h,b,w){w=Math.min(h.i.length,w);const C=h.l?m(h.l.Ka,h.l,h):null;e:{var Y=h.i;let je=-1;for(;;){const hn=["count="+w];je==-1?w>0?(je=Y[0].g,hn.push("ofs="+je)):je=0:hn.push("ofs="+je);let mt=!0;for(let Ht=0;Ht<w;Ht++){var J=Y[Ht].g;const pi=Y[Ht].map;if(J-=je,J<0)je=Math.max(0,Y[Ht].g-100),mt=!1;else try{J="req"+J+"_"||"";try{var ve=pi instanceof Map?pi:Object.entries(pi);for(const[as,Li]of ve){let Ui=Li;d(Li)&&(Ui=yn(Li)),hn.push(J+as+"="+encodeURIComponent(Ui))}}catch(as){throw hn.push(J+"type="+encodeURIComponent("_badmap")),as}}catch{C&&C(pi)}}if(mt){ve=hn.join("&");break e}}ve=void 0}return h=h.i.splice(0,w),b.G=h,ve}function Wh(h){if(!h.g&&!h.v){h.Y=1;var b=h.Da;ae||A(),de||(ae(),de=!0),D.add(b,h),h.A=0}}function Uo(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=bt(m(h.Da,h),Zh(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,Xh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=bt(m(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ge(10),Sa(this),Xh(this))};function Mu(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Xh(h){h.g=new bn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var b=tn(h.na);pt(b,"RID","rpc"),pt(b,"SID",h.M),pt(b,"AID",h.K),pt(b,"CI",h.F?"0":"1"),!h.F&&h.ia&&pt(b,"TO",h.ia),pt(b,"TYPE","xmlhttp"),Lo(h,b),h.u&&h.o&&Po(b,h.u,h.o),h.O&&(h.g.H=h.O);var w=h.g;h=h.ba,w.M=1,w.A=As(tn(b)),w.u=null,w.R=!0,va(w,h)}n.Va=function(){this.C!=null&&(this.C=null,Sa(this),Uo(this),Ge(19))};function Ql(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Jh(h,b){var w=null;if(h.g==b){Ql(h),Mu(h),h.g=null;var C=2}else if(ui(h.h,b))w=b.G,di(h.h,b),C=1;else return;if(h.I!=0){if(b.o)if(C==1){w=b.u?b.u.length:0,b=Date.now()-b.F;var Y=h.D;C=Dr(),at(C,new Mt(C,w)),is(h)}else Wh(h);else if(Y=b.m,Y==3||Y==0&&b.X>0||!(C==1&&Yl(h,b)||C==2&&Uo(h)))switch(w&&w.length>0&&(b=h.h,b.i=b.i.concat(w)),Y){case 1:ss(h,5);break;case 4:ss(h,10);break;case 3:ss(h,6);break;default:ss(h,2)}}}function Zh(h,b){let w=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(w*=2),w*b}function ss(h,b){if(h.j.info("Error code "+b),b==2){var w=m(h.bb,h),C=h.Ua;const Y=!C;C=new Er(C||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||wn(C,"https"),As(C),Y?Me(C.toString(),w):Pr(C.toString(),w)}else Ge(2);h.I=0,h.l&&h.l.pa(b),ef(h),Kl(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ge(2)):(this.j.info("Failed to ping google.com"),Ge(1))};function ef(h){if(h.I=0,h.ja=[],h.l){const b=Do(h.h);(b.length!=0||h.i.length!=0)&&(U(h.ja,b),U(h.ja,h.i),h.h.i.length=0,I(h.i),h.i.length=0),h.l.oa()}}function tf(h,b,w){var C=w instanceof Er?tn(w):new Er(w);if(C.g!="")b&&(C.g=b+"."+C.g),Zi(C,C.u);else{var Y=c.location;C=Y.protocol,b=b?b+"."+Y.hostname:Y.hostname,Y=+Y.port;const J=new Er(null);C&&wn(J,C),b&&(J.g=b),Y&&Zi(J,Y),w&&(J.h=w),C=J}return w=h.G,b=h.wa,w&&b&&pt(C,w,b),pt(C,"VER",h.ka),Lo(h,C),C}function nf(h,b,w){if(b&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=h.Aa&&!h.ma?new St(new ts({ab:w})):new St(h.ma),b.Fa(h.L),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function rf(){}n=rf.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Aa(){}Aa.prototype.g=function(h,b){return new xr(h,b)};function xr(h,b){Qe.call(this),this.g=new Ta(b),this.l=h,this.h=b&&b.messageUrlParams||null,h=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(h?h["X-WebChannel-Content-Type"]=b.messageContentType:h={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(h?h["X-WebChannel-Client-Profile"]=b.sa:h={"X-WebChannel-Client-Profile":b.sa}),this.g.U=h,(h=b&&b.Qb)&&!N(h)&&(this.g.u=h),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!N(b)&&(this.g.G=b,h=this.h,h!==null&&b in h&&(h=this.h,b in h&&delete h[b])),this.j=new Ds(this)}y(xr,Qe),xr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xr.prototype.close=function(){Ou(this.g)},xr.prototype.o=function(h){var b=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.v&&(w={},w.__data__=yn(h),h=w);b.i.push(new Wt(b.Ya++,h)),b.I==3&&is(b)},xr.prototype.N=function(){this.g.l=null,delete this.j,Ou(this.g),delete this.g,xr.Z.N.call(this)};function sf(h){$t.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var b=h.__sm__;if(b){e:{for(const w in b){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,b=b!==null&&h in b?b[h]:void 0),this.data=b}else this.data=h}y(sf,$t);function af(){Rn.call(this),this.status=1}y(af,Rn);function Ds(h){this.g=h}y(Ds,rf),Ds.prototype.ra=function(){at(this.g,"a")},Ds.prototype.qa=function(h){at(this.g,new sf(h))},Ds.prototype.pa=function(h){at(this.g,new af)},Ds.prototype.oa=function(){at(this.g,"b")},Aa.prototype.createWebChannel=Aa.prototype.g,xr.prototype.send=xr.prototype.o,xr.prototype.open=xr.prototype.m,xr.prototype.close=xr.prototype.close,HC=function(){return new Aa},qC=function(){return Dr()},FC=Nt,Db={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},kn.NO_ERROR=0,kn.TIMEOUT=8,kn.HTTP_ERROR=6,Up=kn,On.COMPLETE="complete",$C=On,Ji.EventType=br,br.OPEN="a",br.CLOSE="b",br.ERROR="c",br.MESSAGE="d",Qe.prototype.listen=Qe.prototype.J,Od=Ji,St.prototype.listenOnce=St.prototype.K,St.prototype.getLastError=St.prototype.Ha,St.prototype.getLastErrorCode=St.prototype.ya,St.prototype.getStatus=St.prototype.ca,St.prototype.getResponseJson=St.prototype.La,St.prototype.getResponseText=St.prototype.la,St.prototype.send=St.prototype.ea,St.prototype.setWithCredentials=St.prototype.Fa,jC=St}).apply(typeof hp<"u"?hp:typeof self<"u"?self:typeof window<"u"?window:{});class ar{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ar.UNAUTHENTICATED=new ar(null),ar.GOOGLE_CREDENTIALS=new ar("google-credentials-uid"),ar.FIRST_PARTY=new ar("first-party-uid"),ar.MOCK_USER=new ar("mock-user");let Eu="12.9.0";function KL(n){Eu=n}const Tl=new q_("@firebase/firestore");function Mc(){return Tl.logLevel}function he(n,...e){if(Tl.logLevel<=rt.DEBUG){const t=e.map(n0);Tl.debug(`Firestore (${Eu}): ${n}`,...t)}}function mn(n,...e){if(Tl.logLevel<=rt.ERROR){const t=e.map(n0);Tl.error(`Firestore (${Eu}): ${n}`,...t)}}function Wc(n,...e){if(Tl.logLevel<=rt.WARN){const t=e.map(n0);Tl.warn(`Firestore (${Eu}): ${n}`,...t)}}function n0(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function xe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,GC(n,r,t)}function GC(n,e,t){let r=`FIRESTORE (${Eu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw mn(r),new Error(r)}function Ce(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||GC(e,a,r)}function Se(n,e){return n}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Es{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class YL{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ar.UNAUTHENTICATED)))}shutdown(){}}class WL{constructor(e){this.t=e,this.currentUser=ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ce(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new vs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new vs,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},d=f=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new vs)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string",31837,{l:r}),new YL(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string",2055,{h:e}),new ar(e)}}class XL{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ar.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class JL{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new XL(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(ar.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class YS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZL{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ce(this.o===void 0,3512);const r=o=>{o.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,he("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new YS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ce(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new YS(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function e6(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class r0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=e6(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<t&&(r+=e.charAt(a[o]%62))}return r}}function Ue(n,e){return n<e?-1:n>e?1:0}function Nb(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const a=n.charAt(r),o=e.charAt(r);if(a!==o)return Gy(a)===Gy(o)?Ue(a,o):Gy(a)?1:-1}return Ue(n.length,e.length)}const t6=55296,n6=57343;function Gy(n){const e=n.charCodeAt(0);return e>=t6&&e<=n6}function Xc(n,e,t){return n.length===e.length&&n.every(((r,a)=>t(r,e[a])))}function KC(n){return n+"\0"}const kb="__name__";class ds{constructor(e,t,r){t===void 0?t=0:t>e.length&&xe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&xe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ds.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ds?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const o=ds.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return Ue(e.length,t.length)}static compareSegments(e,t){const r=ds.isNumericId(e),a=ds.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?ds.extractNumericId(e).compare(ds.extractNumericId(t)):Nb(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return lo.fromString(e.substring(4,e.length-2))}}class ht extends ds{construct(e,t,r){return new ht(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new ht(t)}static emptyPath(){return new ht([])}}const r6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends ds{construct(e,t,r){return new Zt(e,t,r)}static isValidIdentifier(e){return r6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kb}static keyField(){return new Zt([kb])}static fromServerFormat(e){const t=[];let r="",a=0;const o=()=>{if(r.length===0)throw new pe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new pe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new pe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(o(),a++)}if(o(),c)throw new pe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(t)}static emptyPath(){return new Zt([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(ht.fromString(e))}static fromName(e){return new ye(ht.fromString(e).popFirst(5))}static empty(){return new ye(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new ht(e.slice()))}}function YC(n,e,t){if(!t)throw new pe(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function i6(n,e,t,r){if(e===!0&&r===!0)throw new pe(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function QS(n){if(!ye.isDocumentKey(n))throw new pe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function WS(n){if(ye.isDocumentKey(n))throw new pe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function QC(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Ym(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":xe(12329,{type:typeof n})}function ri(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ym(n);throw new pe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function s6(n,e){if(e<=0)throw new pe(te.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}function In(n,e){const t={typeString:n};return e&&(t.value=e),t}function Rh(n,e){if(!QC(n))throw new pe(te.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const c=n[r];if(a&&typeof c!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new pe(te.INVALID_ARGUMENT,t);return!0}const XS=-62135596800,JS=1e6;class Et{static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*JS);return new Et(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<XS)throw new pe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/JS}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Rh(e,Et._jsonSchema))return new Et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-XS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Et._jsonSchemaVersion="firestore/timestamp/1.0",Et._jsonSchema={type:In("string",Et._jsonSchemaVersion),seconds:In("number"),nanoseconds:In("number")};class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Et(0,0))}static max(){return new Ne(new Et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Jc=-1;class lm{constructor(e,t,r,a){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=a}}function Ob(n){return n.fields.find((e=>e.kind===2))}function ol(n){return n.fields.filter((e=>e.kind!==2))}lm.UNKNOWN_ID=-1;class Bp{constructor(e,t){this.fieldPath=e,this.kind=t}}class rh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new rh(0,si.min())}}function WC(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Ne.fromTimestamp(r===1e9?new Et(t+1,0):new Et(t,r));return new si(a,ye.empty(),e)}function XC(n){return new si(n.readTime,n.key,Jc)}class si{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new si(Ne.min(),ye.empty(),Jc)}static max(){return new si(Ne.max(),ye.empty(),Jc)}}function i0(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:Ue(n.largestBatchId,e.largestBatchId))}const JC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function wo(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==JC)throw n;he("LocalStore","Unexpectedly lost primary lease")}class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new H(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof H?t:H.resolve(t)}catch(t){return H.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):H.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):H.reject(t)}static resolve(e){return new H(((t,r)=>{t(e)}))}static reject(e){return new H(((t,r)=>{r(e)}))}static waitFor(e){return new H(((t,r)=>{let a=0,o=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++o,c&&o===a&&t()}),(f=>r(f)))})),c=!0,o===a&&t()}))}static or(e){let t=H.resolve(!1);for(const r of e)t=t.next((a=>a?H.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,o)=>{r.push(t.call(this,a,o))})),this.waitFor(r)}static mapArray(e,t){return new H(((r,a)=>{const o=e.length,c=new Array(o);let d=0;for(let f=0;f<o;f++){const m=f;t(e[m]).next((v=>{c[m]=v,++d,d===o&&r(c)}),(v=>a(v)))}}))}static doWhile(e,t){return new H(((r,a)=>{const o=()=>{e()===!0?t().next((()=>{o()}),a):r()};o()}))}}const ei="SimpleDb";class Qm{static open(e,t,r,a){try{return new Qm(t,e.transaction(a,r))}catch(o){throw new $d(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new vs,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new $d(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const a=s0(r.target.error);this.S.reject(new $d(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(he(ei,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new o6(t)}}class co{static delete(e){return he(ei,"Removing database:",e),ul(K1().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!F_())return!1;if(co.F())return!0;const e=Un(),t=co.M(e),r=0<t&&t<10,a=eR(e),o=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,co.M(Un())===12.2&&mn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(he(ei,"Opening database:",this.name),this.db=await new Promise(((t,r)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=o=>{const c=o.target.result;t(c)},a.onblocked=()=>{r(new $d(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=o=>{const c=o.target.error;c.name==="VersionError"?r(new pe(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?r(new pe(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):r(new $d(e,c))},a.onupgradeneeded=o=>{he(ei,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const c=o.target.result;this.N.k(c,a.transaction,o.oldVersion,this.version).next((()=>{he(ei,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=t=>this.K(t)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,a){const o=t==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(e);const d=Qm.open(this.db,e,o?"readonly":"readwrite",r),f=a(d).next((m=>(d.C(),m))).catch((m=>(d.abort(m),H.reject(m)))).toPromise();return f.catch((()=>{})),await d.D,f}catch(d){const f=d,m=f.name!=="FirebaseError"&&c<3;if(he(ei,"Transaction failed with error:",f.message,"Retrying:",m),this.close(),!m)return Promise.reject(f)}}}close(){this.db&&this.db.close(),this.db=void 0}}function eR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class a6{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return ul(this.U.delete())}}class $d extends pe{constructor(e,t){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Eo(n){return n.name==="IndexedDbTransactionError"}class o6{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(he(ei,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(he(ei,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ul(r)}add(e){return he(ei,"ADD",this.store.name,e,e),ul(this.store.add(e))}get(e){return ul(this.store.get(e)).next((t=>(t===void 0&&(t=null),he(ei,"GET",this.store.name,e,t),t)))}delete(e){return he(ei,"DELETE",this.store.name,e),ul(this.store.delete(e))}count(){return he(ei,"COUNT",this.store.name),ul(this.store.count())}H(e,t){const r=this.options(e,t),a=r.index?this.store.index(r.index):this.store;if(typeof a.getAll=="function"){const o=a.getAll(r.range);return new H(((c,d)=>{o.onerror=f=>{d(f.target.error)},o.onsuccess=f=>{c(f.target.result)}}))}{const o=this.cursor(r),c=[];return this.J(o,((d,f)=>{c.push(f)})).next((()=>c))}}Z(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new H(((a,o)=>{r.onerror=c=>{o(c.target.error)},r.onsuccess=c=>{a(c.target.result)}}))}X(e,t){he(ei,"DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const a=this.cursor(r);return this.J(a,((o,c,d)=>d.delete()))}ee(e,t){let r;t?r=e:(r={},t=e);const a=this.cursor(r);return this.J(a,t)}te(e){const t=this.cursor({});return new H(((r,a)=>{t.onerror=o=>{const c=s0(o.target.error);a(c)},t.onsuccess=o=>{const c=o.target.result;c?e(c.primaryKey,c.value).next((d=>{d?c.continue():r()})):r()}}))}J(e,t){const r=[];return new H(((a,o)=>{e.onerror=c=>{o(c.target.error)},e.onsuccess=c=>{const d=c.target.result;if(!d)return void a();const f=new a6(d),m=t(d.primaryKey,d.value,f);if(m instanceof H){const v=m.catch((y=>(f.done(),H.reject(y))));r.push(v)}f.isDone?a():f.G===null?d.continue():d.continue(f.G)}})).next((()=>H.waitFor(r)))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ul(n){return new H(((e,t)=>{n.onsuccess=r=>{const a=r.target.result;e(a)},n.onerror=r=>{const a=s0(r.target.error);t(a)}}))}let ZS=!1;function s0(n){const e=co.M(Un());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new pe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ZS||(ZS=!0,setTimeout((()=>{throw r}),0)),r}}return n}const Fd="IndexBackfiller";class l6{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){he(Fd,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();he(Fd,`Documents written: ${t}`)}catch(t){Eo(t)?he(Fd,"Ignoring IndexedDB error during index backfill: ",t):await wo(t)}await this.re(6e4)}))}}class c6{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const r=new Set;let a=t,o=!0;return H.doWhile((()=>o===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((c=>{if(c!==null&&!r.has(c))return he(Fd,`Processing collection: ${c}`),this.oe(e,c,a).next((d=>{a-=d,r.add(c)}));o=!1})))).next((()=>t-a))}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((a=>this.localStore.localDocuments.getNextDocuments(e,t,a,r).next((o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next((()=>this._e(a,o))).next((d=>(he(Fd,`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,t,d)))).next((()=>c.size))}))))}_e(e,t){let r=e;return t.changes.forEach(((a,o)=>{const c=XC(o);i0(c,r)>0&&(r=c)})),new si(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class jr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jr.ce=-1;const yl=-1;function Wm(n){return n==null}function ih(n){return n===0&&1/n==-1/0}function tR(n){return typeof n=="number"&&Number.isInteger(n)&&!ih(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const cm="";function ur(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=eA(e)),e=u6(n.get(t),e);return eA(e)}function u6(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case cm:t+="";break;default:t+=o}}return t}function eA(n){return n+cm+""}function fs(n){const e=n.length;if(Ce(e>=2,64408,{path:n}),e===2)return Ce(n.charAt(0)===cm&&n.charAt(1)==="",56145,{path:n}),ht.emptyPath();const t=e-2,r=[];let a="";for(let o=0;o<e;){const c=n.indexOf(cm,o);switch((c<0||c>t)&&xe(50515,{path:n}),n.charAt(c+1)){case"":const d=n.substring(o,c);let f;a.length===0?f=d:(a+=d,f=a,a=""),r.push(f);break;case"":a+=n.substring(o,c),a+="\0";break;case"":a+=n.substring(o,c+1);break;default:xe(61167,{path:n})}o=c+2}return new ht(r)}const ll="remoteDocuments",Dh="owner",Ac="owner",sh="mutationQueues",d6="userId",Fi="mutations",tA="batchId",ml="userMutationsIndex",nA=["userId","batchId"];function zp(n,e){return[n,ur(e)]}function nR(n,e,t){return[n,ur(e),t]}const h6={},Zc="documentMutations",um="remoteDocumentsV14",f6=["prefixPath","collectionGroup","readTime","documentId"],jp="documentKeyIndex",p6=["prefixPath","collectionGroup","documentId"],rR="collectionGroupIndex",m6=["collectionGroup","readTime","prefixPath","documentId"],ah="remoteDocumentGlobal",Pb="remoteDocumentGlobalKey",eu="targets",iR="queryTargetsIndex",g6=["canonicalId","targetId"],tu="targetDocuments",v6=["targetId","path"],a0="documentTargetsIndex",y6=["path","targetId"],dm="targetGlobalKey",bl="targetGlobal",oh="collectionParents",b6=["collectionId","parent"],nu="clientMetadata",_6="clientId",Xm="bundles",w6="bundleId",Jm="namedQueries",E6="name",o0="indexConfiguration",x6="indexId",Mb="collectionGroupIndex",T6="collectionGroup",qd="indexState",S6=["indexId","uid"],sR="sequenceNumberIndex",A6=["uid","sequenceNumber"],Hd="indexEntries",I6=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],aR="documentKeyIndex",C6=["indexId","uid","orderedDocumentKey"],Zm="documentOverlays",R6=["userId","collectionPath","documentId"],Vb="collectionPathOverlayIndex",D6=["userId","collectionPath","largestBatchId"],oR="collectionGroupOverlayIndex",N6=["userId","collectionGroup","largestBatchId"],l0="globals",k6="name",lR=[sh,Fi,Zc,ll,eu,Dh,bl,tu,nu,ah,oh,Xm,Jm],O6=[...lR,Zm],cR=[sh,Fi,Zc,um,eu,Dh,bl,tu,nu,ah,oh,Xm,Jm,Zm],uR=cR,c0=[...uR,o0,qd,Hd],P6=c0,dR=[...c0,l0],M6=dR;class Lb extends ZC{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function Bn(n,e){const t=Se(n);return co.O(t.le,e)}function rA(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function xo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function hR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Vt{constructor(e,t){this.comparator=e,this.root=t||Jn.EMPTY}insert(e,t){return new Vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fp(this.root,e,this.comparator,!1)}getReverseIterator(){return new fp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fp(this.root,e,this.comparator,!0)}}class fp{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jn{constructor(e,t,r,a,o){this.key=e,this.value=t,this.color=r??Jn.RED,this.left=a??Jn.EMPTY,this.right=o??Jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,o){return new Jn(e??this.key,t??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,r),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Jn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Jn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}Jn.EMPTY=null,Jn.RED=!0,Jn.BLACK=!1;Jn.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,t,r,a,o){return this}insert(e,t,r){return new Jn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Tt{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new iA(this.data.getIterator())}getIteratorFrom(e){return new iA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Tt(this.comparator);return t.data=e,t}}class iA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ic(n){return n.hasNext()?n.getNext():void 0}class $r{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new $r([])}unionWith(e){let t=new Tt(Zt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new $r(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xc(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class fR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new fR("Invalid base64 string: "+o):o}})(e);return new gn(t)}static fromUint8Array(e){const t=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(e);return new gn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const V6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oa(n){if(Ce(!!n,39018),typeof n=="string"){let e=0;const t=V6.exec(n);if(Ce(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Kt(n.seconds),nanos:Kt(n.nanos)}}function Kt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function la(n){return typeof n=="string"?gn.fromBase64String(n):gn.fromUint8Array(n)}const pR="server_timestamp",mR="__type__",gR="__previous_value__",vR="__local_write_time__";function eg(n){return(n?.mapValue?.fields||{})[mR]?.stringValue===pR}function tg(n){const e=n.mapValue.fields[gR];return eg(e)?tg(e):e}function lh(n){const e=oa(n.mapValue.fields[vR].timestampValue);return new Et(e.seconds,e.nanos)}class L6{constructor(e,t,r,a,o,c,d,f,m,v,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=v,this.apiKey=y}}const hm="(default)";class Sl{constructor(e,t){this.projectId=e,this.database=t||hm}static empty(){return new Sl("","")}get isDefaultDatabase(){return this.database===hm}isEqual(e){return e instanceof Sl&&e.projectId===this.projectId&&e.database===this.database}}function U6(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new pe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sl(n.options.projectId,e)}const u0="__type__",yR="__max__",ao={mapValue:{fields:{__type__:{stringValue:yR}}}},d0="__vector__",ru="value",$p={nullValue:"NULL_VALUE"};function ho(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?eg(n)?4:bR(n)?9007199254740991:ng(n)?10:11:xe(28295,{value:n})}function ws(n,e){if(n===e)return!0;const t=ho(n);if(t!==ho(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return lh(n).isEqual(lh(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=oa(a.timestampValue),d=oa(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,o){return la(a.bytesValue).isEqual(la(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,o){return Kt(a.geoPointValue.latitude)===Kt(o.geoPointValue.latitude)&&Kt(a.geoPointValue.longitude)===Kt(o.geoPointValue.longitude)})(n,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return Kt(a.integerValue)===Kt(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=Kt(a.doubleValue),d=Kt(o.doubleValue);return c===d?ih(c)===ih(d):isNaN(c)&&isNaN(d)}return!1})(n,e);case 9:return Xc(n.arrayValue.values||[],e.arrayValue.values||[],ws);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},d=o.mapValue.fields||{};if(rA(c)!==rA(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!ws(c[f],d[f])))return!1;return!0})(n,e);default:return xe(52216,{left:n})}}function ch(n,e){return(n.values||[]).find((t=>ws(t,e)))!==void 0}function fo(n,e){if(n===e)return 0;const t=ho(n),r=ho(e);if(t!==r)return Ue(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(n.booleanValue,e.booleanValue);case 2:return(function(o,c){const d=Kt(o.integerValue||o.doubleValue),f=Kt(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(n,e);case 3:return sA(n.timestampValue,e.timestampValue);case 4:return sA(lh(n),lh(e));case 5:return Nb(n.stringValue,e.stringValue);case 6:return(function(o,c){const d=la(o),f=la(c);return d.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(o,c){const d=o.split("/"),f=c.split("/");for(let m=0;m<d.length&&m<f.length;m++){const v=Ue(d[m],f[m]);if(v!==0)return v}return Ue(d.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,c){const d=Ue(Kt(o.latitude),Kt(c.latitude));return d!==0?d:Ue(Kt(o.longitude),Kt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return aA(n.arrayValue,e.arrayValue);case 10:return(function(o,c){const d=o.fields||{},f=c.fields||{},m=d[ru]?.arrayValue,v=f[ru]?.arrayValue,y=Ue(m?.values?.length||0,v?.values?.length||0);return y!==0?y:aA(m,v)})(n.mapValue,e.mapValue);case 11:return(function(o,c){if(o===ao.mapValue&&c===ao.mapValue)return 0;if(o===ao.mapValue)return 1;if(c===ao.mapValue)return-1;const d=o.fields||{},f=Object.keys(d),m=c.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let y=0;y<f.length&&y<v.length;++y){const E=Nb(f[y],v[y]);if(E!==0)return E;const I=fo(d[f[y]],m[v[y]]);if(I!==0)return I}return Ue(f.length,v.length)})(n.mapValue,e.mapValue);default:throw xe(23264,{he:t})}}function sA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ue(n,e);const t=oa(n),r=oa(e),a=Ue(t.seconds,r.seconds);return a!==0?a:Ue(t.nanos,r.nanos)}function aA(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const o=fo(t[a],r[a]);if(o)return o}return Ue(t.length,r.length)}function iu(n){return Ub(n)}function Ub(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=oa(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return la(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ye.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",a=!0;for(const o of t.values||[])a?a=!1:r+=",",r+=Ub(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const c of r)o?o=!1:a+=",",a+=`${c}:${Ub(t.fields[c])}`;return a+"}"})(n.mapValue):xe(61005,{value:n})}function Fp(n){switch(ho(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tg(n);return e?16+Fp(e):16;case 5:return 2*n.stringValue.length;case 6:return la(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+Fp(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return xo(r.fields,((o,c)=>{a+=o.length+Fp(c)})),a})(n.mapValue);default:throw xe(13486,{value:n})}}function Al(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Bb(n){return!!n&&"integerValue"in n}function uh(n){return!!n&&"arrayValue"in n}function oA(n){return!!n&&"nullValue"in n}function lA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qp(n){return!!n&&"mapValue"in n}function ng(n){return(n?.mapValue?.fields||{})[u0]?.stringValue===d0}function Gd(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return xo(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Gd(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Gd(n.arrayValue.values[t]);return e}return{...n}}function bR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===yR}const _R={mapValue:{fields:{[u0]:{stringValue:d0},[ru]:{arrayValue:{}}}}};function B6(n){return"nullValue"in n?$p:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Al(Sl.empty(),ye.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?ng(n)?_R:{mapValue:{}}:xe(35942,{value:n})}function z6(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Al(Sl.empty(),ye.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?_R:"mapValue"in n?ng(n)?{mapValue:{}}:ao:xe(61959,{value:n})}function cA(n,e){const t=fo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function uA(n,e){const t=fo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class lr{constructor(e){this.value=e}static empty(){return new lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!qp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gd(t)}setAll(e){let t=Zt.emptyPath(),r={},a=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,a),r={},a=[],t=d.popLast()}c?r[d.lastSegment()]=Gd(c):a.push(d.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,a)}delete(e){const t=this.field(e.popLast());qp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ws(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];qp(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){xo(t,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new lr(Gd(this.value))}}function wR(n){const e=[];return xo(n.fields,((t,r)=>{const a=new Zt([t]);if(qp(r)){const o=wR(r.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)})),new $r(e)}class an{constructor(e,t,r,a,o,c,d){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new an(e,0,Ne.min(),Ne.min(),Ne.min(),lr.empty(),0)}static newFoundDocument(e,t,r,a){return new an(e,1,t,Ne.min(),r,a,0)}static newNoDocument(e,t){return new an(e,2,t,Ne.min(),Ne.min(),lr.empty(),0)}static newUnknownDocument(e,t){return new an(e,3,t,Ne.min(),Ne.min(),lr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class po{constructor(e,t){this.position=e,this.inclusive=t}}function dA(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const o=e[a],c=n.position[a];if(o.field.isKeyField()?r=ye.comparator(ye.fromName(c.referenceValue),t.key):r=fo(c,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function hA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ws(n.position[t],e.position[t]))return!1;return!0}class dh{constructor(e,t="asc"){this.field=e,this.dir=t}}function j6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class ER{}class it extends ER{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new $6(e,t,r):t==="array-contains"?new H6(e,r):t==="in"?new CR(e,r):t==="not-in"?new G6(e,r):t==="array-contains-any"?new K6(e,r):new it(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new F6(e,r):new q6(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(fo(t,this.value)):t!==null&&ho(this.value)===ho(t)&&this.matchesComparison(fo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xt extends ER{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new xt(e,t)}matches(e){return su(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function su(n){return n.op==="and"}function zb(n){return n.op==="or"}function h0(n){return xR(n)&&su(n)}function xR(n){for(const e of n.filters)if(e instanceof xt)return!1;return!0}function jb(n){if(n instanceof it)return n.field.canonicalString()+n.op.toString()+iu(n.value);if(h0(n))return n.filters.map((e=>jb(e))).join(",");{const e=n.filters.map((t=>jb(t))).join(",");return`${n.op}(${e})`}}function TR(n,e){return n instanceof it?(function(r,a){return a instanceof it&&r.op===a.op&&r.field.isEqual(a.field)&&ws(r.value,a.value)})(n,e):n instanceof xt?(function(r,a){return a instanceof xt&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,c,d)=>o&&TR(c,a.filters[d])),!0):!1})(n,e):void xe(19439)}function SR(n,e){const t=n.filters.concat(e);return xt.create(t,n.op)}function AR(n){return n instanceof it?(function(t){return`${t.field.canonicalString()} ${t.op} ${iu(t.value)}`})(n):n instanceof xt?(function(t){return t.op.toString()+" {"+t.getFilters().map(AR).join(" ,")+"}"})(n):"Filter"}class $6 extends it{constructor(e,t,r){super(e,t,r),this.key=ye.fromName(r.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class F6 extends it{constructor(e,t){super(e,"in",t),this.keys=IR("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class q6 extends it{constructor(e,t){super(e,"not-in",t),this.keys=IR("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function IR(n,e){return(e.arrayValue?.values||[]).map((t=>ye.fromName(t.referenceValue)))}class H6 extends it{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return uh(t)&&ch(t.arrayValue,this.value)}}class CR extends it{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ch(this.value.arrayValue,t)}}class G6 extends it{constructor(e,t){super(e,"not-in",t)}matches(e){if(ch(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ch(this.value.arrayValue,t)}}class K6 extends it{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!uh(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>ch(this.value.arrayValue,r)))}}class Y6{constructor(e,t=null,r=[],a=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=c,this.endAt=d,this.Te=null}}function $b(n,e=null,t=[],r=[],a=null,o=null,c=null){return new Y6(n,e,t,r,a,o,c)}function Il(n){const e=Se(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>jb(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Wm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>iu(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>iu(r))).join(",")),e.Te=t}return e.Te}function Nh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!j6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!TR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!hA(n.startAt,e.startAt)&&hA(n.endAt,e.endAt)}function fm(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function pm(n,e){return n.filters.filter((t=>t instanceof it&&t.field.isEqual(e)))}function fA(n,e,t){let r=$p,a=!0;for(const o of pm(n,e)){let c=$p,d=!0;switch(o.op){case"<":case"<=":c=B6(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,d=!1;break;case"!=":case"not-in":c=$p}cA({value:r,inclusive:a},{value:c,inclusive:d})<0&&(r=c,a=d)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];cA({value:r,inclusive:a},{value:c,inclusive:t.inclusive})<0&&(r=c,a=t.inclusive);break}}return{value:r,inclusive:a}}function pA(n,e,t){let r=ao,a=!0;for(const o of pm(n,e)){let c=ao,d=!0;switch(o.op){case">=":case">":c=z6(o.value),d=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,d=!1;break;case"!=":case"not-in":c=ao}uA({value:r,inclusive:a},{value:c,inclusive:d})>0&&(r=c,a=d)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];uA({value:r,inclusive:a},{value:c,inclusive:t.inclusive})>0&&(r=c,a=t.inclusive);break}}return{value:r,inclusive:a}}class To{constructor(e,t=null,r=[],a=[],o=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function RR(n,e,t,r,a,o,c,d){return new To(n,e,t,r,a,o,c,d)}function kh(n){return new To(n)}function mA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Q6(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function f0(n){return n.collectionGroup!==null}function qc(n){const e=Se(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Tt(Zt.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new dh(o,r))})),t.has(Zt.keyField().canonicalString())||e.Ie.push(new dh(Zt.keyField(),r))}return e.Ie}function ii(n){const e=Se(n);return e.Ee||(e.Ee=W6(e,qc(n))),e.Ee}function W6(n,e){if(n.limitType==="F")return $b(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new dh(a.field,o)}));const t=n.endAt?new po(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new po(n.startAt.position,n.startAt.inclusive):null;return $b(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Fb(n,e){const t=n.filters.concat([e]);return new To(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function X6(n,e){const t=n.explicitOrderBy.concat([e]);return new To(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function mm(n,e,t){return new To(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function J6(n,e){return new To(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,e,n.endAt)}function Z6(n,e){return new To(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,e)}function rg(n,e){return Nh(ii(n),ii(e))&&n.limitType===e.limitType}function DR(n){return`${Il(ii(n))}|lt:${n.limitType}`}function Vc(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>AR(a))).join(", ")}]`),Wm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>iu(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>iu(a))).join(",")),`Target(${r})`})(ii(n))}; limitType=${n.limitType})`}function Oh(n,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ye.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,a){for(const o of qc(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(c,d,f){const m=dA(c,d,f);return c.inclusive?m<=0:m<0})(r.startAt,qc(r),a)||r.endAt&&!(function(c,d,f){const m=dA(c,d,f);return c.inclusive?m>=0:m>0})(r.endAt,qc(r),a))})(n,e)}function NR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function kR(n){return(e,t)=>{let r=!1;for(const a of qc(n)){const o=e5(a,e,t);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function e5(n,e,t){const r=n.field.isKeyField()?ye.comparator(e.key,t.key):(function(o,c,d){const f=c.data.field(o),m=d.data.field(o);return f!==null&&m!==null?fo(f,m):xe(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return xe(19790,{direction:n.dir})}}class ha{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){xo(this.inner,((t,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return hR(this.inner)}size(){return this.innerSize}}const t5=new Vt(ye.comparator);function ni(){return t5}const OR=new Vt(ye.comparator);function Pd(...n){let e=OR;for(const t of n)e=e.insert(t.key,t);return e}function PR(n){let e=OR;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function ps(){return Kd()}function MR(){return Kd()}function Kd(){return new ha((n=>n.toString()),((n,e)=>n.isEqual(e)))}const n5=new Vt(ye.comparator),r5=new Tt(ye.comparator);function Ke(...n){let e=r5;for(const t of n)e=e.add(t);return e}const i5=new Tt(Ue);function p0(){return i5}function m0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(e)?"-0":e}}function VR(n){return{integerValue:""+n}}function LR(n,e){return tR(e)?VR(e):m0(n,e)}class ig{constructor(){this._=void 0}}function s5(n,e,t){return n instanceof au?(function(a,o){const c={fields:{[mR]:{stringValue:pR},[vR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&eg(o)&&(o=tg(o)),o&&(c.fields[gR]=o),{mapValue:c}})(t,e):n instanceof Cl?BR(n,e):n instanceof Rl?zR(n,e):(function(a,o){const c=UR(a,o),d=gA(c)+gA(a.Ae);return Bb(c)&&Bb(a.Ae)?VR(d):m0(a.serializer,d)})(n,e)}function a5(n,e,t){return n instanceof Cl?BR(n,e):n instanceof Rl?zR(n,e):t}function UR(n,e){return n instanceof ou?(function(r){return Bb(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class au extends ig{}class Cl extends ig{constructor(e){super(),this.elements=e}}function BR(n,e){const t=jR(e);for(const r of n.elements)t.some((a=>ws(a,r)))||t.push(r);return{arrayValue:{values:t}}}class Rl extends ig{constructor(e){super(),this.elements=e}}function zR(n,e){let t=jR(e);for(const r of n.elements)t=t.filter((a=>!ws(a,r)));return{arrayValue:{values:t}}}class ou extends ig{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function gA(n){return Kt(n.integerValue||n.doubleValue)}function jR(n){return uh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ph{constructor(e,t){this.field=e,this.transform=t}}function o5(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof Cl&&a instanceof Cl||r instanceof Rl&&a instanceof Rl?Xc(r.elements,a.elements,ws):r instanceof ou&&a instanceof ou?ws(r.Ae,a.Ae):r instanceof au&&a instanceof au})(n.transform,e.transform)}class l5{constructor(e,t){this.version=e,this.transformResults=t}}class cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class sg{}function $R(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ag(n.key,cr.none()):new xu(n.key,n.data,cr.none());{const t=n.data,r=lr.empty();let a=new Tt(Zt.comparator);for(let o of e.fields)if(!a.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?r.delete(o):r.set(o,c),a=a.add(o)}return new fa(n.key,r,new $r(a.toArray()),cr.none())}}function c5(n,e,t){n instanceof xu?(function(a,o,c){const d=a.value.clone(),f=yA(a.fieldTransforms,o,c.transformResults);d.setAll(f),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,e,t):n instanceof fa?(function(a,o,c){if(!Hp(a.precondition,o))return void o.convertToUnknownDocument(c.version);const d=yA(a.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(FR(a)),f.setAll(d),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Yd(n,e,t,r){return n instanceof xu?(function(o,c,d,f){if(!Hp(o.precondition,c))return d;const m=o.value.clone(),v=bA(o.fieldTransforms,f,c);return m.setAll(v),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(n,e,t,r):n instanceof fa?(function(o,c,d,f){if(!Hp(o.precondition,c))return d;const m=bA(o.fieldTransforms,f,c),v=c.data;return v.setAll(FR(o)),v.setAll(m),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((y=>y.field)))})(n,e,t,r):(function(o,c,d){return Hp(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,e,t)}function u5(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),o=UR(r.transform,a||null);o!=null&&(t===null&&(t=lr.empty()),t.set(r.field,o))}return t||null}function vA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Xc(r,a,((o,c)=>o5(o,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class xu extends sg{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class fa extends sg{constructor(e,t,r,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function FR(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function yA(n,e,t){const r=new Map;Ce(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let a=0;a<t.length;a++){const o=n[a],c=o.transform,d=e.data.field(o.field);r.set(o.field,a5(c,d,t[a]))}return r}function bA(n,e,t){const r=new Map;for(const a of n){const o=a.transform,c=t.data.field(a.field);r.set(a.field,s5(o,c,e))}return r}class ag extends sg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qR extends sg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class g0{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&c5(o,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Yd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Yd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=MR();return this.mutations.forEach((a=>{const o=e.get(a.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=t.has(a.key)?null:d;const f=$R(c,d);f!==null&&r.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(Ne.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&Xc(this.mutations,e.mutations,((t,r)=>vA(t,r)))&&Xc(this.baseMutations,e.baseMutations,((t,r)=>vA(t,r)))}}class v0{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Ce(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return n5})();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,r[c].version);return new v0(e,t,r,a)}}class y0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class d5{constructor(e,t){this.count=e,this.unchangedNames=t}}var An,ot;function h5(n){switch(n){case te.OK:return xe(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return xe(15467,{code:n})}}function HR(n){if(n===void 0)return mn("GRPC error has no .code"),te.UNKNOWN;switch(n){case An.OK:return te.OK;case An.CANCELLED:return te.CANCELLED;case An.UNKNOWN:return te.UNKNOWN;case An.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case An.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case An.INTERNAL:return te.INTERNAL;case An.UNAVAILABLE:return te.UNAVAILABLE;case An.UNAUTHENTICATED:return te.UNAUTHENTICATED;case An.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case An.NOT_FOUND:return te.NOT_FOUND;case An.ALREADY_EXISTS:return te.ALREADY_EXISTS;case An.PERMISSION_DENIED:return te.PERMISSION_DENIED;case An.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case An.ABORTED:return te.ABORTED;case An.OUT_OF_RANGE:return te.OUT_OF_RANGE;case An.UNIMPLEMENTED:return te.UNIMPLEMENTED;case An.DATA_LOSS:return te.DATA_LOSS;default:return xe(39323,{code:n})}}(ot=An||(An={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";function f5(){return new TextEncoder}const p5=new lo([4294967295,4294967295],0);function _A(n){const e=f5().encode(n),t=new zC;return t.update(e),new Uint8Array(t.digest())}function wA(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new lo([t,r],0),new lo([a,o],0)]}class b0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Md(`Invalid padding: ${t}`);if(r<0)throw new Md(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Md(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Md(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=lo.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(lo.fromNumber(r)));return a.compare(p5)===1&&(a=new lo([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=_A(e),[r,a]=wA(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);if(!this.we(c))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new b0(o,a,t);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=_A(e),[r,a]=wA(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);this.be(c)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Md extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mh{constructor(e,t,r,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Vh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Mh(Ne.min(),a,new Vt(Ue),ni(),Ke())}}class Vh{constructor(e,t,r,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Vh(r,t,Ke(),Ke(),Ke())}}class Gp{constructor(e,t,r,a){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=a}}class GR{constructor(e,t){this.targetId=e,this.Ce=t}}class KR{constructor(e,t,r=gn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class EA{constructor(){this.ve=0,this.Fe=xA(),this.Me=gn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),t=Ke(),r=Ke();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:xe(38017,{changeType:o})}})),new Vh(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=xA()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ce(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class m5{constructor(e){this.Ge=e,this.ze=new Map,this.je=ni(),this.He=pp(),this.Je=pp(),this.Ze=new Vt(Ue)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const o=a.target;if(fm(o))if(r===0){const c=new ye(o.path);this.et(t,c,an.newNoDocument(c,Ne.min()))}else Ce(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const d=this.ut(e),f=d?this.ct(d,e,c):1;if(f!==0){this.it(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=t;let c,d;try{c=la(r).toUint8Array()}catch(f){if(f instanceof fR)return Wc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new b0(c,a,o)}catch(f){return Wc(f instanceof Md?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((o=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.et(t,o,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((o,c)=>{const d=this.ot(c);if(d){if(o.current&&fm(d.target)){const f=new ye(d.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,an.newNoDocument(f,e))}o.Be&&(t.set(c,o.ke()),o.Ke())}}));let r=Ke();this.Je.forEach(((o,c)=>{let d=!0;c.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const a=new Mh(e,t,this.Ze,this.je,r);return this.je=ni(),this.He=pp(),this.Je=pp(),this.Ze=new Vt(Ue),a}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.qe(t,1):a.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new EA,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Tt(Ue),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Tt(Ue),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new EA),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function pp(){return new Vt(ye.comparator)}function xA(){return new Vt(ye.comparator)}const g5={asc:"ASCENDING",desc:"DESCENDING"},v5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},y5={and:"AND",or:"OR"};class b5{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qb(n,e){return n.useProto3Json||Wm(e)?e:{value:e}}function lu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function _5(n,e){return lu(n,e.toTimestamp())}function Ar(n){return Ce(!!n,49232),Ne.fromTimestamp((function(t){const r=oa(t);return new Et(r.seconds,r.nanos)})(n))}function _0(n,e){return Hb(n,e).canonicalString()}function Hb(n,e){const t=(function(a){return new ht(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function QR(n){const e=ht.fromString(n);return Ce(iD(e),10190,{key:e.toString()}),e}function gm(n,e){return _0(n.databaseId,e.path)}function _l(n,e){const t=QR(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(JR(t))}function WR(n,e){return _0(n.databaseId,e)}function XR(n){const e=QR(n);return e.length===4?ht.emptyPath():JR(e)}function Gb(n){return new ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function JR(n){return Ce(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function TA(n,e,t){return{name:gm(n,e),fields:t.value.mapValue.fields}}function w5(n,e,t){const r=_l(n,e.name),a=Ar(e.updateTime),o=e.createTime?Ar(e.createTime):Ne.min(),c=new lr({mapValue:{fields:e.fields}}),d=an.newFoundDocument(r,a,o,c);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function E5(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:xe(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(m,v){return m.useProto3Json?(Ce(v===void 0||typeof v=="string",58123),gn.fromBase64String(v||"")):(Ce(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),gn.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(m){const v=m.code===void 0?te.UNKNOWN:HR(m.code);return new pe(v,m.message||"")})(c);t=new KR(r,a,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=_l(n,r.document.name),o=Ar(r.document.updateTime),c=r.document.createTime?Ar(r.document.createTime):Ne.min(),d=new lr({mapValue:{fields:r.document.fields}}),f=an.newFoundDocument(a,o,c,d),m=r.targetIds||[],v=r.removedTargetIds||[];t=new Gp(m,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=_l(n,r.document),o=r.readTime?Ar(r.readTime):Ne.min(),c=an.newNoDocument(a,o),d=r.removedTargetIds||[];t=new Gp([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=_l(n,r.document),o=r.removedTargetIds||[];t=new Gp([],o,a,null)}else{if(!("filter"in e))return xe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,c=new d5(a,o),d=r.targetId;t=new GR(d,c)}}return t}function vm(n,e){let t;if(e instanceof xu)t={update:TA(n,e.key,e.value)};else if(e instanceof ag)t={delete:gm(n,e.key)};else if(e instanceof fa)t={update:TA(n,e.key,e.data),updateMask:C5(e.fieldMask)};else{if(!(e instanceof qR))return xe(16599,{dt:e.type});t={verify:gm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,c){const d=c.transform;if(d instanceof au)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Cl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Rl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ou)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw xe(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:_5(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:xe(27497)})(n,e.precondition)),t}function Kb(n,e){const t=e.currentDocument?(function(o){return o.updateTime!==void 0?cr.updateTime(Ar(o.updateTime)):o.exists!==void 0?cr.exists(o.exists):cr.none()})(e.currentDocument):cr.none(),r=e.updateTransforms?e.updateTransforms.map((a=>(function(c,d){let f=null;if("setToServerValue"in d)Ce(d.setToServerValue==="REQUEST_TIME",16630,{proto:d}),f=new au;else if("appendMissingElements"in d){const v=d.appendMissingElements.values||[];f=new Cl(v)}else if("removeAllFromArray"in d){const v=d.removeAllFromArray.values||[];f=new Rl(v)}else"increment"in d?f=new ou(c,d.increment):xe(16584,{proto:d});const m=Zt.fromServerFormat(d.fieldPath);return new Ph(m,f)})(n,a))):[];if(e.update){e.update.name;const a=_l(n,e.update.name),o=new lr({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=(function(f){const m=f.fieldPaths||[];return new $r(m.map((v=>Zt.fromServerFormat(v))))})(e.updateMask);return new fa(a,o,c,t,r)}return new xu(a,o,t,r)}if(e.delete){const a=_l(n,e.delete);return new ag(a,t)}if(e.verify){const a=_l(n,e.verify);return new qR(a,t)}return xe(1463,{proto:e})}function x5(n,e){return n&&n.length>0?(Ce(e!==void 0,14353),n.map((t=>(function(a,o){let c=a.updateTime?Ar(a.updateTime):Ar(o);return c.isEqual(Ne.min())&&(c=Ar(o)),new l5(c,a.transformResults||[])})(t,e)))):[]}function ZR(n,e){return{documents:[WR(n,e.path)]}}function eD(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=WR(n,a);const o=(function(m){if(m.length!==0)return rD(xt.create(m,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const c=(function(m){if(m.length!==0)return m.map((v=>(function(E){return{field:Lc(E.field),direction:S5(E.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=qb(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:a}}function tD(n){let e=XR(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Ce(r===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let o=[];t.where&&(o=(function(y){const E=nD(y);return E instanceof xt&&h0(E)?E.getFilters():[E]})(t.where));let c=[];t.orderBy&&(c=(function(y){return y.map((E=>(function(U){return new dh(Uc(U.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(E)))})(t.orderBy));let d=null;t.limit&&(d=(function(y){let E;return E=typeof y=="object"?y.value:y,Wm(E)?null:E})(t.limit));let f=null;t.startAt&&(f=(function(y){const E=!!y.before,I=y.values||[];return new po(I,E)})(t.startAt));let m=null;return t.endAt&&(m=(function(y){const E=!y.before,I=y.values||[];return new po(I,E)})(t.endAt)),RR(e,a,c,o,d,"F",f,m)}function T5(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function nD(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Uc(t.unaryFilter.field);return it.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Uc(t.unaryFilter.field);return it.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Uc(t.unaryFilter.field);return it.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Uc(t.unaryFilter.field);return it.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(n):n.fieldFilter!==void 0?(function(t){return it.create(Uc(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return xt.create(t.compositeFilter.filters.map((r=>nD(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(t.compositeFilter.op))})(n):xe(30097,{filter:n})}function S5(n){return g5[n]}function A5(n){return v5[n]}function I5(n){return y5[n]}function Lc(n){return{fieldPath:n.canonicalString()}}function Uc(n){return Zt.fromServerFormat(n.fieldPath)}function rD(n){return n instanceof it?(function(t){if(t.op==="=="){if(lA(t.value))return{unaryFilter:{field:Lc(t.field),op:"IS_NAN"}};if(oA(t.value))return{unaryFilter:{field:Lc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(lA(t.value))return{unaryFilter:{field:Lc(t.field),op:"IS_NOT_NAN"}};if(oA(t.value))return{unaryFilter:{field:Lc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lc(t.field),op:A5(t.op),value:t.value}}})(n):n instanceof xt?(function(t){const r=t.getFilters().map((a=>rD(a)));return r.length===1?r[0]:{compositeFilter:{op:I5(t.op),filters:r}}})(n):xe(54877,{filter:n})}function C5(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function iD(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function sD(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class Js{constructor(e,t,r,a,o=Ne.min(),c=Ne.min(),d=gn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class aD{constructor(e){this.yt=e}}function R5(n,e){let t;if(e.document)t=w5(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ye.fromSegments(e.noDocument.path),a=Nl(e.noDocument.readTime);t=an.newNoDocument(r,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return xe(56709);{const r=ye.fromSegments(e.unknownDocument.path),a=Nl(e.unknownDocument.version);t=an.newUnknownDocument(r,a)}}return e.readTime&&t.setReadTime((function(a){const o=new Et(a[0],a[1]);return Ne.fromTimestamp(o)})(e.readTime)),t}function SA(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ym(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(o,c){return{name:gm(o,c.key),fields:c.data.value.mapValue.fields,updateTime:lu(o,c.version.toTimestamp()),createTime:lu(o,c.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Dl(e.version)};else{if(!e.isUnknownDocument())return xe(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:Dl(e.version)}}return r}function ym(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Dl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Nl(n){const e=new Et(n.seconds,n.nanoseconds);return Ne.fromTimestamp(e)}function dl(n,e){const t=(e.baseMutations||[]).map((o=>Kb(n.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const c=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const d=e.mutations[o+1];c.updateTransforms=d.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map((o=>Kb(n.yt,o))),a=Et.fromMillis(e.localWriteTimeMs);return new g0(e.batchId,a,t,r)}function Vd(n){const e=Nl(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Nl(n.lastLimboFreeSnapshotVersion):Ne.min();let r;return r=(function(o){return o.documents!==void 0})(n.query)?(function(o){const c=o.documents.length;return Ce(c===1,1966,{count:c}),ii(kh(XR(o.documents[0])))})(n.query):(function(o){return ii(tD(o))})(n.query),new Js(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,gn.fromBase64String(n.resumeToken))}function oD(n,e){const t=Dl(e.snapshotVersion),r=Dl(e.lastLimboFreeSnapshotVersion);let a;a=fm(e.target)?ZR(n.yt,e.target):eD(n.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Il(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:a}}function lD(n){const e=tD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?mm(e,e.limit,"L"):e}function Ky(n,e){return new y0(e.largestBatchId,Kb(n.yt,e.overlayMutation))}function AA(n,e){const t=e.path.lastSegment();return[n,ur(e.path.popLast()),t]}function IA(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Dl(r.readTime),documentKey:ur(r.documentKey.path),largestBatchId:r.largestBatchId}}class D5{getBundleMetadata(e,t){return CA(e).get(t).next((r=>{if(r)return(function(o){return{id:o.bundleId,createTime:Nl(o.createTime),version:o.version}})(r)}))}saveBundleMetadata(e,t){return CA(e).put((function(a){return{bundleId:a.id,createTime:Dl(Ar(a.createTime)),version:a.version}})(t))}getNamedQuery(e,t){return RA(e).get(t).next((r=>{if(r)return(function(o){return{name:o.name,query:lD(o.bundledQuery),readTime:Nl(o.readTime)}})(r)}))}saveNamedQuery(e,t){return RA(e).put((function(a){return{name:a.name,readTime:Dl(Ar(a.readTime)),bundledQuery:a.bundledQuery}})(t))}}function CA(n){return Bn(n,Xm)}function RA(n){return Bn(n,Jm)}class og{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new og(e,r)}getOverlay(e,t){return wd(e).get(AA(this.userId,t)).next((r=>r?Ky(this.serializer,r):null))}getOverlays(e,t){const r=ps();return H.forEach(t,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,t,r){const a=[];return r.forEach(((o,c)=>{const d=new y0(t,c);a.push(this.bt(e,d))})),H.waitFor(a)}removeOverlaysForBatchId(e,t,r){const a=new Set;t.forEach((c=>a.add(ur(c.getCollectionPath()))));const o=[];return a.forEach((c=>{const d=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);o.push(wd(e).X(Vb,d))})),H.waitFor(o)}getOverlaysForCollection(e,t,r){const a=ps(),o=ur(t),c=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return wd(e).H(Vb,c).next((d=>{for(const f of d){const m=Ky(this.serializer,f);a.set(m.getKey(),m)}return a}))}getOverlaysForCollectionGroup(e,t,r,a){const o=ps();let c;const d=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return wd(e).ee({index:oR,range:d},((f,m,v)=>{const y=Ky(this.serializer,m);o.size()<a||y.largestBatchId===c?(o.set(y.getKey(),y),c=y.largestBatchId):v.done()})).next((()=>o))}bt(e,t){return wd(e).put((function(a,o,c){const[d,f,m]=AA(o,c.mutation.key);return{userId:o,collectionPath:f,documentId:m,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:vm(a.yt,c.mutation)}})(this.serializer,this.userId,t))}}function wd(n){return Bn(n,Zm)}class N5{St(e){return Bn(e,l0)}getSessionToken(e){return this.St(e).get("sessionToken").next((t=>{const r=t?.value;return r?gn.fromUint8Array(r):gn.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.St(e).put({name:"sessionToken",value:t.toUint8Array()})}}class hl{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Kt(e.integerValue));else if("doubleValue"in e){const r=Kt(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),ih(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=oa(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(la(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?bR(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):ng(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):xe(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){const r=e.fields||{};this.Ft(t,55);for(const a of Object.keys(r))this.Ot(a,t),this.Ct(r[a],t)}kt(e,t){const r=e.fields||{};this.Ft(t,53);const a=ru,o=r[a].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Kt(o)),this.Ot(a,t),this.Ct(r[a],t)}qt(e,t){const r=e.values||[];this.Ft(t,50);for(const a of r)this.Ct(a,t)}Lt(e,t){this.Ft(t,37),ye.fromName(e).path.forEach((r=>{this.Ft(t,60),this.$t(r,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}hl.Wt=new hl;const Cc=255;function k5(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function DA(n){const e=64-(function(r){let a=0;for(let o=0;o<8;++o){const c=k5(255&r[o]);if(a+=c,c!==8)break}return a})(n);return Math.ceil(e/8)}class O5{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ht(r.value),r=t.next();this.Jt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const a=t.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ht(r);else if(r<2048)this.Ht(960|r>>>6),this.Ht(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ht(480|r>>>12),this.Ht(128|63&r>>>6),this.Ht(128|63&r);else{const a=t.codePointAt(0);this.Ht(240|a>>>18),this.Ht(128|63&a>>>12),this.Ht(128|63&a>>>6),this.Ht(128|63&a)}}this.Jt()}Yt(e){const t=this.en(e),r=DA(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let a=t.length-r;a<t.length;++a)this.buffer[this.position++]=255&t[a]}nn(e){const t=this.en(e),r=DA(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let a=t.length-r;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}rn(){this.sn(Cc),this.sn(255)}_n(){this.an(Cc),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(o){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,o,!1),new Uint8Array(c.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let a=1;a<t.length;++a)t[a]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===Cc?(this.sn(Cc),this.sn(0)):this.sn(t)}Ht(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===Cc?(this.an(Cc),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const a=new Uint8Array(r);a.set(this.buffer),this.buffer=a}}class P5{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class M5{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Ed{constructor(){this.cn=new O5,this.ascending=new P5(this.cn),this.descending=new M5(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class fl{constructor(e,t,r,a){this.hn=e,this.Pn=t,this.Tn=r,this.In=a}En(){const e=this.In.length,t=e===0||this.In[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.In,0),t!==e?r.set([0],this.In.length):++r[r.length-1],new fl(this.hn,this.Pn,this.Tn,r)}Rn(e,t,r){return{indexId:this.hn,uid:e,arrayValue:Kp(this.Tn),directionalValue:Kp(this.In),orderedDocumentKey:Kp(t),documentKey:r.path.toArray()}}An(e,t,r){const a=this.Rn(e,t,r);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function Wa(n,e){let t=n.hn-e.hn;return t!==0?t:(t=NA(n.Tn,e.Tn),t!==0?t:(t=NA(n.In,e.In),t!==0?t:ye.comparator(n.Pn,e.Pn)))}function NA(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function Kp(n){return Z1()?(function(t){let r="";for(let a=0;a<t.length;a++)r+=String.fromCharCode(t[a]);return r})(n):n}function kA(n){return typeof n!="string"?n:(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(n)}class OA{constructor(e){this.Vn=new Tt(((t,r)=>Zt.comparator(t.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const t of e.filters){const r=t;r.isInequality()?this.Vn=this.Vn.add(r):this.mn.push(r)}}get fn(){return this.Vn.size>1}gn(e){if(Ce(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const t=Ob(e);if(t!==void 0&&!this.pn(t))return!1;const r=ol(e);let a=new Set,o=0,c=0;for(;o<r.length&&this.pn(r[o]);++o)a=a.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Vn.size>0){const d=this.Vn.getIterator().getNext();if(!a.has(d.field.canonicalString())){const f=r[o];if(!this.yn(d,f)||!this.wn(this.dn[c++],f))return!1}++o}for(;o<r.length;++o){const d=r[o];if(c>=this.dn.length||!this.wn(this.dn[c++],d))return!1}return!0}bn(){if(this.fn)return null;let e=new Tt(Zt.comparator);const t=[];for(const r of this.mn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new Bp(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Bp(r.field,0))}for(const r of this.dn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Bp(r.field,r.dir==="asc"?0:1)));return new lm(lm.UNKNOWN_ID,this.collectionId,t,rh.empty())}pn(e){for(const t of this.mn)if(this.yn(t,e))return!0;return!1}yn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}wn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}function cD(n){if(Ce(n instanceof it||n instanceof xt,20012),n instanceof it){if(n instanceof CR){const t=n.value.arrayValue?.values?.map((r=>it.create(n.field,"==",r)))||[];return xt.create(t,"or")}return n}const e=n.filters.map((t=>cD(t)));return xt.create(e,n.op)}function V5(n){if(n.getFilters().length===0)return[];const e=Wb(cD(n));return Ce(uD(e),7391),Yb(e)||Qb(e)?[e]:e.getFilters()}function Yb(n){return n instanceof it}function Qb(n){return n instanceof xt&&h0(n)}function uD(n){return Yb(n)||Qb(n)||(function(t){if(t instanceof xt&&zb(t)){for(const r of t.getFilters())if(!Yb(r)&&!Qb(r))return!1;return!0}return!1})(n)}function Wb(n){if(Ce(n instanceof it||n instanceof xt,34018),n instanceof it)return n;if(n.filters.length===1)return Wb(n.filters[0]);const e=n.filters.map((r=>Wb(r)));let t=xt.create(e,n.op);return t=bm(t),uD(t)?t:(Ce(t instanceof xt,64498),Ce(su(t),40251),Ce(t.filters.length>1,57927),t.filters.reduce(((r,a)=>w0(r,a))))}function w0(n,e){let t;return Ce(n instanceof it||n instanceof xt,38388),Ce(e instanceof it||e instanceof xt,25473),t=n instanceof it?e instanceof it?(function(a,o){return xt.create([a,o],"and")})(n,e):PA(n,e):e instanceof it?PA(e,n):(function(a,o){if(Ce(a.filters.length>0&&o.filters.length>0,48005),su(a)&&su(o))return SR(a,o.getFilters());const c=zb(a)?a:o,d=zb(a)?o:a,f=c.filters.map((m=>w0(m,d)));return xt.create(f,"or")})(n,e),bm(t)}function PA(n,e){if(su(e))return SR(e,n.getFilters());{const t=e.filters.map((r=>w0(n,r)));return xt.create(t,"or")}}function bm(n){if(Ce(n instanceof it||n instanceof xt,11850),n instanceof it)return n;const e=n.getFilters();if(e.length===1)return bm(e[0]);if(xR(n))return n;const t=e.map((a=>bm(a))),r=[];return t.forEach((a=>{a instanceof it?r.push(a):a instanceof xt&&(a.op===n.op?r.push(...a.filters):r.push(a))})),r.length===1?r[0]:xt.create(r,n.op)}class L5{constructor(){this.Sn=new E0}addToCollectionParentIndex(e,t){return this.Sn.add(t),H.resolve()}getCollectionParents(e,t){return H.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return H.resolve()}deleteFieldIndex(e,t){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,t){return H.resolve()}getDocumentsMatchingTarget(e,t){return H.resolve(null)}getIndexType(e,t){return H.resolve(0)}getFieldIndexes(e,t){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,t){return H.resolve(si.min())}getMinOffsetFromCollectionGroup(e,t){return H.resolve(si.min())}updateCollectionGroup(e,t,r){return H.resolve()}updateIndexEntries(e,t){return H.resolve()}}class E0{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Tt(ht.comparator),o=!a.has(r);return this.index[t]=a.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Tt(ht.comparator)).toArray()}}const MA="IndexedDbIndexManager",mp=new Uint8Array(0);class U5{constructor(e,t){this.databaseId=t,this.Dn=new E0,this.Cn=new ha((r=>Il(r)),((r,a)=>Nh(r,a))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Dn.has(t)){const r=t.lastSegment(),a=t.popLast();e.addOnCommittedListener((()=>{this.Dn.add(t)}));const o={collectionId:r,parent:ur(a)};return VA(e).put(o)}return H.resolve()}getCollectionParents(e,t){const r=[],a=IDBKeyRange.bound([t,""],[KC(t),""],!1,!0);return VA(e).H(a).next((o=>{for(const c of o){if(c.collectionId!==t)break;r.push(fs(c.parent))}return r}))}addFieldIndex(e,t){const r=xd(e),a=(function(d){return{indexId:d.indexId,collectionGroup:d.collectionGroup,fields:d.fields.map((f=>[f.fieldPath.canonicalString(),f.kind]))}})(t);delete a.indexId;const o=r.add(a);if(t.indexState){const c=Dc(e);return o.next((d=>{c.put(IA(d,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return o.next()}deleteFieldIndex(e,t){const r=xd(e),a=Dc(e),o=Rc(e);return r.delete(t.indexId).next((()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=xd(e),r=Rc(e),a=Dc(e);return t.X().next((()=>r.X())).next((()=>a.X()))}createTargetIndexes(e,t){return H.forEach(this.vn(t),(r=>this.getIndexType(e,r).next((a=>{if(a===0||a===1){const o=new OA(r).bn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,t){const r=Rc(e);let a=!0;const o=new Map;return H.forEach(this.vn(t),(c=>this.Fn(e,c).next((d=>{a&&(a=!!d),o.set(c,d)})))).next((()=>{if(a){let c=Ke();const d=[];return H.forEach(o,((f,m)=>{he(MA,`Using index ${(function(G){return`id=${G.indexId}|cg=${G.collectionGroup}|f=${G.fields.map((ce=>`${ce.fieldPath}:${ce.kind}`)).join(",")}`})(f)} to execute ${Il(t)}`);const v=(function(G,ce){const ae=Ob(ce);if(ae===void 0)return null;for(const de of pm(G,ae.fieldPath))switch(de.op){case"array-contains-any":return de.value.arrayValue.values||[];case"array-contains":return[de.value]}return null})(m,f),y=(function(G,ce){const ae=new Map;for(const de of ol(ce))for(const D of pm(G,de.fieldPath))switch(D.op){case"==":case"in":ae.set(de.fieldPath.canonicalString(),D.value);break;case"not-in":case"!=":return ae.set(de.fieldPath.canonicalString(),D.value),Array.from(ae.values())}return null})(m,f),E=(function(G,ce){const ae=[];let de=!0;for(const D of ol(ce)){const A=D.kind===0?fA(G,D.fieldPath,G.startAt):pA(G,D.fieldPath,G.startAt);ae.push(A.value),de&&(de=A.inclusive)}return new po(ae,de)})(m,f),I=(function(G,ce){const ae=[];let de=!0;for(const D of ol(ce)){const A=D.kind===0?pA(G,D.fieldPath,G.endAt):fA(G,D.fieldPath,G.endAt);ae.push(A.value),de&&(de=A.inclusive)}return new po(ae,de)})(m,f),U=this.Mn(f,m,E),k=this.Mn(f,m,I),V=this.xn(f,m,y),K=this.On(f.indexId,v,U,E.inclusive,k,I.inclusive,V);return H.forEach(K,(F=>r.Z(F,t.limit).next((G=>{G.forEach((ce=>{const ae=ye.fromSegments(ce.documentKey);c.has(ae)||(c=c.add(ae),d.push(ae))}))}))))})).next((()=>d))}return H.resolve(null)}))}vn(e){let t=this.Cn.get(e);return t||(e.filters.length===0?t=[e]:t=V5(xt.create(e.filters,"and")).map((r=>$b(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,t),t)}On(e,t,r,a,o,c,d){const f=(t!=null?t.length:1)*Math.max(r.length,o.length),m=f/(t!=null?t.length:1),v=[];for(let y=0;y<f;++y){const E=t?this.Nn(t[y/m]):mp,I=this.Bn(e,E,r[y%m],a),U=this.Ln(e,E,o[y%m],c),k=d.map((V=>this.Bn(e,E,V,!0)));v.push(...this.createRange(I,U,k))}return v}Bn(e,t,r,a){const o=new fl(e,ye.empty(),t,r);return a?o:o.En()}Ln(e,t,r,a){const o=new fl(e,ye.empty(),t,r);return a?o.En():o}Fn(e,t){const r=new OA(t),a=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next((o=>{let c=null;for(const d of o)r.gn(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c}))}getIndexType(e,t){let r=2;const a=this.vn(t);return H.forEach(a,(o=>this.Fn(e,o).next((c=>{c?r!==0&&c.fields.length<(function(f){let m=new Tt(Zt.comparator),v=!1;for(const y of f.filters)for(const E of y.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?v=!0:m=m.add(E.field));for(const y of f.orderBy)y.field.isKeyField()||(m=m.add(y.field));return m.size+(v?1:0)})(o)&&(r=1):r=0})))).next((()=>(function(c){return c.limit!==null})(t)&&a.length>1&&r===2?1:r))}kn(e,t){const r=new Ed;for(const a of ol(e)){const o=t.data.field(a.fieldPath);if(o==null)return null;const c=r.ln(a.kind);hl.Wt.Dt(o,c)}return r.un()}Nn(e){const t=new Ed;return hl.Wt.Dt(e,t.ln(0)),t.un()}Kn(e,t){const r=new Ed;return hl.Wt.Dt(Al(this.databaseId,t),r.ln((function(o){const c=ol(o);return c.length===0?0:c[c.length-1].kind})(e))),r.un()}xn(e,t,r){if(r===null)return[];let a=[];a.push(new Ed);let o=0;for(const c of ol(e)){const d=r[o++];for(const f of a)if(this.qn(t,c.fieldPath)&&uh(d))a=this.Un(a,c,d);else{const m=f.ln(c.kind);hl.Wt.Dt(d,m)}}return this.$n(a)}Mn(e,t,r){return this.xn(e,t,r.position)}$n(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Un(e,t,r){const a=[...e],o=[];for(const c of r.arrayValue.values||[])for(const d of a){const f=new Ed;f.seed(d.un()),hl.Wt.Dt(c,f.ln(t.kind)),o.push(f)}return o}qn(e,t){return!!e.filters.find((r=>r instanceof it&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,t){const r=xd(e),a=Dc(e);return(t?r.H(Mb,IDBKeyRange.bound(t,t)):r.H()).next((o=>{const c=[];return H.forEach(o,(d=>a.get([d.indexId,this.uid]).next((f=>{c.push((function(v,y){const E=y?new rh(y.sequenceNumber,new si(Nl(y.readTime),new ye(fs(y.documentKey)),y.largestBatchId)):rh.empty(),I=v.fields.map((([U,k])=>new Bp(Zt.fromServerFormat(U),k)));return new lm(v.indexId,v.collectionGroup,I,E)})(d,f))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((r,a)=>{const o=r.indexState.sequenceNumber-a.indexState.sequenceNumber;return o!==0?o:Ue(r.collectionGroup,a.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,r){const a=xd(e),o=Dc(e);return this.Wn(e).next((c=>a.H(Mb,IDBKeyRange.bound(t,t)).next((d=>H.forEach(d,(f=>o.put(IA(f.indexId,this.uid,c,r))))))))}updateIndexEntries(e,t){const r=new Map;return H.forEach(t,((a,o)=>{const c=r.get(a.collectionGroup);return(c?H.resolve(c):this.getFieldIndexes(e,a.collectionGroup)).next((d=>(r.set(a.collectionGroup,d),H.forEach(d,(f=>this.Qn(e,a,f).next((m=>{const v=this.Gn(o,f);return m.isEqual(v)?H.resolve():this.zn(e,o,f,m,v)})))))))}))}jn(e,t,r,a){return Rc(e).put(a.Rn(this.uid,this.Kn(r,t.key),t.key))}Hn(e,t,r,a){return Rc(e).delete(a.An(this.uid,this.Kn(r,t.key),t.key))}Qn(e,t,r){const a=Rc(e);let o=new Tt(Wa);return a.ee({index:aR,range:IDBKeyRange.only([r.indexId,this.uid,Kp(this.Kn(r,t))])},((c,d)=>{o=o.add(new fl(r.indexId,t,kA(d.arrayValue),kA(d.directionalValue)))})).next((()=>o))}Gn(e,t){let r=new Tt(Wa);const a=this.kn(t,e);if(a==null)return r;const o=Ob(t);if(o!=null){const c=e.data.field(o.fieldPath);if(uh(c))for(const d of c.arrayValue.values||[])r=r.add(new fl(t.indexId,e.key,this.Nn(d),a))}else r=r.add(new fl(t.indexId,e.key,mp,a));return r}zn(e,t,r,a,o){he(MA,"Updating index entries for document '%s'",t.key);const c=[];return(function(f,m,v,y,E){const I=f.getIterator(),U=m.getIterator();let k=Ic(I),V=Ic(U);for(;k||V;){let K=!1,F=!1;if(k&&V){const G=v(k,V);G<0?F=!0:G>0&&(K=!0)}else k!=null?F=!0:K=!0;K?(y(V),V=Ic(U)):F?(E(k),k=Ic(I)):(k=Ic(I),V=Ic(U))}})(a,o,Wa,(d=>{c.push(this.jn(e,t,r,d))}),(d=>{c.push(this.Hn(e,t,r,d))})),H.waitFor(c)}Wn(e){let t=1;return Dc(e).ee({index:sR,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,a,o)=>{o.done(),t=a.sequenceNumber+1})).next((()=>t))}createRange(e,t,r){r=r.sort(((c,d)=>Wa(c,d))).filter(((c,d,f)=>!d||Wa(c,f[d-1])!==0));const a=[];a.push(e);for(const c of r){const d=Wa(c,e),f=Wa(c,t);if(d===0)a[0]=e.En();else if(d>0&&f<0)a.push(c),a.push(c.En());else if(f>0)break}a.push(t);const o=[];for(let c=0;c<a.length;c+=2){if(this.Jn(a[c],a[c+1]))return[];const d=a[c].An(this.uid,mp,ye.empty()),f=a[c+1].An(this.uid,mp,ye.empty());o.push(IDBKeyRange.bound(d,f))}return o}Jn(e,t){return Wa(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(LA)}getMinOffset(e,t){return H.mapArray(this.vn(t),(r=>this.Fn(e,r).next((a=>a||xe(44426))))).next(LA)}}function VA(n){return Bn(n,oh)}function Rc(n){return Bn(n,Hd)}function xd(n){return Bn(n,o0)}function Dc(n){return Bn(n,qd)}function LA(n){Ce(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const a=n[r].indexState.offset;i0(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new si(e.readTime,e.documentKey,t)}const UA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dD=41943040;class or{static withCacheSize(e){return new or(e,or.DEFAULT_COLLECTION_PERCENTILE,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}function hD(n,e,t){const r=n.store(Fi),a=n.store(Zc),o=[],c=IDBKeyRange.only(t.batchId);let d=0;const f=r.ee({range:c},((v,y,E)=>(d++,E.delete())));o.push(f.next((()=>{Ce(d===1,47070,{batchId:t.batchId})})));const m=[];for(const v of t.mutations){const y=nR(e,v.key.path,t.batchId);o.push(a.delete(y)),m.push(v.key)}return H.waitFor(o).next((()=>m))}function _m(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw xe(14731);e=n.noDocument}return JSON.stringify(e).length}or.DEFAULT_COLLECTION_PERCENTILE=10,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,or.DEFAULT=new or(dD,or.DEFAULT_COLLECTION_PERCENTILE,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),or.DISABLED=new or(-1,0,0);class lg{constructor(e,t,r,a){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=a,this.Zn={}}static wt(e,t,r,a){Ce(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new lg(o,t,r,a)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xa(e).ee({index:ml,range:r},((a,o,c)=>{t=!1,c.done()})).next((()=>t))}addMutationBatch(e,t,r,a){const o=Bc(e),c=Xa(e);return c.add({}).next((d=>{Ce(typeof d=="number",49019);const f=new g0(d,t,r,a),m=(function(I,U,k){const V=k.baseMutations.map((F=>vm(I.yt,F))),K=k.mutations.map((F=>vm(I.yt,F)));return{userId:U,batchId:k.batchId,localWriteTimeMs:k.localWriteTime.toMillis(),baseMutations:V,mutations:K}})(this.serializer,this.userId,f),v=[];let y=new Tt(((E,I)=>Ue(E.canonicalString(),I.canonicalString())));for(const E of a){const I=nR(this.userId,E.key.path,d);y=y.add(E.key.path.popLast()),v.push(c.put(m)),v.push(o.put(I,h6))}return y.forEach((E=>{v.push(this.indexManager.addToCollectionParentIndex(e,E))})),e.addOnCommittedListener((()=>{this.Zn[d]=f.keys()})),H.waitFor(v).next((()=>f))}))}lookupMutationBatch(e,t){return Xa(e).get(t).next((r=>r?(Ce(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),dl(this.serializer,r)):null))}Xn(e,t){return this.Zn[t]?H.resolve(this.Zn[t]):this.lookupMutationBatch(e,t).next((r=>{if(r){const a=r.keys();return this.Zn[t]=a,a}return null}))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Xa(e).ee({index:ml,range:a},((c,d,f)=>{d.userId===this.userId&&(Ce(d.batchId>=r,47524,{Yn:r}),o=dl(this.serializer,d)),f.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=yl;return Xa(e).ee({index:ml,range:t,reverse:!0},((a,o,c)=>{r=o.batchId,c.done()})).next((()=>r))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,yl],[this.userId,Number.POSITIVE_INFINITY]);return Xa(e).H(ml,t).next((r=>r.map((a=>dl(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=zp(this.userId,t.path),a=IDBKeyRange.lowerBound(r),o=[];return Bc(e).ee({range:a},((c,d,f)=>{const[m,v,y]=c,E=fs(v);if(m===this.userId&&t.path.isEqual(E))return Xa(e).get(y).next((I=>{if(!I)throw xe(61480,{er:c,batchId:y});Ce(I.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:I.userId,batchId:y}),o.push(dl(this.serializer,I))}));f.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Tt(Ue);const a=[];return t.forEach((o=>{const c=zp(this.userId,o.path),d=IDBKeyRange.lowerBound(c),f=Bc(e).ee({range:d},((m,v,y)=>{const[E,I,U]=m,k=fs(I);E===this.userId&&o.path.isEqual(k)?r=r.add(U):y.done()}));a.push(f)})),H.waitFor(a).next((()=>this.tr(e,r)))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1,o=zp(this.userId,r),c=IDBKeyRange.lowerBound(o);let d=new Tt(Ue);return Bc(e).ee({range:c},((f,m,v)=>{const[y,E,I]=f,U=fs(E);y===this.userId&&r.isPrefixOf(U)?U.length===a&&(d=d.add(I)):v.done()})).next((()=>this.tr(e,d)))}tr(e,t){const r=[],a=[];return t.forEach((o=>{a.push(Xa(e).get(o).next((c=>{if(c===null)throw xe(35274,{batchId:o});Ce(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:o}),r.push(dl(this.serializer,c))})))})),H.waitFor(a).next((()=>r))}removeMutationBatch(e,t){return hD(e.le,this.userId,t).next((r=>(e.addOnCommittedListener((()=>{this.nr(t.batchId)})),H.forEach(r,(a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return H.resolve();const r=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),a=[];return Bc(e).ee({range:r},((o,c,d)=>{if(o[0]===this.userId){const f=fs(o[1]);a.push(f)}else d.done()})).next((()=>{Ce(a.length===0,56720,{rr:a.map((o=>o.canonicalString()))})}))}))}containsKey(e,t){return fD(e,this.userId,t)}ir(e){return pD(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:yl,lastStreamToken:""}))}}function fD(n,e,t){const r=zp(e,t.path),a=r[1],o=IDBKeyRange.lowerBound(r);let c=!1;return Bc(n).ee({range:o,Y:!0},((d,f,m)=>{const[v,y,E]=d;v===e&&y===a&&(c=!0),m.done()})).next((()=>c))}function Xa(n){return Bn(n,Fi)}function Bc(n){return Bn(n,Zc)}function pD(n){return Bn(n,sh)}class kl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new kl(0)}static ar(){return new kl(-1)}}class B5{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.ur(e).next((t=>{const r=new kl(t.highestTargetId);return t.highestTargetId=r.next(),this.cr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.ur(e).next((t=>Ne.fromTimestamp(new Et(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.ur(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,r){return this.ur(e).next((a=>(a.highestListenSequenceNumber=t,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.cr(e,a))))}addTargetData(e,t){return this.lr(e,t).next((()=>this.ur(e).next((r=>(r.targetCount+=1,this.hr(t,r),this.cr(e,r))))))}updateTargetData(e,t){return this.lr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Nc(e).delete(t.targetId))).next((()=>this.ur(e))).next((r=>(Ce(r.targetCount>0,8065),r.targetCount-=1,this.cr(e,r))))}removeTargets(e,t,r){let a=0;const o=[];return Nc(e).ee(((c,d)=>{const f=Vd(d);f.sequenceNumber<=t&&r.get(f.targetId)===null&&(a++,o.push(this.removeTargetData(e,f)))})).next((()=>H.waitFor(o))).next((()=>a))}forEachTarget(e,t){return Nc(e).ee(((r,a)=>{const o=Vd(a);t(o)}))}ur(e){return BA(e).get(dm).next((t=>(Ce(t!==null,2888),t)))}cr(e,t){return BA(e).put(dm,t)}lr(e,t){return Nc(e).put(oD(this.serializer,t))}hr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.ur(e).next((t=>t.targetCount))}getTargetData(e,t){const r=Il(t),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Nc(e).ee({range:a,index:iR},((c,d,f)=>{const m=Vd(d);Nh(t,m.target)&&(o=m,f.done())})).next((()=>o))}addMatchingKeys(e,t,r){const a=[],o=io(e);return t.forEach((c=>{const d=ur(c.path);a.push(o.put({targetId:r,path:d})),a.push(this.referenceDelegate.addReference(e,r,c))})),H.waitFor(a)}removeMatchingKeys(e,t,r){const a=io(e);return H.forEach(t,(o=>{const c=ur(o.path);return H.waitFor([a.delete([r,c]),this.referenceDelegate.removeReference(e,r,o)])}))}removeMatchingKeysForTargetId(e,t){const r=io(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),a=io(e);let o=Ke();return a.ee({range:r,Y:!0},((c,d,f)=>{const m=fs(c[1]),v=new ye(m);o=o.add(v)})).next((()=>o))}containsKey(e,t){const r=ur(t.path),a=IDBKeyRange.bound([r],[KC(r)],!1,!0);let o=0;return io(e).ee({index:a0,Y:!0,range:a},(([c,d],f,m)=>{c!==0&&(o++,m.done())})).next((()=>o>0))}At(e,t){return Nc(e).get(t).next((r=>r?Vd(r):null))}}function Nc(n){return Bn(n,eu)}function BA(n){return Bn(n,bl)}function io(n){return Bn(n,tu)}const zA="LruGarbageCollector",mD=1048576;function jA([n,e],[t,r]){const a=Ue(n,t);return a===0?Ue(e,r):a}class z5{constructor(e){this.Pr=e,this.buffer=new Tt(jA),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();jA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class gD{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){he(zA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Eo(t)?he(zA,"Ignoring IndexedDB error during garbage collection: ",t):await wo(t)}await this.Ar(3e5)}))}}class j5{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return H.resolve(jr.ce);const r=new z5(t);return this.Vr.forEachTarget(e,(a=>r.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>r.Er(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(UA)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),UA):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,a,o,c,d,f,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),a=this.params.maximumSequenceNumbersToCollect):a=y,c=Date.now(),this.nthSequenceNumber(e,a)))).next((y=>(r=y,d=Date.now(),this.removeTargets(e,r,t)))).next((y=>(o=y,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(m=Date.now(),Mc()<=rt.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${o} targets in `+(f-d)+`ms
	Removed ${y} documents in `+(m-f)+`ms
Total Duration: ${m-v}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:y}))))}}function vD(n,e){return new j5(n,e)}class $5{constructor(e,t){this.db=e,this.garbageCollector=vD(this,t)}dr(e){const t=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}mr(e,t){return this.yr(e,((r,a)=>t(a)))}addReference(e,t,r){return gp(e,r)}removeReference(e,t,r){return gp(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return gp(e,t)}wr(e,t){return(function(a,o){let c=!1;return pD(a).te((d=>fD(a,d,o).next((f=>(f&&(c=!0),H.resolve(!f)))))).next((()=>c))})(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let o=0;return this.yr(e,((c,d)=>{if(d<=t){const f=this.wr(e,c).next((m=>{if(!m)return o++,r.getEntry(e,c).next((()=>(r.removeEntry(c,Ne.min()),io(e).delete((function(y){return[0,ur(y.path)]})(c)))))}));a.push(f)}})).next((()=>H.waitFor(a))).next((()=>r.apply(e))).next((()=>o))}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return gp(e,t)}yr(e,t){const r=io(e);let a,o=jr.ce;return r.ee({index:a0},(([c,d],{path:f,sequenceNumber:m})=>{c===0?(o!==jr.ce&&t(new ye(fs(a)),o),o=m,a=f):o=jr.ce})).next((()=>{o!==jr.ce&&t(new ye(fs(a)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function gp(n,e){return io(n).put((function(r,a){return{targetId:0,path:ur(r.path),sequenceNumber:a}})(e,n.currentSequenceNumber))}class yD{constructor(){this.changes=new ha((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?H.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class F5{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return tl(e).put(r)}removeEntry(e,t,r){return tl(e).delete((function(o,c){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],ym(c),d[d.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next((r=>(r.byteSize+=t,this.br(e,r))))}getEntry(e,t){let r=an.newInvalidDocument(t);return tl(e).ee({index:jp,range:IDBKeyRange.only(Td(t))},((a,o)=>{r=this.Sr(t,o)})).next((()=>r))}Dr(e,t){let r={size:0,document:an.newInvalidDocument(t)};return tl(e).ee({index:jp,range:IDBKeyRange.only(Td(t))},((a,o)=>{r={document:this.Sr(t,o),size:_m(o)}})).next((()=>r))}getEntries(e,t){let r=ni();return this.Cr(e,t,((a,o)=>{const c=this.Sr(a,o);r=r.insert(a,c)})).next((()=>r))}vr(e,t){let r=ni(),a=new Vt(ye.comparator);return this.Cr(e,t,((o,c)=>{const d=this.Sr(o,c);r=r.insert(o,d),a=a.insert(o,_m(c))})).next((()=>({documents:r,Fr:a})))}Cr(e,t,r){if(t.isEmpty())return H.resolve();let a=new Tt(qA);t.forEach((f=>a=a.add(f)));const o=IDBKeyRange.bound(Td(a.first()),Td(a.last())),c=a.getIterator();let d=c.getNext();return tl(e).ee({index:jp,range:o},((f,m,v)=>{const y=ye.fromSegments([...m.prefixPath,m.collectionGroup,m.documentId]);for(;d&&qA(d,y)<0;)r(d,null),d=c.getNext();d&&d.isEqual(y)&&(r(d,m),d=c.hasNext()?c.getNext():null),d?v.j(Td(d)):v.done()})).next((()=>{for(;d;)r(d,null),d=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(e,t,r,a,o){const c=t.path,d=[c.popLast().toArray(),c.lastSegment(),ym(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return tl(e).H(IDBKeyRange.bound(d,f,!0)).next((m=>{o?.incrementDocumentReadCount(m.length);let v=ni();for(const y of m){const E=this.Sr(ye.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);E.isFoundDocument()&&(Oh(t,E)||a.has(E.key))&&(v=v.insert(E.key,E))}return v}))}getAllFromCollectionGroup(e,t,r,a){let o=ni();const c=FA(t,r),d=FA(t,si.max());return tl(e).ee({index:rR,range:IDBKeyRange.bound(c,d,!0)},((f,m,v)=>{const y=this.Sr(ye.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);o=o.insert(y.key,y),o.size===a&&v.done()})).next((()=>o))}newChangeBuffer(e){return new q5(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return $A(e).get(Pb).next((t=>(Ce(!!t,20021),t)))}br(e,t){return $A(e).put(Pb,t)}Sr(e,t){if(t){const r=R5(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Ne.min())))return r}return an.newInvalidDocument(e)}}function bD(n){return new F5(n)}class q5 extends yD{constructor(e,t){super(),this.Mr=e,this.trackRemovals=t,this.Or=new ha((r=>r.toString()),((r,a)=>r.isEqual(a)))}applyChanges(e){const t=[];let r=0,a=new Tt(((o,c)=>Ue(o.canonicalString(),c.canonicalString())));return this.changes.forEach(((o,c)=>{const d=this.Or.get(o);if(t.push(this.Mr.removeEntry(e,o,d.readTime)),c.isValidDocument()){const f=SA(this.Mr.serializer,c);a=a.add(o.path.popLast());const m=_m(f);r+=m-d.size,t.push(this.Mr.addEntry(e,o,f))}else if(r-=d.size,this.trackRemovals){const f=SA(this.Mr.serializer,c.convertToNoDocument(Ne.min()));t.push(this.Mr.addEntry(e,o,f))}})),a.forEach((o=>{t.push(this.Mr.indexManager.addToCollectionParentIndex(e,o))})),t.push(this.Mr.updateMetadata(e,r)),H.waitFor(t)}getFromCache(e,t){return this.Mr.Dr(e,t).next((r=>(this.Or.set(t,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,t){return this.Mr.vr(e,t).next((({documents:r,Fr:a})=>(a.forEach(((o,c)=>{this.Or.set(o,{size:c,readTime:r.get(o).readTime})})),r)))}}function $A(n){return Bn(n,ah)}function tl(n){return Bn(n,um)}function Td(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function FA(n,e){const t=e.documentKey.path.toArray();return[n,ym(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function qA(n,e){const t=n.path.toArray(),r=e.path.toArray();let a=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(a=Ue(t[o],r[o]),a)return a;return a=Ue(t.length,r.length),a||(a=Ue(t[t.length-2],r[r.length-2]),a||Ue(t[t.length-1],r[r.length-1]))}class H5{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class _D{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&Yd(r.mutation,a,$r.empty(),Et.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Ke()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Ke()){const a=ps();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((o=>{let c=Pd();return o.forEach(((d,f)=>{c=c.insert(d,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=ps();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Ke())))}populateOverlays(e,t,r){const a=[];return r.forEach((o=>{t.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,r,a){let o=ni();const c=Kd(),d=(function(){return Kd()})();return t.forEach(((f,m)=>{const v=r.get(m.key);a.has(m.key)&&(v===void 0||v.mutation instanceof fa)?o=o.insert(m.key,m):v!==void 0?(c.set(m.key,v.mutation.getFieldMask()),Yd(v.mutation,m,v.mutation.getFieldMask(),Et.now())):c.set(m.key,$r.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((m,v)=>c.set(m,v))),t.forEach(((m,v)=>d.set(m,new H5(v,c.get(m)??null)))),d)))}recalculateAndSaveOverlays(e,t){const r=Kd();let a=new Vt(((c,d)=>c-d)),o=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((f=>{const m=t.get(f);if(m===null)return;let v=r.get(f)||$r.empty();v=d.applyToLocalView(m,v),r.set(f,v);const y=(a.get(d.batchId)||Ke()).add(f);a=a.insert(d.batchId,y)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,v=f.value,y=MR();v.forEach((E=>{if(!o.has(E)){const I=$R(t.get(E),r.get(E));I!==null&&y.set(E,I),o=o.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,y))}return H.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return Q6(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):f0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-o.size):H.resolve(ps());let d=Jc,f=o;return c.next((m=>H.forEach(m,((v,y)=>(d<y.largestBatchId&&(d=y.largestBatchId),o.get(v)?H.resolve():this.remoteDocumentCache.getEntry(e,v).next((E=>{f=f.insert(v,E)}))))).next((()=>this.populateOverlays(e,m,o))).next((()=>this.computeViews(e,f,m,Ke()))).next((v=>({batchId:d,changes:PR(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next((r=>{let a=Pd();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const o=t.collectionGroup;let c=Pd();return this.indexManager.getCollectionParents(e,o).next((d=>H.forEach(d,(f=>{const m=(function(y,E){return new To(E,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,r,a).next((v=>{v.forEach(((y,E)=>{c=c.insert(y,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,a)))).next((c=>{o.forEach(((f,m)=>{const v=m.getKey();c.get(v)===null&&(c=c.insert(v,an.newInvalidDocument(v)))}));let d=Pd();return c.forEach(((f,m)=>{const v=o.get(f);v!==void 0&&Yd(v.mutation,m,$r.empty(),Et.now()),Oh(t,m)&&(d=d.insert(f,m))})),d}))}}class G5{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return H.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Ar(a.createTime)}})(t)),H.resolve()}getNamedQuery(e,t){return H.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(a){return{name:a.name,query:lD(a.bundledQuery),readTime:Ar(a.readTime)}})(t)),H.resolve()}}class K5{constructor(){this.overlays=new Vt(ye.comparator),this.Lr=new Map}getOverlay(e,t){return H.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ps();return H.forEach(t,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,o)=>{this.bt(e,t,o)})),H.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Lr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),H.resolve()}getOverlaysForCollection(e,t,r){const a=ps(),o=t.length+1,c=new ye(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===o&&f.largestBatchId>r&&a.set(f.getKey(),f)}return H.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let o=new Vt(((m,v)=>m-v));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let v=o.get(m.largestBatchId);v===null&&(v=ps(),o=o.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const d=ps(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,v)=>d.set(m,v))),!(d.size()>=a)););return H.resolve(d)}bt(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(r.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new y0(t,r));let o=this.Lr.get(t);o===void 0&&(o=Ke(),this.Lr.set(t,o)),this.Lr.set(t,o.add(r.key))}}class Y5{constructor(){this.sessionToken=gn.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,H.resolve()}}class x0{constructor(){this.kr=new Tt(Fn.Kr),this.qr=new Tt(Fn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new Fn(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new Fn(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new ye(new ht([])),r=new Fn(t,e),a=new Fn(t,e+1),o=[];return this.qr.forEachInRange([r,a],(c=>{this.Wr(c),o.push(c.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new ye(new ht([])),r=new Fn(t,e),a=new Fn(t,e+1);let o=Ke();return this.qr.forEachInRange([r,a],(c=>{o=o.add(c.key)})),o}containsKey(e){const t=new Fn(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Fn{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return ye.comparator(e.key,t.key)||Ue(e.Hr,t.Hr)}static Ur(e,t){return Ue(e.Hr,t.Hr)||ye.comparator(e.key,t.key)}}class Q5{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Tt(Fn.Kr)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new g0(o,t,r,a);this.mutationQueue.push(c);for(const d of a)this.Jr=this.Jr.add(new Fn(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return H.resolve(c)}lookupMutationBatch(e,t){return H.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Xr(r),o=a<0?0:a;return H.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?yl:this.Yn-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Fn(t,0),a=new Fn(t,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,a],(c=>{const d=this.Zr(c.Hr);o.push(d)})),H.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Tt(Ue);return t.forEach((a=>{const o=new Fn(a,0),c=new Fn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,c],(d=>{r=r.add(d.Hr)}))})),H.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let o=r;ye.isDocumentKey(o)||(o=o.child(""));const c=new Fn(new ye(o),0);let d=new Tt(Ue);return this.Jr.forEachWhile((f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===a&&(d=d.add(f.Hr)),!0)}),c),H.resolve(this.Yr(d))}Yr(e){const t=[];return e.forEach((r=>{const a=this.Zr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Ce(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return H.forEach(t.mutations,(a=>{const o=new Fn(a.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new Fn(t,0),a=this.Jr.firstAfterOrEqual(r);return H.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class W5{constructor(e){this.ti=e,this.docs=(function(){return new Vt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),o=a?a.size:0,c=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return H.resolve(r?r.document.mutableCopy():an.newInvalidDocument(t))}getEntries(e,t){let r=ni();return t.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():an.newInvalidDocument(a))})),H.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let o=ni();const c=t.path,d=new ye(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:v}}=f.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||i0(XC(v),r)<=0||(a.has(v.key)||Oh(t,v))&&(o=o.insert(v.key,v.mutableCopy()))}return H.resolve(o)}getAllFromCollectionGroup(e,t,r,a){xe(9500)}ni(e,t){return H.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new X5(this)}getSize(e){return H.resolve(this.size)}}class X5 extends yD{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(r)})),H.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class J5{constructor(e){this.persistence=e,this.ri=new ha((t=>Il(t)),Nh),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.ii=0,this.si=new x0,this.targetCount=0,this.oi=kl._r()}forEachTarget(e,t){return this.ri.forEach(((r,a)=>t(a))),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),H.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new kl(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,H.resolve()}updateTargetData(e,t){return this.lr(t),H.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,t,r){let a=0;const o=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.ri.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),H.waitFor(o).next((()=>a))}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return H.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),H.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach((c=>{o.push(a.markPotentiallyOrphaned(e,c))})),H.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),H.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return H.resolve(r)}containsKey(e,t){return H.resolve(this.si.containsKey(t))}}class T0{constructor(e,t){this._i={},this.overlays={},this.ai=new jr(0),this.ui=!1,this.ui=!0,this.ci=new Y5,this.referenceDelegate=e(this),this.li=new J5(this),this.indexManager=new L5,this.remoteDocumentCache=(function(a){return new W5(a)})((r=>this.referenceDelegate.hi(r))),this.serializer=new aD(t),this.Pi=new G5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new K5,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new Q5(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){he("MemoryPersistence","Starting transaction:",e);const a=new Z5(this.ai.next());return this.referenceDelegate.Ti(),r(a).next((o=>this.referenceDelegate.Ii(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ei(e,t){return H.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class Z5 extends ZC{constructor(e){super(),this.currentSequenceNumber=e}}class cg{constructor(e){this.persistence=e,this.Ri=new x0,this.Ai=null}static Vi(e){return new cg(e)}get di(){if(this.Ai)return this.Ai;throw xe(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),H.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),H.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((a=>this.di.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.di,(r=>{const a=ye.fromPath(r);return this.mi(e,a).next((o=>{o||t.removeEntry(a,Ne.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return H.or([()=>H.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class wm{constructor(e,t){this.persistence=e,this.fi=new ha((r=>ur(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=vD(this,t)}static Vi(e,t){return new wm(e,t)}Ti(){}Ii(e){return H.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return H.forEach(this.fi,((r,a)=>this.wr(e,r,a).next((o=>o?H.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,t).next((d=>{d||(r++,o.removeEntry(c,Ne.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),H.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),H.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Fp(e.data.value)),t}wr(e,t,r){return H.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.fi.get(t);return H.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class e3{constructor(e){this.serializer=e}k(e,t,r,a){const o=new Qm("createOrUpgrade",t);r<1&&a>=1&&((function(f){f.createObjectStore(Dh)})(e),(function(f){f.createObjectStore(sh,{keyPath:d6}),f.createObjectStore(Fi,{keyPath:tA,autoIncrement:!0}).createIndex(ml,nA,{unique:!0}),f.createObjectStore(Zc)})(e),HA(e),(function(f){f.createObjectStore(ll)})(e));let c=H.resolve();return r<3&&a>=3&&(r!==0&&((function(f){f.deleteObjectStore(tu),f.deleteObjectStore(eu),f.deleteObjectStore(bl)})(e),HA(e)),c=c.next((()=>(function(f){const m=f.store(bl),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ne.min().toTimestamp(),targetCount:0};return m.put(dm,v)})(o)))),r<4&&a>=4&&(r!==0&&(c=c.next((()=>(function(f,m){return m.store(Fi).H().next((y=>{f.deleteObjectStore(Fi),f.createObjectStore(Fi,{keyPath:tA,autoIncrement:!0}).createIndex(ml,nA,{unique:!0});const E=m.store(Fi),I=y.map((U=>E.put(U)));return H.waitFor(I)}))})(e,o)))),c=c.next((()=>{(function(f){f.createObjectStore(nu,{keyPath:_6})})(e)}))),r<5&&a>=5&&(c=c.next((()=>this.gi(o)))),r<6&&a>=6&&(c=c.next((()=>((function(f){f.createObjectStore(ah)})(e),this.pi(o))))),r<7&&a>=7&&(c=c.next((()=>this.yi(o)))),r<8&&a>=8&&(c=c.next((()=>this.wi(e,o)))),r<9&&a>=9&&(c=c.next((()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&a>=10&&(c=c.next((()=>this.bi(o)))),r<11&&a>=11&&(c=c.next((()=>{(function(f){f.createObjectStore(Xm,{keyPath:w6})})(e),(function(f){f.createObjectStore(Jm,{keyPath:E6})})(e)}))),r<12&&a>=12&&(c=c.next((()=>{(function(f){const m=f.createObjectStore(Zm,{keyPath:R6});m.createIndex(Vb,D6,{unique:!1}),m.createIndex(oR,N6,{unique:!1})})(e)}))),r<13&&a>=13&&(c=c.next((()=>(function(f){const m=f.createObjectStore(um,{keyPath:f6});m.createIndex(jp,p6),m.createIndex(rR,m6)})(e))).next((()=>this.Si(e,o))).next((()=>e.deleteObjectStore(ll)))),r<14&&a>=14&&(c=c.next((()=>this.Di(e,o)))),r<15&&a>=15&&(c=c.next((()=>(function(f){f.createObjectStore(o0,{keyPath:x6,autoIncrement:!0}).createIndex(Mb,T6,{unique:!1}),f.createObjectStore(qd,{keyPath:S6}).createIndex(sR,A6,{unique:!1}),f.createObjectStore(Hd,{keyPath:I6}).createIndex(aR,C6,{unique:!1})})(e)))),r<16&&a>=16&&(c=c.next((()=>{t.objectStore(qd).clear()})).next((()=>{t.objectStore(Hd).clear()}))),r<17&&a>=17&&(c=c.next((()=>{(function(f){f.createObjectStore(l0,{keyPath:k6})})(e)}))),r<18&&a>=18&&Z1()&&(c=c.next((()=>{t.objectStore(qd).clear()})).next((()=>{t.objectStore(Hd).clear()}))),c}pi(e){let t=0;return e.store(ll).ee(((r,a)=>{t+=_m(a)})).next((()=>{const r={byteSize:t};return e.store(ah).put(Pb,r)}))}gi(e){const t=e.store(sh),r=e.store(Fi);return t.H().next((a=>H.forEach(a,(o=>{const c=IDBKeyRange.bound([o.userId,yl],[o.userId,o.lastAcknowledgedBatchId]);return r.H(ml,c).next((d=>H.forEach(d,(f=>{Ce(f.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:f.batchId});const m=dl(this.serializer,f);return hD(e,o.userId,m).next((()=>{}))}))))}))))}yi(e){const t=e.store(tu),r=e.store(ll);return e.store(bl).get(dm).next((a=>{const o=[];return r.ee(((c,d)=>{const f=new ht(c),m=(function(y){return[0,ur(y)]})(f);o.push(t.get(m).next((v=>v?H.resolve():(y=>t.put({targetId:0,path:ur(y),sequenceNumber:a.highestListenSequenceNumber}))(f))))})).next((()=>H.waitFor(o)))}))}wi(e,t){e.createObjectStore(oh,{keyPath:b6});const r=t.store(oh),a=new E0,o=c=>{if(a.add(c)){const d=c.lastSegment(),f=c.popLast();return r.put({collectionId:d,parent:ur(f)})}};return t.store(ll).ee({Y:!0},((c,d)=>{const f=new ht(c);return o(f.popLast())})).next((()=>t.store(Zc).ee({Y:!0},(([c,d,f],m)=>{const v=fs(d);return o(v.popLast())}))))}bi(e){const t=e.store(eu);return t.ee(((r,a)=>{const o=Vd(a),c=oD(this.serializer,o);return t.put(c)}))}Si(e,t){const r=t.store(ll),a=[];return r.ee(((o,c)=>{const d=t.store(um),f=(function(y){return y.document?new ye(ht.fromString(y.document.name).popFirst(5)):y.noDocument?ye.fromSegments(y.noDocument.path):y.unknownDocument?ye.fromSegments(y.unknownDocument.path):xe(36783)})(c).path.toArray(),m={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};a.push(d.put(m))})).next((()=>H.waitFor(a)))}Di(e,t){const r=t.store(Fi),a=bD(this.serializer),o=new T0(cg.Vi,this.serializer.yt);return r.H().next((c=>{const d=new Map;return c.forEach((f=>{let m=d.get(f.userId)??Ke();dl(this.serializer,f).keys().forEach((v=>m=m.add(v))),d.set(f.userId,m)})),H.forEach(d,((f,m)=>{const v=new ar(m),y=og.wt(this.serializer,v),E=o.getIndexManager(v),I=lg.wt(v,this.serializer,E,o.referenceDelegate);return new _D(a,I,y,E).recalculateAndSaveOverlaysForDocumentKeys(new Lb(t,jr.ce),f).next()}))}))}}function HA(n){n.createObjectStore(tu,{keyPath:v6}).createIndex(a0,y6,{unique:!0}),n.createObjectStore(eu,{keyPath:"targetId"}).createIndex(iR,g6,{unique:!0}),n.createObjectStore(bl)}const Ja="IndexedDbPersistence",Yy=18e5,Qy=5e3,Wy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",t3="main";class S0{constructor(e,t,r,a,o,c,d,f,m,v,y=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ci=o,this.window=c,this.document=d,this.Fi=m,this.Mi=v,this.xi=y,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=E=>Promise.resolve(),!S0.v())throw new pe(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $5(this,a),this.Ki=t+t3,this.serializer=new aD(f),this.qi=new co(this.Ki,this.xi,new e3(this.serializer)),this.ci=new N5,this.li=new B5(this.referenceDelegate,this.serializer),this.remoteDocumentCache=bD(this.serializer),this.Pi=new D5,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,v===!1&&mn(Ja,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new pe(te.FAILED_PRECONDITION,Wy);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.li.getHighestSequenceNumber(e)))})).then((e=>{this.ai=new jr(e,this.Fi)})).then((()=>{this.ui=!0})).catch((e=>(this.qi&&this.qi.close(),Promise.reject(e))))}zi(e){return this.ki=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>vp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(e).next((t=>{t||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(e))).next((t=>this.isPrimary&&!t?this.Ji(e).next((()=>!1)):!!t&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(Eo(e))return he(Ja,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return he(Ja,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable((()=>this.ki(e))),this.isPrimary=e}))}ji(e){return Sd(e).get(Ac).next((t=>H.resolve(this.Xi(t))))}Yi(e){return vp(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,Yy)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const r=Bn(t,nu);return r.H().next((a=>{const o=this.ns(a,Yy),c=a.filter((d=>o.indexOf(d)===-1));return H.forEach(c,(d=>r.delete(d.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ui)for(const t of e)this.Ui.removeItem(this.rs(t.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?H.resolve(!0):Sd(e).get(Ac).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,Qy)&&!this.ss(t.ownerId)){if(this.Xi(t)&&this.networkEnabled)return!0;if(!this.Xi(t)){if(!t.allowTabSynchronization)throw new pe(te.FAILED_PRECONDITION,Wy);return!1}}return!(!this.networkEnabled||!this.inForeground)||vp(e).H().next((r=>this.ns(r,Qy).find((a=>{if(this.clientId!==a.clientId){const o=!this.networkEnabled&&a.networkEnabled,c=!this.inForeground&&a.inForeground,d=this.networkEnabled===a.networkEnabled;if(o||c&&d)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&he(Ja,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[Dh,nu],(e=>{const t=new Lb(e,jr.ce);return this.Ji(t).next((()=>this.Yi(t)))})),this.qi.close(),this.ls()}ns(e,t){return e.filter((r=>this.ts(r.updateTimeMs,t)&&!this.ss(r.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(e=>vp(e).H().next((t=>this.ns(t,Yy).map((r=>r.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,t){return lg.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new U5(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return og.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,t,r){he(Ja,"Starting transaction:",e);const a=t==="readonly"?"readonly":"readwrite",o=(function(f){return f===18?M6:f===17?dR:f===16?P6:f===15?c0:f===14?uR:f===13?cR:f===12?O6:f===11?lR:void xe(60245)})(this.xi);let c;return this.qi.runTransaction(e,a,o,(d=>(c=new Lb(d,this.ai?this.ai.next():jr.ce),t==="readwrite-primary"?this.ji(c).next((f=>!!f||this.Hi(c))).next((f=>{if(!f)throw mn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new pe(te.FAILED_PRECONDITION,JC);return r(c)})).next((f=>this.Zi(c).next((()=>f)))):this.Ps(c).next((()=>r(c)))))).then((d=>(c.raiseOnCommittedEvent(),d)))}Ps(e){return Sd(e).get(Ac).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,Qy)&&!this.ss(t.ownerId)&&!this.Xi(t)&&!(this.Mi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new pe(te.FAILED_PRECONDITION,Wy)}))}Zi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Sd(e).put(Ac,t)}static v(){return co.v()}Ji(e){const t=Sd(e);return t.get(Ac).next((r=>this.Xi(r)?(he(Ja,"Releasing primary lease."),t.delete(Ac)):H.resolve()))}ts(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(mn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const e=/(?:Version|Mobile)\/1[456]/;J1()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){try{const t=this.Ui?.getItem(this.rs(e))!==null;return he(Ja,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return mn(Ja,"Failed to get zombied client id.",t),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){mn("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Sd(n){return Bn(n,Dh)}function vp(n){return Bn(n,nu)}function wD(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class A0{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=a}static Es(e,t){let r=Ke(),a=Ke();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new A0(e,t.fromCache,r,a)}}class n3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ED{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return J1()?8:eR(Un())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const o={result:null};return this.gs(e,t).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ps(e,t,a,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new n3;return this.ys(e,t,c).next((d=>{if(o.result=d,this.As)return this.ws(e,t,c,d.size)}))})).next((()=>o.result))}ws(e,t,r,a){return r.documentReadCount<this.Vs?(Mc()<=rt.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Vc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),H.resolve()):(Mc()<=rt.DEBUG&&he("QueryEngine","Query:",Vc(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(Mc()<=rt.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Vc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ii(t))):H.resolve())}gs(e,t){if(mA(t))return H.resolve(null);let r=ii(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=mm(t,null,"F"),r=ii(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const c=Ke(...o);return this.fs.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const m=this.bs(t,d);return this.Ss(t,m,c,f.readTime)?this.gs(e,mm(t,null,"F")):this.Ds(e,m,t,f)}))))})))))}ps(e,t,r,a){return mA(t)||a.isEqual(Ne.min())?H.resolve(null):this.fs.getDocuments(e,r).next((o=>{const c=this.bs(t,o);return this.Ss(t,c,r,a)?H.resolve(null):(Mc()<=rt.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Vc(t)),this.Ds(e,c,t,WC(a,Jc)).next((d=>d)))}))}bs(e,t){let r=new Tt(kR(e));return t.forEach(((a,o)=>{Oh(e,o)&&(r=r.add(o))})),r}Ss(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}ys(e,t,r){return Mc()<=rt.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Vc(t)),this.fs.getDocumentsMatchingQuery(e,t,si.min(),r)}Ds(e,t,r,a){return this.fs.getDocumentsMatchingQuery(e,r,a).next((o=>(t.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const I0="LocalStore",r3=3e8;class i3{constructor(e,t,r,a){this.persistence=e,this.Cs=t,this.serializer=a,this.vs=new Vt(Ue),this.Fs=new ha((o=>Il(o)),Nh),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _D(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function xD(n,e,t,r){return new i3(n,e,t,r)}async function TD(n,e){const t=Se(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],d=[];let f=Ke();for(const m of a){c.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of o){d.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(r,f).next((m=>({Ns:m,removedBatchIds:c,addedBatchIds:d})))}))}))}function s3(n,e){const t=Se(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=t.xs.newChangeBuffer({trackRemovals:!0});return(function(d,f,m,v){const y=m.batch,E=y.keys();let I=H.resolve();return E.forEach((U=>{I=I.next((()=>v.getEntry(f,U))).next((k=>{const V=m.docVersions.get(U);Ce(V!==null,48541),k.version.compareTo(V)<0&&(y.applyToRemoteDocument(k,m),k.isValidDocument()&&(k.setReadTime(m.commitVersion),v.addEntry(k)))}))})),I.next((()=>d.mutationQueue.removeMutationBatch(f,y)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=Ke();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function SD(n){const e=Se(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function a3(n,e){const t=Se(n),r=e.snapshotVersion;let a=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=t.xs.newChangeBuffer({trackRemovals:!0});a=t.vs;const d=[];e.targetChanges.forEach(((v,y)=>{const E=a.get(y);if(!E)return;d.push(t.li.removeMatchingKeys(o,v.removedDocuments,y).next((()=>t.li.addMatchingKeys(o,v.addedDocuments,y))));let I=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?I=I.withResumeToken(gn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,r)),a=a.insert(y,I),(function(k,V,K){return k.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=r3?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(E,I,v)&&d.push(t.li.updateTargetData(o,I))}));let f=ni(),m=Ke();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(o,v))})),d.push(o3(o,c,e.documentUpdates).next((v=>{f=v.Bs,m=v.Ls}))),!r.isEqual(Ne.min())){const v=t.li.getLastRemoteSnapshotVersion(o).next((y=>t.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));d.push(v)}return H.waitFor(d).next((()=>c.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,f,m))).next((()=>f))})).then((o=>(t.vs=a,o)))}function o3(n,e,t){let r=Ke(),a=Ke();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let c=ni();return t.forEach(((d,f)=>{const m=o.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(d)),f.isNoDocument()&&f.version.isEqual(Ne.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):he(I0,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)})),{Bs:c,Ls:a}}))}function l3(n,e){const t=Se(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=yl),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Em(n,e){const t=Se(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.li.getTargetData(r,e).next((o=>o?(a=o,H.resolve(a)):t.li.allocateTargetId(r).next((c=>(a=new Js(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.vs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function cu(n,e,t){const r=Se(n),a=r.vs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Eo(c))throw c;he(I0,`Failed to update sequence numbers for target ${e}: ${c}`)}r.vs=r.vs.remove(e),r.Fs.delete(a.target)}function Xb(n,e,t){const r=Se(n);let a=Ne.min(),o=Ke();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,m,v){const y=Se(f),E=y.Fs.get(v);return E!==void 0?H.resolve(y.vs.get(E)):y.li.getTargetData(m,v)})(r,c,ii(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,d.targetId).next((f=>{o=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,e,t?a:Ne.min(),t?o:Ke()))).next((d=>(CD(r,NR(e),d),{documents:d,ks:o})))))}function AD(n,e){const t=Se(n),r=Se(t.li),a=t.vs.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",(o=>r.At(o,e).next((c=>c?c.target:null))))}function ID(n,e){const t=Se(n),r=t.Ms.get(e)||Ne.min();return t.persistence.runTransaction("Get new document changes","readonly",(a=>t.xs.getAllFromCollectionGroup(a,e,WC(r,Jc),Number.MAX_SAFE_INTEGER))).then((a=>(CD(t,e,a),a)))}function CD(n,e,t){let r=n.Ms.get(e)||Ne.min();t.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Ms.set(e,r)}const RD="firestore_clients";function GA(n,e){return`${RD}_${n}_${e}`}const DD="firestore_mutations";function KA(n,e,t){let r=`${DD}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const ND="firestore_targets";function Xy(n,e){return`${ND}_${n}_${e}`}const hs="SharedClientState";class xm{constructor(e,t,r,a){this.user=e,this.batchId=t,this.state=r,this.error=a}static $s(e,t,r){const a=JSON.parse(r);let o,c=typeof a=="object"&&["pending","acknowledged","rejected"].indexOf(a.state)!==-1&&(a.error===void 0||typeof a.error=="object");return c&&a.error&&(c=typeof a.error.message=="string"&&typeof a.error.code=="string",c&&(o=new pe(a.error.code,a.error.message))),c?new xm(e,t,a.state,o):(mn(hs,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qd{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static $s(e,t){const r=JSON.parse(t);let a,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(a=new pe(r.error.code,r.error.message))),o?new Qd(e,r.state,a):(mn(hs,`Failed to parse target state for ID '${e}': ${t}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Tm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const r=JSON.parse(t);let a=typeof r=="object"&&r.activeTargetIds instanceof Array,o=p0();for(let c=0;a&&c<r.activeTargetIds.length;++c)a=tR(r.activeTargetIds[c]),o=o.add(r.activeTargetIds[c]);return a?new Tm(e,o):(mn(hs,`Failed to parse client data for instance '${e}': ${t}`),null)}}class C0{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new C0(t.clientId,t.onlineState):(mn(hs,`Failed to parse online state: ${e}`),null)}}class Jb{constructor(){this.activeTargetIds=p0()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Jy{constructor(e,t,r,a,o){this.window=e,this.Ci=t,this.persistenceKey=r,this.zs=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.js=this.Hs.bind(this),this.Js=new Vt(Ue),this.started=!1,this.Zs=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Xs=GA(this.persistenceKey,this.zs),this.Ys=(function(f){return`firestore_sequence_number_${f}`})(this.persistenceKey),this.Js=this.Js.insert(this.zs,new Jb),this.eo=new RegExp(`^${RD}_${c}_([^_]*)$`),this.no=new RegExp(`^${DD}_${c}_(\\d+)(?:_(.*))?$`),this.ro=new RegExp(`^${ND}_${c}_(\\d+)$`),this.io=(function(f){return`firestore_online_state_${f}`})(this.persistenceKey),this.so=(function(f){return`firestore_bundle_loaded_v2_${f}`})(this.persistenceKey),this.window.addEventListener("storage",this.js)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.hs();for(const r of e){if(r===this.zs)continue;const a=this.getItem(GA(this.persistenceKey,r));if(a){const o=Tm.$s(r,a);o&&(this.Js=this.Js.insert(o.clientId,o))}}this.oo();const t=this.storage.getItem(this.io);if(t){const r=this._o(t);r&&this.ao(r)}for(const r of this.Zs)this.Hs(r);this.Zs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ys,JSON.stringify(e))}getAllActiveQueryTargets(){return this.uo(this.Js)}isActiveQueryTarget(e){let t=!1;return this.Js.forEach(((r,a)=>{a.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.co(e,"pending")}updateMutationState(e,t,r){this.co(e,t,r),this.lo(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(Xy(this.persistenceKey,e));if(a){const o=Qd.$s(e,a);o&&(r=o.state)}}return t&&this.ho.Qs(e),this.oo(),r}removeLocalQueryTarget(e){this.ho.Gs(e),this.oo()}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Xy(this.persistenceKey,e))}updateQueryState(e,t,r){this.Po(e,t,r)}handleUserChange(e,t,r){t.forEach((a=>{this.lo(a)})),this.currentUser=e,r.forEach((a=>{this.addPendingMutation(a)}))}setOnlineState(e){this.To(e)}notifyBundleLoaded(e){this.Io(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.js),this.removeItem(this.Xs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return he(hs,"READ",e,t),t}setItem(e,t){he(hs,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){he(hs,"REMOVE",e),this.storage.removeItem(e)}Hs(e){const t=e;if(t.storageArea===this.storage){if(he(hs,"EVENT",t.key,t.newValue),t.key===this.Xs)return void mn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ci.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.eo.test(t.key)){if(t.newValue==null){const r=this.Eo(t.key);return this.Ro(r,null)}{const r=this.Ao(t.key,t.newValue);if(r)return this.Ro(r.clientId,r)}}else if(this.no.test(t.key)){if(t.newValue!==null){const r=this.Vo(t.key,t.newValue);if(r)return this.mo(r)}}else if(this.ro.test(t.key)){if(t.newValue!==null){const r=this.fo(t.key,t.newValue);if(r)return this.po(r)}}else if(t.key===this.io){if(t.newValue!==null){const r=this._o(t.newValue);if(r)return this.ao(r)}}else if(t.key===this.Ys){const r=(function(o){let c=jr.ce;if(o!=null)try{const d=JSON.parse(o);Ce(typeof d=="number",30636,{yo:o}),c=d}catch(d){mn(hs,"Failed to read sequence number from WebStorage",d)}return c})(t.newValue);r!==jr.ce&&this.sequenceNumberHandler(r)}else if(t.key===this.so){const r=this.wo(t.newValue);await Promise.all(r.map((a=>this.syncEngine.bo(a))))}}}else this.Zs.push(t)}))}}get ho(){return this.Js.get(this.zs)}oo(){this.setItem(this.Xs,this.ho.Ws())}co(e,t,r){const a=new xm(this.currentUser,e,t,r),o=KA(this.persistenceKey,this.currentUser,e);this.setItem(o,a.Ws())}lo(e){const t=KA(this.persistenceKey,this.currentUser,e);this.removeItem(t)}To(e){const t={clientId:this.zs,onlineState:e};this.storage.setItem(this.io,JSON.stringify(t))}Po(e,t,r){const a=Xy(this.persistenceKey,e),o=new Qd(e,t,r);this.setItem(a,o.Ws())}Io(e){const t=JSON.stringify(Array.from(e));this.setItem(this.so,t)}Eo(e){const t=this.eo.exec(e);return t?t[1]:null}Ao(e,t){const r=this.Eo(e);return Tm.$s(r,t)}Vo(e,t){const r=this.no.exec(e),a=Number(r[1]),o=r[2]!==void 0?r[2]:null;return xm.$s(new ar(o),a,t)}fo(e,t){const r=this.ro.exec(e),a=Number(r[1]);return Qd.$s(a,t)}_o(e){return C0.$s(e)}wo(e){return JSON.parse(e)}async mo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.So(e.batchId,e.state,e.error);he(hs,`Ignoring mutation for non-active user ${e.user.uid}`)}po(e){return this.syncEngine.Do(e.targetId,e.state,e.error)}Ro(e,t){const r=t?this.Js.insert(e,t):this.Js.remove(e),a=this.uo(this.Js),o=this.uo(r),c=[],d=[];return o.forEach((f=>{a.has(f)||c.push(f)})),a.forEach((f=>{o.has(f)||d.push(f)})),this.syncEngine.Co(c,d).then((()=>{this.Js=r}))}ao(e){this.Js.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}uo(e){let t=p0();return e.forEach(((r,a)=>{t=t.unionWith(a.activeTargetIds)})),t}}class kD{constructor(){this.vo=new Jb,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Jb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class c3{Mo(e){}shutdown(){}}const YA="ConnectivityMonitor";class QA{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){he(YA,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){he(YA,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let yp=null;function Zb(){return yp===null?yp=(function(){return 268435456+Math.round(2147483648*Math.random())})():yp++,"0x"+yp.toString(16)}const Zy="RestConnection",u3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class d3{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${a}`,this.$o=this.databaseId.database===hm?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Wo(e,t,r,a,o){const c=Zb(),d=this.Qo(e,t.toUriEncodedString());he(Zy,`Sending RPC '${e}' ${c}:`,d,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,a,o);const{host:m}=new URL(d),v=vu(m);return this.zo(e,d,f,r,v).then((y=>(he(Zy,`Received RPC '${e}' ${c}: `,y),y)),(y=>{throw Wc(Zy,`RPC '${e}' ${c} failed with error: `,y,"url: ",d,"request:",r),y}))}jo(e,t,r,a,o,c){return this.Wo(e,t,r,a,o)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Eu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}Qo(e,t){const r=u3[e];let a=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class h3{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const sr="WebChannelConnection",Ad=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Hc extends d3{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Hc.c_){const e=qC();Ad(e,FC.STAT_EVENT,(t=>{t.stat===Db.PROXY?he(sr,"STAT_EVENT: detected buffering proxy"):t.stat===Db.NOPROXY&&he(sr,"STAT_EVENT: detected no buffering proxy")})),Hc.c_=!0}}zo(e,t,r,a,o){const c=Zb();return new Promise(((d,f)=>{const m=new jC;m.setWithCredentials(!0),m.listenOnce($C.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Up.NO_ERROR:const y=m.getResponseJson();he(sr,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(y)),d(y);break;case Up.TIMEOUT:he(sr,`RPC '${e}' ${c} timed out`),f(new pe(te.DEADLINE_EXCEEDED,"Request time out"));break;case Up.HTTP_ERROR:const E=m.getStatus();if(he(sr,`RPC '${e}' ${c} failed with status:`,E,"response text:",m.getResponseText()),E>0){let I=m.getResponseJson();Array.isArray(I)&&(I=I[0]);const U=I?.error;if(U&&U.status&&U.message){const k=(function(K){const F=K.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(F)>=0?F:te.UNKNOWN})(U.status);f(new pe(k,U.message))}else f(new pe(te.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new pe(te.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{he(sr,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);he(sr,`RPC '${e}' ${c} sending request:`,a),m.send(t,"POST",v,r,15)}))}T_(e,t,r){const a=Zb(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const m=o.join("");he(sr,`Creating RPC '${e}' stream ${a}: ${m}`,d);const v=c.createWebChannel(m,d);this.I_(v);let y=!1,E=!1;const I=new h3({Ho:U=>{E?he(sr,`Not sending because RPC '${e}' stream ${a} is closed:`,U):(y||(he(sr,`Opening RPC '${e}' stream ${a} transport.`),v.open(),y=!0),he(sr,`RPC '${e}' stream ${a} sending:`,U),v.send(U))},Jo:()=>v.close()});return Ad(v,Od.EventType.OPEN,(()=>{E||(he(sr,`RPC '${e}' stream ${a} transport opened.`),I.i_())})),Ad(v,Od.EventType.CLOSE,(()=>{E||(E=!0,he(sr,`RPC '${e}' stream ${a} transport closed`),I.o_(),this.E_(v))})),Ad(v,Od.EventType.ERROR,(U=>{E||(E=!0,Wc(sr,`RPC '${e}' stream ${a} transport errored. Name:`,U.name,"Message:",U.message),I.o_(new pe(te.UNAVAILABLE,"The operation could not be completed")))})),Ad(v,Od.EventType.MESSAGE,(U=>{if(!E){const k=U.data[0];Ce(!!k,16349);const V=k,K=V?.error||V[0]?.error;if(K){he(sr,`RPC '${e}' stream ${a} received error:`,K);const F=K.status;let G=(function(de){const D=An[de];if(D!==void 0)return HR(D)})(F),ce=K.message;F==="NOT_FOUND"&&ce.includes("database")&&ce.includes("does not exist")&&ce.includes(this.databaseId.database)&&Wc(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),G===void 0&&(G=te.INTERNAL,ce="Unknown error status: "+F+" with message "+K.message),E=!0,I.o_(new pe(G,ce)),v.close()}else he(sr,`RPC '${e}' stream ${a} received:`,k),I.__(k)}})),Hc.u_(),setTimeout((()=>{I.s_()}),0),I}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return HC()}}function f3(n){return new Hc(n)}function OD(){return typeof window<"u"?window:null}function Yp(){return typeof document<"u"?document:null}function ug(n){return new b5(n,!0)}Hc.c_=!1;class PD{constructor(e,t,r=1e3,a=1.5,o=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=a,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&he("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const WA="PersistentStream";class MD{constructor(e,t,r,a,o,c,d,f){this.Ci=e,this.b_=r,this.S_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new PD(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(mn(t.toString()),mn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new pe(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(WA,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(he(WA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class p3 extends MD{constructor(e,t,r,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,c),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=E5(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Ne.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Ne.min():c.readTime?Ar(c.readTime):Ne.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=Gb(this.serializer),t.addTarget=(function(o,c){let d;const f=c.target;if(d=fm(f)?{documents:ZR(o,f)}:{query:eD(o,f).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=YR(o,c.resumeToken);const m=qb(o,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(Ne.min())>0){d.readTime=lu(o,c.snapshotVersion.toTimestamp());const m=qb(o,c.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const r=T5(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=Gb(this.serializer),t.removeTarget=e,this.K_(t)}}class m3 extends MD{constructor(e,t,r,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,c),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return Ce(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ce(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=x5(e.writeResults,e.commitTime),r=Ar(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Gb(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>vm(this.serializer,r)))};this.K_(t)}}class g3{}class v3 extends g3{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new pe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Wo(e,Hb(t,r),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pe(te.UNKNOWN,o.toString())}))}jo(e,t,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(e,Hb(t,r),a,c,d,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(te.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function y3(n,e,t,r){return new v3(n,e,t,r)}class b3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mn(t),this.aa=!1):he("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ol="RemoteStore";class _3{constructor(e,t,r,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{Bl(this)&&(he(Ol,"Restarting streams for network reachability change."),await(async function(f){const m=Se(f);m.Ea.add(4),await Lh(m),m.Va.set("Unknown"),m.Ea.delete(4),await dg(m)})(this))}))})),this.Va=new b3(r,a)}}async function dg(n){if(Bl(n))for(const e of n.Ra)await e(!0)}async function Lh(n){for(const e of n.Ra)await e(!1)}function hg(n,e){const t=Se(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),N0(t)?D0(t):Su(t).O_()&&R0(t,e))}function uu(n,e){const t=Se(n),r=Su(t);t.Ia.delete(e),r.O_()&&VD(t,e),t.Ia.size===0&&(r.O_()?r.L_():Bl(t)&&t.Va.set("Unknown"))}function R0(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Su(n).Z_(e)}function VD(n,e){n.da.$e(e),Su(n).X_(e)}function D0(n){n.da=new m5({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Su(n).start(),n.Va.ua()}function N0(n){return Bl(n)&&!Su(n).x_()&&n.Ia.size>0}function Bl(n){return Se(n).Ea.size===0}function LD(n){n.da=void 0}async function w3(n){n.Va.set("Online")}async function E3(n){n.Ia.forEach(((e,t)=>{R0(n,e)}))}async function x3(n,e){LD(n),N0(n)?(n.Va.ha(e),D0(n)):n.Va.set("Unknown")}async function T3(n,e,t){if(n.Va.set("Online"),e instanceof KR&&e.state===2&&e.cause)try{await(async function(a,o){const c=o.cause;for(const d of o.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.da.removeTarget(d))})(n,e)}catch(r){he(Ol,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sm(n,r)}else if(e instanceof Gp?n.da.Xe(e):e instanceof GR?n.da.st(e):n.da.tt(e),!t.isEqual(Ne.min()))try{const r=await SD(n.localStore);t.compareTo(r)>=0&&await(function(o,c){const d=o.da.Tt(c);return d.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=o.Ia.get(m);v&&o.Ia.set(m,v.withResumeToken(f.resumeToken,c))}})),d.targetMismatches.forEach(((f,m)=>{const v=o.Ia.get(f);if(!v)return;o.Ia.set(f,v.withResumeToken(gn.EMPTY_BYTE_STRING,v.snapshotVersion)),VD(o,f);const y=new Js(v.target,f,m,v.sequenceNumber);R0(o,y)})),o.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(r){he(Ol,"Failed to raise snapshot:",r),await Sm(n,r)}}async function Sm(n,e,t){if(!Eo(e))throw e;n.Ea.add(1),await Lh(n),n.Va.set("Offline"),t||(t=()=>SD(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{he(Ol,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await dg(n)}))}function UD(n,e){return e().catch((t=>Sm(n,t,e)))}async function Tu(n){const e=Se(n),t=mo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:yl;for(;S3(e);)try{const a=await l3(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,A3(e,a)}catch(a){await Sm(e,a)}BD(e)&&zD(e)}function S3(n){return Bl(n)&&n.Ta.length<10}function A3(n,e){n.Ta.push(e);const t=mo(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function BD(n){return Bl(n)&&!mo(n).x_()&&n.Ta.length>0}function zD(n){mo(n).start()}async function I3(n){mo(n).ra()}async function C3(n){const e=mo(n);for(const t of n.Ta)e.ea(t.mutations)}async function R3(n,e,t){const r=n.Ta.shift(),a=v0.from(r,e,t);await UD(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Tu(n)}async function D3(n,e){e&&mo(n).Y_&&await(async function(r,a){if((function(c){return h5(c)&&c!==te.ABORTED})(a.code)){const o=r.Ta.shift();mo(r).B_(),await UD(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await Tu(r)}})(n,e),BD(n)&&zD(n)}async function XA(n,e){const t=Se(n);t.asyncQueue.verifyOperationInProgress(),he(Ol,"RemoteStore received new credentials");const r=Bl(t);t.Ea.add(3),await Lh(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await dg(t)}async function e_(n,e){const t=Se(n);e?(t.Ea.delete(2),await dg(t)):e||(t.Ea.add(2),await Lh(t),t.Va.set("Unknown"))}function Su(n){return n.ma||(n.ma=(function(t,r,a){const o=Se(t);return o.sa(),new p3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Zo:w3.bind(null,n),Yo:E3.bind(null,n),t_:x3.bind(null,n),J_:T3.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),N0(n)?D0(n):n.Va.set("Unknown")):(await n.ma.stop(),LD(n))}))),n.ma}function mo(n){return n.fa||(n.fa=(function(t,r,a){const o=Se(t);return o.sa(),new m3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:I3.bind(null,n),t_:D3.bind(null,n),ta:C3.bind(null,n),na:R3.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await Tu(n)):(await n.fa.stop(),n.Ta.length>0&&(he(Ol,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class k0{constructor(e,t,r,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,o){const c=Date.now()+r,d=new k0(e,t,c,a,o);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function O0(n,e){if(mn("AsyncQueue",`${e}: ${n}`),Eo(n))return new pe(te.UNAVAILABLE,`${e}: ${n}`);throw n}class Gc{static emptySet(e){return new Gc(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ye.comparator(t.key,r.key):(t,r)=>ye.comparator(t.key,r.key),this.keyedMap=Pd(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Gc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Gc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class JA{constructor(){this.ga=new Vt(ye.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):xe(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class du{constructor(e,t,r,a,o,c,d,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,a,o){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new du(e,t,Gc.emptySet(t),c,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class N3{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class k3{constructor(){this.queries=ZA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=Se(t),o=a.queries;a.queries=ZA(),o.forEach(((c,d)=>{for(const f of d.ba)f.onError(r)}))})(this,new pe(te.ABORTED,"Firestore shutting down"))}}function ZA(){return new ha((n=>DR(n)),rg)}async function P0(n,e){const t=Se(n);let r=3;const a=e.query;let o=t.queries.get(a);o?!o.Sa()&&e.Da()&&(r=2):(o=new N3,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(a,!0);break;case 1:o.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=O0(c,`Initialization of query '${Vc(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,o),o.ba.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&V0(t)}async function M0(n,e){const t=Se(n),r=e.query;let a=3;const o=t.queries.get(r);if(o){const c=o.ba.indexOf(e);c>=0&&(o.ba.splice(c,1),o.ba.length===0?a=e.Da()?0:1:!o.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function O3(n,e){const t=Se(n);let r=!1;for(const a of e){const o=a.query,c=t.queries.get(o);if(c){for(const d of c.ba)d.Fa(a)&&(r=!0);c.wa=a}}r&&V0(t)}function P3(n,e,t){const r=Se(n),a=r.queries.get(e);if(a)for(const o of a.ba)o.onError(t);r.queries.delete(e)}function V0(n){n.Ca.forEach((e=>{e.next()}))}var t_,eI;(eI=t_||(t_={})).Ma="default",eI.Cache="cache";class L0{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new du(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=du.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==t_.Cache}}class jD{constructor(e){this.key=e}}class $D{constructor(e){this.key=e}}class M3{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ke(),this.mutatedKeys=Ke(),this.eu=kR(e),this.tu=new Gc(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new JA,a=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,y)=>{const E=a.get(v),I=Oh(this.query,y)?y:null,U=!!E&&this.mutatedKeys.has(E.key),k=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let V=!1;E&&I?E.data.isEqual(I.data)?U!==k&&(r.track({type:3,doc:I}),V=!0):this.su(E,I)||(r.track({type:2,doc:I}),V=!0,(f&&this.eu(I,f)>0||m&&this.eu(I,m)<0)&&(d=!0)):!E&&I?(r.track({type:0,doc:I}),V=!0):E&&!I&&(r.track({type:1,doc:E}),V=!0,(f||m)&&(d=!0)),V&&(I?(c=c.add(I),o=k?o.add(v):o.delete(v)):(c=c.delete(v),o=o.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),o=o.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Ss:d,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,y)=>(function(I,U){const k=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Vt:V})}};return k(I)-k(U)})(v.type,y.type)||this.eu(v.doc,y.doc))),this.ou(r),a=a??!1;const d=t&&!a?this._u():[],f=this.Ya.size===0&&this.current&&!a?1:0,m=f!==this.Xa;return this.Xa=f,c.length!==0||m?{snapshot:new du(this.query,e.tu,o,c,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new JA,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ke(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new $D(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new jD(r))})),t}cu(e){this.Za=e.ks,this.Ya=Ke();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return du.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Au="SyncEngine";class V3{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class L3{constructor(e){this.key=e,this.hu=!1}}class U3{constructor(e,t,r,a,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ha((d=>DR(d)),rg),this.Iu=new Map,this.Eu=new Set,this.Ru=new Vt(ye.comparator),this.Au=new Map,this.Vu=new x0,this.du={},this.mu=new Map,this.fu=kl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function B3(n,e,t=!0){const r=fg(n);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await FD(r,e,t,!0),a}async function z3(n,e){const t=fg(n);await FD(t,e,!0,!1)}async function FD(n,e,t,r){const a=await Em(n.localStore,ii(e)),o=a.targetId,c=n.sharedClientState.addLocalQueryTarget(o,t);let d;return r&&(d=await U0(n,e,o,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&hg(n.remoteStore,a),d}async function U0(n,e,t,r,a){n.pu=(y,E,I)=>(async function(k,V,K,F){let G=V.view.ru(K);G.Ss&&(G=await Xb(k.localStore,V.query,!1).then((({documents:D})=>V.view.ru(D,G))));const ce=F&&F.targetChanges.get(V.targetId),ae=F&&F.targetMismatches.get(V.targetId)!=null,de=V.view.applyChanges(G,k.isPrimaryClient,ce,ae);return n_(k,V.targetId,de.au),de.snapshot})(n,y,E,I);const o=await Xb(n.localStore,e,!0),c=new M3(e,o.ks),d=c.ru(o.documents),f=Vh.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),m=c.applyChanges(d,n.isPrimaryClient,f);n_(n,t,m.au);const v=new V3(e,t,c);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function j3(n,e,t){const r=Se(n),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((c=>!rg(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await cu(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&uu(r.remoteStore,a.targetId),hu(r,a.targetId)})).catch(wo)):(hu(r,a.targetId),await cu(r.localStore,a.targetId,!0))}async function $3(n,e){const t=Se(n),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),uu(t.remoteStore,r.targetId))}async function F3(n,e,t){const r=$0(n);try{const a=await(function(c,d){const f=Se(c),m=Et.now(),v=d.reduce(((I,U)=>I.add(U.key)),Ke());let y,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let U=ni(),k=Ke();return f.xs.getEntries(I,v).next((V=>{U=V,U.forEach(((K,F)=>{F.isValidDocument()||(k=k.add(K))}))})).next((()=>f.localDocuments.getOverlayedDocuments(I,U))).next((V=>{y=V;const K=[];for(const F of d){const G=u5(F,y.get(F.key).overlayedDocument);G!=null&&K.push(new fa(F.key,G,wR(G.value.mapValue),cr.exists(!0)))}return f.mutationQueue.addMutationBatch(I,m,K,d)})).next((V=>{E=V;const K=V.applyToLocalDocumentSet(y,k);return f.documentOverlayCache.saveOverlays(I,V.batchId,K)}))})).then((()=>({batchId:E.batchId,changes:PR(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,d,f){let m=c.du[c.currentUser.toKey()];m||(m=new Vt(Ue)),m=m.insert(d,f),c.du[c.currentUser.toKey()]=m})(r,a.batchId,t),await So(r,a.changes),await Tu(r.remoteStore)}catch(a){const o=O0(a,"Failed to persist write");t.reject(o)}}async function qD(n,e){const t=Se(n);try{const r=await a3(t.localStore,e);e.targetChanges.forEach(((a,o)=>{const c=t.Au.get(o);c&&(Ce(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Ce(c.hu,14607):a.removedDocuments.size>0&&(Ce(c.hu,42227),c.hu=!1))})),await So(t,r,e)}catch(r){await wo(r)}}function tI(n,e,t){const r=Se(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((o,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const f=Se(c);f.onlineState=d;let m=!1;f.queries.forEach(((v,y)=>{for(const E of y.ba)E.va(d)&&(m=!0)})),m&&V0(f)})(r.eventManager,e),a.length&&r.Pu.J_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function q3(n,e,t){const r=Se(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),o=a&&a.key;if(o){let c=new Vt(ye.comparator);c=c.insert(o,an.newNoDocument(o,Ne.min()));const d=Ke().add(o),f=new Mh(Ne.min(),new Map,new Vt(Ue),c,d);await qD(r,f),r.Ru=r.Ru.remove(o),r.Au.delete(e),j0(r)}else await cu(r.localStore,e,!1).then((()=>hu(r,e,t))).catch(wo)}async function H3(n,e){const t=Se(n),r=e.batch.batchId;try{const a=await s3(t.localStore,e);z0(t,r,null),B0(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await So(t,a)}catch(a){await wo(a)}}async function G3(n,e,t){const r=Se(n);try{const a=await(function(c,d){const f=Se(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let v;return f.mutationQueue.lookupMutationBatch(m,d).next((y=>(Ce(y!==null,37113),v=y.keys(),f.mutationQueue.removeMutationBatch(m,y)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v))).next((()=>f.localDocuments.getDocuments(m,v)))}))})(r.localStore,e);z0(r,e,t),B0(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await So(r,a)}catch(a){await wo(a)}}function B0(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function z0(n,e,t){const r=Se(n);let a=r.du[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),r.du[r.currentUser.toKey()]=a}}function hu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||HD(n,r)}))}function HD(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(uu(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),j0(n))}function n_(n,e,t){for(const r of t)r instanceof jD?(n.Vu.addReference(r.key,e),K3(n,r)):r instanceof $D?(he(Au,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||HD(n,r.key)):xe(19791,{wu:r})}function K3(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(he(Au,"New document in limbo: "+t),n.Eu.add(r),j0(n))}function j0(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ye(ht.fromString(e)),r=n.fu.next();n.Au.set(r,new L3(t)),n.Ru=n.Ru.insert(t,r),hg(n.remoteStore,new Js(ii(kh(t.path)),r,"TargetPurposeLimboResolution",jr.ce))}}async function So(n,e,t){const r=Se(n),a=[],o=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,f)=>{c.push(r.pu(f,e,t).then((m=>{if((m||t)&&r.isPrimaryClient){const v=m?!m.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(m){a.push(m);const v=A0.Es(f.targetId,m);o.push(v)}})))})),await Promise.all(c),r.Pu.J_(a),await(async function(f,m){const v=Se(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>H.forEach(m,(E=>H.forEach(E.Ts,(I=>v.persistence.referenceDelegate.addReference(y,E.targetId,I))).next((()=>H.forEach(E.Is,(I=>v.persistence.referenceDelegate.removeReference(y,E.targetId,I)))))))))}catch(y){if(!Eo(y))throw y;he(I0,"Failed to update sequence numbers: "+y)}for(const y of m){const E=y.targetId;if(!y.fromCache){const I=v.vs.get(E),U=I.snapshotVersion,k=I.withLastLimboFreeSnapshotVersion(U);v.vs=v.vs.insert(E,k)}}})(r.localStore,o))}async function Y3(n,e){const t=Se(n);if(!t.currentUser.isEqual(e)){he(Au,"User change. New user:",e.toKey());const r=await TD(t.localStore,e);t.currentUser=e,(function(o,c){o.mu.forEach((d=>{d.forEach((f=>{f.reject(new pe(te.CANCELLED,c))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await So(t,r.Ns)}}function Q3(n,e){const t=Se(n),r=t.Au.get(e);if(r&&r.hu)return Ke().add(r.key);{let a=Ke();const o=t.Iu.get(e);if(!o)return a;for(const c of o){const d=t.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}async function W3(n,e){const t=Se(n),r=await Xb(t.localStore,e.query,!0),a=e.view.cu(r);return t.isPrimaryClient&&n_(t,e.targetId,a.au),a}async function X3(n,e){const t=Se(n);return ID(t.localStore,e).then((r=>So(t,r)))}async function J3(n,e,t,r){const a=Se(n),o=await(function(d,f){const m=Se(d),v=Se(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",(y=>v.Xn(y,f).next((E=>E?m.localDocuments.getDocuments(y,E):H.resolve(null)))))})(a.localStore,e);o!==null?(t==="pending"?await Tu(a.remoteStore):t==="acknowledged"||t==="rejected"?(z0(a,e,r||null),B0(a,e),(function(d,f){Se(Se(d).mutationQueue).nr(f)})(a.localStore,e)):xe(6720,"Unknown batchState",{bu:t}),await So(a,o)):he(Au,"Cannot apply mutation batch with id: "+e)}async function Z3(n,e){const t=Se(n);if(fg(t),$0(t),e===!0&&t.gu!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),a=await nI(t,r.toArray());t.gu=!0,await e_(t.remoteStore,!0);for(const o of a)hg(t.remoteStore,o)}else if(e===!1&&t.gu!==!1){const r=[];let a=Promise.resolve();t.Iu.forEach(((o,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):a=a.then((()=>(hu(t,c),cu(t.localStore,c,!0)))),uu(t.remoteStore,c)})),await a,await nI(t,r),(function(c){const d=Se(c);d.Au.forEach(((f,m)=>{uu(d.remoteStore,m)})),d.Vu.zr(),d.Au=new Map,d.Ru=new Vt(ye.comparator)})(t),t.gu=!1,await e_(t.remoteStore,!1)}}async function nI(n,e,t){const r=Se(n),a=[],o=[];for(const c of e){let d;const f=r.Iu.get(c);if(f&&f.length!==0){d=await Em(r.localStore,ii(f[0]));for(const m of f){const v=r.Tu.get(m),y=await W3(r,v);y.snapshot&&o.push(y.snapshot)}}else{const m=await AD(r.localStore,c);d=await Em(r.localStore,m),await U0(r,GD(m),c,!1,d.resumeToken)}a.push(d)}return r.Pu.J_(o),a}function GD(n){return RR(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function eU(n){return(function(t){return Se(Se(t).persistence).hs()})(Se(n).localStore)}async function tU(n,e,t,r){const a=Se(n);if(a.gu)return void he(Au,"Ignoring unexpected query state notification.");const o=a.Iu.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const c=await ID(a.localStore,NR(o[0])),d=Mh.createSynthesizedRemoteEventForCurrentChange(e,t==="current",gn.EMPTY_BYTE_STRING);await So(a,c,d);break}case"rejected":await cu(a.localStore,e,!0),hu(a,e,r);break;default:xe(64155,t)}}async function nU(n,e,t){const r=fg(n);if(r.gu){for(const a of e){if(r.Iu.has(a)&&r.sharedClientState.isActiveQueryTarget(a)){he(Au,"Adding an already active target "+a);continue}const o=await AD(r.localStore,a),c=await Em(r.localStore,o);await U0(r,GD(o),c.targetId,!1,c.resumeToken),hg(r.remoteStore,c)}for(const a of t)r.Iu.has(a)&&await cu(r.localStore,a,!1).then((()=>{uu(r.remoteStore,a),hu(r,a)})).catch(wo)}}function fg(n){const e=Se(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=qD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Q3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=q3.bind(null,e),e.Pu.J_=O3.bind(null,e.eventManager),e.Pu.yu=P3.bind(null,e.eventManager),e}function $0(n){const e=Se(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=H3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=G3.bind(null,e),e}class hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ug(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return xD(this.persistence,new ED,e.initialUser,this.serializer)}Cu(e){return new T0(cg.Vi,this.serializer)}Du(e){return new kD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hh.provider={build:()=>new hh};class rU extends hh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ce(this.persistence.referenceDelegate instanceof wm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new gD(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?or.withCacheSize(this.cacheSizeBytes):or.DEFAULT;return new T0((r=>wm.Vi(r,t)),this.serializer)}}class KD extends hh{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await $0(this.xu.syncEngine),await Tu(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return xD(this.persistence,new ED,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new gD(r,e.asyncQueue,t)}Mu(e,t){const r=new c6(t,this.persistence);return new l6(e.asyncQueue,r)}Cu(e){const t=wD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?or.withCacheSize(this.cacheSizeBytes):or.DEFAULT;return new S0(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,OD(),Yp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new kD}}class iU extends KD{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof Jy&&(this.sharedClientState.syncEngine={So:J3.bind(null,t),Do:tU.bind(null,t),Co:nU.bind(null,t),hs:eU.bind(null,t),bo:X3.bind(null,t)},await this.sharedClientState.start()),await this.persistence.zi((async r=>{await Z3(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const t=OD();if(!Jy.v(t))throw new pe(te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=wD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Jy(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class fh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>tI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Y3.bind(null,this.syncEngine),await e_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new k3})()}createDatastore(e){const t=ug(e.databaseInfo.databaseId),r=f3(e.databaseInfo);return y3(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,o,c,d){return new _3(r,a,o,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>tI(this.syncEngine,t,0)),(function(){return QA.v()?new QA:new c3})())}createSyncEngine(e,t){return(function(a,o,c,d,f,m,v){const y=new U3(a,o,c,d,f,m);return v&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Se(t);he(Ol,"RemoteStore shutting down."),r.Ea.add(5),await Lh(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}fh.provider={build:()=>new fh};class F0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):mn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const go="FirestoreClient";class sU{constructor(e,t,r,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=a,this.user=ar.UNAUTHENTICATED,this.clientId=r0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{he(go,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(he(go,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=O0(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function eb(n,e){n.asyncQueue.verifyOperationInProgress(),he(go,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await TD(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function rI(n,e){n.asyncQueue.verifyOperationInProgress();const t=await aU(n);he(go,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>XA(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>XA(e.remoteStore,a))),n._onlineComponents=e}async function aU(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he(go,"Using user provided OfflineComponentProvider");try{await eb(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===te.FAILED_PRECONDITION||a.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Wc("Error using user provided cache. Falling back to memory cache: "+t),await eb(n,new hh)}}else he(go,"Using default OfflineComponentProvider"),await eb(n,new rU(void 0));return n._offlineComponents}async function YD(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he(go,"Using user provided OnlineComponentProvider"),await rI(n,n._uninitializedComponentsProvider._online)):(he(go,"Using default OnlineComponentProvider"),await rI(n,new fh))),n._onlineComponents}function oU(n){return YD(n).then((e=>e.syncEngine))}async function Am(n){const e=await YD(n),t=e.eventManager;return t.onListen=B3.bind(null,e.syncEngine),t.onUnlisten=j3.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=z3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=$3.bind(null,e.syncEngine),t}function lU(n,e,t,r){const a=new F0(r),o=new L0(e,a,t);return n.asyncQueue.enqueueAndForget((async()=>P0(await Am(n),o))),()=>{a.Nu(),n.asyncQueue.enqueueAndForget((async()=>M0(await Am(n),o)))}}function cU(n,e,t={}){const r=new vs;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,f,m){const v=new F0({next:E=>{v.Nu(),c.enqueueAndForget((()=>M0(o,y)));const I=E.docs.has(d);!I&&E.fromCache?m.reject(new pe(te.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&E.fromCache&&f&&f.source==="server"?m.reject(new pe(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),y=new L0(kh(d.path),v,{includeMetadataChanges:!0,Ka:!0});return P0(o,y)})(await Am(n),n.asyncQueue,e,t,r))),r.promise}function uU(n,e,t={}){const r=new vs;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,f,m){const v=new F0({next:E=>{v.Nu(),c.enqueueAndForget((()=>M0(o,y))),E.fromCache&&f.source==="server"?m.reject(new pe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),y=new L0(d,v,{includeMetadataChanges:!0,Ka:!0});return P0(o,y)})(await Am(n),n.asyncQueue,e,t,r))),r.promise}function dU(n,e){const t=new vs;return n.asyncQueue.enqueueAndForget((async()=>F3(await oU(n),e,t))),t.promise}function QD(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const hU="ComponentProvider",iI=new Map;function fU(n,e,t,r,a){return new L6(n,e,t,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,QD(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,r)}const pU="firestore.googleapis.com",sI=!0;class aI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pU,this.ssl=sI}else this.host=e.host,this.ssl=e.ssl??sI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mD)throw new pe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}i6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QD(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class q0{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new QL;switch(r.type){case"firstParty":return new JL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=iI.get(t);r&&(he(hU,"Removing Datastore"),iI.delete(t),r.terminate())})(this),Promise.resolve()}}class Wi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wi(this.firestore,e,this._query)}}class on{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}toJSON(){return{type:on._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Rh(t,on._jsonSchema))return new on(e,r||null,new ye(ht.fromString(t.referencePath)))}}on._jsonSchemaVersion="firestore/documentReference/1.0",on._jsonSchema={type:In("string",on._jsonSchemaVersion),referencePath:In("string")};class uo extends Wi{constructor(e,t,r){super(e,t,kh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new ye(e))}withConverter(e){return new uo(this.firestore,e,this._path)}}function cl(n,e,...t){if(n=zt(n),YC("collection","path",e),n instanceof q0){const r=ht.fromString(e,...t);return WS(r),new uo(n,null,r)}{if(!(n instanceof on||n instanceof uo))throw new pe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ht.fromString(e,...t));return WS(r),new uo(n.firestore,null,r)}}function Rt(n,e,...t){if(n=zt(n),arguments.length===1&&(e=r0.newId()),YC("doc","path",e),n instanceof q0){const r=ht.fromString(e,...t);return QS(r),new on(n,null,new ye(r))}{if(!(n instanceof on||n instanceof uo))throw new pe(te.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ht.fromString(e,...t));return QS(r),new on(n.firestore,n instanceof uo?n.converter:null,new ye(r))}}const oI="AsyncQueue";class lI{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new PD(this,"async_queue_retry"),this._c=()=>{const r=Yp();r&&he(oI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Yp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Yp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new vs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Eo(e))throw e;he(oI,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,mn("INTERNAL UNHANDLED ERROR: ",cI(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=k0.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&xe(47125,{Pc:cI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function cI(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class ca extends q0{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new lI,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lI(e),this._firestoreClient=void 0,await e}}}function mU(n,e,t){t||(t=hm);const r=yu(n,"firestore");if(r.isInitialized(t)){const a=r.getImmediate({identifier:t}),o=r.getOptions(t);if(ra(o,e))return a;throw new pe(te.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new pe(te.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mD)throw new pe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&vu(e.host)&&W1(e.host),r.initialize({options:e,instanceIdentifier:t})}function pg(n){if(n._terminated)throw new pe(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||gU(n),n._firestoreClient}function gU(n){const e=n._freezeSettings(),t=fU(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new sU(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(n._componentsProvider))}class Si{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Si(gn.fromBase64String(e))}catch(t){throw new pe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Si(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Rh(e,Si._jsonSchema))return Si.fromBase64String(e.bytes)}}Si._jsonSchemaVersion="firestore/bytes/1.0",Si._jsonSchema={type:In("string",Si._jsonSchemaVersion),bytes:In("string")};class mg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function vU(){return new mg(kb)}class zl{constructor(e){this._methodName=e}}class ys{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ys._jsonSchemaVersion}}static fromJSON(e){if(Rh(e,ys._jsonSchema))return new ys(e.latitude,e.longitude)}}ys._jsonSchemaVersion="firestore/geoPoint/1.0",ys._jsonSchema={type:In("string",ys._jsonSchemaVersion),latitude:In("number"),longitude:In("number")};class Gi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Rh(e,Gi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Gi(e.vectorValues);throw new pe(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gi._jsonSchemaVersion="firestore/vectorValue/1.0",Gi._jsonSchema={type:In("string",Gi._jsonSchemaVersion),vectorValues:In("object")};const yU=/^__.*__$/;class bU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new fa(e,this.data,this.fieldMask,t,this.fieldTransforms):new xu(e,this.data,t,this.fieldTransforms)}}class WD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new fa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function XD(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{dataSource:n})}}class gg{constructor(e,t,r,a,o,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new gg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Im(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(XD(this.dataSource)&&yU.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class _U{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ug(e)}createContext(e,t,r,a=!1){return new gg({dataSource:e,methodName:t,targetDoc:r,path:Zt.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uh(n){const e=n._freezeSettings(),t=ug(n._databaseId);return new _U(n._databaseId,!!e.ignoreUndefinedProperties,t)}function JD(n,e,t,r,a,o={}){const c=n.createContext(o.merge||o.mergeFields?2:0,e,t,a);Q0("Data must be an object, but it was:",c,r);const d=t2(r,c);let f,m;if(o.merge)f=new $r(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const v=[];for(const y of o.mergeFields){const E=Pl(e,y,t);if(!c.contains(E))throw new pe(te.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);i2(v,E)||v.push(E)}f=new $r(v),m=c.fieldTransforms.filter((y=>f.covers(y.field)))}else f=null,m=c.fieldTransforms;return new bU(new lr(d),f,m)}class vg extends zl{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vg}}function ZD(n,e,t){return new gg({dataSource:3,targetDoc:e.settings.targetDoc,methodName:n._methodName,arrayElement:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class H0 extends zl{_toFieldTransform(e){return new Ph(e.path,new au)}isEqual(e){return e instanceof H0}}class G0 extends zl{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=ZD(this,e,!0),r=this.Ac.map((o=>jl(o,t))),a=new Cl(r);return new Ph(e.path,a)}isEqual(e){return e instanceof G0&&ra(this.Ac,e.Ac)}}class K0 extends zl{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=ZD(this,e,!0),r=this.Ac.map((o=>jl(o,t))),a=new Rl(r);return new Ph(e.path,a)}isEqual(e){return e instanceof K0&&ra(this.Ac,e.Ac)}}class Y0 extends zl{constructor(e,t){super(e),this.Vc=t}_toFieldTransform(e){const t=new ou(e.serializer,LR(e.serializer,this.Vc));return new Ph(e.path,t)}isEqual(e){return e instanceof Y0&&this.Vc===e.Vc}}function wU(n,e,t,r){const a=n.createContext(1,e,t);Q0("Data must be an object, but it was:",a,r);const o=[],c=lr.empty();xo(r,((f,m)=>{const v=r2(e,f,t);m=zt(m);const y=a.childContextForFieldPath(v);if(m instanceof vg)o.push(v);else{const E=jl(m,y);E!=null&&(o.push(v),c.set(v,E))}}));const d=new $r(o);return new WD(c,d,a.fieldTransforms)}function EU(n,e,t,r,a,o){const c=n.createContext(1,e,t),d=[Pl(e,r,t)],f=[a];if(o.length%2!=0)throw new pe(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)d.push(Pl(e,o[E])),f.push(o[E+1]);const m=[],v=lr.empty();for(let E=d.length-1;E>=0;--E)if(!i2(m,d[E])){const I=d[E];let U=f[E];U=zt(U);const k=c.childContextForFieldPath(I);if(U instanceof vg)m.push(I);else{const V=jl(U,k);V!=null&&(m.push(I),v.set(I,V))}}const y=new $r(m);return new WD(v,y,c.fieldTransforms)}function e2(n,e,t,r=!1){return jl(t,n.createContext(r?4:3,e))}function jl(n,e){if(n2(n=zt(n)))return Q0("Unsupported field value:",e,n),t2(n,e);if(n instanceof zl)return(function(r,a){if(!XD(a.dataSource))throw a.createError(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,a){const o=[];let c=0;for(const d of r){let f=jl(d,a.childContextForArray(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(n,e)}return(function(r,a){if((r=zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return LR(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Et.fromDate(r);return{timestampValue:lu(a.serializer,o)}}if(r instanceof Et){const o=new Et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lu(a.serializer,o)}}if(r instanceof ys)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Si)return{bytesValue:YR(a.serializer,r._byteString)};if(r instanceof on){const o=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:_0(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Gi)return(function(c,d){const f=c instanceof Gi?c.toArray():c;return{mapValue:{fields:{[u0]:{stringValue:d0},[ru]:{arrayValue:{values:f.map((v=>{if(typeof v!="number")throw d.createError("VectorValues must only contain numeric values.");return m0(d.serializer,v)}))}}}}}})(r,a);if(sD(r))return r._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Ym(r)}`)})(n,e)}function t2(n,e){const t={};return hR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xo(n,((r,a)=>{const o=jl(a,e.childContextForField(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function n2(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Et||n instanceof ys||n instanceof Si||n instanceof on||n instanceof zl||n instanceof Gi||sD(n))}function Q0(n,e,t){if(!n2(t)||!QC(t)){const r=Ym(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function Pl(n,e,t){if((e=zt(e))instanceof mg)return e._internalPath;if(typeof e=="string")return r2(n,e);throw Im("Field path arguments must be of type string or ",n,!1,void 0,t)}const xU=new RegExp("[~\\*/\\[\\]]");function r2(n,e,t){if(e.search(xU)>=0)throw Im(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new mg(...e.split("."))._internalPath}catch{throw Im(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Im(n,e,t,r,a){const o=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${r}`),c&&(f+=` in document ${a}`),f+=")"),new pe(te.INVALID_ARGUMENT,d+n+f)}function i2(n,e){return n.some((t=>t.isEqual(e)))}class TU{convertValue(e,t="none"){switch(ho(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(la(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return xo(e,((a,o)=>{r[a]=this.convertValue(o,t)})),r}convertVectorValue(e){const t=e.fields?.[ru].arrayValue?.values?.map((r=>Kt(r.doubleValue)));return new Gi(t)}convertGeoPoint(e){return new ys(Kt(e.latitude),Kt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=tg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(lh(e));default:return null}}convertTimestamp(e){const t=oa(e);return new Et(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ht.fromString(e);Ce(iD(r),9688,{name:e});const a=new Sl(r.get(1),r.get(3)),o=new ye(r.popFirst(5));return a.isEqual(t)||mn(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class W0 extends TU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Si(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,t)}}function Gs(){return new H0("serverTimestamp")}function bp(...n){return new G0("arrayUnion",n)}function uI(...n){return new K0("arrayRemove",n)}function SU(n){return new Y0("increment",n)}const dI="@firebase/firestore",hI="4.11.0";function fI(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1})(n,["next","error","complete"])}class X0{constructor(e,t,r,a,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Pl("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class AU extends X0{data(){return super.data()}}function s2(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class J0{}class Bh extends J0{}function Ld(n,e,...t){let r=[];e instanceof J0&&r.push(e),r=r.concat(t),(function(o){const c=o.filter((f=>f instanceof Z0)).length,d=o.filter((f=>f instanceof yg)).length;if(c>1||c>0&&d>0)throw new pe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class yg extends Bh{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new yg(e,t,r)}_apply(e){const t=this._parse(e);return o2(e._query,t),new Wi(e.firestore,e.converter,Fb(e._query,t))}_parse(e){const t=Uh(e.firestore);return(function(o,c,d,f,m,v,y){let E;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new pe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){mI(y,v);const U=[];for(const k of y)U.push(pI(f,o,k));E={arrayValue:{values:U}}}else E=pI(f,o,y)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||mI(y,v),E=e2(d,c,y,v==="in"||v==="not-in");return it.create(m,v,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Id(n,e,t){const r=e,a=Pl("where",n);return yg._create(a,r,t)}class Z0 extends J0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Z0(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:xt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,o){let c=a;const d=o.getFlattenedFilters();for(const f of d)o2(c,f),c=Fb(c,f)})(e._query,t),new Wi(e.firestore,e.converter,Fb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ew extends Bh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ew(e,t)}_apply(e){const t=(function(a,o,c){if(a.startAt!==null)throw new pe(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new pe(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new dh(o,c)})(e._query,this._field,this._direction);return new Wi(e.firestore,e.converter,X6(e._query,t))}}function r_(n,e="asc"){const t=e,r=Pl("orderBy",n);return ew._create(r,t)}class tw extends Bh{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new tw(e,t,r)}_apply(e){return new Wi(e.firestore,e.converter,mm(e._query,this._limit,this._limitType))}}function i_(n){return s6("limit",n),tw._create("limit",n,"F")}class nw extends Bh{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new nw(e,t,r)}_apply(e){const t=a2(e,this.type,this._docOrFields,this._inclusive);return new Wi(e.firestore,e.converter,J6(e._query,t))}}function IU(...n){return nw._create("startAt",n,!0)}class rw extends Bh{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new rw(e,t,r)}_apply(e){const t=a2(e,this.type,this._docOrFields,this._inclusive);return new Wi(e.firestore,e.converter,Z6(e._query,t))}}function CU(...n){return rw._create("endAt",n,!0)}function a2(n,e,t,r){if(t[0]=zt(t[0]),t[0]instanceof X0)return(function(o,c,d,f,m){if(!f)throw new pe(te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const v=[];for(const y of qc(o))if(y.field.isKeyField())v.push(Al(c,f.key));else{const E=f.data.field(y.field);if(eg(E))throw new pe(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(E===null){const I=y.field.canonicalString();throw new pe(te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${I}' (used as the orderBy) does not exist.`)}v.push(E)}return new po(v,m)})(n._query,n.firestore._databaseId,e,t[0]._document,r);{const a=Uh(n.firestore);return(function(c,d,f,m,v,y){const E=c.explicitOrderBy;if(v.length>E.length)throw new pe(te.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const I=[];for(let U=0;U<v.length;U++){const k=v[U];if(E[U].field.isKeyField()){if(typeof k!="string")throw new pe(te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof k}`);if(!f0(c)&&k.indexOf("/")!==-1)throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${k}' contains a slash.`);const V=c.path.child(ht.fromString(k));if(!ye.isDocumentKey(V))throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${V}' is not because it contains an odd number of segments.`);const K=new ye(V);I.push(Al(d,K))}else{const V=e2(f,m,k);I.push(V)}}return new po(I,y)})(n._query,n.firestore._databaseId,a,e,t,r)}}function pI(n,e,t){if(typeof(t=zt(t))=="string"){if(t==="")throw new pe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!f0(e)&&t.indexOf("/")!==-1)throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ht.fromString(t));if(!ye.isDocumentKey(r))throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Al(n,new ye(r))}if(t instanceof on)return Al(n,t._key);throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ym(t)}.`)}function mI(n,e){if(!Array.isArray(n)||n.length===0)throw new pe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function o2(n,e){const t=(function(a,o){for(const c of a)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new pe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function l2(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class RU{constructor(e){let t;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),t=e.tabManager):(t=OU(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function DU(n){return new RU(n)}class NU{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=fh.provider,this._offlineComponentProvider={build:t=>new KD(t,e?.cacheSizeBytes,this.forceOwnership)}}}class kU{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=fh.provider,this._offlineComponentProvider={build:t=>new iU(t,e?.cacheSizeBytes)}}}function OU(n){return new NU(n?.forceOwnership)}function PU(){return new kU}class Ud{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wl extends X0{constructor(e,t,r,a,o,c){super(e,t,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Pl("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=wl._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}wl._jsonSchemaVersion="firestore/documentSnapshot/1.0",wl._jsonSchema={type:In("string",wl._jsonSchemaVersion),bundleSource:In("string","DocumentSnapshot"),bundleName:In("string"),bundle:In("string")};class Qp extends wl{data(e={}){return super.data(e)}}class El{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Ud(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Qp(this._firestore,this._userDataWriter,r.key,r,new Ud(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const f=new Qp(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ud(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>o||d.type!==3)).map((d=>{const f=new Qp(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ud(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,v=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:MU(d.type),doc:f,oldIndex:m,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=El._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=r0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function MU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:n})}}El._jsonSchemaVersion="firestore/querySnapshot/1.0",El._jsonSchema={type:In("string",El._jsonSchemaVersion),bundleSource:In("string","QuerySnapshot"),bundleName:In("string"),bundle:In("string")};function gI(n){n=ri(n,on);const e=ri(n.firestore,ca),t=pg(e);return cU(t,n._key).then((r=>u2(e,n,r)))}function c2(n){n=ri(n,Wi);const e=ri(n.firestore,ca),t=pg(e),r=new W0(e);return s2(n._query),uU(t,n._query).then((a=>new El(e,r,n,a)))}function nl(n,e,t){n=ri(n,on);const r=ri(n.firestore,ca),a=l2(n.converter,e,t),o=Uh(r);return bg(r,[JD(o,"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,cr.none())])}function xi(n,e,t,...r){n=ri(n,on);const a=ri(n.firestore,ca),o=Uh(a);let c;return c=typeof(e=zt(e))=="string"||e instanceof mg?EU(o,"updateDoc",n._key,e,t,r):wU(o,"updateDoc",n._key,e),bg(a,[c.toMutation(n._key,cr.exists(!0))])}function kc(n){return bg(ri(n.firestore,ca),[new ag(n._key,cr.none())])}function vI(n,e){const t=ri(n.firestore,ca),r=Rt(n),a=l2(n.converter,e),o=Uh(n.firestore);return bg(t,[JD(o,"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,cr.exists(!1))]).then((()=>r))}function Oc(n,...e){n=zt(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||fI(e[r])||(t=e[r++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(fI(e[r])){const m=e[r];e[r]=m.next?.bind(m),e[r+1]=m.error?.bind(m),e[r+2]=m.complete?.bind(m)}let o,c,d;if(n instanceof on)c=ri(n.firestore,ca),d=kh(n._key.path),o={next:m=>{e[r]&&e[r](u2(c,n,m))},error:e[r+1],complete:e[r+2]};else{const m=ri(n,Wi);c=ri(m.firestore,ca),d=m._query;const v=new W0(c);o={next:y=>{e[r]&&e[r](new El(c,v,m,y))},error:e[r+1],complete:e[r+2]},s2(n._query)}const f=pg(c);return lU(f,d,a,o)}function bg(n,e){const t=pg(n);return dU(t,e)}function u2(n,e,t){const r=t.docs.get(e._key),a=new W0(n);return new wl(n,a,e._key,r,new Ud(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){KL(bu),_s(new Ki("firestore",((r,{instanceIdentifier:a,options:o})=>{const c=r.getProvider("app").getImmediate(),d=new ca(new WL(r.getProvider("auth-internal")),new ZL(c,r.getProvider("app-check-internal")),U6(c,a),c);return o={useFetchStreams:t,...o},d._setSettings(o),d}),"PUBLIC").setMultipleInstances(!0)),Ii(dI,hI,e),Ii(dI,hI,"esm2020")})();var VU="firebase",LU="12.9.0";Ii(VU,LU,"app");const d2="@firebase/installations",iw="0.6.19";const h2=1e4,f2=`w:${iw}`,p2="FIS_v2",UU="https://firebaseinstallations.googleapis.com/v1",BU=3600*1e3,zU="installations",jU="Installations";const $U={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ml=new Ul(zU,jU,$U);function m2(n){return n instanceof Es&&n.code.includes("request-failed")}function g2({projectId:n}){return`${UU}/projects/${n}/installations`}function v2(n){return{token:n.token,requestStatus:2,expiresIn:qU(n.expiresIn),creationTime:Date.now()}}async function y2(n,e){const r=(await e.json()).error;return Ml.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function b2({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function FU(n,{refreshToken:e}){const t=b2(n);return t.append("Authorization",HU(e)),t}async function _2(n){const e=await n();return e.status>=500&&e.status<600?n():e}function qU(n){return Number(n.replace("s","000"))}function HU(n){return`${p2} ${n}`}async function GU({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=g2(n),a=b2(n),o=e.getImmediate({optional:!0});if(o){const m=await o.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const c={fid:t,authVersion:p2,appId:n.appId,sdkVersion:f2},d={method:"POST",headers:a,body:JSON.stringify(c)},f=await _2(()=>fetch(r,d));if(f.ok){const m=await f.json();return{fid:m.fid||t,registrationStatus:2,refreshToken:m.refreshToken,authToken:v2(m.authToken)}}else throw await y2("Create Installation",f)}function w2(n){return new Promise(e=>{setTimeout(e,n)})}function KU(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}const YU=/^[cdef][\w-]{21}$/,s_="";function QU(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=WU(n);return YU.test(t)?t:s_}catch{return s_}}function WU(n){return KU(n).substr(0,22)}function _g(n){return`${n.appName}!${n.appId}`}const E2=new Map;function x2(n,e){const t=_g(n);T2(t,e),XU(t,e)}function T2(n,e){const t=E2.get(n);if(t)for(const r of t)r(e)}function XU(n,e){const t=JU();t&&t.postMessage({key:n,fid:e}),ZU()}let gl=null;function JU(){return!gl&&"BroadcastChannel"in self&&(gl=new BroadcastChannel("[Firebase] FID Change"),gl.onmessage=n=>{T2(n.data.key,n.data.fid)}),gl}function ZU(){E2.size===0&&gl&&(gl.close(),gl=null)}const e9="firebase-installations-database",t9=1,Vl="firebase-installations-store";let tb=null;function sw(){return tb||(tb=qm(e9,t9,{upgrade:(n,e)=>{e===0&&n.createObjectStore(Vl)}})),tb}async function Cm(n,e){const t=_g(n),a=(await sw()).transaction(Vl,"readwrite"),o=a.objectStore(Vl),c=await o.get(t);return await o.put(e,t),await a.done,(!c||c.fid!==e.fid)&&x2(n,e.fid),e}async function S2(n){const e=_g(n),r=(await sw()).transaction(Vl,"readwrite");await r.objectStore(Vl).delete(e),await r.done}async function wg(n,e){const t=_g(n),a=(await sw()).transaction(Vl,"readwrite"),o=a.objectStore(Vl),c=await o.get(t),d=e(c);return d===void 0?await o.delete(t):await o.put(d,t),await a.done,d&&(!c||c.fid!==d.fid)&&x2(n,d.fid),d}async function aw(n){let e;const t=await wg(n.appConfig,r=>{const a=n9(r),o=r9(n,a);return e=o.registrationPromise,o.installationEntry});return t.fid===s_?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function n9(n){const e=n||{fid:QU(),registrationStatus:0};return A2(e)}function r9(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Ml.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=i9(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:s9(n)}:{installationEntry:e}}async function i9(n,e){try{const t=await GU(n,e);return Cm(n.appConfig,t)}catch(t){throw m2(t)&&t.customData.serverCode===409?await S2(n.appConfig):await Cm(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function s9(n){let e=await yI(n.appConfig);for(;e.registrationStatus===1;)await w2(100),e=await yI(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await aw(n);return r||t}return e}function yI(n){return wg(n,e=>{if(!e)throw Ml.create("installation-not-found");return A2(e)})}function A2(n){return a9(n)?{fid:n.fid,registrationStatus:0}:n}function a9(n){return n.registrationStatus===1&&n.registrationTime+h2<Date.now()}async function o9({appConfig:n,heartbeatServiceProvider:e},t){const r=l9(n,t),a=FU(n,t),o=e.getImmediate({optional:!0});if(o){const m=await o.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const c={installation:{sdkVersion:f2,appId:n.appId}},d={method:"POST",headers:a,body:JSON.stringify(c)},f=await _2(()=>fetch(r,d));if(f.ok){const m=await f.json();return v2(m)}else throw await y2("Generate Auth Token",f)}function l9(n,{fid:e}){return`${g2(n)}/${e}/authTokens:generate`}async function ow(n,e=!1){let t;const r=await wg(n.appConfig,o=>{if(!I2(o))throw Ml.create("not-registered");const c=o.authToken;if(!e&&d9(c))return o;if(c.requestStatus===1)return t=c9(n,e),o;{if(!navigator.onLine)throw Ml.create("app-offline");const d=f9(o);return t=u9(n,d),d}});return t?await t:r.authToken}async function c9(n,e){let t=await bI(n.appConfig);for(;t.authToken.requestStatus===1;)await w2(100),t=await bI(n.appConfig);const r=t.authToken;return r.requestStatus===0?ow(n,e):r}function bI(n){return wg(n,e=>{if(!I2(e))throw Ml.create("not-registered");const t=e.authToken;return p9(t)?{...e,authToken:{requestStatus:0}}:e})}async function u9(n,e){try{const t=await o9(n,e),r={...e,authToken:t};return await Cm(n.appConfig,r),t}catch(t){if(m2(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await S2(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Cm(n.appConfig,r)}throw t}}function I2(n){return n!==void 0&&n.registrationStatus===2}function d9(n){return n.requestStatus===2&&!h9(n)}function h9(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+BU}function f9(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function p9(n){return n.requestStatus===1&&n.requestTime+h2<Date.now()}async function m9(n){const e=n,{installationEntry:t,registrationPromise:r}=await aw(e);return r?r.catch(console.error):ow(e).catch(console.error),t.fid}async function g9(n,e=!1){const t=n;return await v9(t),(await ow(t,e)).token}async function v9(n){const{registrationPromise:e}=await aw(n);e&&await e}function y9(n){if(!n||!n.options)throw nb("App Configuration");if(!n.name)throw nb("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw nb(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function nb(n){return Ml.create("missing-app-config-values",{valueName:n})}const C2="installations",b9="installations-internal",_9=n=>{const e=n.getProvider("app").getImmediate(),t=y9(e),r=yu(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},w9=n=>{const e=n.getProvider("app").getImmediate(),t=yu(e,C2).getImmediate();return{getId:()=>m9(t),getToken:a=>g9(t,a)}};function E9(){_s(new Ki(C2,_9,"PUBLIC")),_s(new Ki(b9,w9,"PRIVATE"))}E9();Ii(d2,iw);Ii(d2,iw,"esm2020");const x9="/firebase-messaging-sw.js",T9="/firebase-cloud-messaging-push-scope",R2="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",S9="https://fcmregistrations.googleapis.com/v1",D2="google.c.a.c_id",A9="google.c.a.c_l",I9="google.c.a.ts",C9="google.c.a.e",_I=1e4;var wI;(function(n){n[n.DATA_MESSAGE=1]="DATA_MESSAGE",n[n.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(wI||(wI={}));var ph;(function(n){n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked"})(ph||(ph={}));function Ys(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function R9(n){const e="=".repeat((4-n.length%4)%4),t=(n+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),a=new Uint8Array(r.length);for(let o=0;o<r.length;++o)a[o]=r.charCodeAt(o);return a}const rb="fcm_token_details_db",D9=5,EI="fcm_token_object_Store";async function N9(n){if("databases"in indexedDB&&!(await indexedDB.databases()).map(o=>o.name).includes(rb))return null;let e=null;return(await qm(rb,D9,{upgrade:async(r,a,o,c)=>{if(a<2||!r.objectStoreNames.contains(EI))return;const d=c.objectStore(EI),f=await d.index("fcmSenderId").get(n);if(await d.clear(),!!f){if(a===2){const m=f;if(!m.auth||!m.p256dh||!m.endpoint)return;e={token:m.fcmToken,createTime:m.createTime??Date.now(),subscriptionOptions:{auth:m.auth,p256dh:m.p256dh,endpoint:m.endpoint,swScope:m.swScope,vapidKey:typeof m.vapidKey=="string"?m.vapidKey:Ys(m.vapidKey)}}}else if(a===3){const m=f;e={token:m.fcmToken,createTime:m.createTime,subscriptionOptions:{auth:Ys(m.auth),p256dh:Ys(m.p256dh),endpoint:m.endpoint,swScope:m.swScope,vapidKey:Ys(m.vapidKey)}}}else if(a===4){const m=f;e={token:m.fcmToken,createTime:m.createTime,subscriptionOptions:{auth:Ys(m.auth),p256dh:Ys(m.p256dh),endpoint:m.endpoint,swScope:m.swScope,vapidKey:Ys(m.vapidKey)}}}}}})).close(),await zy(rb),await zy("fcm_vapid_details_db"),await zy("undefined"),k9(e)?e:null}function k9(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return typeof n.createTime=="number"&&n.createTime>0&&typeof n.token=="string"&&n.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}const O9="firebase-messaging-database",P9=1,mh="firebase-messaging-store";let ib=null;function N2(){return ib||(ib=qm(O9,P9,{upgrade:(n,e)=>{e===0&&n.createObjectStore(mh)}})),ib}async function M9(n){const e=k2(n),r=await(await N2()).transaction(mh).objectStore(mh).get(e);if(r)return r;{const a=await N9(n.appConfig.senderId);if(a)return await lw(n,a),a}}async function lw(n,e){const t=k2(n),a=(await N2()).transaction(mh,"readwrite");return await a.objectStore(mh).put(e,t),await a.done,e}function k2({appConfig:n}){return n.appId}const V9={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},dr=new Ul("messaging","Messaging",V9);async function L9(n,e){const t=await uw(n),r=O2(e),a={method:"POST",headers:t,body:JSON.stringify(r)};let o;try{o=await(await fetch(cw(n.appConfig),a)).json()}catch(c){throw dr.create("token-subscribe-failed",{errorInfo:c?.toString()})}if(o.error){const c=o.error.message;throw dr.create("token-subscribe-failed",{errorInfo:c})}if(!o.token)throw dr.create("token-subscribe-no-token");return o.token}async function U9(n,e){const t=await uw(n),r=O2(e.subscriptionOptions),a={method:"PATCH",headers:t,body:JSON.stringify(r)};let o;try{o=await(await fetch(`${cw(n.appConfig)}/${e.token}`,a)).json()}catch(c){throw dr.create("token-update-failed",{errorInfo:c?.toString()})}if(o.error){const c=o.error.message;throw dr.create("token-update-failed",{errorInfo:c})}if(!o.token)throw dr.create("token-update-no-token");return o.token}async function B9(n,e){const r={method:"DELETE",headers:await uw(n)};try{const o=await(await fetch(`${cw(n.appConfig)}/${e}`,r)).json();if(o.error){const c=o.error.message;throw dr.create("token-unsubscribe-failed",{errorInfo:c})}}catch(a){throw dr.create("token-unsubscribe-failed",{errorInfo:a?.toString()})}}function cw({projectId:n}){return`${S9}/projects/${n}/registrations`}async function uw({appConfig:n,installations:e}){const t=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})}function O2({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const a={web:{endpoint:t,auth:e,p256dh:n}};return r!==R2&&(a.web.applicationPubKey=r),a}const z9=10080*60*1e3;async function j9(n){const e=await F9(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Ys(e.getKey("auth")),p256dh:Ys(e.getKey("p256dh"))},r=await M9(n.firebaseDependencies);if(r){if(q9(r.subscriptionOptions,t))return Date.now()>=r.createTime+z9?$9(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{await B9(n.firebaseDependencies,r.token)}catch(a){console.warn(a)}return xI(n.firebaseDependencies,t)}else return xI(n.firebaseDependencies,t)}async function $9(n,e){try{const t=await U9(n.firebaseDependencies,e),r={...e,token:t,createTime:Date.now()};return await lw(n.firebaseDependencies,r),t}catch(t){throw t}}async function xI(n,e){const r={token:await L9(n,e),createTime:Date.now(),subscriptionOptions:e};return await lw(n,r),r.token}async function F9(n,e){const t=await n.pushManager.getSubscription();return t||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:R9(e)})}function q9(n,e){const t=e.vapidKey===n.vapidKey,r=e.endpoint===n.endpoint,a=e.auth===n.auth,o=e.p256dh===n.p256dh;return t&&r&&a&&o}function TI(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return H9(e,n),G9(e,n),K9(e,n),e}function H9(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const a=e.notification.image;a&&(n.notification.image=a);const o=e.notification.icon;o&&(n.notification.icon=o)}function G9(n,e){e.data&&(n.data=e.data)}function K9(n,e){if(!e.fcmOptions&&!e.notification?.click_action)return;n.fcmOptions={};const t=e.fcmOptions?.link??e.notification?.click_action;t&&(n.fcmOptions.link=t);const r=e.fcmOptions?.analytics_label;r&&(n.fcmOptions.analyticsLabel=r)}function Y9(n){return typeof n=="object"&&!!n&&D2 in n}function Q9(n){if(!n||!n.options)throw sb("App Configuration Object");if(!n.name)throw sb("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw sb(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}function sb(n){return dr.create("missing-app-config-values",{valueName:n})}class W9{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const a=Q9(e);this.firebaseDependencies={app:e,appConfig:a,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}async function X9(n){try{n.swRegistration=await navigator.serviceWorker.register(x9,{scope:T9}),n.swRegistration.update().catch(()=>{}),await J9(n.swRegistration)}catch(e){throw dr.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}async function J9(n){return new Promise((e,t)=>{const r=setTimeout(()=>t(new Error(`Service worker not registered after ${_I} ms`)),_I),a=n.installing||n.waiting;n.active?(clearTimeout(r),e()):a?a.onstatechange=o=>{o.target?.state==="activated"&&(a.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),t(new Error("No incoming service worker found.")))})}async function Z9(n,e){if(!e&&!n.swRegistration&&await X9(n),!(!e&&n.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw dr.create("invalid-sw-registration");n.swRegistration=e}}async function eB(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=R2)}async function P2(n,e){if(!navigator)throw dr.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw dr.create("permission-blocked");return await eB(n,e?.vapidKey),await Z9(n,e?.serviceWorkerRegistration),j9(n)}async function tB(n,e,t){const r=nB(e);(await n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[D2],message_name:t[A9],message_time:t[I9],message_device_time:Math.floor(Date.now()/1e3)})}function nB(n){switch(n){case ph.NOTIFICATION_CLICKED:return"notification_open";case ph.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function rB(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===ph.PUSH_RECEIVED&&(typeof n.onMessageHandler=="function"?n.onMessageHandler(TI(t)):n.onMessageHandler.next(TI(t)));const r=t.data;Y9(r)&&r[C9]==="1"&&await tB(n,t.messageType,r)}const SI="@firebase/messaging",AI="0.12.23";const iB=n=>{const e=new W9(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>rB(e,t)),e},sB=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>P2(e,r)}};function aB(){_s(new Ki("messaging",iB,"PUBLIC")),_s(new Ki("messaging-internal",sB,"PRIVATE")),Ii(SI,AI),Ii(SI,AI,"esm2020")}async function oB(){try{await eC()}catch{return!1}return typeof window<"u"&&F_()&&pM()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function lB(n,e){if(!navigator)throw dr.create("only-available-in-window");return n.onMessageHandler=e,()=>{n.onMessageHandler=null}}function cB(n=iC()){return oB().then(e=>{if(!e)throw dr.create("unsupported-browser")},e=>{throw dr.create("indexed-db-unsupported")}),yu(zt(n),"messaging").getImmediate()}async function uB(n,e){return n=zt(n),P2(n,e)}function dB(n,e){return n=zt(n),lB(n,e)}aB();const hB={apiKey:"AIzaSyCfkeRu4DVuSBBBa9bc0rrhtu-gCixFqIo",authDomain:"barbacker-6c683.firebaseapp.com",projectId:"barbacker-6c683",storageBucket:"barbacker-6c683.firebasestorage.app",messagingSenderId:"869145643734",appId:"1:869145643734:web:d902468d6942df6bc81777"},dw=rC(hB),lt=mU(dw,{localCache:DU({tabManager:PU()})}),rl=HL(dw),M2=cB(dw),V2=new Qs;V2.setCustomParameters({prompt:"select_account"});new jd("apple.com");const II=async()=>{try{if(await Notification.requestPermission()==="granted")return await uB(M2,{vapidKey:"G-H8717DGSJ8"})}catch(n){console.error("Notification permission denied",n)}return null},fB=()=>new Promise(n=>{dB(M2,e=>{n(e)})});var fu;(function(n){n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE"})(fu||(fu={}));class ab extends Error{constructor(e,t,r){super(e),this.message=e,this.code=t,this.data=r}}const pB=n=>{var e,t;return n?.androidBridge?"android":!((t=(e=n?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||t===void 0)&&t.bridge?"ios":"web"},mB=n=>{const e=n.CapacitorCustomPlatform||null,t=n.Capacitor||{},r=t.Plugins=t.Plugins||{},a=()=>e!==null?e.name:pB(n),o=()=>a()!=="web",c=y=>{const E=m.get(y);return!!(E?.platforms.has(a())||d(y))},d=y=>{var E;return(E=t.PluginHeaders)===null||E===void 0?void 0:E.find(I=>I.name===y)},f=y=>n.console.error(y),m=new Map,v=(y,E={})=>{const I=m.get(y);if(I)return console.warn(`Capacitor plugin "${y}" already registered. Cannot register plugins twice.`),I.proxy;const U=a(),k=d(y);let V;const K=async()=>(!V&&U in E?V=typeof E[U]=="function"?V=await E[U]():V=E[U]:e!==null&&!V&&"web"in E&&(V=typeof E.web=="function"?V=await E.web():V=E.web),V),F=(A,R)=>{var M,P;if(k){const B=k?.methods.find(N=>R===N.name);if(B)return B.rtype==="promise"?N=>t.nativePromise(y,R.toString(),N):(N,Ie)=>t.nativeCallback(y,R.toString(),N,Ie);if(A)return(M=A[R])===null||M===void 0?void 0:M.bind(A)}else{if(A)return(P=A[R])===null||P===void 0?void 0:P.bind(A);throw new ab(`"${y}" plugin is not implemented on ${U}`,fu.Unimplemented)}},G=A=>{let R;const M=(...P)=>{const B=K().then(N=>{const Ie=F(N,A);if(Ie){const Ye=Ie(...P);return R=Ye?.remove,Ye}else throw new ab(`"${y}.${A}()" is not implemented on ${U}`,fu.Unimplemented)});return A==="addListener"&&(B.remove=async()=>R()),B};return M.toString=()=>`${A.toString()}() { [capacitor code] }`,Object.defineProperty(M,"name",{value:A,writable:!1,configurable:!1}),M},ce=G("addListener"),ae=G("removeListener"),de=(A,R)=>{const M=ce({eventName:A},R),P=async()=>{const N=await M;ae({eventName:A,callbackId:N},R)},B=new Promise(N=>M.then(()=>N({remove:P})));return B.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await P()},B},D=new Proxy({},{get(A,R){switch(R){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return k?de:ce;case"removeListener":return ae;default:return G(R)}}});return r[y]=D,m.set(y,{name:y,proxy:D,platforms:new Set([...Object.keys(E),...k?[U]:[]])}),D};return t.convertFileSrc||(t.convertFileSrc=y=>y),t.getPlatform=a,t.handleError=f,t.isNativePlatform=o,t.isPluginAvailable=c,t.registerPlugin=v,t.Exception=ab,t.DEBUG=!!t.DEBUG,t.isLoggingEnabled=!!t.isLoggingEnabled,t},gB=n=>n.Capacitor=mB(n),Rm=gB(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Eg=Rm.registerPlugin;class hw{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(t);const o=this.windowListeners[e];o&&!o.registered&&this.addWindowListener(o),r&&this.sendRetainedArgumentsForEvent(e);const c=async()=>this.removeListener(e,t);return Promise.resolve({remove:c})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,r){const a=this.listeners[e];if(!a){if(r){let o=this.retainedEventArguments[e];o||(o=[]),o.push(t),this.retainedEventArguments[e]=o}return}a.forEach(o=>o(t))}hasListeners(e){var t;return!!(!((t=this.listeners[e])===null||t===void 0)&&t.length)}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:r=>{this.notifyListeners(t,r)}}}unimplemented(e="not implemented"){return new Rm.Exception(e,fu.Unimplemented)}unavailable(e="not available"){return new Rm.Exception(e,fu.Unavailable)}async removeListener(e,t){const r=this.listeners[e];if(!r)return;const a=r.indexOf(t);this.listeners[e].splice(a,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(r=>{this.notifyListeners(e,r)}))}}const CI=n=>encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),RI=n=>n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class vB extends hw{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[a,o]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=RI(a).trim(),o=RI(o).trim(),t[a]=o}),t}async setCookie(e){try{const t=CI(e.key),r=CI(e.value),a=`; expires=${(e.expires||"").replace("expires=","")}`,o=(e.path||"/").replace("path=",""),c=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${r||""}${a}; path=${o}; ${c};`}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Eg("CapacitorCookies",{web:()=>new vB});const yB=async n=>new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{const a=r.result;e(a.indexOf(",")>=0?a.split(",")[1]:a)},r.onerror=a=>t(a),r.readAsDataURL(n)}),bB=(n={})=>{const e=Object.keys(n);return Object.keys(n).map(a=>a.toLocaleLowerCase()).reduce((a,o,c)=>(a[o]=n[e[c]],a),{})},_B=(n,e=!0)=>n?Object.entries(n).reduce((r,a)=>{const[o,c]=a;let d,f;return Array.isArray(c)?(f="",c.forEach(m=>{d=e?encodeURIComponent(m):m,f+=`${o}=${d}&`}),f.slice(0,-1)):(d=e?encodeURIComponent(c):c,f=`${o}=${d}`),`${r}&${f}`},"").substr(1):null,wB=(n,e={})=>{const t=Object.assign({method:n.method||"GET",headers:n.headers},e),a=bB(n.headers)["content-type"]||"";if(typeof n.data=="string")t.body=n.data;else if(a.includes("application/x-www-form-urlencoded")){const o=new URLSearchParams;for(const[c,d]of Object.entries(n.data||{}))o.set(c,d);t.body=o.toString()}else if(a.includes("multipart/form-data")||n.data instanceof FormData){const o=new FormData;if(n.data instanceof FormData)n.data.forEach((d,f)=>{o.append(f,d)});else for(const d of Object.keys(n.data))o.append(d,n.data[d]);t.body=o;const c=new Headers(t.headers);c.delete("content-type"),t.headers=c}else(a.includes("application/json")||typeof n.data=="object")&&(t.body=JSON.stringify(n.data));return t};class EB extends hw{async request(e){const t=wB(e,e.webFetchExtra),r=_B(e.params,e.shouldEncodeUrlParams),a=r?`${e.url}?${r}`:e.url,o=await fetch(a,t),c=o.headers.get("content-type")||"";let{responseType:d="text"}=o.ok?e:{};c.includes("application/json")&&(d="json");let f,m;switch(d){case"arraybuffer":case"blob":m=await o.blob(),f=await yB(m);break;case"json":f=await o.json();break;default:f=await o.text()}const v={};return o.headers.forEach((y,E)=>{v[E]=y}),{data:f,headers:v,status:o.status,url:o.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Eg("CapacitorHttp",{web:()=>new EB});var DI;(function(n){n.Dark="DARK",n.Light="LIGHT",n.Default="DEFAULT"})(DI||(DI={}));var NI;(function(n){n.StatusBar="StatusBar",n.NavigationBar="NavigationBar"})(NI||(NI={}));class xB extends hw{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}Eg("SystemBars",{web:()=>new xB});const il=Eg("PushNotifications",{});function TB(){const[n,e]=S.useState(null),[t,r]=S.useState(null),[a,o]=S.useState(!0),[c,d]=S.useState(null);return S.useEffect(()=>{(async()=>{try{const m=await fetch("https://api.github.com/repos/HereLiesAz/BarBacker/releases/latest");if(!m.ok)throw new Error(`GitHub API Error: ${m.statusText}`);const v=await m.json(),y=v.assets.find(E=>E.name.endsWith(".apk"));y?(e(y.browser_download_url),r(v.tag_name)):d("No APK found in latest release")}catch(m){console.error("Failed to fetch latest release:",m),d(m.message||"Unknown error")}finally{o(!1)}})()},[]),{downloadUrl:n,version:t,loading:a,error:c}}async function SB(n,e,t){const r=new Array(n.length),a=n.map((d,f)=>({item:d,index:f})),o=async()=>{for(;a.length>0;){const{item:d,index:f}=a.shift();try{r[f]=await e(d)}catch(m){throw m}}},c=Array.from({length:Math.min(n.length,t)},()=>o());return await Promise.all(c),r}class AB{checkSubscription(e){return e==="hereliesaz@gmail.com"}}class IB{getNotices(){return Promise.resolve(["Welcome to BarBacker Subscription!"])}}class CB{applyTheme(e){console.log(`Theme applied: ${e}`)}}const RB=new AB,DB=new IB,NB=new CB;function $(n,e,t,r){var a=arguments.length,o=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var d=n.length-1;d>=0;d--)(c=n[d])&&(o=(a<3?c(o):a>3?c(e,t,o):c(e,t))||o);return a>3&&o&&Object.defineProperty(e,t,o),o}const en=n=>(e,t)=>{t!==void 0?t.addInitializer(()=>{customElements.define(n,e)}):customElements.define(n,e)};const Wp=globalThis,fw=Wp.ShadowRoot&&(Wp.ShadyCSS===void 0||Wp.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,pw=Symbol(),kI=new WeakMap;let L2=class{constructor(e,t,r){if(this._$cssResult$=!0,r!==pw)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(fw&&e===void 0){const r=t!==void 0&&t.length===1;r&&(e=kI.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&kI.set(t,e))}return e}toString(){return this.cssText}};const kB=n=>new L2(typeof n=="string"?n:n+"",void 0,pw),ft=(n,...e)=>{const t=n.length===1?n[0]:e.reduce((r,a,o)=>r+(c=>{if(c._$cssResult$===!0)return c.cssText;if(typeof c=="number")return c;throw Error("Value passed to 'css' function must be a 'css' function result: "+c+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(a)+n[o+1],n[0]);return new L2(t,n,pw)},OB=(n,e)=>{if(fw)n.adoptedStyleSheets=e.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet);else for(const t of e){const r=document.createElement("style"),a=Wp.litNonce;a!==void 0&&r.setAttribute("nonce",a),r.textContent=t.cssText,n.appendChild(r)}},OI=fw?n=>n:n=>n instanceof CSSStyleSheet?(e=>{let t="";for(const r of e.cssRules)t+=r.cssText;return kB(t)})(n):n;const{is:PB,defineProperty:MB,getOwnPropertyDescriptor:VB,getOwnPropertyNames:LB,getOwnPropertySymbols:UB,getPrototypeOf:BB}=Object,xg=globalThis,PI=xg.trustedTypes,zB=PI?PI.emptyScript:"",jB=xg.reactiveElementPolyfillSupport,Wd=(n,e)=>n,Dm={toAttribute(n,e){switch(e){case Boolean:n=n?zB:null;break;case Object:case Array:n=n==null?n:JSON.stringify(n)}return n},fromAttribute(n,e){let t=n;switch(e){case Boolean:t=n!==null;break;case Number:t=n===null?null:Number(n);break;case Object:case Array:try{t=JSON.parse(n)}catch{t=null}}return t}},mw=(n,e)=>!PB(n,e),MI={attribute:!0,type:String,converter:Dm,reflect:!1,useDefault:!1,hasChanged:mw};Symbol.metadata??=Symbol("metadata"),xg.litPropertyMetadata??=new WeakMap;let zc=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=MI){if(t.state&&(t.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((t=Object.create(t)).wrapped=!0),this.elementProperties.set(e,t),!t.noAccessor){const r=Symbol(),a=this.getPropertyDescriptor(e,r,t);a!==void 0&&MB(this.prototype,e,a)}}static getPropertyDescriptor(e,t,r){const{get:a,set:o}=VB(this.prototype,e)??{get(){return this[t]},set(c){this[t]=c}};return{get:a,set(c){const d=a?.call(this);o?.call(this,c),this.requestUpdate(e,d,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??MI}static _$Ei(){if(this.hasOwnProperty(Wd("elementProperties")))return;const e=BB(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(Wd("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Wd("properties"))){const t=this.properties,r=[...LB(t),...UB(t)];for(const a of r)this.createProperty(a,t[a])}const e=this[Symbol.metadata];if(e!==null){const t=litPropertyMetadata.get(e);if(t!==void 0)for(const[r,a]of t)this.elementProperties.set(r,a)}this._$Eh=new Map;for(const[t,r]of this.elementProperties){const a=this._$Eu(t,r);a!==void 0&&this._$Eh.set(a,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const a of r)t.unshift(OI(a))}else e!==void 0&&t.push(OI(e));return t}static _$Eu(e,t){const r=t.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(e=>e(this))}addController(e){(this._$EO??=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,t=this.constructor.elementProperties;for(const r of t.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return OB(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(e=>e.hostConnected?.())}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach(e=>e.hostDisconnected?.())}attributeChangedCallback(e,t,r){this._$AK(e,r)}_$ET(e,t){const r=this.constructor.elementProperties.get(e),a=this.constructor._$Eu(e,r);if(a!==void 0&&r.reflect===!0){const o=(r.converter?.toAttribute!==void 0?r.converter:Dm).toAttribute(t,r.type);this._$Em=e,o==null?this.removeAttribute(a):this.setAttribute(a,o),this._$Em=null}}_$AK(e,t){const r=this.constructor,a=r._$Eh.get(e);if(a!==void 0&&this._$Em!==a){const o=r.getPropertyOptions(a),c=typeof o.converter=="function"?{fromAttribute:o.converter}:o.converter?.fromAttribute!==void 0?o.converter:Dm;this._$Em=a;const d=c.fromAttribute(t,o.type);this[a]=d??this._$Ej?.get(a)??d,this._$Em=null}}requestUpdate(e,t,r,a=!1,o){if(e!==void 0){const c=this.constructor;if(a===!1&&(o=this[e]),r??=c.getPropertyOptions(e),!((r.hasChanged??mw)(o,t)||r.useDefault&&r.reflect&&o===this._$Ej?.get(e)&&!this.hasAttribute(c._$Eu(e,r))))return;this.C(e,t,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,t,{useDefault:r,reflect:a,wrapped:o},c){r&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,c??t??this[e]),o!==!0||c!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(t=void 0),this._$AL.set(e,t)),a===!0&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[a,o]of this._$Ep)this[a]=o;this._$Ep=void 0}const r=this.constructor.elementProperties;if(r.size>0)for(const[a,o]of r){const{wrapped:c}=o,d=this[a];c!==!0||this._$AL.has(a)||d===void 0||this.C(a,void 0,o,d)}}let e=!1;const t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),this._$EO?.forEach(r=>r.hostUpdate?.()),this.update(t)):this._$EM()}catch(r){throw e=!1,this._$EM(),r}e&&this._$AE(t)}willUpdate(e){}_$AE(e){this._$EO?.forEach(t=>t.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach(t=>this._$ET(t,this[t])),this._$EM()}updated(e){}firstUpdated(e){}};zc.elementStyles=[],zc.shadowRootOptions={mode:"open"},zc[Wd("elementProperties")]=new Map,zc[Wd("finalized")]=new Map,jB?.({ReactiveElement:zc}),(xg.reactiveElementVersions??=[]).push("2.1.2");const $B={attribute:!0,type:String,converter:Dm,reflect:!1,hasChanged:mw},FB=(n=$B,e,t)=>{const{kind:r,metadata:a}=t;let o=globalThis.litPropertyMetadata.get(a);if(o===void 0&&globalThis.litPropertyMetadata.set(a,o=new Map),r==="setter"&&((n=Object.create(n)).wrapped=!0),o.set(t.name,n),r==="accessor"){const{name:c}=t;return{set(d){const f=e.get.call(this);e.set.call(this,d),this.requestUpdate(c,f,n,!0,d)},init(d){return d!==void 0&&this.C(c,void 0,n,d),d}}}if(r==="setter"){const{name:c}=t;return function(d){const f=this[c];e.call(this,d),this.requestUpdate(c,f,n,!0,d)}}throw Error("Unsupported decorator location: "+r)};function re(n){return(e,t)=>typeof t=="object"?FB(n,e,t):((r,a,o)=>{const c=a.hasOwnProperty(o);return a.constructor.createProperty(o,r),c?Object.getOwnPropertyDescriptor(a,o):void 0})(n,e,t)}function hr(n){return re({...n,state:!0,attribute:!1})}const Tg=(n,e,t)=>(t.configurable=!0,t.enumerable=!0,Reflect.decorate&&typeof e!="object"&&Object.defineProperty(n,e,t),t);function jt(n,e){return(t,r,a)=>{const o=c=>c.renderRoot?.querySelector(n)??null;return Tg(t,r,{get(){return o(this)}})}}let qB;function HB(n){return(e,t)=>Tg(e,t,{get(){return(this.renderRoot??(qB??=document.createDocumentFragment())).querySelectorAll(n)}})}function pa(n){return(e,t)=>{const{slot:r,selector:a}=n??{},o="slot"+(r?`[name=${r}]`:":not([name])");return Tg(e,t,{get(){const c=this.renderRoot?.querySelector(o),d=c?.assignedElements(n)??[];return a===void 0?d:d.filter(f=>f.matches(a))}})}}function GB(n){return(e,t)=>{const{slot:r}=n??{},a="slot"+(r?`[name=${r}]`:":not([name])");return Tg(e,t,{get(){return this.renderRoot?.querySelector(a)?.assignedNodes(n)??[]}})}}const gw=globalThis,VI=n=>n,Nm=gw.trustedTypes,LI=Nm?Nm.createPolicy("lit-html",{createHTML:n=>n}):void 0,U2="$lit$",so=`lit$${Math.random().toFixed(9).slice(2)}$`,B2="?"+so,KB=`<${B2}>`,Ll=document,gh=()=>Ll.createComment(""),vh=n=>n===null||typeof n!="object"&&typeof n!="function",vw=Array.isArray,YB=n=>vw(n)||typeof n?.[Symbol.iterator]=="function",ob=`[ 	
\f\r]`,Cd=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,UI=/-->/g,BI=/>/g,sl=RegExp(`>|${ob}(?:([^\\s"'>=/]+)(${ob}*=${ob}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),zI=/'/g,jI=/"/g,z2=/^(?:script|style|textarea|title)$/i,QB=n=>(e,...t)=>({_$litType$:n,strings:e,values:t}),Ee=QB(1),Ai=Symbol.for("lit-noChange"),fe=Symbol.for("lit-nothing"),$I=new WeakMap,vl=Ll.createTreeWalker(Ll,129);function j2(n,e){if(!vw(n)||!n.hasOwnProperty("raw"))throw Error("invalid template strings array");return LI!==void 0?LI.createHTML(e):e}const WB=(n,e)=>{const t=n.length-1,r=[];let a,o=e===2?"<svg>":e===3?"<math>":"",c=Cd;for(let d=0;d<t;d++){const f=n[d];let m,v,y=-1,E=0;for(;E<f.length&&(c.lastIndex=E,v=c.exec(f),v!==null);)E=c.lastIndex,c===Cd?v[1]==="!--"?c=UI:v[1]!==void 0?c=BI:v[2]!==void 0?(z2.test(v[2])&&(a=RegExp("</"+v[2],"g")),c=sl):v[3]!==void 0&&(c=sl):c===sl?v[0]===">"?(c=a??Cd,y=-1):v[1]===void 0?y=-2:(y=c.lastIndex-v[2].length,m=v[1],c=v[3]===void 0?sl:v[3]==='"'?jI:zI):c===jI||c===zI?c=sl:c===UI||c===BI?c=Cd:(c=sl,a=void 0);const I=c===sl&&n[d+1].startsWith("/>")?" ":"";o+=c===Cd?f+KB:y>=0?(r.push(m),f.slice(0,y)+U2+f.slice(y)+so+I):f+so+(y===-2?d:I)}return[j2(n,o+(n[t]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};class yh{constructor({strings:e,_$litType$:t},r){let a;this.parts=[];let o=0,c=0;const d=e.length-1,f=this.parts,[m,v]=WB(e,t);if(this.el=yh.createElement(m,r),vl.currentNode=this.el.content,t===2||t===3){const y=this.el.content.firstChild;y.replaceWith(...y.childNodes)}for(;(a=vl.nextNode())!==null&&f.length<d;){if(a.nodeType===1){if(a.hasAttributes())for(const y of a.getAttributeNames())if(y.endsWith(U2)){const E=v[c++],I=a.getAttribute(y).split(so),U=/([.?@])?(.*)/.exec(E);f.push({type:1,index:o,name:U[2],strings:I,ctor:U[1]==="."?JB:U[1]==="?"?ZB:U[1]==="@"?ez:Sg}),a.removeAttribute(y)}else y.startsWith(so)&&(f.push({type:6,index:o}),a.removeAttribute(y));if(z2.test(a.tagName)){const y=a.textContent.split(so),E=y.length-1;if(E>0){a.textContent=Nm?Nm.emptyScript:"";for(let I=0;I<E;I++)a.append(y[I],gh()),vl.nextNode(),f.push({type:2,index:++o});a.append(y[E],gh())}}}else if(a.nodeType===8)if(a.data===B2)f.push({type:2,index:o});else{let y=-1;for(;(y=a.data.indexOf(so,y+1))!==-1;)f.push({type:7,index:o}),y+=so.length-1}o++}}static createElement(e,t){const r=Ll.createElement("template");return r.innerHTML=e,r}}function pu(n,e,t=n,r){if(e===Ai)return e;let a=r!==void 0?t._$Co?.[r]:t._$Cl;const o=vh(e)?void 0:e._$litDirective$;return a?.constructor!==o&&(a?._$AO?.(!1),o===void 0?a=void 0:(a=new o(n),a._$AT(n,t,r)),r!==void 0?(t._$Co??=[])[r]=a:t._$Cl=a),a!==void 0&&(e=pu(n,a._$AS(n,e.values),a,r)),e}class XB{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:t},parts:r}=this._$AD,a=(e?.creationScope??Ll).importNode(t,!0);vl.currentNode=a;let o=vl.nextNode(),c=0,d=0,f=r[0];for(;f!==void 0;){if(c===f.index){let m;f.type===2?m=new zh(o,o.nextSibling,this,e):f.type===1?m=new f.ctor(o,f.name,f.strings,this,e):f.type===6&&(m=new tz(o,this,e)),this._$AV.push(m),f=r[++d]}c!==f?.index&&(o=vl.nextNode(),c++)}return vl.currentNode=Ll,a}p(e){let t=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}}class zh{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,t,r,a){this.type=2,this._$AH=fe,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=r,this.options=a,this._$Cv=a?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return t!==void 0&&e?.nodeType===11&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=pu(this,e,t),vh(e)?e===fe||e==null||e===""?(this._$AH!==fe&&this._$AR(),this._$AH=fe):e!==this._$AH&&e!==Ai&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):YB(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==fe&&vh(this._$AH)?this._$AA.nextSibling.data=e:this.T(Ll.createTextNode(e)),this._$AH=e}$(e){const{values:t,_$litType$:r}=e,a=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=yh.createElement(j2(r.h,r.h[0]),this.options)),r);if(this._$AH?._$AD===a)this._$AH.p(t);else{const o=new XB(a,this),c=o.u(this.options);o.p(t),this.T(c),this._$AH=o}}_$AC(e){let t=$I.get(e.strings);return t===void 0&&$I.set(e.strings,t=new yh(e)),t}k(e){vw(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let r,a=0;for(const o of e)a===t.length?t.push(r=new zh(this.O(gh()),this.O(gh()),this,this.options)):r=t[a],r._$AI(o),a++;a<t.length&&(this._$AR(r&&r._$AB.nextSibling,a),t.length=a)}_$AR(e=this._$AA.nextSibling,t){for(this._$AP?.(!1,!0,t);e!==this._$AB;){const r=VI(e).nextSibling;VI(e).remove(),e=r}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}}class Sg{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,r,a,o){this.type=1,this._$AH=fe,this._$AN=void 0,this.element=e,this.name=t,this._$AM=a,this.options=o,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=fe}_$AI(e,t=this,r,a){const o=this.strings;let c=!1;if(o===void 0)e=pu(this,e,t,0),c=!vh(e)||e!==this._$AH&&e!==Ai,c&&(this._$AH=e);else{const d=e;let f,m;for(e=o[0],f=0;f<o.length-1;f++)m=pu(this,d[r+f],t,f),m===Ai&&(m=this._$AH[f]),c||=!vh(m)||m!==this._$AH[f],m===fe?e=fe:e!==fe&&(e+=(m??"")+o[f+1]),this._$AH[f]=m}c&&!a&&this.j(e)}j(e){e===fe?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class JB extends Sg{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===fe?void 0:e}}class ZB extends Sg{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==fe)}}class ez extends Sg{constructor(e,t,r,a,o){super(e,t,r,a,o),this.type=5}_$AI(e,t=this){if((e=pu(this,e,t,0)??fe)===Ai)return;const r=this._$AH,a=e===fe&&r!==fe||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,o=e!==fe&&(r===fe||a);a&&this.element.removeEventListener(this.name,this,r),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class tz{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){pu(this,e)}}const nz=gw.litHtmlPolyfillSupport;nz?.(yh,zh),(gw.litHtmlVersions??=[]).push("3.3.2");const $2=(n,e,t)=>{const r=t?.renderBefore??e;let a=r._$litPart$;if(a===void 0){const o=t?.renderBefore??null;r._$litPart$=a=new zh(e.insertBefore(gh(),o),o,void 0,t??{})}return a._$AI(n),a};const yw=globalThis;let Dt=class extends zc{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=$2(t,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return Ai}};Dt._$litElement$=!0,Dt.finalized=!0,yw.litElementHydrateSupport?.({LitElement:Dt});const rz=yw.litElementPolyfillSupport;rz?.({LitElement:Dt});(yw.litElementVersions??=[]).push("4.2.2");class iz extends Dt{connectedCallback(){super.connectedCallback(),this.setAttribute("aria-hidden","true")}render(){return Ee`<span class="shadow"></span>`}}const sz=ft`:host,.shadow,.shadow::before,.shadow::after{border-radius:inherit;inset:0;position:absolute;transition-duration:inherit;transition-property:inherit;transition-timing-function:inherit}:host{display:flex;pointer-events:none;transition-property:box-shadow,opacity}.shadow::before,.shadow::after{content:"";transition-property:box-shadow,opacity;--_level: var(--md-elevation-level, 0);--_shadow-color: var(--md-elevation-shadow-color, var(--md-sys-color-shadow, #000))}.shadow::before{box-shadow:0px calc(1px*(clamp(0,var(--_level),1) + clamp(0,var(--_level) - 3,1) + 2*clamp(0,var(--_level) - 4,1))) calc(1px*(2*clamp(0,var(--_level),1) + clamp(0,var(--_level) - 2,1) + clamp(0,var(--_level) - 4,1))) 0px var(--_shadow-color);opacity:.3}.shadow::after{box-shadow:0px calc(1px*(clamp(0,var(--_level),1) + clamp(0,var(--_level) - 1,1) + 2*clamp(0,var(--_level) - 2,3))) calc(1px*(3*clamp(0,var(--_level),2) + 2*clamp(0,var(--_level) - 2,3))) calc(1px*(clamp(0,var(--_level),4) + 2*clamp(0,var(--_level) - 4,1))) var(--_shadow-color);opacity:.15}
`;let a_=class extends iz{};a_.styles=[sz];a_=$([en("md-elevation")],a_);const F2=Symbol("attachableController");let q2;q2=new MutationObserver(n=>{for(const e of n)e.target[F2]?.hostConnected()});class H2{get htmlFor(){return this.host.getAttribute("for")}set htmlFor(e){e===null?this.host.removeAttribute("for"):this.host.setAttribute("for",e)}get control(){return this.host.hasAttribute("for")?!this.htmlFor||!this.host.isConnected?null:this.host.getRootNode().querySelector(`#${this.htmlFor}`):this.currentControl||this.host.parentElement}set control(e){e?this.attach(e):this.detach()}constructor(e,t){this.host=e,this.onControlChange=t,this.currentControl=null,e.addController(this),e[F2]=this,q2?.observe(e,{attributeFilter:["for"]})}attach(e){e!==this.currentControl&&(this.setCurrentControl(e),this.host.removeAttribute("for"))}detach(){this.setCurrentControl(null),this.host.setAttribute("for","")}hostConnected(){this.setCurrentControl(this.control)}hostDisconnected(){this.setCurrentControl(null)}setCurrentControl(e){this.onControlChange(this.currentControl,e),this.currentControl=e}}const az=["focusin","focusout","pointerdown"];class bw extends Dt{constructor(){super(...arguments),this.visible=!1,this.inward=!1,this.attachableController=new H2(this,this.onControlChange.bind(this))}get htmlFor(){return this.attachableController.htmlFor}set htmlFor(e){this.attachableController.htmlFor=e}get control(){return this.attachableController.control}set control(e){this.attachableController.control=e}attach(e){this.attachableController.attach(e)}detach(){this.attachableController.detach()}connectedCallback(){super.connectedCallback(),this.setAttribute("aria-hidden","true")}handleEvent(e){if(!e[FI]){switch(e.type){default:return;case"focusin":this.visible=this.control?.matches(":focus-visible")??!1;break;case"focusout":case"pointerdown":this.visible=!1;break}e[FI]=!0}}onControlChange(e,t){for(const r of az)e?.removeEventListener(r,this),t?.addEventListener(r,this)}update(e){e.has("visible")&&this.dispatchEvent(new Event("visibility-changed")),super.update(e)}}$([re({type:Boolean,reflect:!0})],bw.prototype,"visible",void 0);$([re({type:Boolean,reflect:!0})],bw.prototype,"inward",void 0);const FI=Symbol("handledByFocusRing");const oz=ft`:host{animation-delay:0s,calc(var(--md-focus-ring-duration, 600ms)*.25);animation-duration:calc(var(--md-focus-ring-duration, 600ms)*.25),calc(var(--md-focus-ring-duration, 600ms)*.75);animation-timing-function:cubic-bezier(0.2, 0, 0, 1);box-sizing:border-box;color:var(--md-focus-ring-color, var(--md-sys-color-secondary, #625b71));display:none;pointer-events:none;position:absolute}:host([visible]){display:flex}:host(:not([inward])){animation-name:outward-grow,outward-shrink;border-end-end-radius:calc(var(--md-focus-ring-shape-end-end, var(--md-focus-ring-shape, var(--md-sys-shape-corner-full, 9999px))) + var(--md-focus-ring-outward-offset, 2px));border-end-start-radius:calc(var(--md-focus-ring-shape-end-start, var(--md-focus-ring-shape, var(--md-sys-shape-corner-full, 9999px))) + var(--md-focus-ring-outward-offset, 2px));border-start-end-radius:calc(var(--md-focus-ring-shape-start-end, var(--md-focus-ring-shape, var(--md-sys-shape-corner-full, 9999px))) + var(--md-focus-ring-outward-offset, 2px));border-start-start-radius:calc(var(--md-focus-ring-shape-start-start, var(--md-focus-ring-shape, var(--md-sys-shape-corner-full, 9999px))) + var(--md-focus-ring-outward-offset, 2px));inset:calc(-1*var(--md-focus-ring-outward-offset, 2px));outline:var(--md-focus-ring-width, 3px) solid currentColor}:host([inward]){animation-name:inward-grow,inward-shrink;border-end-end-radius:calc(var(--md-focus-ring-shape-end-end, var(--md-focus-ring-shape, var(--md-sys-shape-corner-full, 9999px))) - var(--md-focus-ring-inward-offset, 0px));border-end-start-radius:calc(var(--md-focus-ring-shape-end-start, var(--md-focus-ring-shape, var(--md-sys-shape-corner-full, 9999px))) - var(--md-focus-ring-inward-offset, 0px));border-start-end-radius:calc(var(--md-focus-ring-shape-start-end, var(--md-focus-ring-shape, var(--md-sys-shape-corner-full, 9999px))) - var(--md-focus-ring-inward-offset, 0px));border-start-start-radius:calc(var(--md-focus-ring-shape-start-start, var(--md-focus-ring-shape, var(--md-sys-shape-corner-full, 9999px))) - var(--md-focus-ring-inward-offset, 0px));border:var(--md-focus-ring-width, 3px) solid currentColor;inset:var(--md-focus-ring-inward-offset, 0px)}@keyframes outward-grow{from{outline-width:0}to{outline-width:var(--md-focus-ring-active-width, 8px)}}@keyframes outward-shrink{from{outline-width:var(--md-focus-ring-active-width, 8px)}}@keyframes inward-grow{from{border-width:0}to{border-width:var(--md-focus-ring-active-width, 8px)}}@keyframes inward-shrink{from{border-width:var(--md-focus-ring-active-width, 8px)}}@media(prefers-reduced-motion){:host{animation:none}}
`;let o_=class extends bw{};o_.styles=[oz];o_=$([en("md-focus-ring")],o_);const Za={ATTRIBUTE:1,PROPERTY:3,BOOLEAN_ATTRIBUTE:4},_w=n=>(...e)=>({_$litDirective$:n,values:e});let ww=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,r){this._$Ct=e,this._$AM=t,this._$Ci=r}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}};const Ir=_w(class extends ww{constructor(n){if(super(n),n.type!==Za.ATTRIBUTE||n.name!=="class"||n.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(n){return" "+Object.keys(n).filter(e=>n[e]).join(" ")+" "}update(n,[e]){if(this.st===void 0){this.st=new Set,n.strings!==void 0&&(this.nt=new Set(n.strings.join(" ").split(/\s/).filter(r=>r!=="")));for(const r in e)e[r]&&!this.nt?.has(r)&&this.st.add(r);return this.render(e)}const t=n.element.classList;for(const r of this.st)r in e||(t.remove(r),this.st.delete(r));for(const r in e){const a=!!e[r];a===this.st.has(r)||this.nt?.has(r)||(a?(t.add(r),this.st.add(r)):(t.remove(r),this.st.delete(r)))}return Ai}});const ms={STANDARD:"cubic-bezier(0.2, 0, 0, 1)",EMPHASIZED:"cubic-bezier(.3,0,0,1)",EMPHASIZED_ACCELERATE:"cubic-bezier(.3,0,.8,.15)"};function lz(){let n=null;return{start(){return n?.abort(),n=new AbortController,n.signal},finish(){n=null}}}const cz=450,qI=225,uz=.2,dz=10,hz=75,fz=.35,pz="::after",mz="forwards";var Sr;(function(n){n[n.INACTIVE=0]="INACTIVE",n[n.TOUCH_DELAY=1]="TOUCH_DELAY",n[n.HOLDING=2]="HOLDING",n[n.WAITING_FOR_CLICK=3]="WAITING_FOR_CLICK"})(Sr||(Sr={}));const gz=["click","contextmenu","pointercancel","pointerdown","pointerenter","pointerleave","pointerup"],vz=150,yz=window.matchMedia("(forced-colors: active)");class jh extends Dt{constructor(){super(...arguments),this.disabled=!1,this.hovered=!1,this.pressed=!1,this.rippleSize="",this.rippleScale="",this.initialSize=0,this.state=Sr.INACTIVE,this.attachableController=new H2(this,this.onControlChange.bind(this))}get htmlFor(){return this.attachableController.htmlFor}set htmlFor(e){this.attachableController.htmlFor=e}get control(){return this.attachableController.control}set control(e){this.attachableController.control=e}attach(e){this.attachableController.attach(e)}detach(){this.attachableController.detach()}connectedCallback(){super.connectedCallback(),this.setAttribute("aria-hidden","true")}render(){const e={hovered:this.hovered,pressed:this.pressed};return Ee`<div class="surface ${Ir(e)}"></div>`}update(e){e.has("disabled")&&this.disabled&&(this.hovered=!1,this.pressed=!1),super.update(e)}handlePointerenter(e){this.shouldReactToEvent(e)&&(this.hovered=!0)}handlePointerleave(e){this.shouldReactToEvent(e)&&(this.hovered=!1,this.state!==Sr.INACTIVE&&this.endPressAnimation())}handlePointerup(e){if(this.shouldReactToEvent(e)){if(this.state===Sr.HOLDING){this.state=Sr.WAITING_FOR_CLICK;return}if(this.state===Sr.TOUCH_DELAY){this.state=Sr.WAITING_FOR_CLICK,this.startPressAnimation(this.rippleStartEvent);return}}}async handlePointerdown(e){if(this.shouldReactToEvent(e)){if(this.rippleStartEvent=e,!this.isTouch(e)){this.state=Sr.WAITING_FOR_CLICK,this.startPressAnimation(e);return}this.state=Sr.TOUCH_DELAY,await new Promise(t=>{setTimeout(t,vz)}),this.state===Sr.TOUCH_DELAY&&(this.state=Sr.HOLDING,this.startPressAnimation(e))}}handleClick(){if(!this.disabled){if(this.state===Sr.WAITING_FOR_CLICK){this.endPressAnimation();return}this.state===Sr.INACTIVE&&(this.startPressAnimation(),this.endPressAnimation())}}handlePointercancel(e){this.shouldReactToEvent(e)&&this.endPressAnimation()}handleContextmenu(){this.disabled||this.endPressAnimation()}determineRippleSize(){const{height:e,width:t}=this.getBoundingClientRect(),r=Math.max(e,t),a=Math.max(fz*r,hz),o=this.currentCSSZoom??1,c=Math.floor(r*uz/o),f=Math.sqrt(t**2+e**2)+dz;this.initialSize=c;const m=(f+a)/c;this.rippleScale=`${m/o}`,this.rippleSize=`${c}px`}getNormalizedPointerEventCoords(e){const{scrollX:t,scrollY:r}=window,{left:a,top:o}=this.getBoundingClientRect(),c=t+a,d=r+o,{pageX:f,pageY:m}=e,v=this.currentCSSZoom??1;return{x:(f-c)/v,y:(m-d)/v}}getTranslationCoordinates(e){const{height:t,width:r}=this.getBoundingClientRect(),a=this.currentCSSZoom??1,o={x:(r/a-this.initialSize)/2,y:(t/a-this.initialSize)/2};let c;return e instanceof PointerEvent?c=this.getNormalizedPointerEventCoords(e):c={x:r/a/2,y:t/a/2},c={x:c.x-this.initialSize/2,y:c.y-this.initialSize/2},{startPoint:c,endPoint:o}}startPressAnimation(e){if(!this.mdRoot)return;this.pressed=!0,this.growAnimation?.cancel(),this.determineRippleSize();const{startPoint:t,endPoint:r}=this.getTranslationCoordinates(e),a=`${t.x}px, ${t.y}px`,o=`${r.x}px, ${r.y}px`;this.growAnimation=this.mdRoot.animate({top:[0,0],left:[0,0],height:[this.rippleSize,this.rippleSize],width:[this.rippleSize,this.rippleSize],transform:[`translate(${a}) scale(1)`,`translate(${o}) scale(${this.rippleScale})`]},{pseudoElement:pz,duration:cz,easing:ms.STANDARD,fill:mz})}async endPressAnimation(){this.rippleStartEvent=void 0,this.state=Sr.INACTIVE;const e=this.growAnimation;let t=1/0;if(typeof e?.currentTime=="number"?t=e.currentTime:e?.currentTime&&(t=e.currentTime.to("ms").value),t>=qI){this.pressed=!1;return}await new Promise(r=>{setTimeout(r,qI-t)}),this.growAnimation===e&&(this.pressed=!1)}shouldReactToEvent(e){if(this.disabled||!e.isPrimary||this.rippleStartEvent&&this.rippleStartEvent.pointerId!==e.pointerId)return!1;if(e.type==="pointerenter"||e.type==="pointerleave")return!this.isTouch(e);const t=e.buttons===1;return this.isTouch(e)||t}isTouch({pointerType:e}){return e==="touch"}async handleEvent(e){if(!yz?.matches)switch(e.type){case"click":this.handleClick();break;case"contextmenu":this.handleContextmenu();break;case"pointercancel":this.handlePointercancel(e);break;case"pointerdown":await this.handlePointerdown(e);break;case"pointerenter":this.handlePointerenter(e);break;case"pointerleave":this.handlePointerleave(e);break;case"pointerup":this.handlePointerup(e);break}}onControlChange(e,t){for(const r of gz)e?.removeEventListener(r,this),t?.addEventListener(r,this)}}$([re({type:Boolean,reflect:!0})],jh.prototype,"disabled",void 0);$([hr()],jh.prototype,"hovered",void 0);$([hr()],jh.prototype,"pressed",void 0);$([jt(".surface")],jh.prototype,"mdRoot",void 0);const bz=ft`:host{display:flex;margin:auto;pointer-events:none}:host([disabled]){display:none}@media(forced-colors: active){:host{display:none}}:host,.surface{border-radius:inherit;position:absolute;inset:0;overflow:hidden}.surface{-webkit-tap-highlight-color:rgba(0,0,0,0)}.surface::before,.surface::after{content:"";opacity:0;position:absolute}.surface::before{background-color:var(--md-ripple-hover-color, var(--md-sys-color-on-surface, #1d1b20));inset:0;transition:opacity 15ms linear,background-color 15ms linear}.surface::after{background:radial-gradient(closest-side, var(--md-ripple-pressed-color, var(--md-sys-color-on-surface, #1d1b20)) max(100% - 70px, 65%), transparent 100%);transform-origin:center center;transition:opacity 375ms linear}.hovered::before{background-color:var(--md-ripple-hover-color, var(--md-sys-color-on-surface, #1d1b20));opacity:var(--md-ripple-hover-opacity, 0.08)}.pressed::after{opacity:var(--md-ripple-pressed-opacity, 0.12);transition-duration:105ms}
`;let l_=class extends jh{};l_.styles=[bz];l_=$([en("md-ripple")],l_);const G2=["role","ariaAtomic","ariaAutoComplete","ariaBusy","ariaChecked","ariaColCount","ariaColIndex","ariaColSpan","ariaCurrent","ariaDisabled","ariaExpanded","ariaHasPopup","ariaHidden","ariaInvalid","ariaKeyShortcuts","ariaLabel","ariaLevel","ariaLive","ariaModal","ariaMultiLine","ariaMultiSelectable","ariaOrientation","ariaPlaceholder","ariaPosInSet","ariaPressed","ariaReadOnly","ariaRequired","ariaRoleDescription","ariaRowCount","ariaRowIndex","ariaRowSpan","ariaSelected","ariaSetSize","ariaSort","ariaValueMax","ariaValueMin","ariaValueNow","ariaValueText"],_z=G2.map(K2);function lb(n){return _z.includes(n)}function K2(n){return n.replace("aria","aria-").replace(/Elements?/g,"").toLowerCase()}const _p=Symbol("privateIgnoreAttributeChangesFor");function ma(n){var e;class t extends n{constructor(){super(...arguments),this[e]=new Set}attributeChangedCallback(a,o,c){if(!lb(a)){super.attributeChangedCallback(a,o,c);return}if(this[_p].has(a))return;this[_p].add(a),this.removeAttribute(a),this[_p].delete(a);const d=u_(a);c===null?delete this.dataset[d]:this.dataset[d]=c,this.requestUpdate(u_(a),o)}getAttribute(a){return lb(a)?super.getAttribute(c_(a)):super.getAttribute(a)}removeAttribute(a){super.removeAttribute(a),lb(a)&&(super.removeAttribute(c_(a)),this.requestUpdate())}}return e=_p,wz(t),t}function wz(n){for(const e of G2){const t=K2(e),r=c_(t),a=u_(t);n.createProperty(e,{attribute:t,noAccessor:!0}),n.createProperty(Symbol(r),{attribute:r,noAccessor:!0}),Object.defineProperty(n.prototype,e,{configurable:!0,enumerable:!0,get(){return this.dataset[a]??null},set(o){const c=this.dataset[a]??null;o!==c&&(o===null?delete this.dataset[a]:this.dataset[a]=o,this.requestUpdate(e,c))}})}}function c_(n){return`data-${n}`}function u_(n){return n.replace(/-\w/,e=>e[1].toUpperCase())}const er=Symbol("internals"),cb=Symbol("privateInternals");function $h(n){class e extends n{get[er](){return this[cb]||(this[cb]=this.attachInternals()),this[cb]}}return e}function Y2(n){n.addInitializer(e=>{const t=e;t.addEventListener("click",async r=>{const{type:a,[er]:o}=t,{form:c}=o;if(!(!c||a==="button")&&(await new Promise(d=>{setTimeout(d)}),!r.defaultPrevented)){if(a==="reset"){c.reset();return}c.addEventListener("submit",d=>{Object.defineProperty(d,"submitter",{configurable:!0,enumerable:!0,get:()=>t})},{capture:!0,once:!0}),o.setFormValue(t.value),c.requestSubmit()}})})}function Q2(n){const e=new MouseEvent("click",{bubbles:!0});return n.dispatchEvent(e),e}function Ew(n){return n.currentTarget!==n.target||n.composedPath()[0]!==n.target||n.target.disabled?!1:!Ez(n)}function Ez(n){const e=d_;return e&&(n.preventDefault(),n.stopImmediatePropagation()),xz(),e}let d_=!1;async function xz(){d_=!0,await null,d_=!1}const Tz=ma($h(Dt));class Hn extends Tz{get name(){return this.getAttribute("name")??""}set name(e){this.setAttribute("name",e)}get form(){return this[er].form}constructor(){super(),this.disabled=!1,this.softDisabled=!1,this.href="",this.download="",this.target="",this.trailingIcon=!1,this.hasIcon=!1,this.type="submit",this.value="",this.addEventListener("click",this.handleClick.bind(this))}focus(){this.buttonElement?.focus()}blur(){this.buttonElement?.blur()}render(){const e=this.disabled||this.softDisabled,t=this.href?this.renderLink():this.renderButton(),r=this.href?"link":"button";return Ee`
      ${this.renderElevationOrOutline?.()}
      <div class="background"></div>
      <md-focus-ring part="focus-ring" for=${r}></md-focus-ring>
      <md-ripple
        part="ripple"
        for=${r}
        ?disabled="${e}"></md-ripple>
      ${t}
    `}renderButton(){const{ariaLabel:e,ariaHasPopup:t,ariaExpanded:r}=this;return Ee`<button
      id="button"
      class="button"
      ?disabled=${this.disabled}
      aria-disabled=${this.softDisabled||fe}
      aria-label="${e||fe}"
      aria-haspopup="${t||fe}"
      aria-expanded="${r||fe}">
      ${this.renderContent()}
    </button>`}renderLink(){const{ariaLabel:e,ariaHasPopup:t,ariaExpanded:r}=this;return Ee`<a
      id="link"
      class="button"
      aria-label="${e||fe}"
      aria-haspopup="${t||fe}"
      aria-expanded="${r||fe}"
      aria-disabled=${this.disabled||this.softDisabled||fe}
      tabindex="${this.disabled&&!this.softDisabled?-1:fe}"
      href=${this.href}
      download=${this.download||fe}
      target=${this.target||fe}
      >${this.renderContent()}
    </a>`}renderContent(){const e=Ee`<slot
      name="icon"
      @slotchange="${this.handleSlotChange}"></slot>`;return Ee`
      <span class="touch"></span>
      ${this.trailingIcon?fe:e}
      <span class="label"><slot></slot></span>
      ${this.trailingIcon?e:fe}
    `}handleClick(e){if(this.softDisabled||this.disabled&&this.href){e.stopImmediatePropagation(),e.preventDefault();return}!Ew(e)||!this.buttonElement||(this.focus(),Q2(this.buttonElement))}handleSlotChange(){this.hasIcon=this.assignedIcons.length>0}}Y2(Hn);Hn.formAssociated=!0;Hn.shadowRootOptions={mode:"open",delegatesFocus:!0};$([re({type:Boolean,reflect:!0})],Hn.prototype,"disabled",void 0);$([re({type:Boolean,attribute:"soft-disabled",reflect:!0})],Hn.prototype,"softDisabled",void 0);$([re()],Hn.prototype,"href",void 0);$([re()],Hn.prototype,"download",void 0);$([re()],Hn.prototype,"target",void 0);$([re({type:Boolean,attribute:"trailing-icon",reflect:!0})],Hn.prototype,"trailingIcon",void 0);$([re({type:Boolean,attribute:"has-icon",reflect:!0})],Hn.prototype,"hasIcon",void 0);$([re()],Hn.prototype,"type",void 0);$([re({reflect:!0})],Hn.prototype,"value",void 0);$([jt(".button")],Hn.prototype,"buttonElement",void 0);$([pa({slot:"icon",flatten:!0})],Hn.prototype,"assignedIcons",void 0);class Sz extends Hn{renderElevationOrOutline(){return Ee`<md-elevation part="elevation"></md-elevation>`}}const Az=ft`:host{--_container-color: var(--md-filled-button-container-color, var(--md-sys-color-primary, #6750a4));--_container-elevation: var(--md-filled-button-container-elevation, 0);--_container-height: var(--md-filled-button-container-height, 40px);--_container-shadow-color: var(--md-filled-button-container-shadow-color, var(--md-sys-color-shadow, #000));--_disabled-container-color: var(--md-filled-button-disabled-container-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-container-elevation: var(--md-filled-button-disabled-container-elevation, 0);--_disabled-container-opacity: var(--md-filled-button-disabled-container-opacity, 0.12);--_disabled-label-text-color: var(--md-filled-button-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-label-text-opacity: var(--md-filled-button-disabled-label-text-opacity, 0.38);--_focus-container-elevation: var(--md-filled-button-focus-container-elevation, 0);--_focus-label-text-color: var(--md-filled-button-focus-label-text-color, var(--md-sys-color-on-primary, #fff));--_hover-container-elevation: var(--md-filled-button-hover-container-elevation, 1);--_hover-label-text-color: var(--md-filled-button-hover-label-text-color, var(--md-sys-color-on-primary, #fff));--_hover-state-layer-color: var(--md-filled-button-hover-state-layer-color, var(--md-sys-color-on-primary, #fff));--_hover-state-layer-opacity: var(--md-filled-button-hover-state-layer-opacity, 0.08);--_label-text-color: var(--md-filled-button-label-text-color, var(--md-sys-color-on-primary, #fff));--_label-text-font: var(--md-filled-button-label-text-font, var(--md-sys-typescale-label-large-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-line-height: var(--md-filled-button-label-text-line-height, var(--md-sys-typescale-label-large-line-height, 1.25rem));--_label-text-size: var(--md-filled-button-label-text-size, var(--md-sys-typescale-label-large-size, 0.875rem));--_label-text-weight: var(--md-filled-button-label-text-weight, var(--md-sys-typescale-label-large-weight, var(--md-ref-typeface-weight-medium, 500)));--_pressed-container-elevation: var(--md-filled-button-pressed-container-elevation, 0);--_pressed-label-text-color: var(--md-filled-button-pressed-label-text-color, var(--md-sys-color-on-primary, #fff));--_pressed-state-layer-color: var(--md-filled-button-pressed-state-layer-color, var(--md-sys-color-on-primary, #fff));--_pressed-state-layer-opacity: var(--md-filled-button-pressed-state-layer-opacity, 0.12);--_disabled-icon-color: var(--md-filled-button-disabled-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-icon-opacity: var(--md-filled-button-disabled-icon-opacity, 0.38);--_focus-icon-color: var(--md-filled-button-focus-icon-color, var(--md-sys-color-on-primary, #fff));--_hover-icon-color: var(--md-filled-button-hover-icon-color, var(--md-sys-color-on-primary, #fff));--_icon-color: var(--md-filled-button-icon-color, var(--md-sys-color-on-primary, #fff));--_icon-size: var(--md-filled-button-icon-size, 18px);--_pressed-icon-color: var(--md-filled-button-pressed-icon-color, var(--md-sys-color-on-primary, #fff));--_container-shape-start-start: var(--md-filled-button-container-shape-start-start, var(--md-filled-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-start-end: var(--md-filled-button-container-shape-start-end, var(--md-filled-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-end-end: var(--md-filled-button-container-shape-end-end, var(--md-filled-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-end-start: var(--md-filled-button-container-shape-end-start, var(--md-filled-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_leading-space: var(--md-filled-button-leading-space, 24px);--_trailing-space: var(--md-filled-button-trailing-space, 24px);--_with-leading-icon-leading-space: var(--md-filled-button-with-leading-icon-leading-space, 16px);--_with-leading-icon-trailing-space: var(--md-filled-button-with-leading-icon-trailing-space, 24px);--_with-trailing-icon-leading-space: var(--md-filled-button-with-trailing-icon-leading-space, 24px);--_with-trailing-icon-trailing-space: var(--md-filled-button-with-trailing-icon-trailing-space, 16px)}
`;const W2=ft`md-elevation{transition-duration:280ms}:host(:is([disabled],[soft-disabled])) md-elevation{transition:none}md-elevation{--md-elevation-level: var(--_container-elevation);--md-elevation-shadow-color: var(--_container-shadow-color)}:host(:focus-within) md-elevation{--md-elevation-level: var(--_focus-container-elevation)}:host(:hover) md-elevation{--md-elevation-level: var(--_hover-container-elevation)}:host(:active) md-elevation{--md-elevation-level: var(--_pressed-container-elevation)}:host(:is([disabled],[soft-disabled])) md-elevation{--md-elevation-level: var(--_disabled-container-elevation)}
`;const Ag=ft`:host{border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-start-radius:var(--_container-shape-end-start);border-end-end-radius:var(--_container-shape-end-end);box-sizing:border-box;cursor:pointer;display:inline-flex;gap:8px;min-height:var(--_container-height);outline:none;padding-block:calc((var(--_container-height) - max(var(--_label-text-line-height),var(--_icon-size)))/2);padding-inline-start:var(--_leading-space);padding-inline-end:var(--_trailing-space);place-content:center;place-items:center;position:relative;font-family:var(--_label-text-font);font-size:var(--_label-text-size);line-height:var(--_label-text-line-height);font-weight:var(--_label-text-weight);text-overflow:ellipsis;text-wrap:nowrap;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0);vertical-align:top;--md-ripple-hover-color: var(--_hover-state-layer-color);--md-ripple-pressed-color: var(--_pressed-state-layer-color);--md-ripple-hover-opacity: var(--_hover-state-layer-opacity);--md-ripple-pressed-opacity: var(--_pressed-state-layer-opacity)}md-focus-ring{--md-focus-ring-shape-start-start: var(--_container-shape-start-start);--md-focus-ring-shape-start-end: var(--_container-shape-start-end);--md-focus-ring-shape-end-end: var(--_container-shape-end-end);--md-focus-ring-shape-end-start: var(--_container-shape-end-start)}:host(:is([disabled],[soft-disabled])){cursor:default;pointer-events:none}.button{border-radius:inherit;cursor:inherit;display:inline-flex;align-items:center;justify-content:center;border:none;outline:none;-webkit-appearance:none;vertical-align:middle;background:rgba(0,0,0,0);text-decoration:none;min-width:calc(64px - var(--_leading-space) - var(--_trailing-space));width:100%;z-index:0;height:100%;font:inherit;color:var(--_label-text-color);padding:0;gap:inherit;text-transform:inherit}.button::-moz-focus-inner{padding:0;border:0}:host(:hover) .button{color:var(--_hover-label-text-color)}:host(:focus-within) .button{color:var(--_focus-label-text-color)}:host(:active) .button{color:var(--_pressed-label-text-color)}.background{background:var(--_container-color);border-radius:inherit;inset:0;position:absolute}.label{overflow:hidden}:is(.button,.label,.label slot),.label ::slotted(*){text-overflow:inherit}:host(:is([disabled],[soft-disabled])) .label{color:var(--_disabled-label-text-color);opacity:var(--_disabled-label-text-opacity)}:host(:is([disabled],[soft-disabled])) .background{background:var(--_disabled-container-color);opacity:var(--_disabled-container-opacity)}@media(forced-colors: active){.background{border:1px solid CanvasText}:host(:is([disabled],[soft-disabled])){--_disabled-icon-color: GrayText;--_disabled-icon-opacity: 1;--_disabled-container-opacity: 1;--_disabled-label-text-color: GrayText;--_disabled-label-text-opacity: 1}}:host([has-icon]:not([trailing-icon])){padding-inline-start:var(--_with-leading-icon-leading-space);padding-inline-end:var(--_with-leading-icon-trailing-space)}:host([has-icon][trailing-icon]){padding-inline-start:var(--_with-trailing-icon-leading-space);padding-inline-end:var(--_with-trailing-icon-trailing-space)}::slotted([slot=icon]){display:inline-flex;position:relative;writing-mode:horizontal-tb;fill:currentColor;flex-shrink:0;color:var(--_icon-color);font-size:var(--_icon-size);inline-size:var(--_icon-size);block-size:var(--_icon-size)}:host(:hover) ::slotted([slot=icon]){color:var(--_hover-icon-color)}:host(:focus-within) ::slotted([slot=icon]){color:var(--_focus-icon-color)}:host(:active) ::slotted([slot=icon]){color:var(--_pressed-icon-color)}:host(:is([disabled],[soft-disabled])) ::slotted([slot=icon]){color:var(--_disabled-icon-color);opacity:var(--_disabled-icon-opacity)}.touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}:host([touch-target=wrapper]){margin:max(0px,(48px - var(--_container-height))/2) 0}:host([touch-target=none]) .touch{display:none}
`;let h_=class extends Sz{};h_.styles=[Ag,W2,Az];h_=$([en("md-filled-button")],h_);class Iz extends Hn{renderElevationOrOutline(){return Ee`<md-elevation part="elevation"></md-elevation>`}}const Cz=ft`:host{--_container-color: var(--md-filled-tonal-button-container-color, var(--md-sys-color-secondary-container, #e8def8));--_container-elevation: var(--md-filled-tonal-button-container-elevation, 0);--_container-height: var(--md-filled-tonal-button-container-height, 40px);--_container-shadow-color: var(--md-filled-tonal-button-container-shadow-color, var(--md-sys-color-shadow, #000));--_disabled-container-color: var(--md-filled-tonal-button-disabled-container-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-container-elevation: var(--md-filled-tonal-button-disabled-container-elevation, 0);--_disabled-container-opacity: var(--md-filled-tonal-button-disabled-container-opacity, 0.12);--_disabled-label-text-color: var(--md-filled-tonal-button-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-label-text-opacity: var(--md-filled-tonal-button-disabled-label-text-opacity, 0.38);--_focus-container-elevation: var(--md-filled-tonal-button-focus-container-elevation, 0);--_focus-label-text-color: var(--md-filled-tonal-button-focus-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_hover-container-elevation: var(--md-filled-tonal-button-hover-container-elevation, 1);--_hover-label-text-color: var(--md-filled-tonal-button-hover-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_hover-state-layer-color: var(--md-filled-tonal-button-hover-state-layer-color, var(--md-sys-color-on-secondary-container, #1d192b));--_hover-state-layer-opacity: var(--md-filled-tonal-button-hover-state-layer-opacity, 0.08);--_label-text-color: var(--md-filled-tonal-button-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_label-text-font: var(--md-filled-tonal-button-label-text-font, var(--md-sys-typescale-label-large-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-line-height: var(--md-filled-tonal-button-label-text-line-height, var(--md-sys-typescale-label-large-line-height, 1.25rem));--_label-text-size: var(--md-filled-tonal-button-label-text-size, var(--md-sys-typescale-label-large-size, 0.875rem));--_label-text-weight: var(--md-filled-tonal-button-label-text-weight, var(--md-sys-typescale-label-large-weight, var(--md-ref-typeface-weight-medium, 500)));--_pressed-container-elevation: var(--md-filled-tonal-button-pressed-container-elevation, 0);--_pressed-label-text-color: var(--md-filled-tonal-button-pressed-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_pressed-state-layer-color: var(--md-filled-tonal-button-pressed-state-layer-color, var(--md-sys-color-on-secondary-container, #1d192b));--_pressed-state-layer-opacity: var(--md-filled-tonal-button-pressed-state-layer-opacity, 0.12);--_disabled-icon-color: var(--md-filled-tonal-button-disabled-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-icon-opacity: var(--md-filled-tonal-button-disabled-icon-opacity, 0.38);--_focus-icon-color: var(--md-filled-tonal-button-focus-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_hover-icon-color: var(--md-filled-tonal-button-hover-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_icon-color: var(--md-filled-tonal-button-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_icon-size: var(--md-filled-tonal-button-icon-size, 18px);--_pressed-icon-color: var(--md-filled-tonal-button-pressed-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_container-shape-start-start: var(--md-filled-tonal-button-container-shape-start-start, var(--md-filled-tonal-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-start-end: var(--md-filled-tonal-button-container-shape-start-end, var(--md-filled-tonal-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-end-end: var(--md-filled-tonal-button-container-shape-end-end, var(--md-filled-tonal-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-end-start: var(--md-filled-tonal-button-container-shape-end-start, var(--md-filled-tonal-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_leading-space: var(--md-filled-tonal-button-leading-space, 24px);--_trailing-space: var(--md-filled-tonal-button-trailing-space, 24px);--_with-leading-icon-leading-space: var(--md-filled-tonal-button-with-leading-icon-leading-space, 16px);--_with-leading-icon-trailing-space: var(--md-filled-tonal-button-with-leading-icon-trailing-space, 24px);--_with-trailing-icon-leading-space: var(--md-filled-tonal-button-with-trailing-icon-leading-space, 24px);--_with-trailing-icon-trailing-space: var(--md-filled-tonal-button-with-trailing-icon-trailing-space, 16px)}
`;let f_=class extends Iz{};f_.styles=[Ag,W2,Cz];f_=$([en("md-filled-tonal-button")],f_);class Rz extends Hn{renderElevationOrOutline(){return Ee`<div class="outline"></div>`}}const Dz=ft`:host{--_container-height: var(--md-outlined-button-container-height, 40px);--_disabled-label-text-color: var(--md-outlined-button-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-label-text-opacity: var(--md-outlined-button-disabled-label-text-opacity, 0.38);--_disabled-outline-color: var(--md-outlined-button-disabled-outline-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-outline-opacity: var(--md-outlined-button-disabled-outline-opacity, 0.12);--_focus-label-text-color: var(--md-outlined-button-focus-label-text-color, var(--md-sys-color-primary, #6750a4));--_hover-label-text-color: var(--md-outlined-button-hover-label-text-color, var(--md-sys-color-primary, #6750a4));--_hover-state-layer-color: var(--md-outlined-button-hover-state-layer-color, var(--md-sys-color-primary, #6750a4));--_hover-state-layer-opacity: var(--md-outlined-button-hover-state-layer-opacity, 0.08);--_label-text-color: var(--md-outlined-button-label-text-color, var(--md-sys-color-primary, #6750a4));--_label-text-font: var(--md-outlined-button-label-text-font, var(--md-sys-typescale-label-large-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-line-height: var(--md-outlined-button-label-text-line-height, var(--md-sys-typescale-label-large-line-height, 1.25rem));--_label-text-size: var(--md-outlined-button-label-text-size, var(--md-sys-typescale-label-large-size, 0.875rem));--_label-text-weight: var(--md-outlined-button-label-text-weight, var(--md-sys-typescale-label-large-weight, var(--md-ref-typeface-weight-medium, 500)));--_outline-color: var(--md-outlined-button-outline-color, var(--md-sys-color-outline, #79747e));--_outline-width: var(--md-outlined-button-outline-width, 1px);--_pressed-label-text-color: var(--md-outlined-button-pressed-label-text-color, var(--md-sys-color-primary, #6750a4));--_pressed-outline-color: var(--md-outlined-button-pressed-outline-color, var(--md-sys-color-outline, #79747e));--_pressed-state-layer-color: var(--md-outlined-button-pressed-state-layer-color, var(--md-sys-color-primary, #6750a4));--_pressed-state-layer-opacity: var(--md-outlined-button-pressed-state-layer-opacity, 0.12);--_disabled-icon-color: var(--md-outlined-button-disabled-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-icon-opacity: var(--md-outlined-button-disabled-icon-opacity, 0.38);--_focus-icon-color: var(--md-outlined-button-focus-icon-color, var(--md-sys-color-primary, #6750a4));--_hover-icon-color: var(--md-outlined-button-hover-icon-color, var(--md-sys-color-primary, #6750a4));--_icon-color: var(--md-outlined-button-icon-color, var(--md-sys-color-primary, #6750a4));--_icon-size: var(--md-outlined-button-icon-size, 18px);--_pressed-icon-color: var(--md-outlined-button-pressed-icon-color, var(--md-sys-color-primary, #6750a4));--_container-shape-start-start: var(--md-outlined-button-container-shape-start-start, var(--md-outlined-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-start-end: var(--md-outlined-button-container-shape-start-end, var(--md-outlined-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-end-end: var(--md-outlined-button-container-shape-end-end, var(--md-outlined-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-end-start: var(--md-outlined-button-container-shape-end-start, var(--md-outlined-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_leading-space: var(--md-outlined-button-leading-space, 24px);--_trailing-space: var(--md-outlined-button-trailing-space, 24px);--_with-leading-icon-leading-space: var(--md-outlined-button-with-leading-icon-leading-space, 16px);--_with-leading-icon-trailing-space: var(--md-outlined-button-with-leading-icon-trailing-space, 24px);--_with-trailing-icon-leading-space: var(--md-outlined-button-with-trailing-icon-leading-space, 24px);--_with-trailing-icon-trailing-space: var(--md-outlined-button-with-trailing-icon-trailing-space, 16px);--_container-color: none;--_disabled-container-color: none;--_disabled-container-opacity: 0}.outline{inset:0;border-style:solid;position:absolute;box-sizing:border-box;border-color:var(--_outline-color);border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-start-radius:var(--_container-shape-end-start);border-end-end-radius:var(--_container-shape-end-end)}:host(:active) .outline{border-color:var(--_pressed-outline-color)}:host(:is([disabled],[soft-disabled])) .outline{border-color:var(--_disabled-outline-color);opacity:var(--_disabled-outline-opacity)}@media(forced-colors: active){:host(:is([disabled],[soft-disabled])) .background{border-color:GrayText}:host(:is([disabled],[soft-disabled])) .outline{opacity:1}}.outline,md-ripple{border-width:var(--_outline-width)}md-ripple{inline-size:calc(100% - 2*var(--_outline-width));block-size:calc(100% - 2*var(--_outline-width));border-style:solid;border-color:rgba(0,0,0,0)}
`;let p_=class extends Rz{};p_.styles=[Ag,Dz];p_=$([en("md-outlined-button")],p_);class Nz extends Hn{}const kz=ft`:host{--_container-height: var(--md-text-button-container-height, 40px);--_disabled-label-text-color: var(--md-text-button-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-label-text-opacity: var(--md-text-button-disabled-label-text-opacity, 0.38);--_focus-label-text-color: var(--md-text-button-focus-label-text-color, var(--md-sys-color-primary, #6750a4));--_hover-label-text-color: var(--md-text-button-hover-label-text-color, var(--md-sys-color-primary, #6750a4));--_hover-state-layer-color: var(--md-text-button-hover-state-layer-color, var(--md-sys-color-primary, #6750a4));--_hover-state-layer-opacity: var(--md-text-button-hover-state-layer-opacity, 0.08);--_label-text-color: var(--md-text-button-label-text-color, var(--md-sys-color-primary, #6750a4));--_label-text-font: var(--md-text-button-label-text-font, var(--md-sys-typescale-label-large-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-line-height: var(--md-text-button-label-text-line-height, var(--md-sys-typescale-label-large-line-height, 1.25rem));--_label-text-size: var(--md-text-button-label-text-size, var(--md-sys-typescale-label-large-size, 0.875rem));--_label-text-weight: var(--md-text-button-label-text-weight, var(--md-sys-typescale-label-large-weight, var(--md-ref-typeface-weight-medium, 500)));--_pressed-label-text-color: var(--md-text-button-pressed-label-text-color, var(--md-sys-color-primary, #6750a4));--_pressed-state-layer-color: var(--md-text-button-pressed-state-layer-color, var(--md-sys-color-primary, #6750a4));--_pressed-state-layer-opacity: var(--md-text-button-pressed-state-layer-opacity, 0.12);--_disabled-icon-color: var(--md-text-button-disabled-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-icon-opacity: var(--md-text-button-disabled-icon-opacity, 0.38);--_focus-icon-color: var(--md-text-button-focus-icon-color, var(--md-sys-color-primary, #6750a4));--_hover-icon-color: var(--md-text-button-hover-icon-color, var(--md-sys-color-primary, #6750a4));--_icon-color: var(--md-text-button-icon-color, var(--md-sys-color-primary, #6750a4));--_icon-size: var(--md-text-button-icon-size, 18px);--_pressed-icon-color: var(--md-text-button-pressed-icon-color, var(--md-sys-color-primary, #6750a4));--_container-shape-start-start: var(--md-text-button-container-shape-start-start, var(--md-text-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-start-end: var(--md-text-button-container-shape-start-end, var(--md-text-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-end-end: var(--md-text-button-container-shape-end-end, var(--md-text-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-end-start: var(--md-text-button-container-shape-end-start, var(--md-text-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_leading-space: var(--md-text-button-leading-space, 12px);--_trailing-space: var(--md-text-button-trailing-space, 12px);--_with-leading-icon-leading-space: var(--md-text-button-with-leading-icon-leading-space, 12px);--_with-leading-icon-trailing-space: var(--md-text-button-with-leading-icon-trailing-space, 16px);--_with-trailing-icon-leading-space: var(--md-text-button-with-trailing-icon-leading-space, 16px);--_with-trailing-icon-trailing-space: var(--md-text-button-with-trailing-icon-trailing-space, 12px);--_container-color: none;--_disabled-container-color: none;--_disabled-container-opacity: 0}
`;let m_=class extends Nz{};m_.styles=[Ag,kz];m_=$([en("md-text-button")],m_);class ln extends Dt{constructor(){super(...arguments),this.disabled=!1,this.error=!1,this.focused=!1,this.label="",this.noAsterisk=!1,this.populated=!1,this.required=!1,this.resizable=!1,this.supportingText="",this.errorText="",this.count=-1,this.max=-1,this.hasStart=!1,this.hasEnd=!1,this.isAnimating=!1,this.refreshErrorAlert=!1,this.disableTransitions=!1}get counterText(){const e=this.count??-1,t=this.max??-1;return e<0||t<=0?"":`${e} / ${t}`}get supportingOrErrorText(){return this.error&&this.errorText?this.errorText:this.supportingText}reannounceError(){this.refreshErrorAlert=!0}update(e){e.has("disabled")&&e.get("disabled")!==void 0&&(this.disableTransitions=!0),this.disabled&&this.focused&&(e.set("focused",!0),this.focused=!1),this.animateLabelIfNeeded({wasFocused:e.get("focused"),wasPopulated:e.get("populated")}),super.update(e)}render(){const e=this.renderLabel(!0),t=this.renderLabel(!1),r=this.renderOutline?.(e),a={disabled:this.disabled,"disable-transitions":this.disableTransitions,error:this.error&&!this.disabled,focused:this.focused,"with-start":this.hasStart,"with-end":this.hasEnd,populated:this.populated,resizable:this.resizable,required:this.required,"no-label":!this.label};return Ee`
      <div class="field ${Ir(a)}">
        <div class="container-overflow">
          ${this.renderBackground?.()}
          <slot name="container"></slot>
          ${this.renderStateLayer?.()} ${this.renderIndicator?.()} ${r}
          <div class="container">
            <div class="start">
              <slot name="start"></slot>
            </div>
            <div class="middle">
              <div class="label-wrapper">
                ${t} ${r?fe:e}
              </div>
              <div class="content">
                <slot></slot>
              </div>
            </div>
            <div class="end">
              <slot name="end"></slot>
            </div>
          </div>
        </div>
        ${this.renderSupportingText()}
      </div>
    `}updated(e){(e.has("supportingText")||e.has("errorText")||e.has("count")||e.has("max"))&&this.updateSlottedAriaDescribedBy(),this.refreshErrorAlert&&requestAnimationFrame(()=>{this.refreshErrorAlert=!1}),this.disableTransitions&&requestAnimationFrame(()=>{this.disableTransitions=!1})}renderSupportingText(){const{supportingOrErrorText:e,counterText:t}=this;if(!e&&!t)return fe;const r=Ee`<span>${e}</span>`,a=t?Ee`<span class="counter">${t}</span>`:fe,c=this.error&&this.errorText&&!this.refreshErrorAlert?"alert":fe;return Ee`
      <div class="supporting-text" role=${c}>${r}${a}</div>
      <slot
        name="aria-describedby"
        @slotchange=${this.updateSlottedAriaDescribedBy}></slot>
    `}updateSlottedAriaDescribedBy(){for(const e of this.slottedAriaDescribedBy)$2(Ee`${this.supportingOrErrorText} ${this.counterText}`,e),e.setAttribute("hidden","")}renderLabel(e){if(!this.label)return fe;let t;e?t=this.focused||this.populated||this.isAnimating:t=!this.focused&&!this.populated&&!this.isAnimating;const r={hidden:!t,floating:e,resting:!e},a=`${this.label}${this.required&&!this.noAsterisk?"*":""}`;return Ee`
      <span class="label ${Ir(r)}" aria-hidden=${!t}
        >${a}</span
      >
    `}animateLabelIfNeeded({wasFocused:e,wasPopulated:t}){if(!this.label)return;e??=this.focused,t??=this.populated;const r=e||t,a=this.focused||this.populated;r!==a&&(this.isAnimating=!0,this.labelAnimation?.cancel(),this.labelAnimation=this.floatingLabelEl?.animate(this.getLabelKeyframes(),{duration:150,easing:ms.STANDARD}),this.labelAnimation?.addEventListener("finish",()=>{this.isAnimating=!1}))}getLabelKeyframes(){const{floatingLabelEl:e,restingLabelEl:t}=this;if(!e||!t)return[];const{x:r,y:a,height:o}=e.getBoundingClientRect(),{x:c,y:d,height:f}=t.getBoundingClientRect(),m=e.scrollWidth,v=t.scrollWidth,y=v/m,E=c-r,I=d-a+Math.round((f-o*y)/2),U=`translateX(${E}px) translateY(${I}px) scale(${y})`,k="translateX(0) translateY(0) scale(1)",V=t.clientWidth,F=v>V?`${V/y}px`:"";return this.focused||this.populated?[{transform:U,width:F},{transform:k,width:F}]:[{transform:k,width:F},{transform:U,width:F}]}getSurfacePositionClientRect(){return this.containerEl.getBoundingClientRect()}}$([re({type:Boolean})],ln.prototype,"disabled",void 0);$([re({type:Boolean})],ln.prototype,"error",void 0);$([re({type:Boolean})],ln.prototype,"focused",void 0);$([re()],ln.prototype,"label",void 0);$([re({type:Boolean,attribute:"no-asterisk"})],ln.prototype,"noAsterisk",void 0);$([re({type:Boolean})],ln.prototype,"populated",void 0);$([re({type:Boolean})],ln.prototype,"required",void 0);$([re({type:Boolean})],ln.prototype,"resizable",void 0);$([re({attribute:"supporting-text"})],ln.prototype,"supportingText",void 0);$([re({attribute:"error-text"})],ln.prototype,"errorText",void 0);$([re({type:Number})],ln.prototype,"count",void 0);$([re({type:Number})],ln.prototype,"max",void 0);$([re({type:Boolean,attribute:"has-start"})],ln.prototype,"hasStart",void 0);$([re({type:Boolean,attribute:"has-end"})],ln.prototype,"hasEnd",void 0);$([pa({slot:"aria-describedby"})],ln.prototype,"slottedAriaDescribedBy",void 0);$([hr()],ln.prototype,"isAnimating",void 0);$([hr()],ln.prototype,"refreshErrorAlert",void 0);$([hr()],ln.prototype,"disableTransitions",void 0);$([jt(".label.floating")],ln.prototype,"floatingLabelEl",void 0);$([jt(".label.resting")],ln.prototype,"restingLabelEl",void 0);$([jt(".container")],ln.prototype,"containerEl",void 0);class Oz extends ln{renderBackground(){return Ee` <div class="background"></div> `}renderStateLayer(){return Ee` <div class="state-layer"></div> `}renderIndicator(){return Ee`<div class="active-indicator"></div>`}}const Pz=ft`@layer styles{:host{--_active-indicator-color: var(--md-filled-field-active-indicator-color, var(--md-sys-color-on-surface-variant, #49454f));--_active-indicator-height: var(--md-filled-field-active-indicator-height, 1px);--_bottom-space: var(--md-filled-field-bottom-space, 16px);--_container-color: var(--md-filled-field-container-color, var(--md-sys-color-surface-container-highest, #e6e0e9));--_content-color: var(--md-filled-field-content-color, var(--md-sys-color-on-surface, #1d1b20));--_content-font: var(--md-filled-field-content-font, var(--md-sys-typescale-body-large-font, var(--md-ref-typeface-plain, Roboto)));--_content-line-height: var(--md-filled-field-content-line-height, var(--md-sys-typescale-body-large-line-height, 1.5rem));--_content-size: var(--md-filled-field-content-size, var(--md-sys-typescale-body-large-size, 1rem));--_content-space: var(--md-filled-field-content-space, 16px);--_content-weight: var(--md-filled-field-content-weight, var(--md-sys-typescale-body-large-weight, var(--md-ref-typeface-weight-regular, 400)));--_disabled-active-indicator-color: var(--md-filled-field-disabled-active-indicator-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-active-indicator-height: var(--md-filled-field-disabled-active-indicator-height, 1px);--_disabled-active-indicator-opacity: var(--md-filled-field-disabled-active-indicator-opacity, 0.38);--_disabled-container-color: var(--md-filled-field-disabled-container-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-container-opacity: var(--md-filled-field-disabled-container-opacity, 0.04);--_disabled-content-color: var(--md-filled-field-disabled-content-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-content-opacity: var(--md-filled-field-disabled-content-opacity, 0.38);--_disabled-label-text-color: var(--md-filled-field-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-label-text-opacity: var(--md-filled-field-disabled-label-text-opacity, 0.38);--_disabled-leading-content-color: var(--md-filled-field-disabled-leading-content-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-leading-content-opacity: var(--md-filled-field-disabled-leading-content-opacity, 0.38);--_disabled-supporting-text-color: var(--md-filled-field-disabled-supporting-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-supporting-text-opacity: var(--md-filled-field-disabled-supporting-text-opacity, 0.38);--_disabled-trailing-content-color: var(--md-filled-field-disabled-trailing-content-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-trailing-content-opacity: var(--md-filled-field-disabled-trailing-content-opacity, 0.38);--_error-active-indicator-color: var(--md-filled-field-error-active-indicator-color, var(--md-sys-color-error, #b3261e));--_error-content-color: var(--md-filled-field-error-content-color, var(--md-sys-color-on-surface, #1d1b20));--_error-focus-active-indicator-color: var(--md-filled-field-error-focus-active-indicator-color, var(--md-sys-color-error, #b3261e));--_error-focus-content-color: var(--md-filled-field-error-focus-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_error-focus-label-text-color: var(--md-filled-field-error-focus-label-text-color, var(--md-sys-color-error, #b3261e));--_error-focus-leading-content-color: var(--md-filled-field-error-focus-leading-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_error-focus-supporting-text-color: var(--md-filled-field-error-focus-supporting-text-color, var(--md-sys-color-error, #b3261e));--_error-focus-trailing-content-color: var(--md-filled-field-error-focus-trailing-content-color, var(--md-sys-color-error, #b3261e));--_error-hover-active-indicator-color: var(--md-filled-field-error-hover-active-indicator-color, var(--md-sys-color-on-error-container, #410e0b));--_error-hover-content-color: var(--md-filled-field-error-hover-content-color, var(--md-sys-color-on-surface, #1d1b20));--_error-hover-label-text-color: var(--md-filled-field-error-hover-label-text-color, var(--md-sys-color-on-error-container, #410e0b));--_error-hover-leading-content-color: var(--md-filled-field-error-hover-leading-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_error-hover-state-layer-color: var(--md-filled-field-error-hover-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--_error-hover-state-layer-opacity: var(--md-filled-field-error-hover-state-layer-opacity, 0.08);--_error-hover-supporting-text-color: var(--md-filled-field-error-hover-supporting-text-color, var(--md-sys-color-error, #b3261e));--_error-hover-trailing-content-color: var(--md-filled-field-error-hover-trailing-content-color, var(--md-sys-color-on-error-container, #410e0b));--_error-label-text-color: var(--md-filled-field-error-label-text-color, var(--md-sys-color-error, #b3261e));--_error-leading-content-color: var(--md-filled-field-error-leading-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_error-supporting-text-color: var(--md-filled-field-error-supporting-text-color, var(--md-sys-color-error, #b3261e));--_error-trailing-content-color: var(--md-filled-field-error-trailing-content-color, var(--md-sys-color-error, #b3261e));--_focus-active-indicator-color: var(--md-filled-field-focus-active-indicator-color, var(--md-sys-color-primary, #6750a4));--_focus-active-indicator-height: var(--md-filled-field-focus-active-indicator-height, 3px);--_focus-content-color: var(--md-filled-field-focus-content-color, var(--md-sys-color-on-surface, #1d1b20));--_focus-label-text-color: var(--md-filled-field-focus-label-text-color, var(--md-sys-color-primary, #6750a4));--_focus-leading-content-color: var(--md-filled-field-focus-leading-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_focus-supporting-text-color: var(--md-filled-field-focus-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_focus-trailing-content-color: var(--md-filled-field-focus-trailing-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-active-indicator-color: var(--md-filled-field-hover-active-indicator-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-active-indicator-height: var(--md-filled-field-hover-active-indicator-height, 1px);--_hover-content-color: var(--md-filled-field-hover-content-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-label-text-color: var(--md-filled-field-hover-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-leading-content-color: var(--md-filled-field-hover-leading-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-state-layer-color: var(--md-filled-field-hover-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-state-layer-opacity: var(--md-filled-field-hover-state-layer-opacity, 0.08);--_hover-supporting-text-color: var(--md-filled-field-hover-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-trailing-content-color: var(--md-filled-field-hover-trailing-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_label-text-color: var(--md-filled-field-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_label-text-font: var(--md-filled-field-label-text-font, var(--md-sys-typescale-body-large-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-line-height: var(--md-filled-field-label-text-line-height, var(--md-sys-typescale-body-large-line-height, 1.5rem));--_label-text-populated-line-height: var(--md-filled-field-label-text-populated-line-height, var(--md-sys-typescale-body-small-line-height, 1rem));--_label-text-populated-size: var(--md-filled-field-label-text-populated-size, var(--md-sys-typescale-body-small-size, 0.75rem));--_label-text-size: var(--md-filled-field-label-text-size, var(--md-sys-typescale-body-large-size, 1rem));--_label-text-weight: var(--md-filled-field-label-text-weight, var(--md-sys-typescale-body-large-weight, var(--md-ref-typeface-weight-regular, 400)));--_leading-content-color: var(--md-filled-field-leading-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_leading-space: var(--md-filled-field-leading-space, 16px);--_supporting-text-color: var(--md-filled-field-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_supporting-text-font: var(--md-filled-field-supporting-text-font, var(--md-sys-typescale-body-small-font, var(--md-ref-typeface-plain, Roboto)));--_supporting-text-leading-space: var(--md-filled-field-supporting-text-leading-space, 16px);--_supporting-text-line-height: var(--md-filled-field-supporting-text-line-height, var(--md-sys-typescale-body-small-line-height, 1rem));--_supporting-text-size: var(--md-filled-field-supporting-text-size, var(--md-sys-typescale-body-small-size, 0.75rem));--_supporting-text-top-space: var(--md-filled-field-supporting-text-top-space, 4px);--_supporting-text-trailing-space: var(--md-filled-field-supporting-text-trailing-space, 16px);--_supporting-text-weight: var(--md-filled-field-supporting-text-weight, var(--md-sys-typescale-body-small-weight, var(--md-ref-typeface-weight-regular, 400)));--_top-space: var(--md-filled-field-top-space, 16px);--_trailing-content-color: var(--md-filled-field-trailing-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_trailing-space: var(--md-filled-field-trailing-space, 16px);--_with-label-bottom-space: var(--md-filled-field-with-label-bottom-space, 8px);--_with-label-top-space: var(--md-filled-field-with-label-top-space, 8px);--_with-leading-content-leading-space: var(--md-filled-field-with-leading-content-leading-space, 12px);--_with-trailing-content-trailing-space: var(--md-filled-field-with-trailing-content-trailing-space, 12px);--_container-shape-start-start: var(--md-filled-field-container-shape-start-start, var(--md-filled-field-container-shape, var(--md-sys-shape-corner-extra-small, 4px)));--_container-shape-start-end: var(--md-filled-field-container-shape-start-end, var(--md-filled-field-container-shape, var(--md-sys-shape-corner-extra-small, 4px)));--_container-shape-end-end: var(--md-filled-field-container-shape-end-end, var(--md-filled-field-container-shape, var(--md-sys-shape-corner-none, 0px)));--_container-shape-end-start: var(--md-filled-field-container-shape-end-start, var(--md-filled-field-container-shape, var(--md-sys-shape-corner-none, 0px)))}.background,.state-layer{border-radius:inherit;inset:0;pointer-events:none;position:absolute}.background{background:var(--_container-color)}.state-layer{visibility:hidden}.field:not(.disabled):hover .state-layer{visibility:visible}.label.floating{position:absolute;top:var(--_with-label-top-space)}.field:not(.with-start) .label-wrapper{margin-inline-start:var(--_leading-space)}.field:not(.with-end) .label-wrapper{margin-inline-end:var(--_trailing-space)}.active-indicator{inset:auto 0 0 0;pointer-events:none;position:absolute;width:100%;z-index:1}.active-indicator::before,.active-indicator::after{border-bottom:var(--_active-indicator-height) solid var(--_active-indicator-color);inset:auto 0 0 0;content:"";position:absolute;width:100%}.active-indicator::after{opacity:0;transition:opacity 150ms cubic-bezier(0.2, 0, 0, 1)}.focused .active-indicator::after{opacity:1}.field:not(.with-start) .content ::slotted(*){padding-inline-start:var(--_leading-space)}.field:not(.with-end) .content ::slotted(*){padding-inline-end:var(--_trailing-space)}.field:not(.no-label) .content ::slotted(:not(textarea)){padding-bottom:var(--_with-label-bottom-space);padding-top:calc(var(--_with-label-top-space) + var(--_label-text-populated-line-height))}.field:not(.no-label) .content ::slotted(textarea){margin-bottom:var(--_with-label-bottom-space);margin-top:calc(var(--_with-label-top-space) + var(--_label-text-populated-line-height))}:hover .active-indicator::before{border-bottom-color:var(--_hover-active-indicator-color);border-bottom-width:var(--_hover-active-indicator-height)}.active-indicator::after{border-bottom-color:var(--_focus-active-indicator-color);border-bottom-width:var(--_focus-active-indicator-height)}:hover .state-layer{background:var(--_hover-state-layer-color);opacity:var(--_hover-state-layer-opacity)}.disabled .active-indicator::before{border-bottom-color:var(--_disabled-active-indicator-color);border-bottom-width:var(--_disabled-active-indicator-height);opacity:var(--_disabled-active-indicator-opacity)}.disabled .background{background:var(--_disabled-container-color);opacity:var(--_disabled-container-opacity)}.error .active-indicator::before{border-bottom-color:var(--_error-active-indicator-color)}.error:hover .active-indicator::before{border-bottom-color:var(--_error-hover-active-indicator-color)}.error:hover .state-layer{background:var(--_error-hover-state-layer-color);opacity:var(--_error-hover-state-layer-opacity)}.error .active-indicator::after{border-bottom-color:var(--_error-focus-active-indicator-color)}.resizable .container{bottom:var(--_focus-active-indicator-height);clip-path:inset(var(--_focus-active-indicator-height) 0 0 0)}.resizable .container>*{top:var(--_focus-active-indicator-height)}}@layer hcm{@media(forced-colors: active){.disabled .active-indicator::before{border-color:GrayText;opacity:1}}}
`;const Mz=ft`:host{display:inline-flex;resize:both}.field{display:flex;flex:1;flex-direction:column;writing-mode:horizontal-tb;max-width:100%}.container-overflow{border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-end-radius:var(--_container-shape-end-end);border-end-start-radius:var(--_container-shape-end-start);display:flex;height:100%;position:relative}.container{align-items:center;border-radius:inherit;display:flex;flex:1;max-height:100%;min-height:100%;min-width:min-content;position:relative}.field,.container-overflow{resize:inherit}.resizable:not(.disabled) .container{resize:inherit;overflow:hidden}.disabled{pointer-events:none}slot[name=container]{border-radius:inherit}slot[name=container]::slotted(*){border-radius:inherit;inset:0;pointer-events:none;position:absolute}@layer styles{.start,.middle,.end{display:flex;box-sizing:border-box;height:100%;position:relative}.start{color:var(--_leading-content-color)}.end{color:var(--_trailing-content-color)}.start,.end{align-items:center;justify-content:center}.with-start .start{margin-inline:var(--_with-leading-content-leading-space) var(--_content-space)}.with-end .end{margin-inline:var(--_content-space) var(--_with-trailing-content-trailing-space)}.middle{align-items:stretch;align-self:baseline;flex:1}.content{color:var(--_content-color);display:flex;flex:1;opacity:0;transition:opacity 83ms cubic-bezier(0.2, 0, 0, 1)}.no-label .content,.focused .content,.populated .content{opacity:1;transition-delay:67ms}:is(.disabled,.disable-transitions) .content{transition:none}.content ::slotted(*){all:unset;color:currentColor;font-family:var(--_content-font);font-size:var(--_content-size);line-height:var(--_content-line-height);font-weight:var(--_content-weight);width:100%;overflow-wrap:revert;white-space:revert}.content ::slotted(:not(textarea)){padding-top:var(--_top-space);padding-bottom:var(--_bottom-space)}.content ::slotted(textarea){margin-top:var(--_top-space);margin-bottom:var(--_bottom-space)}:hover .content{color:var(--_hover-content-color)}:hover .start{color:var(--_hover-leading-content-color)}:hover .end{color:var(--_hover-trailing-content-color)}.focused .content{color:var(--_focus-content-color)}.focused .start{color:var(--_focus-leading-content-color)}.focused .end{color:var(--_focus-trailing-content-color)}.disabled .content{color:var(--_disabled-content-color)}.disabled.no-label .content,.disabled.focused .content,.disabled.populated .content{opacity:var(--_disabled-content-opacity)}.disabled .start{color:var(--_disabled-leading-content-color);opacity:var(--_disabled-leading-content-opacity)}.disabled .end{color:var(--_disabled-trailing-content-color);opacity:var(--_disabled-trailing-content-opacity)}.error .content{color:var(--_error-content-color)}.error .start{color:var(--_error-leading-content-color)}.error .end{color:var(--_error-trailing-content-color)}.error:hover .content{color:var(--_error-hover-content-color)}.error:hover .start{color:var(--_error-hover-leading-content-color)}.error:hover .end{color:var(--_error-hover-trailing-content-color)}.error.focused .content{color:var(--_error-focus-content-color)}.error.focused .start{color:var(--_error-focus-leading-content-color)}.error.focused .end{color:var(--_error-focus-trailing-content-color)}}@layer hcm{@media(forced-colors: active){.disabled :is(.start,.content,.end){color:GrayText;opacity:1}}}@layer styles{.label{box-sizing:border-box;color:var(--_label-text-color);overflow:hidden;max-width:100%;text-overflow:ellipsis;white-space:nowrap;z-index:1;font-family:var(--_label-text-font);font-size:var(--_label-text-size);line-height:var(--_label-text-line-height);font-weight:var(--_label-text-weight);width:min-content}.label-wrapper{inset:0;pointer-events:none;position:absolute}.label.resting{position:absolute;top:var(--_top-space)}.label.floating{font-size:var(--_label-text-populated-size);line-height:var(--_label-text-populated-line-height);transform-origin:top left}.label.hidden{opacity:0}.no-label .label{display:none}.label-wrapper{inset:0;position:absolute;text-align:initial}:hover .label{color:var(--_hover-label-text-color)}.focused .label{color:var(--_focus-label-text-color)}.disabled .label{color:var(--_disabled-label-text-color)}.disabled .label:not(.hidden){opacity:var(--_disabled-label-text-opacity)}.error .label{color:var(--_error-label-text-color)}.error:hover .label{color:var(--_error-hover-label-text-color)}.error.focused .label{color:var(--_error-focus-label-text-color)}}@layer hcm{@media(forced-colors: active){.disabled .label:not(.hidden){color:GrayText;opacity:1}}}@layer styles{.supporting-text{color:var(--_supporting-text-color);display:flex;font-family:var(--_supporting-text-font);font-size:var(--_supporting-text-size);line-height:var(--_supporting-text-line-height);font-weight:var(--_supporting-text-weight);gap:16px;justify-content:space-between;padding-inline-start:var(--_supporting-text-leading-space);padding-inline-end:var(--_supporting-text-trailing-space);padding-top:var(--_supporting-text-top-space)}.supporting-text :nth-child(2){flex-shrink:0}:hover .supporting-text{color:var(--_hover-supporting-text-color)}.focus .supporting-text{color:var(--_focus-supporting-text-color)}.disabled .supporting-text{color:var(--_disabled-supporting-text-color);opacity:var(--_disabled-supporting-text-opacity)}.error .supporting-text{color:var(--_error-supporting-text-color)}.error:hover .supporting-text{color:var(--_error-hover-supporting-text-color)}.error.focus .supporting-text{color:var(--_error-focus-supporting-text-color)}}@layer hcm{@media(forced-colors: active){.disabled .supporting-text{color:GrayText;opacity:1}}}
`;let g_=class extends Oz{};g_.styles=[Mz,Pz];g_=$([en("md-filled-field")],g_);const X2=Symbol.for(""),Vz=n=>{if(n?.r===X2)return n?._$litStatic$},bs=(n,...e)=>({_$litStatic$:e.reduce((t,r,a)=>t+(o=>{if(o._$litStatic$!==void 0)return o._$litStatic$;throw Error(`Value passed to 'literal' function must be a 'literal' result: ${o}. Use 'unsafeStatic' to pass non-literal values, but
            take care to ensure page security.`)})(r)+n[a+1],n[0]),r:X2}),HI=new Map,Lz=n=>(e,...t)=>{const r=t.length;let a,o;const c=[],d=[];let f,m=0,v=!1;for(;m<r;){for(f=e[m];m<r&&(o=t[m],(a=Vz(o))!==void 0);)f+=a+e[++m],v=!0;m!==r&&d.push(o),c.push(f),m++}if(m===r&&c.push(e[r]),v){const y=c.join("$$lit$$");(e=HI.get(y))===void 0&&(c.raw=c,HI.set(y,e=c)),t=d}return n(e,...t)},Ig=Lz(Ee);const Uz=ft`:host{--_active-indicator-color: var(--md-filled-text-field-active-indicator-color, var(--md-sys-color-on-surface-variant, #49454f));--_active-indicator-height: var(--md-filled-text-field-active-indicator-height, 1px);--_caret-color: var(--md-filled-text-field-caret-color, var(--md-sys-color-primary, #6750a4));--_container-color: var(--md-filled-text-field-container-color, var(--md-sys-color-surface-container-highest, #e6e0e9));--_disabled-active-indicator-color: var(--md-filled-text-field-disabled-active-indicator-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-active-indicator-height: var(--md-filled-text-field-disabled-active-indicator-height, 1px);--_disabled-active-indicator-opacity: var(--md-filled-text-field-disabled-active-indicator-opacity, 0.38);--_disabled-container-color: var(--md-filled-text-field-disabled-container-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-container-opacity: var(--md-filled-text-field-disabled-container-opacity, 0.04);--_disabled-input-text-color: var(--md-filled-text-field-disabled-input-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-input-text-opacity: var(--md-filled-text-field-disabled-input-text-opacity, 0.38);--_disabled-label-text-color: var(--md-filled-text-field-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-label-text-opacity: var(--md-filled-text-field-disabled-label-text-opacity, 0.38);--_disabled-leading-icon-color: var(--md-filled-text-field-disabled-leading-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-leading-icon-opacity: var(--md-filled-text-field-disabled-leading-icon-opacity, 0.38);--_disabled-supporting-text-color: var(--md-filled-text-field-disabled-supporting-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-supporting-text-opacity: var(--md-filled-text-field-disabled-supporting-text-opacity, 0.38);--_disabled-trailing-icon-color: var(--md-filled-text-field-disabled-trailing-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-trailing-icon-opacity: var(--md-filled-text-field-disabled-trailing-icon-opacity, 0.38);--_error-active-indicator-color: var(--md-filled-text-field-error-active-indicator-color, var(--md-sys-color-error, #b3261e));--_error-focus-active-indicator-color: var(--md-filled-text-field-error-focus-active-indicator-color, var(--md-sys-color-error, #b3261e));--_error-focus-caret-color: var(--md-filled-text-field-error-focus-caret-color, var(--md-sys-color-error, #b3261e));--_error-focus-input-text-color: var(--md-filled-text-field-error-focus-input-text-color, var(--md-sys-color-on-surface, #1d1b20));--_error-focus-label-text-color: var(--md-filled-text-field-error-focus-label-text-color, var(--md-sys-color-error, #b3261e));--_error-focus-leading-icon-color: var(--md-filled-text-field-error-focus-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_error-focus-supporting-text-color: var(--md-filled-text-field-error-focus-supporting-text-color, var(--md-sys-color-error, #b3261e));--_error-focus-trailing-icon-color: var(--md-filled-text-field-error-focus-trailing-icon-color, var(--md-sys-color-error, #b3261e));--_error-hover-active-indicator-color: var(--md-filled-text-field-error-hover-active-indicator-color, var(--md-sys-color-on-error-container, #410e0b));--_error-hover-input-text-color: var(--md-filled-text-field-error-hover-input-text-color, var(--md-sys-color-on-surface, #1d1b20));--_error-hover-label-text-color: var(--md-filled-text-field-error-hover-label-text-color, var(--md-sys-color-on-error-container, #410e0b));--_error-hover-leading-icon-color: var(--md-filled-text-field-error-hover-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_error-hover-state-layer-color: var(--md-filled-text-field-error-hover-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--_error-hover-state-layer-opacity: var(--md-filled-text-field-error-hover-state-layer-opacity, 0.08);--_error-hover-supporting-text-color: var(--md-filled-text-field-error-hover-supporting-text-color, var(--md-sys-color-error, #b3261e));--_error-hover-trailing-icon-color: var(--md-filled-text-field-error-hover-trailing-icon-color, var(--md-sys-color-on-error-container, #410e0b));--_error-input-text-color: var(--md-filled-text-field-error-input-text-color, var(--md-sys-color-on-surface, #1d1b20));--_error-label-text-color: var(--md-filled-text-field-error-label-text-color, var(--md-sys-color-error, #b3261e));--_error-leading-icon-color: var(--md-filled-text-field-error-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_error-supporting-text-color: var(--md-filled-text-field-error-supporting-text-color, var(--md-sys-color-error, #b3261e));--_error-trailing-icon-color: var(--md-filled-text-field-error-trailing-icon-color, var(--md-sys-color-error, #b3261e));--_focus-active-indicator-color: var(--md-filled-text-field-focus-active-indicator-color, var(--md-sys-color-primary, #6750a4));--_focus-active-indicator-height: var(--md-filled-text-field-focus-active-indicator-height, 3px);--_focus-input-text-color: var(--md-filled-text-field-focus-input-text-color, var(--md-sys-color-on-surface, #1d1b20));--_focus-label-text-color: var(--md-filled-text-field-focus-label-text-color, var(--md-sys-color-primary, #6750a4));--_focus-leading-icon-color: var(--md-filled-text-field-focus-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_focus-supporting-text-color: var(--md-filled-text-field-focus-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_focus-trailing-icon-color: var(--md-filled-text-field-focus-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-active-indicator-color: var(--md-filled-text-field-hover-active-indicator-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-active-indicator-height: var(--md-filled-text-field-hover-active-indicator-height, 1px);--_hover-input-text-color: var(--md-filled-text-field-hover-input-text-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-label-text-color: var(--md-filled-text-field-hover-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-leading-icon-color: var(--md-filled-text-field-hover-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-state-layer-color: var(--md-filled-text-field-hover-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-state-layer-opacity: var(--md-filled-text-field-hover-state-layer-opacity, 0.08);--_hover-supporting-text-color: var(--md-filled-text-field-hover-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-trailing-icon-color: var(--md-filled-text-field-hover-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_input-text-color: var(--md-filled-text-field-input-text-color, var(--md-sys-color-on-surface, #1d1b20));--_input-text-font: var(--md-filled-text-field-input-text-font, var(--md-sys-typescale-body-large-font, var(--md-ref-typeface-plain, Roboto)));--_input-text-line-height: var(--md-filled-text-field-input-text-line-height, var(--md-sys-typescale-body-large-line-height, 1.5rem));--_input-text-placeholder-color: var(--md-filled-text-field-input-text-placeholder-color, var(--md-sys-color-on-surface-variant, #49454f));--_input-text-prefix-color: var(--md-filled-text-field-input-text-prefix-color, var(--md-sys-color-on-surface-variant, #49454f));--_input-text-size: var(--md-filled-text-field-input-text-size, var(--md-sys-typescale-body-large-size, 1rem));--_input-text-suffix-color: var(--md-filled-text-field-input-text-suffix-color, var(--md-sys-color-on-surface-variant, #49454f));--_input-text-weight: var(--md-filled-text-field-input-text-weight, var(--md-sys-typescale-body-large-weight, var(--md-ref-typeface-weight-regular, 400)));--_label-text-color: var(--md-filled-text-field-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_label-text-font: var(--md-filled-text-field-label-text-font, var(--md-sys-typescale-body-large-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-line-height: var(--md-filled-text-field-label-text-line-height, var(--md-sys-typescale-body-large-line-height, 1.5rem));--_label-text-populated-line-height: var(--md-filled-text-field-label-text-populated-line-height, var(--md-sys-typescale-body-small-line-height, 1rem));--_label-text-populated-size: var(--md-filled-text-field-label-text-populated-size, var(--md-sys-typescale-body-small-size, 0.75rem));--_label-text-size: var(--md-filled-text-field-label-text-size, var(--md-sys-typescale-body-large-size, 1rem));--_label-text-weight: var(--md-filled-text-field-label-text-weight, var(--md-sys-typescale-body-large-weight, var(--md-ref-typeface-weight-regular, 400)));--_leading-icon-color: var(--md-filled-text-field-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_leading-icon-size: var(--md-filled-text-field-leading-icon-size, 24px);--_supporting-text-color: var(--md-filled-text-field-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_supporting-text-font: var(--md-filled-text-field-supporting-text-font, var(--md-sys-typescale-body-small-font, var(--md-ref-typeface-plain, Roboto)));--_supporting-text-line-height: var(--md-filled-text-field-supporting-text-line-height, var(--md-sys-typescale-body-small-line-height, 1rem));--_supporting-text-size: var(--md-filled-text-field-supporting-text-size, var(--md-sys-typescale-body-small-size, 0.75rem));--_supporting-text-weight: var(--md-filled-text-field-supporting-text-weight, var(--md-sys-typescale-body-small-weight, var(--md-ref-typeface-weight-regular, 400)));--_trailing-icon-color: var(--md-filled-text-field-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_trailing-icon-size: var(--md-filled-text-field-trailing-icon-size, 24px);--_container-shape-start-start: var(--md-filled-text-field-container-shape-start-start, var(--md-filled-text-field-container-shape, var(--md-sys-shape-corner-extra-small, 4px)));--_container-shape-start-end: var(--md-filled-text-field-container-shape-start-end, var(--md-filled-text-field-container-shape, var(--md-sys-shape-corner-extra-small, 4px)));--_container-shape-end-end: var(--md-filled-text-field-container-shape-end-end, var(--md-filled-text-field-container-shape, var(--md-sys-shape-corner-none, 0px)));--_container-shape-end-start: var(--md-filled-text-field-container-shape-end-start, var(--md-filled-text-field-container-shape, var(--md-sys-shape-corner-none, 0px)));--_icon-input-space: var(--md-filled-text-field-icon-input-space, 16px);--_leading-space: var(--md-filled-text-field-leading-space, 16px);--_trailing-space: var(--md-filled-text-field-trailing-space, 16px);--_top-space: var(--md-filled-text-field-top-space, 16px);--_bottom-space: var(--md-filled-text-field-bottom-space, 16px);--_input-text-prefix-trailing-space: var(--md-filled-text-field-input-text-prefix-trailing-space, 2px);--_input-text-suffix-leading-space: var(--md-filled-text-field-input-text-suffix-leading-space, 2px);--_with-label-top-space: var(--md-filled-text-field-with-label-top-space, 8px);--_with-label-bottom-space: var(--md-filled-text-field-with-label-bottom-space, 8px);--_focus-caret-color: var(--md-filled-text-field-focus-caret-color, var(--md-sys-color-primary, #6750a4));--_with-leading-icon-leading-space: var(--md-filled-text-field-with-leading-icon-leading-space, 12px);--_with-trailing-icon-trailing-space: var(--md-filled-text-field-with-trailing-icon-trailing-space, 12px);--md-filled-field-active-indicator-color: var(--_active-indicator-color);--md-filled-field-active-indicator-height: var(--_active-indicator-height);--md-filled-field-bottom-space: var(--_bottom-space);--md-filled-field-container-color: var(--_container-color);--md-filled-field-container-shape-end-end: var(--_container-shape-end-end);--md-filled-field-container-shape-end-start: var(--_container-shape-end-start);--md-filled-field-container-shape-start-end: var(--_container-shape-start-end);--md-filled-field-container-shape-start-start: var(--_container-shape-start-start);--md-filled-field-content-color: var(--_input-text-color);--md-filled-field-content-font: var(--_input-text-font);--md-filled-field-content-line-height: var(--_input-text-line-height);--md-filled-field-content-size: var(--_input-text-size);--md-filled-field-content-space: var(--_icon-input-space);--md-filled-field-content-weight: var(--_input-text-weight);--md-filled-field-disabled-active-indicator-color: var(--_disabled-active-indicator-color);--md-filled-field-disabled-active-indicator-height: var(--_disabled-active-indicator-height);--md-filled-field-disabled-active-indicator-opacity: var(--_disabled-active-indicator-opacity);--md-filled-field-disabled-container-color: var(--_disabled-container-color);--md-filled-field-disabled-container-opacity: var(--_disabled-container-opacity);--md-filled-field-disabled-content-color: var(--_disabled-input-text-color);--md-filled-field-disabled-content-opacity: var(--_disabled-input-text-opacity);--md-filled-field-disabled-label-text-color: var(--_disabled-label-text-color);--md-filled-field-disabled-label-text-opacity: var(--_disabled-label-text-opacity);--md-filled-field-disabled-leading-content-color: var(--_disabled-leading-icon-color);--md-filled-field-disabled-leading-content-opacity: var(--_disabled-leading-icon-opacity);--md-filled-field-disabled-supporting-text-color: var(--_disabled-supporting-text-color);--md-filled-field-disabled-supporting-text-opacity: var(--_disabled-supporting-text-opacity);--md-filled-field-disabled-trailing-content-color: var(--_disabled-trailing-icon-color);--md-filled-field-disabled-trailing-content-opacity: var(--_disabled-trailing-icon-opacity);--md-filled-field-error-active-indicator-color: var(--_error-active-indicator-color);--md-filled-field-error-content-color: var(--_error-input-text-color);--md-filled-field-error-focus-active-indicator-color: var(--_error-focus-active-indicator-color);--md-filled-field-error-focus-content-color: var(--_error-focus-input-text-color);--md-filled-field-error-focus-label-text-color: var(--_error-focus-label-text-color);--md-filled-field-error-focus-leading-content-color: var(--_error-focus-leading-icon-color);--md-filled-field-error-focus-supporting-text-color: var(--_error-focus-supporting-text-color);--md-filled-field-error-focus-trailing-content-color: var(--_error-focus-trailing-icon-color);--md-filled-field-error-hover-active-indicator-color: var(--_error-hover-active-indicator-color);--md-filled-field-error-hover-content-color: var(--_error-hover-input-text-color);--md-filled-field-error-hover-label-text-color: var(--_error-hover-label-text-color);--md-filled-field-error-hover-leading-content-color: var(--_error-hover-leading-icon-color);--md-filled-field-error-hover-state-layer-color: var(--_error-hover-state-layer-color);--md-filled-field-error-hover-state-layer-opacity: var(--_error-hover-state-layer-opacity);--md-filled-field-error-hover-supporting-text-color: var(--_error-hover-supporting-text-color);--md-filled-field-error-hover-trailing-content-color: var(--_error-hover-trailing-icon-color);--md-filled-field-error-label-text-color: var(--_error-label-text-color);--md-filled-field-error-leading-content-color: var(--_error-leading-icon-color);--md-filled-field-error-supporting-text-color: var(--_error-supporting-text-color);--md-filled-field-error-trailing-content-color: var(--_error-trailing-icon-color);--md-filled-field-focus-active-indicator-color: var(--_focus-active-indicator-color);--md-filled-field-focus-active-indicator-height: var(--_focus-active-indicator-height);--md-filled-field-focus-content-color: var(--_focus-input-text-color);--md-filled-field-focus-label-text-color: var(--_focus-label-text-color);--md-filled-field-focus-leading-content-color: var(--_focus-leading-icon-color);--md-filled-field-focus-supporting-text-color: var(--_focus-supporting-text-color);--md-filled-field-focus-trailing-content-color: var(--_focus-trailing-icon-color);--md-filled-field-hover-active-indicator-color: var(--_hover-active-indicator-color);--md-filled-field-hover-active-indicator-height: var(--_hover-active-indicator-height);--md-filled-field-hover-content-color: var(--_hover-input-text-color);--md-filled-field-hover-label-text-color: var(--_hover-label-text-color);--md-filled-field-hover-leading-content-color: var(--_hover-leading-icon-color);--md-filled-field-hover-state-layer-color: var(--_hover-state-layer-color);--md-filled-field-hover-state-layer-opacity: var(--_hover-state-layer-opacity);--md-filled-field-hover-supporting-text-color: var(--_hover-supporting-text-color);--md-filled-field-hover-trailing-content-color: var(--_hover-trailing-icon-color);--md-filled-field-label-text-color: var(--_label-text-color);--md-filled-field-label-text-font: var(--_label-text-font);--md-filled-field-label-text-line-height: var(--_label-text-line-height);--md-filled-field-label-text-populated-line-height: var(--_label-text-populated-line-height);--md-filled-field-label-text-populated-size: var(--_label-text-populated-size);--md-filled-field-label-text-size: var(--_label-text-size);--md-filled-field-label-text-weight: var(--_label-text-weight);--md-filled-field-leading-content-color: var(--_leading-icon-color);--md-filled-field-leading-space: var(--_leading-space);--md-filled-field-supporting-text-color: var(--_supporting-text-color);--md-filled-field-supporting-text-font: var(--_supporting-text-font);--md-filled-field-supporting-text-line-height: var(--_supporting-text-line-height);--md-filled-field-supporting-text-size: var(--_supporting-text-size);--md-filled-field-supporting-text-weight: var(--_supporting-text-weight);--md-filled-field-top-space: var(--_top-space);--md-filled-field-trailing-content-color: var(--_trailing-icon-color);--md-filled-field-trailing-space: var(--_trailing-space);--md-filled-field-with-label-bottom-space: var(--_with-label-bottom-space);--md-filled-field-with-label-top-space: var(--_with-label-top-space);--md-filled-field-with-leading-content-leading-space: var(--_with-leading-icon-leading-space);--md-filled-field-with-trailing-content-trailing-space: var(--_with-trailing-icon-trailing-space)}
`;const Bz=n=>n.strings===void 0,zz={},jz=(n,e=zz)=>n._$AH=e;const GI=_w(class extends ww{constructor(n){if(super(n),n.type!==Za.PROPERTY&&n.type!==Za.ATTRIBUTE&&n.type!==Za.BOOLEAN_ATTRIBUTE)throw Error("The `live` directive is not allowed on child or event bindings");if(!Bz(n))throw Error("`live` bindings can only contain a single expression")}render(n){return n}update(n,[e]){if(e===Ai||e===fe)return e;const t=n.element,r=n.name;if(n.type===Za.PROPERTY){if(e===t[r])return Ai}else if(n.type===Za.BOOLEAN_ATTRIBUTE){if(!!e===t.hasAttribute(r))return Ai}else if(n.type===Za.ATTRIBUTE&&t.getAttribute(r)===e+"")return Ai;return jz(n),e}});const J2="important",$z=" !"+J2,v_=_w(class extends ww{constructor(n){if(super(n),n.type!==Za.ATTRIBUTE||n.name!=="style"||n.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(n){return Object.keys(n).reduce((e,t)=>{const r=n[t];return r==null?e:e+`${t=t.includes("-")?t:t.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`},"")}update(n,[e]){const{style:t}=n.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(e)),this.render(e);for(const r of this.ft)e[r]==null&&(this.ft.delete(r),r.includes("-")?t.removeProperty(r):t[r]=null);for(const r in e){const a=e[r];if(a!=null){this.ft.add(r);const o=typeof a=="string"&&a.endsWith($z);r.includes("-")||o?t.setProperty(r,o?a.slice(0,-11):a,o?J2:""):t[r]=a}}return Ai}});const Fz={fromAttribute(n){return n??""},toAttribute(n){return n||null}};function Cg(n,e){e.bubbles&&(!n.shadowRoot||e.composed)&&e.stopPropagation();const t=Reflect.construct(e.constructor,[e.type,e]),r=n.dispatchEvent(t);return r||e.preventDefault(),r}const bh=Symbol("createValidator"),_h=Symbol("getValidityAnchor"),ub=Symbol("privateValidator"),Ks=Symbol("privateSyncValidity"),wp=Symbol("privateCustomValidationMessage");function xw(n){var e;class t extends n{constructor(){super(...arguments),this[e]=""}get validity(){return this[Ks](),this[er].validity}get validationMessage(){return this[Ks](),this[er].validationMessage}get willValidate(){return this[Ks](),this[er].willValidate}checkValidity(){return this[Ks](),this[er].checkValidity()}reportValidity(){return this[Ks](),this[er].reportValidity()}setCustomValidity(a){this[wp]=a,this[Ks]()}requestUpdate(a,o,c){super.requestUpdate(a,o,c),this[Ks]()}firstUpdated(a){super.firstUpdated(a),this[Ks]()}[(e=wp,Ks)](){this[ub]||(this[ub]=this[bh]());const{validity:a,validationMessage:o}=this[ub].getValidity(),c=!!this[wp],d=this[wp]||o;this[er].setValidity({...a,customError:c},d,this[_h]()??void 0)}[bh](){throw new Error("Implement [createValidator]")}[_h](){throw new Error("Implement [getValidityAnchor]")}}return t}const Kc=Symbol("getFormValue"),km=Symbol("getFormState");function Tw(n){class e extends n{get form(){return this[er].form}get labels(){return this[er].labels}get name(){return this.getAttribute("name")??""}set name(r){this.setAttribute("name",r)}get disabled(){return this.hasAttribute("disabled")}set disabled(r){this.toggleAttribute("disabled",r)}attributeChangedCallback(r,a,o){if(r==="name"||r==="disabled"){const c=r==="disabled"?a!==null:a;this.requestUpdate(r,c);return}super.attributeChangedCallback(r,a,o)}requestUpdate(r,a,o){super.requestUpdate(r,a,o),this[er].setFormValue(this[Kc](),this[km]())}[Kc](){throw new Error("Implement [getFormValue]")}[km](){return this[Kc]()}formDisabledCallback(r){this.disabled=r}}return e.formAssociated=!0,$([re({noAccessor:!0})],e.prototype,"name",null),$([re({type:Boolean,noAccessor:!0})],e.prototype,"disabled",null),e}const y_=Symbol("onReportValidity"),Ep=Symbol("privateCleanupFormListeners"),xp=Symbol("privateDoNotReportInvalid"),Tp=Symbol("privateIsSelfReportingValidity"),Sp=Symbol("privateCallOnReportValidity");function qz(n){var e,t,r;class a extends n{constructor(...c){super(...c),this[e]=new AbortController,this[t]=!1,this[r]=!1,this.addEventListener("invalid",d=>{this[xp]||!d.isTrusted||this.addEventListener("invalid",()=>{this[Sp](d)},{once:!0})},{capture:!0})}checkValidity(){this[xp]=!0;const c=super.checkValidity();return this[xp]=!1,c}reportValidity(){this[Tp]=!0;const c=super.reportValidity();return c&&this[Sp](null),this[Tp]=!1,c}[(e=Ep,t=xp,r=Tp,Sp)](c){const d=c?.defaultPrevented;d||(this[y_](c),!(!d&&c?.defaultPrevented))||(this[Tp]||Kz(this[er].form,this))&&this.focus()}[y_](c){throw new Error("Implement [onReportValidity]")}formAssociatedCallback(c){super.formAssociatedCallback&&super.formAssociatedCallback(c),this[Ep].abort(),c&&(this[Ep]=new AbortController,Hz(this,c,()=>{this[Sp](null)},this[Ep].signal))}}return a}function Hz(n,e,t,r){const a=Gz(e);let o=!1,c,d=!1;a.addEventListener("before",()=>{d=!0,c=new AbortController,o=!1,n.addEventListener("invalid",()=>{o=!0},{signal:c.signal})},{signal:r}),a.addEventListener("after",()=>{d=!1,c?.abort(),!o&&t()},{signal:r}),e.addEventListener("submit",()=>{d||t()},{signal:r})}const db=new WeakMap;function Gz(n){if(!db.has(n)){const e=new EventTarget;db.set(n,e);for(const t of["reportValidity","requestSubmit"]){const r=n[t];n[t]=function(){e.dispatchEvent(new Event("before"));const a=Reflect.apply(r,this,arguments);return e.dispatchEvent(new Event("after")),a}}}return db.get(n)}function Kz(n,e){if(!n)return!0;let t;for(const r of n.elements)if(r.matches(":invalid")){t=r;break}return t===e}class Sw{constructor(e){this.getCurrentState=e,this.currentValidity={validity:{},validationMessage:""}}getValidity(){const e=this.getCurrentState();if(!(!this.prevState||!this.equals(this.prevState,e)))return this.currentValidity;const{validity:r,validationMessage:a}=this.computeValidity(e);return this.prevState=this.copy(e),this.currentValidity={validationMessage:a,validity:{badInput:r.badInput,customError:r.customError,patternMismatch:r.patternMismatch,rangeOverflow:r.rangeOverflow,rangeUnderflow:r.rangeUnderflow,stepMismatch:r.stepMismatch,tooLong:r.tooLong,tooShort:r.tooShort,typeMismatch:r.typeMismatch,valueMissing:r.valueMissing}},this.currentValidity}}class Yz extends Sw{computeValidity({state:e,renderedControl:t}){let r=t;Rd(e)&&!r?(r=this.inputControl||document.createElement("input"),this.inputControl=r):r||(r=this.textAreaControl||document.createElement("textarea"),this.textAreaControl=r);const a=Rd(e)?r:null;if(a&&(a.type=e.type),r.value!==e.value&&(r.value=e.value),r.required=e.required,a){const o=e;o.pattern?a.pattern=o.pattern:a.removeAttribute("pattern"),o.min?a.min=o.min:a.removeAttribute("min"),o.max?a.max=o.max:a.removeAttribute("max"),o.step?a.step=o.step:a.removeAttribute("step")}return(e.minLength??-1)>-1?r.setAttribute("minlength",String(e.minLength)):r.removeAttribute("minlength"),(e.maxLength??-1)>-1?r.setAttribute("maxlength",String(e.maxLength)):r.removeAttribute("maxlength"),{validity:r.validity,validationMessage:r.validationMessage}}equals({state:e},{state:t}){const r=e.type===t.type&&e.value===t.value&&e.required===t.required&&e.minLength===t.minLength&&e.maxLength===t.maxLength;return!Rd(e)||!Rd(t)?r:r&&e.pattern===t.pattern&&e.min===t.min&&e.max===t.max&&e.step===t.step}copy({state:e}){return{state:Rd(e)?this.copyInput(e):this.copyTextArea(e),renderedControl:null}}copyInput(e){const{type:t,pattern:r,min:a,max:o,step:c}=e;return{...this.copySharedState(e),type:t,pattern:r,min:a,max:o,step:c}}copyTextArea(e){return{...this.copySharedState(e),type:e.type}}copySharedState({value:e,required:t,minLength:r,maxLength:a}){return{value:e,required:t,minLength:r,maxLength:a}}}function Rd(n){return n.type!=="textarea"}const Qz=ma(qz(xw(Tw($h(Dt)))));class Ze extends Qz{constructor(){super(...arguments),this.error=!1,this.errorText="",this.label="",this.noAsterisk=!1,this.required=!1,this.value="",this.prefixText="",this.suffixText="",this.hasLeadingIcon=!1,this.hasTrailingIcon=!1,this.supportingText="",this.textDirection="",this.rows=2,this.cols=20,this.inputMode="",this.max="",this.maxLength=-1,this.min="",this.minLength=-1,this.noSpinner=!1,this.pattern="",this.placeholder="",this.readOnly=!1,this.multiple=!1,this.step="",this.type="text",this.autocomplete="",this.dirty=!1,this.focused=!1,this.nativeError=!1,this.nativeErrorText=""}get selectionDirection(){return this.getInputOrTextarea().selectionDirection}set selectionDirection(e){this.getInputOrTextarea().selectionDirection=e}get selectionEnd(){return this.getInputOrTextarea().selectionEnd}set selectionEnd(e){this.getInputOrTextarea().selectionEnd=e}get selectionStart(){return this.getInputOrTextarea().selectionStart}set selectionStart(e){this.getInputOrTextarea().selectionStart=e}get valueAsNumber(){const e=this.getInput();return e?e.valueAsNumber:NaN}set valueAsNumber(e){const t=this.getInput();t&&(t.valueAsNumber=e,this.value=t.value)}get valueAsDate(){const e=this.getInput();return e?e.valueAsDate:null}set valueAsDate(e){const t=this.getInput();t&&(t.valueAsDate=e,this.value=t.value)}get hasError(){return this.error||this.nativeError}select(){this.getInputOrTextarea().select()}setRangeText(...e){this.getInputOrTextarea().setRangeText(...e),this.value=this.getInputOrTextarea().value}setSelectionRange(e,t,r){this.getInputOrTextarea().setSelectionRange(e,t,r)}showPicker(){const e=this.getInput();e&&e.showPicker()}stepDown(e){const t=this.getInput();t&&(t.stepDown(e),this.value=t.value)}stepUp(e){const t=this.getInput();t&&(t.stepUp(e),this.value=t.value)}reset(){this.dirty=!1,this.value=this.getAttribute("value")??"",this.nativeError=!1,this.nativeErrorText=""}attributeChangedCallback(e,t,r){e==="value"&&this.dirty||super.attributeChangedCallback(e,t,r)}render(){const e={disabled:this.disabled,error:!this.disabled&&this.hasError,textarea:this.type==="textarea","no-spinner":this.noSpinner};return Ee`
      <span class="text-field ${Ir(e)}">
        ${this.renderField()}
      </span>
    `}updated(e){const t=this.getInputOrTextarea().value;this.value!==t&&(this.value=t)}renderField(){return Ig`<${this.fieldTag}
      class="field"
      count=${this.value.length}
      ?disabled=${this.disabled}
      ?error=${this.hasError}
      error-text=${this.getErrorText()}
      ?focused=${this.focused}
      ?has-end=${this.hasTrailingIcon}
      ?has-start=${this.hasLeadingIcon}
      label=${this.label}
      ?no-asterisk=${this.noAsterisk}
      max=${this.maxLength}
      ?populated=${!!this.value}
      ?required=${this.required}
      ?resizable=${this.type==="textarea"}
      supporting-text=${this.supportingText}
    >
      ${this.renderLeadingIcon()}
      ${this.renderInputOrTextarea()}
      ${this.renderTrailingIcon()}
      <div id="description" slot="aria-describedby"></div>
      <slot name="container" slot="container"></slot>
    </${this.fieldTag}>`}renderLeadingIcon(){return Ee`
      <span class="icon leading" slot="start">
        <slot name="leading-icon" @slotchange=${this.handleIconChange}></slot>
      </span>
    `}renderTrailingIcon(){return Ee`
      <span class="icon trailing" slot="end">
        <slot name="trailing-icon" @slotchange=${this.handleIconChange}></slot>
      </span>
    `}renderInputOrTextarea(){const e={direction:this.textDirection},t=this.ariaLabel||this.label||fe,r=this.autocomplete,a=(this.maxLength??-1)>-1,o=(this.minLength??-1)>-1;if(this.type==="textarea")return Ee`
        <textarea
          class="input"
          style=${v_(e)}
          aria-describedby="description"
          aria-invalid=${this.hasError}
          aria-label=${t}
          autocomplete=${r||fe}
          name=${this.name||fe}
          ?disabled=${this.disabled}
          maxlength=${a?this.maxLength:fe}
          minlength=${o?this.minLength:fe}
          placeholder=${this.placeholder||fe}
          ?readonly=${this.readOnly}
          ?required=${this.required}
          rows=${this.rows}
          cols=${this.cols}
          .value=${GI(this.value)}
          @change=${this.redispatchEvent}
          @focus=${this.handleFocusChange}
          @blur=${this.handleFocusChange}
          @input=${this.handleInput}
          @select=${this.redispatchEvent}></textarea>
      `;const c=this.renderPrefix(),d=this.renderSuffix(),f=this.inputMode;return Ee`
      <div class="input-wrapper">
        ${c}
        <input
          class="input"
          style=${v_(e)}
          aria-describedby="description"
          aria-invalid=${this.hasError}
          aria-label=${t}
          autocomplete=${r||fe}
          name=${this.name||fe}
          ?disabled=${this.disabled}
          inputmode=${f||fe}
          max=${this.max||fe}
          maxlength=${a?this.maxLength:fe}
          min=${this.min||fe}
          minlength=${o?this.minLength:fe}
          pattern=${this.pattern||fe}
          placeholder=${this.placeholder||fe}
          ?readonly=${this.readOnly}
          ?required=${this.required}
          ?multiple=${this.multiple}
          step=${this.step||fe}
          type=${this.type}
          .value=${GI(this.value)}
          @change=${this.redispatchEvent}
          @focus=${this.handleFocusChange}
          @blur=${this.handleFocusChange}
          @input=${this.handleInput}
          @select=${this.redispatchEvent} />
        ${d}
      </div>
    `}renderPrefix(){return this.renderAffix(this.prefixText,!1)}renderSuffix(){return this.renderAffix(this.suffixText,!0)}renderAffix(e,t){return e?Ee`<span class="${Ir({suffix:t,prefix:!t})}">${e}</span>`:fe}getErrorText(){return this.error?this.errorText:this.nativeErrorText}handleFocusChange(){this.focused=this.inputOrTextarea?.matches(":focus")??!1}handleInput(e){this.dirty=!0,this.value=e.target.value}redispatchEvent(e){Cg(this,e)}getInputOrTextarea(){return this.inputOrTextarea||(this.connectedCallback(),this.scheduleUpdate()),this.isUpdatePending&&this.scheduleUpdate(),this.inputOrTextarea}getInput(){return this.type==="textarea"?null:this.getInputOrTextarea()}handleIconChange(){this.hasLeadingIcon=this.leadingIcons.length>0,this.hasTrailingIcon=this.trailingIcons.length>0}[Kc](){return this.value}formResetCallback(){this.reset()}formStateRestoreCallback(e){this.value=e}focus(){this.getInputOrTextarea().focus()}[bh](){return new Yz(()=>({state:this,renderedControl:this.inputOrTextarea}))}[_h](){return this.inputOrTextarea}[y_](e){e?.preventDefault();const t=this.getErrorText();this.nativeError=!!e,this.nativeErrorText=this.validationMessage,t===this.getErrorText()&&this.field?.reannounceError()}}Ze.shadowRootOptions={...Dt.shadowRootOptions,delegatesFocus:!0};$([re({type:Boolean,reflect:!0})],Ze.prototype,"error",void 0);$([re({attribute:"error-text"})],Ze.prototype,"errorText",void 0);$([re()],Ze.prototype,"label",void 0);$([re({type:Boolean,attribute:"no-asterisk"})],Ze.prototype,"noAsterisk",void 0);$([re({type:Boolean,reflect:!0})],Ze.prototype,"required",void 0);$([re()],Ze.prototype,"value",void 0);$([re({attribute:"prefix-text"})],Ze.prototype,"prefixText",void 0);$([re({attribute:"suffix-text"})],Ze.prototype,"suffixText",void 0);$([re({type:Boolean,attribute:"has-leading-icon"})],Ze.prototype,"hasLeadingIcon",void 0);$([re({type:Boolean,attribute:"has-trailing-icon"})],Ze.prototype,"hasTrailingIcon",void 0);$([re({attribute:"supporting-text"})],Ze.prototype,"supportingText",void 0);$([re({attribute:"text-direction"})],Ze.prototype,"textDirection",void 0);$([re({type:Number})],Ze.prototype,"rows",void 0);$([re({type:Number})],Ze.prototype,"cols",void 0);$([re({reflect:!0})],Ze.prototype,"inputMode",void 0);$([re()],Ze.prototype,"max",void 0);$([re({type:Number})],Ze.prototype,"maxLength",void 0);$([re()],Ze.prototype,"min",void 0);$([re({type:Number})],Ze.prototype,"minLength",void 0);$([re({type:Boolean,attribute:"no-spinner"})],Ze.prototype,"noSpinner",void 0);$([re()],Ze.prototype,"pattern",void 0);$([re({reflect:!0,converter:Fz})],Ze.prototype,"placeholder",void 0);$([re({type:Boolean,reflect:!0})],Ze.prototype,"readOnly",void 0);$([re({type:Boolean,reflect:!0})],Ze.prototype,"multiple",void 0);$([re()],Ze.prototype,"step",void 0);$([re({reflect:!0})],Ze.prototype,"type",void 0);$([re({reflect:!0})],Ze.prototype,"autocomplete",void 0);$([hr()],Ze.prototype,"dirty",void 0);$([hr()],Ze.prototype,"focused",void 0);$([hr()],Ze.prototype,"nativeError",void 0);$([hr()],Ze.prototype,"nativeErrorText",void 0);$([jt(".input")],Ze.prototype,"inputOrTextarea",void 0);$([jt(".field")],Ze.prototype,"field",void 0);$([pa({slot:"leading-icon"})],Ze.prototype,"leadingIcons",void 0);$([pa({slot:"trailing-icon"})],Ze.prototype,"trailingIcons",void 0);class Wz extends Ze{constructor(){super(...arguments),this.fieldTag=bs`md-filled-field`}}const Xz=ft`:host{display:inline-flex;outline:none;resize:both;text-align:start;-webkit-tap-highlight-color:rgba(0,0,0,0)}.text-field,.field{width:100%}.text-field{display:inline-flex}.field{cursor:text}.disabled .field{cursor:default}.text-field,.textarea .field{resize:inherit}slot[name=container]{border-radius:inherit}.icon{color:currentColor;display:flex;align-items:center;justify-content:center;fill:currentColor;position:relative}.icon ::slotted(*){display:flex;position:absolute}[has-start] .icon.leading{font-size:var(--_leading-icon-size);height:var(--_leading-icon-size);width:var(--_leading-icon-size)}[has-end] .icon.trailing{font-size:var(--_trailing-icon-size);height:var(--_trailing-icon-size);width:var(--_trailing-icon-size)}.input-wrapper{display:flex}.input-wrapper>*{all:inherit;padding:0}.input{caret-color:var(--_caret-color);overflow-x:hidden;text-align:inherit}.input::placeholder{color:currentColor;opacity:1}.input::-webkit-calendar-picker-indicator{display:none}.input::-webkit-search-decoration,.input::-webkit-search-cancel-button{display:none}@media(forced-colors: active){.input{background:none}}.no-spinner .input::-webkit-inner-spin-button,.no-spinner .input::-webkit-outer-spin-button{display:none}.no-spinner .input[type=number]{-moz-appearance:textfield}:focus-within .input{caret-color:var(--_focus-caret-color)}.error:focus-within .input{caret-color:var(--_error-focus-caret-color)}.text-field:not(.disabled) .prefix{color:var(--_input-text-prefix-color)}.text-field:not(.disabled) .suffix{color:var(--_input-text-suffix-color)}.text-field:not(.disabled) .input::placeholder{color:var(--_input-text-placeholder-color)}.prefix,.suffix{text-wrap:nowrap;width:min-content}.prefix{padding-inline-end:var(--_input-text-prefix-trailing-space)}.suffix{padding-inline-start:var(--_input-text-suffix-leading-space)}
`;let b_=class extends Wz{constructor(){super(...arguments),this.fieldTag=bs`md-filled-field`}};b_.styles=[Xz,Uz];b_=$([en("md-filled-text-field")],b_);class Jz extends Dt{render(){return Ee`<slot></slot>`}connectedCallback(){if(super.connectedCallback(),this.getAttribute("aria-hidden")==="false"){this.removeAttribute("aria-hidden");return}this.setAttribute("aria-hidden","true")}}const Zz=ft`:host{font-size:var(--md-icon-size, 24px);width:var(--md-icon-size, 24px);height:var(--md-icon-size, 24px);color:inherit;font-variation-settings:inherit;font-weight:400;font-family:var(--md-icon-font, Material Symbols Outlined);display:inline-flex;font-style:normal;place-items:center;place-content:center;line-height:1;overflow:hidden;letter-spacing:normal;text-transform:none;user-select:none;white-space:nowrap;word-wrap:normal;flex-shrink:0;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale}::slotted(svg){fill:currentColor}::slotted(*){height:100%;width:100%}
`;let __=class extends Jz{};__.styles=[Zz];__=$([en("md-icon")],__);function Z2(n,e=ga){const t=Aw(n,e);return t&&(t.tabIndex=0,t.focus()),t}function eN(n,e=ga){const t=tN(n,e);return t&&(t.tabIndex=0,t.focus()),t}function Xp(n,e=ga){for(let t=0;t<n.length;t++){const r=n[t];if(r.tabIndex===0&&e(r))return{item:r,index:t}}return null}function Aw(n,e=ga){for(const t of n)if(e(t))return t;return null}function tN(n,e=ga){for(let t=n.length-1;t>=0;t--){const r=n[t];if(e(r))return r}return null}function ej(n,e,t=ga,r=!0){for(let a=1;a<n.length;a++){const o=(a+e)%n.length;if(o<e&&!r)return null;const c=n[o];if(t(c))return c}return n[e]?n[e]:null}function tj(n,e,t=ga,r=!0){for(let a=1;a<n.length;a++){const o=(e-a+n.length)%n.length;if(o>e&&!r)return null;const c=n[o];if(t(c))return c}return n[e]?n[e]:null}function KI(n,e,t=ga,r=!0){if(e){const a=ej(n,e.index,t,r);return a&&(a.tabIndex=0,a.focus()),a}else return Z2(n,t)}function YI(n,e,t=ga,r=!0){if(e){const a=tj(n,e.index,t,r);return a&&(a.tabIndex=0,a.focus()),a}else return eN(n,t)}function nj(){return new Event("request-activation",{bubbles:!0,composed:!0})}function ga(n){return!n.disabled}const Zn={ArrowDown:"ArrowDown",ArrowLeft:"ArrowLeft",ArrowUp:"ArrowUp",ArrowRight:"ArrowRight",Home:"Home",End:"End"};class nN{constructor(e){this.handleKeydown=v=>{const y=v.key;if(v.defaultPrevented||!this.isNavigableKey(y))return;const E=this.items;if(!E.length)return;const I=Xp(E,this.isActivatable);v.preventDefault();const U=this.isRtl(),k=U?Zn.ArrowRight:Zn.ArrowLeft,V=U?Zn.ArrowLeft:Zn.ArrowRight;let K=null;switch(y){case Zn.ArrowDown:case V:K=KI(E,I,this.isActivatable,this.wrapNavigation());break;case Zn.ArrowUp:case k:K=YI(E,I,this.isActivatable,this.wrapNavigation());break;case Zn.Home:K=Z2(E,this.isActivatable);break;case Zn.End:K=eN(E,this.isActivatable);break}K&&I&&I.item!==K&&(I.item.tabIndex=-1)},this.onDeactivateItems=()=>{const v=this.items;for(const y of v)this.deactivateItem(y)},this.onRequestActivation=v=>{this.onDeactivateItems();const y=v.target;this.activateItem(y),y.focus()},this.onSlotchange=()=>{const v=this.items;let y=!1;for(const I of v){if(!I.disabled&&I.tabIndex>-1&&!y){y=!0,I.tabIndex=0;continue}I.tabIndex=-1}if(y)return;const E=Aw(v,this.isActivatable);E&&(E.tabIndex=0)};const{isItem:t,getPossibleItems:r,isRtl:a,deactivateItem:o,activateItem:c,isNavigableKey:d,isActivatable:f,wrapNavigation:m}=e;this.isItem=t,this.getPossibleItems=r,this.isRtl=a,this.deactivateItem=o,this.activateItem=c,this.isNavigableKey=d,this.isActivatable=f,this.wrapNavigation=m??(()=>!0)}get items(){const e=this.getPossibleItems(),t=[];for(const r of e){if(this.isItem(r)){t.push(r);continue}const o=r.item;o&&this.isItem(o)&&t.push(o)}return t}activateNextItem(){const e=this.items,t=Xp(e,this.isActivatable);return t&&(t.item.tabIndex=-1),KI(e,t,this.isActivatable,this.wrapNavigation())}activatePreviousItem(){const e=this.items,t=Xp(e,this.isActivatable);return t&&(t.item.tabIndex=-1),YI(e,t,this.isActivatable,this.wrapNavigation())}}const rj=new Set(Object.values(Zn));class rN extends Dt{get items(){return this.listController.items}constructor(){super(),this.listController=new nN({isItem:e=>e.hasAttribute("md-list-item"),getPossibleItems:()=>this.slotItems,isRtl:()=>getComputedStyle(this).direction==="rtl",deactivateItem:e=>{e.tabIndex=-1},activateItem:e=>{e.tabIndex=0},isNavigableKey:e=>rj.has(e),isActivatable:e=>!e.disabled&&e.type!=="text"}),this.internals=this.attachInternals(),this.internals.role="list",this.addEventListener("keydown",this.listController.handleKeydown)}render(){return Ee`
      <slot
        @deactivate-items=${this.listController.onDeactivateItems}
        @request-activation=${this.listController.onRequestActivation}
        @slotchange=${this.listController.onSlotchange}>
      </slot>
    `}activateNextItem(){return this.listController.activateNextItem()}activatePreviousItem(){return this.listController.activatePreviousItem()}}$([pa({flatten:!0})],rN.prototype,"slotItems",void 0);const ij=ft`:host{background:var(--md-list-container-color, var(--md-sys-color-surface, #fef7ff));color:unset;display:flex;flex-direction:column;outline:none;padding:8px 0;position:relative}
`;let w_=class extends rN{};w_.styles=[ij];w_=$([en("md-list")],w_);class Iw extends Dt{constructor(){super(...arguments),this.multiline=!1}render(){return Ee`
      <slot name="container"></slot>
      <slot class="non-text" name="start"></slot>
      <div class="text">
        <slot name="overline" @slotchange=${this.handleTextSlotChange}></slot>
        <slot
          class="default-slot"
          @slotchange=${this.handleTextSlotChange}></slot>
        <slot name="headline" @slotchange=${this.handleTextSlotChange}></slot>
        <slot
          name="supporting-text"
          @slotchange=${this.handleTextSlotChange}></slot>
      </div>
      <slot class="non-text" name="trailing-supporting-text"></slot>
      <slot class="non-text" name="end"></slot>
    `}handleTextSlotChange(){let e=!1,t=0;for(const r of this.textSlots)if(sj(r)&&(t+=1),t>1){e=!0;break}this.multiline=e}}$([re({type:Boolean,reflect:!0})],Iw.prototype,"multiline",void 0);$([HB(".text slot")],Iw.prototype,"textSlots",void 0);function sj(n){for(const e of n.assignedNodes({flatten:!0})){const t=e.nodeType===Node.ELEMENT_NODE,r=e.nodeType===Node.TEXT_NODE&&e.textContent?.match(/\S/);if(t||r)return!0}return!1}const aj=ft`:host{color:var(--md-sys-color-on-surface, #1d1b20);font-family:var(--md-sys-typescale-body-large-font, var(--md-ref-typeface-plain, Roboto));font-size:var(--md-sys-typescale-body-large-size, 1rem);font-weight:var(--md-sys-typescale-body-large-weight, var(--md-ref-typeface-weight-regular, 400));line-height:var(--md-sys-typescale-body-large-line-height, 1.5rem);align-items:center;box-sizing:border-box;display:flex;gap:16px;min-height:56px;overflow:hidden;padding:12px 16px;position:relative;text-overflow:ellipsis}:host([multiline]){min-height:72px}[name=overline]{color:var(--md-sys-color-on-surface-variant, #49454f);font-family:var(--md-sys-typescale-label-small-font, var(--md-ref-typeface-plain, Roboto));font-size:var(--md-sys-typescale-label-small-size, 0.6875rem);font-weight:var(--md-sys-typescale-label-small-weight, var(--md-ref-typeface-weight-medium, 500));line-height:var(--md-sys-typescale-label-small-line-height, 1rem)}[name=supporting-text]{color:var(--md-sys-color-on-surface-variant, #49454f);font-family:var(--md-sys-typescale-body-medium-font, var(--md-ref-typeface-plain, Roboto));font-size:var(--md-sys-typescale-body-medium-size, 0.875rem);font-weight:var(--md-sys-typescale-body-medium-weight, var(--md-ref-typeface-weight-regular, 400));line-height:var(--md-sys-typescale-body-medium-line-height, 1.25rem)}[name=trailing-supporting-text]{color:var(--md-sys-color-on-surface-variant, #49454f);font-family:var(--md-sys-typescale-label-small-font, var(--md-ref-typeface-plain, Roboto));font-size:var(--md-sys-typescale-label-small-size, 0.6875rem);font-weight:var(--md-sys-typescale-label-small-weight, var(--md-ref-typeface-weight-medium, 500));line-height:var(--md-sys-typescale-label-small-line-height, 1rem)}[name=container]::slotted(*){inset:0;position:absolute}.default-slot{display:inline}.default-slot,.text ::slotted(*){overflow:hidden;text-overflow:ellipsis}.text{display:flex;flex:1;flex-direction:column;overflow:hidden}
`;let E_=class extends Iw{};E_.styles=[aj];E_=$([en("md-item")],E_);const oj=ma(Dt);class Ao extends oj{constructor(){super(...arguments),this.disabled=!1,this.type="text",this.isListItem=!0,this.href="",this.target=""}get isDisabled(){return this.disabled&&this.type!=="link"}willUpdate(e){this.href&&(this.type="link"),super.willUpdate(e)}render(){return this.renderListItem(Ee`
      <md-item>
        <div slot="container">
          ${this.renderRipple()} ${this.renderFocusRing()}
        </div>
        <slot name="start" slot="start"></slot>
        <slot name="end" slot="end"></slot>
        ${this.renderBody()}
      </md-item>
    `)}renderListItem(e){const t=this.type==="link";let r;switch(this.type){case"link":r=bs`a`;break;case"button":r=bs`button`;break;default:case"text":r=bs`li`;break}const a=this.type!=="text",o=t&&this.target?this.target:fe;return Ig`
      <${r}
        id="item"
        tabindex="${this.isDisabled||!a?-1:0}"
        ?disabled=${this.isDisabled}
        role="listitem"
        aria-selected=${this.ariaSelected||fe}
        aria-checked=${this.ariaChecked||fe}
        aria-expanded=${this.ariaExpanded||fe}
        aria-haspopup=${this.ariaHasPopup||fe}
        class="list-item ${Ir(this.getRenderClasses())}"
        href=${this.href||fe}
        target=${o}
        @focus=${this.onFocus}
      >${e}</${r}>
    `}renderRipple(){return this.type==="text"?fe:Ee` <md-ripple
      part="ripple"
      for="item"
      ?disabled=${this.isDisabled}></md-ripple>`}renderFocusRing(){return this.type==="text"?fe:Ee` <md-focus-ring
      @visibility-changed=${this.onFocusRingVisibilityChanged}
      part="focus-ring"
      for="item"
      inward></md-focus-ring>`}onFocusRingVisibilityChanged(e){}getRenderClasses(){return{disabled:this.isDisabled}}renderBody(){return Ee`
      <slot></slot>
      <slot name="overline" slot="overline"></slot>
      <slot name="headline" slot="headline"></slot>
      <slot name="supporting-text" slot="supporting-text"></slot>
      <slot
        name="trailing-supporting-text"
        slot="trailing-supporting-text"></slot>
    `}onFocus(){this.tabIndex===-1&&this.dispatchEvent(nj())}focus(){this.listItemRoot?.focus()}click(){if(!this.listItemRoot){super.click();return}this.listItemRoot.click()}}Ao.shadowRootOptions={...Dt.shadowRootOptions,delegatesFocus:!0};$([re({type:Boolean,reflect:!0})],Ao.prototype,"disabled",void 0);$([re({reflect:!0})],Ao.prototype,"type",void 0);$([re({type:Boolean,attribute:"md-list-item",reflect:!0})],Ao.prototype,"isListItem",void 0);$([re()],Ao.prototype,"href",void 0);$([re()],Ao.prototype,"target",void 0);$([jt(".list-item")],Ao.prototype,"listItemRoot",void 0);const lj=ft`:host{display:flex;-webkit-tap-highlight-color:rgba(0,0,0,0);--md-ripple-hover-color: var(--md-list-item-hover-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--md-ripple-hover-opacity: var(--md-list-item-hover-state-layer-opacity, 0.08);--md-ripple-pressed-color: var(--md-list-item-pressed-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--md-ripple-pressed-opacity: var(--md-list-item-pressed-state-layer-opacity, 0.12)}:host(:is([type=button]:not([disabled]),[type=link])){cursor:pointer}md-focus-ring{z-index:1;--md-focus-ring-shape: 8px}a,button,li{background:none;border:none;cursor:inherit;padding:0;margin:0;text-align:unset;text-decoration:none}.list-item{border-radius:inherit;display:flex;flex:1;max-width:inherit;min-width:inherit;outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%}.list-item.interactive{cursor:pointer}.list-item.disabled{opacity:var(--md-list-item-disabled-opacity, 0.3);pointer-events:none}[slot=container]{pointer-events:none}md-ripple{border-radius:inherit}md-item{border-radius:inherit;flex:1;height:100%;color:var(--md-list-item-label-text-color, var(--md-sys-color-on-surface, #1d1b20));font-family:var(--md-list-item-label-text-font, var(--md-sys-typescale-body-large-font, var(--md-ref-typeface-plain, Roboto)));font-size:var(--md-list-item-label-text-size, var(--md-sys-typescale-body-large-size, 1rem));line-height:var(--md-list-item-label-text-line-height, var(--md-sys-typescale-body-large-line-height, 1.5rem));font-weight:var(--md-list-item-label-text-weight, var(--md-sys-typescale-body-large-weight, var(--md-ref-typeface-weight-regular, 400)));min-height:var(--md-list-item-one-line-container-height, 56px);padding-top:var(--md-list-item-top-space, 12px);padding-bottom:var(--md-list-item-bottom-space, 12px);padding-inline-start:var(--md-list-item-leading-space, 16px);padding-inline-end:var(--md-list-item-trailing-space, 16px)}md-item[multiline]{min-height:var(--md-list-item-two-line-container-height, 72px)}[slot=supporting-text]{color:var(--md-list-item-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));font-family:var(--md-list-item-supporting-text-font, var(--md-sys-typescale-body-medium-font, var(--md-ref-typeface-plain, Roboto)));font-size:var(--md-list-item-supporting-text-size, var(--md-sys-typescale-body-medium-size, 0.875rem));line-height:var(--md-list-item-supporting-text-line-height, var(--md-sys-typescale-body-medium-line-height, 1.25rem));font-weight:var(--md-list-item-supporting-text-weight, var(--md-sys-typescale-body-medium-weight, var(--md-ref-typeface-weight-regular, 400)))}[slot=trailing-supporting-text]{color:var(--md-list-item-trailing-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));font-family:var(--md-list-item-trailing-supporting-text-font, var(--md-sys-typescale-label-small-font, var(--md-ref-typeface-plain, Roboto)));font-size:var(--md-list-item-trailing-supporting-text-size, var(--md-sys-typescale-label-small-size, 0.6875rem));line-height:var(--md-list-item-trailing-supporting-text-line-height, var(--md-sys-typescale-label-small-line-height, 1rem));font-weight:var(--md-list-item-trailing-supporting-text-weight, var(--md-sys-typescale-label-small-weight, var(--md-ref-typeface-weight-medium, 500)))}:is([slot=start],[slot=end])::slotted(*){fill:currentColor}[slot=start]{color:var(--md-list-item-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f))}[slot=end]{color:var(--md-list-item-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f))}@media(forced-colors: active){.disabled slot{color:GrayText}.list-item.disabled{color:GrayText;opacity:1}}
`;let x_=class extends Ao{};x_.styles=[lj];x_=$([en("md-list-item")],x_);const cj=ma(Dt);class Fh extends cj{constructor(){super(...arguments),this.value=0,this.max=1,this.indeterminate=!1,this.fourColor=!1}render(){const{ariaLabel:e}=this;return Ee`
      <div
        class="progress ${Ir(this.getRenderClasses())}"
        role="progressbar"
        aria-label="${e||fe}"
        aria-valuemin="0"
        aria-valuemax=${this.max}
        aria-valuenow=${this.indeterminate?fe:this.value}
        >${this.renderIndicator()}</div
      >
    `}getRenderClasses(){return{indeterminate:this.indeterminate,"four-color":this.fourColor}}}$([re({type:Number})],Fh.prototype,"value",void 0);$([re({type:Number})],Fh.prototype,"max",void 0);$([re({type:Boolean})],Fh.prototype,"indeterminate",void 0);$([re({type:Boolean,attribute:"four-color"})],Fh.prototype,"fourColor",void 0);class uj extends Fh{renderIndicator(){return this.indeterminate?this.renderIndeterminateContainer():this.renderDeterminateContainer()}renderDeterminateContainer(){const e=(1-this.value/this.max)*100;return Ee`
      <svg viewBox="0 0 4800 4800">
        <circle class="track" pathLength="100"></circle>
        <circle
          class="active-track"
          pathLength="100"
          stroke-dashoffset=${e}></circle>
      </svg>
    `}renderIndeterminateContainer(){return Ee` <div class="spinner">
      <div class="left">
        <div class="circle"></div>
      </div>
      <div class="right">
        <div class="circle"></div>
      </div>
    </div>`}}const dj=ft`:host{--_active-indicator-color: var(--md-circular-progress-active-indicator-color, var(--md-sys-color-primary, #6750a4));--_active-indicator-width: var(--md-circular-progress-active-indicator-width, 10);--_four-color-active-indicator-four-color: var(--md-circular-progress-four-color-active-indicator-four-color, var(--md-sys-color-tertiary-container, #ffd8e4));--_four-color-active-indicator-one-color: var(--md-circular-progress-four-color-active-indicator-one-color, var(--md-sys-color-primary, #6750a4));--_four-color-active-indicator-three-color: var(--md-circular-progress-four-color-active-indicator-three-color, var(--md-sys-color-tertiary, #7d5260));--_four-color-active-indicator-two-color: var(--md-circular-progress-four-color-active-indicator-two-color, var(--md-sys-color-primary-container, #eaddff));--_size: var(--md-circular-progress-size, 48px);display:inline-flex;vertical-align:middle;width:var(--_size);height:var(--_size);position:relative;align-items:center;justify-content:center;contain:strict;content-visibility:auto}.progress{flex:1;align-self:stretch;margin:4px}.progress,.spinner,.left,.right,.circle,svg,.track,.active-track{position:absolute;inset:0}svg{transform:rotate(-90deg)}circle{cx:50%;cy:50%;r:calc(50%*(1 - var(--_active-indicator-width)/100));stroke-width:calc(var(--_active-indicator-width)*1%);stroke-dasharray:100;fill:rgba(0,0,0,0)}.active-track{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1);stroke:var(--_active-indicator-color)}.track{stroke:rgba(0,0,0,0)}.progress.indeterminate{animation:linear infinite linear-rotate;animation-duration:1568.2352941176ms}.spinner{animation:infinite both rotate-arc;animation-duration:5332ms;animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.left{overflow:hidden;inset:0 50% 0 0}.right{overflow:hidden;inset:0 0 0 50%}.circle{box-sizing:border-box;border-radius:50%;border:solid calc(var(--_active-indicator-width)/100*(var(--_size) - 8px));border-color:var(--_active-indicator-color) var(--_active-indicator-color) rgba(0,0,0,0) rgba(0,0,0,0);animation:expand-arc;animation-iteration-count:infinite;animation-fill-mode:both;animation-duration:1333ms,5332ms;animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.four-color .circle{animation-name:expand-arc,four-color}.left .circle{rotate:135deg;inset:0 -100% 0 0}.right .circle{rotate:100deg;inset:0 0 0 -100%;animation-delay:-666.5ms,0ms}@media(forced-colors: active){.active-track{stroke:CanvasText}.circle{border-color:CanvasText CanvasText Canvas Canvas}}@keyframes expand-arc{0%{transform:rotate(265deg)}50%{transform:rotate(130deg)}100%{transform:rotate(265deg)}}@keyframes rotate-arc{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes linear-rotate{to{transform:rotate(360deg)}}@keyframes four-color{0%{border-top-color:var(--_four-color-active-indicator-one-color);border-right-color:var(--_four-color-active-indicator-one-color)}15%{border-top-color:var(--_four-color-active-indicator-one-color);border-right-color:var(--_four-color-active-indicator-one-color)}25%{border-top-color:var(--_four-color-active-indicator-two-color);border-right-color:var(--_four-color-active-indicator-two-color)}40%{border-top-color:var(--_four-color-active-indicator-two-color);border-right-color:var(--_four-color-active-indicator-two-color)}50%{border-top-color:var(--_four-color-active-indicator-three-color);border-right-color:var(--_four-color-active-indicator-three-color)}65%{border-top-color:var(--_four-color-active-indicator-three-color);border-right-color:var(--_four-color-active-indicator-three-color)}75%{border-top-color:var(--_four-color-active-indicator-four-color);border-right-color:var(--_four-color-active-indicator-four-color)}90%{border-top-color:var(--_four-color-active-indicator-four-color);border-right-color:var(--_four-color-active-indicator-four-color)}100%{border-top-color:var(--_four-color-active-indicator-one-color);border-right-color:var(--_four-color-active-indicator-one-color)}}
`;let T_=class extends uj{};T_.styles=[dj];T_=$([en("md-circular-progress")],T_);const hj=ma(Dt);class Io extends hj{get rippleDisabled(){return this.disabled||this.softDisabled}constructor(){super(),this.disabled=!1,this.softDisabled=!1,this.alwaysFocusable=!1,this.label="",this.hasIcon=!1,this.addEventListener("click",this.handleClick.bind(this))}focus(e){this.disabled&&!this.alwaysFocusable||super.focus(e)}render(){return Ee`
      <div class="container ${Ir(this.getContainerClasses())}">
        ${this.renderContainerContent()}
      </div>
    `}updated(e){e.has("disabled")&&e.get("disabled")!==void 0&&this.dispatchEvent(new Event("update-focus",{bubbles:!0}))}getContainerClasses(){return{disabled:this.disabled||this.softDisabled,"has-icon":this.hasIcon}}renderContainerContent(){return Ee`
      ${this.renderOutline()}
      <md-focus-ring part="focus-ring" for=${this.primaryId}></md-focus-ring>
      <md-ripple
        for=${this.primaryId}
        ?disabled=${this.rippleDisabled}></md-ripple>
      ${this.renderPrimaryAction(this.renderPrimaryContent())}
    `}renderOutline(){return Ee`<span class="outline"></span>`}renderLeadingIcon(){return Ee`<slot name="icon" @slotchange=${this.handleIconChange}></slot>`}renderPrimaryContent(){return Ee`
      <span class="leading icon" aria-hidden="true">
        ${this.renderLeadingIcon()}
      </span>
      <span class="label">
        <span class="label-text" id="label">
          ${this.label?this.label:Ee`<slot></slot>`}
        </span>
      </span>
      <span class="touch"></span>
    `}handleIconChange(e){const t=e.target;this.hasIcon=t.assignedElements({flatten:!0}).length>0}handleClick(e){if(this.softDisabled||this.disabled&&this.alwaysFocusable){e.stopImmediatePropagation(),e.preventDefault();return}}}Io.shadowRootOptions={...Dt.shadowRootOptions,delegatesFocus:!0};$([re({type:Boolean,reflect:!0})],Io.prototype,"disabled",void 0);$([re({type:Boolean,attribute:"soft-disabled",reflect:!0})],Io.prototype,"softDisabled",void 0);$([re({type:Boolean,attribute:"always-focusable"})],Io.prototype,"alwaysFocusable",void 0);$([re()],Io.prototype,"label",void 0);$([re({type:Boolean,reflect:!0,attribute:"has-icon"})],Io.prototype,"hasIcon",void 0);class iN extends Dt{get chips(){return this.childElements.filter(e=>e instanceof Io)}constructor(){super(),this.internals=this.attachInternals(),this.addEventListener("focusin",this.updateTabIndices.bind(this)),this.addEventListener("update-focus",this.updateTabIndices.bind(this)),this.addEventListener("keydown",this.handleKeyDown.bind(this)),this.internals.role="toolbar"}render(){return Ee`<slot @slotchange=${this.updateTabIndices}></slot>`}handleKeyDown(e){const t=e.key==="ArrowLeft",r=e.key==="ArrowRight",a=e.key==="Home",o=e.key==="End";if(!t&&!r&&!a&&!o)return;const{chips:c}=this;if(c.length<2)return;if(e.preventDefault(),a||o){const E=a?0:c.length-1;c[E].focus({trailing:o}),this.updateTabIndices();return}const f=getComputedStyle(this).direction==="rtl"?t:r,m=c.find(E=>E.matches(":focus-within"));if(!m){(f?c[0]:c[c.length-1]).focus({trailing:!f}),this.updateTabIndices();return}const v=c.indexOf(m);let y=f?v+1:v-1;for(;y!==v;){y>=c.length?y=0:y<0&&(y=c.length-1);const E=c[y];if(E.disabled&&!E.alwaysFocusable){f?y++:y--;continue}E.focus({trailing:!f}),this.updateTabIndices();break}}updateTabIndices(){const{chips:e}=this;let t;for(const r of e){const a=r.alwaysFocusable||!r.disabled;if(r.matches(":focus-within")&&a){t=r;continue}a&&!t&&(t=r),r.tabIndex=-1}t&&(t.tabIndex=0)}}$([pa()],iN.prototype,"childElements",void 0);const fj=ft`:host{display:flex;flex-wrap:wrap;gap:8px}
`;let S_=class extends iN{};S_.styles=[fj];S_=$([en("md-chip-set")],S_);const pj=ft`.elevated{--md-elevation-level: var(--_elevated-container-elevation);--md-elevation-shadow-color: var(--_elevated-container-shadow-color)}.elevated::before{background:var(--_elevated-container-color)}.elevated:hover{--md-elevation-level: var(--_elevated-hover-container-elevation)}.elevated:focus-within{--md-elevation-level: var(--_elevated-focus-container-elevation)}.elevated:active{--md-elevation-level: var(--_elevated-pressed-container-elevation)}.elevated.disabled{--md-elevation-level: var(--_elevated-disabled-container-elevation)}.elevated.disabled::before{background:var(--_elevated-disabled-container-color);opacity:var(--_elevated-disabled-container-opacity)}@media(forced-colors: active){.elevated md-elevation{border:1px solid CanvasText}.elevated.disabled md-elevation{border-color:GrayText}}
`;const Ap="aria-label-remove";class mj extends Io{get ariaLabelRemove(){if(this.hasAttribute(Ap))return this.getAttribute(Ap);const{ariaLabel:e}=this;return e||this.label?`Remove ${e||this.label}`:null}set ariaLabelRemove(e){const t=this.ariaLabelRemove;e!==t&&(e===null?this.removeAttribute(Ap):this.setAttribute(Ap,e),this.requestUpdate())}constructor(){super(),this.handleTrailingActionFocus=this.handleTrailingActionFocus.bind(this),this.addEventListener("keydown",this.handleKeyDown.bind(this))}focus(e){if((this.alwaysFocusable||!this.disabled)&&e?.trailing&&this.trailingAction){this.trailingAction.focus(e);return}super.focus(e)}renderContainerContent(){return Ee`
      ${super.renderContainerContent()}
      ${this.renderTrailingAction(this.handleTrailingActionFocus)}
    `}handleKeyDown(e){const t=e.key==="ArrowLeft",r=e.key==="ArrowRight";if(!t&&!r||!this.primaryAction||!this.trailingAction)return;const o=getComputedStyle(this).direction==="rtl"?t:r,c=this.primaryAction?.matches(":focus-within"),d=this.trailingAction?.matches(":focus-within");if(o&&d||!o&&c)return;e.preventDefault(),e.stopPropagation(),(o?this.trailingAction:this.primaryAction).focus()}handleTrailingActionFocus(){const{primaryAction:e,trailingAction:t}=this;!e||!t||(e.tabIndex=-1,t.addEventListener("focusout",()=>{e.tabIndex=0},{once:!0}))}}function gj({ariaLabel:n,disabled:e,focusListener:t,tabbable:r=!1}){return Ee`
    <span id="remove-label" hidden aria-hidden="true">Remove</span>
    <button
      class="trailing action"
      aria-label=${n||fe}
      aria-labelledby=${n?fe:"remove-label label"}
      tabindex=${r?fe:-1}
      @click=${vj}
      @focus=${t}>
      <md-focus-ring part="trailing-focus-ring"></md-focus-ring>
      <md-ripple ?disabled=${e}></md-ripple>
      <span class="trailing icon" aria-hidden="true">
        <slot name="remove-trailing-icon">
          <svg viewBox="0 96 960 960">
            <path
              d="m249 849-42-42 231-231-231-231 42-42 231 231 231-231 42 42-231 231 231 231-42 42-231-231-231 231Z" />
          </svg>
        </slot>
      </span>
      <span class="touch"></span>
    </button>
  `}function vj(n){this.disabled||this.softDisabled||(n.stopPropagation(),!this.dispatchEvent(new Event("remove",{cancelable:!0})))||this.remove()}class $l extends mj{constructor(){super(...arguments),this.elevated=!1,this.removable=!1,this.selected=!1,this.hasSelectedIcon=!1}get primaryId(){return"button"}getContainerClasses(){return{...super.getContainerClasses(),elevated:this.elevated,selected:this.selected,"has-trailing":this.removable,"has-icon":this.hasIcon||this.selected}}renderPrimaryAction(e){const{ariaLabel:t}=this;return Ee`
      <button
        class="primary action"
        id="button"
        aria-label=${t||fe}
        aria-pressed=${this.selected}
        aria-disabled=${this.softDisabled||fe}
        ?disabled=${this.disabled&&!this.alwaysFocusable}
        @click=${this.handleClickOnChild}
        >${e}</button
      >
    `}renderLeadingIcon(){return this.selected?Ee`
      <slot name="selected-icon">
        <svg class="checkmark" viewBox="0 0 18 18" aria-hidden="true">
          <path
            d="M6.75012 12.1274L3.62262 8.99988L2.55762 10.0574L6.75012 14.2499L15.7501 5.24988L14.6926 4.19238L6.75012 12.1274Z" />
        </svg>
      </slot>
    `:super.renderLeadingIcon()}renderTrailingAction(e){return this.removable?gj({focusListener:e,ariaLabel:this.ariaLabelRemove,disabled:this.disabled||this.softDisabled}):fe}renderOutline(){return this.elevated?Ee`<md-elevation part="elevation"></md-elevation>`:super.renderOutline()}handleClickOnChild(e){if(this.disabled||this.softDisabled)return;const t=this.selected;if(this.selected=!this.selected,!Cg(this,e)){this.selected=t;return}}}$([re({type:Boolean})],$l.prototype,"elevated",void 0);$([re({type:Boolean})],$l.prototype,"removable",void 0);$([re({type:Boolean,reflect:!0})],$l.prototype,"selected",void 0);$([re({type:Boolean,reflect:!0,attribute:"has-selected-icon"})],$l.prototype,"hasSelectedIcon",void 0);$([jt(".primary.action")],$l.prototype,"primaryAction",void 0);$([jt(".trailing.action")],$l.prototype,"trailingAction",void 0);const yj=ft`:host{--_container-height: var(--md-filter-chip-container-height, 32px);--_disabled-label-text-color: var(--md-filter-chip-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-label-text-opacity: var(--md-filter-chip-disabled-label-text-opacity, 0.38);--_elevated-container-elevation: var(--md-filter-chip-elevated-container-elevation, 1);--_elevated-container-shadow-color: var(--md-filter-chip-elevated-container-shadow-color, var(--md-sys-color-shadow, #000));--_elevated-disabled-container-color: var(--md-filter-chip-elevated-disabled-container-color, var(--md-sys-color-on-surface, #1d1b20));--_elevated-disabled-container-elevation: var(--md-filter-chip-elevated-disabled-container-elevation, 0);--_elevated-disabled-container-opacity: var(--md-filter-chip-elevated-disabled-container-opacity, 0.12);--_elevated-focus-container-elevation: var(--md-filter-chip-elevated-focus-container-elevation, 1);--_elevated-hover-container-elevation: var(--md-filter-chip-elevated-hover-container-elevation, 2);--_elevated-pressed-container-elevation: var(--md-filter-chip-elevated-pressed-container-elevation, 1);--_elevated-selected-container-color: var(--md-filter-chip-elevated-selected-container-color, var(--md-sys-color-secondary-container, #e8def8));--_label-text-font: var(--md-filter-chip-label-text-font, var(--md-sys-typescale-label-large-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-line-height: var(--md-filter-chip-label-text-line-height, var(--md-sys-typescale-label-large-line-height, 1.25rem));--_label-text-size: var(--md-filter-chip-label-text-size, var(--md-sys-typescale-label-large-size, 0.875rem));--_label-text-weight: var(--md-filter-chip-label-text-weight, var(--md-sys-typescale-label-large-weight, var(--md-ref-typeface-weight-medium, 500)));--_selected-focus-label-text-color: var(--md-filter-chip-selected-focus-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-hover-label-text-color: var(--md-filter-chip-selected-hover-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-hover-state-layer-color: var(--md-filter-chip-selected-hover-state-layer-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-hover-state-layer-opacity: var(--md-filter-chip-selected-hover-state-layer-opacity, 0.08);--_selected-label-text-color: var(--md-filter-chip-selected-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-pressed-label-text-color: var(--md-filter-chip-selected-pressed-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-pressed-state-layer-color: var(--md-filter-chip-selected-pressed-state-layer-color, var(--md-sys-color-on-surface-variant, #49454f));--_selected-pressed-state-layer-opacity: var(--md-filter-chip-selected-pressed-state-layer-opacity, 0.12);--_elevated-container-color: var(--md-filter-chip-elevated-container-color, var(--md-sys-color-surface-container-low, #f7f2fa));--_disabled-outline-color: var(--md-filter-chip-disabled-outline-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-outline-opacity: var(--md-filter-chip-disabled-outline-opacity, 0.12);--_disabled-selected-container-color: var(--md-filter-chip-disabled-selected-container-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-selected-container-opacity: var(--md-filter-chip-disabled-selected-container-opacity, 0.12);--_focus-outline-color: var(--md-filter-chip-focus-outline-color, var(--md-sys-color-on-surface-variant, #49454f));--_outline-color: var(--md-filter-chip-outline-color, var(--md-sys-color-outline, #79747e));--_outline-width: var(--md-filter-chip-outline-width, 1px);--_selected-container-color: var(--md-filter-chip-selected-container-color, var(--md-sys-color-secondary-container, #e8def8));--_selected-outline-width: var(--md-filter-chip-selected-outline-width, 0px);--_focus-label-text-color: var(--md-filter-chip-focus-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-label-text-color: var(--md-filter-chip-hover-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-state-layer-color: var(--md-filter-chip-hover-state-layer-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-state-layer-opacity: var(--md-filter-chip-hover-state-layer-opacity, 0.08);--_label-text-color: var(--md-filter-chip-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_pressed-label-text-color: var(--md-filter-chip-pressed-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_pressed-state-layer-color: var(--md-filter-chip-pressed-state-layer-color, var(--md-sys-color-on-secondary-container, #1d192b));--_pressed-state-layer-opacity: var(--md-filter-chip-pressed-state-layer-opacity, 0.12);--_icon-size: var(--md-filter-chip-icon-size, 18px);--_disabled-leading-icon-color: var(--md-filter-chip-disabled-leading-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-leading-icon-opacity: var(--md-filter-chip-disabled-leading-icon-opacity, 0.38);--_selected-focus-leading-icon-color: var(--md-filter-chip-selected-focus-leading-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-hover-leading-icon-color: var(--md-filter-chip-selected-hover-leading-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-leading-icon-color: var(--md-filter-chip-selected-leading-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-pressed-leading-icon-color: var(--md-filter-chip-selected-pressed-leading-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_focus-leading-icon-color: var(--md-filter-chip-focus-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_hover-leading-icon-color: var(--md-filter-chip-hover-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_leading-icon-color: var(--md-filter-chip-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_pressed-leading-icon-color: var(--md-filter-chip-pressed-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_disabled-trailing-icon-color: var(--md-filter-chip-disabled-trailing-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-trailing-icon-opacity: var(--md-filter-chip-disabled-trailing-icon-opacity, 0.38);--_selected-focus-trailing-icon-color: var(--md-filter-chip-selected-focus-trailing-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-hover-trailing-icon-color: var(--md-filter-chip-selected-hover-trailing-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-pressed-trailing-icon-color: var(--md-filter-chip-selected-pressed-trailing-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-trailing-icon-color: var(--md-filter-chip-selected-trailing-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_focus-trailing-icon-color: var(--md-filter-chip-focus-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-trailing-icon-color: var(--md-filter-chip-hover-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_pressed-trailing-icon-color: var(--md-filter-chip-pressed-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_trailing-icon-color: var(--md-filter-chip-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_container-shape-start-start: var(--md-filter-chip-container-shape-start-start, var(--md-filter-chip-container-shape, var(--md-sys-shape-corner-small, 8px)));--_container-shape-start-end: var(--md-filter-chip-container-shape-start-end, var(--md-filter-chip-container-shape, var(--md-sys-shape-corner-small, 8px)));--_container-shape-end-end: var(--md-filter-chip-container-shape-end-end, var(--md-filter-chip-container-shape, var(--md-sys-shape-corner-small, 8px)));--_container-shape-end-start: var(--md-filter-chip-container-shape-end-start, var(--md-filter-chip-container-shape, var(--md-sys-shape-corner-small, 8px)));--_leading-space: var(--md-filter-chip-leading-space, 16px);--_trailing-space: var(--md-filter-chip-trailing-space, 16px);--_icon-label-space: var(--md-filter-chip-icon-label-space, 8px);--_with-leading-icon-leading-space: var(--md-filter-chip-with-leading-icon-leading-space, 8px);--_with-trailing-icon-trailing-space: var(--md-filter-chip-with-trailing-icon-trailing-space, 8px)}.selected.elevated::before{background:var(--_elevated-selected-container-color)}.checkmark{height:var(--_icon-size);width:var(--_icon-size)}.disabled .checkmark{opacity:var(--_disabled-leading-icon-opacity)}@media(forced-colors: active){.disabled .checkmark{opacity:1}}
`;const bj=ft`.selected{--md-ripple-hover-color: var(--_selected-hover-state-layer-color);--md-ripple-hover-opacity: var(--_selected-hover-state-layer-opacity);--md-ripple-pressed-color: var(--_selected-pressed-state-layer-color);--md-ripple-pressed-opacity: var(--_selected-pressed-state-layer-opacity)}:where(.selected)::before{background:var(--_selected-container-color)}:where(.selected) .outline{border-width:var(--_selected-outline-width)}:where(.selected.disabled)::before{background:var(--_disabled-selected-container-color);opacity:var(--_disabled-selected-container-opacity)}:where(.selected) .label{color:var(--_selected-label-text-color)}:where(.selected:hover) .label{color:var(--_selected-hover-label-text-color)}:where(.selected:focus) .label{color:var(--_selected-focus-label-text-color)}:where(.selected:active) .label{color:var(--_selected-pressed-label-text-color)}:where(.selected) .leading.icon{color:var(--_selected-leading-icon-color)}:where(.selected:hover) .leading.icon{color:var(--_selected-hover-leading-icon-color)}:where(.selected:focus) .leading.icon{color:var(--_selected-focus-leading-icon-color)}:where(.selected:active) .leading.icon{color:var(--_selected-pressed-leading-icon-color)}@media(forced-colors: active){:where(.selected:not(.elevated))::before{border:1px solid CanvasText}:where(.selected) .outline{border-width:1px}}
`;const _j=ft`:host{border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-start-radius:var(--_container-shape-end-start);border-end-end-radius:var(--_container-shape-end-end);display:inline-flex;height:var(--_container-height);cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);--md-ripple-hover-color: var(--_hover-state-layer-color);--md-ripple-hover-opacity: var(--_hover-state-layer-opacity);--md-ripple-pressed-color: var(--_pressed-state-layer-color);--md-ripple-pressed-opacity: var(--_pressed-state-layer-opacity)}:host(:is([disabled],[soft-disabled])){pointer-events:none}:host([touch-target=wrapper]){margin:max(0px,(48px - var(--_container-height))/2) 0}md-focus-ring{--md-focus-ring-shape-start-start: var(--_container-shape-start-start);--md-focus-ring-shape-start-end: var(--_container-shape-start-end);--md-focus-ring-shape-end-end: var(--_container-shape-end-end);--md-focus-ring-shape-end-start: var(--_container-shape-end-start)}.container{border-radius:inherit;box-sizing:border-box;display:flex;height:100%;position:relative;width:100%}.container::before{border-radius:inherit;content:"";inset:0;pointer-events:none;position:absolute}.container:not(.disabled){cursor:pointer}.container.disabled{pointer-events:none}.cell{display:flex}.action{align-items:baseline;appearance:none;background:none;border:none;border-radius:inherit;display:flex;outline:none;padding:0;position:relative;text-decoration:none}.primary.action{min-width:0;padding-inline-start:var(--_leading-space);padding-inline-end:var(--_trailing-space)}.has-icon .primary.action{padding-inline-start:var(--_with-leading-icon-leading-space)}.touch{height:48px;inset:50% 0 0;position:absolute;transform:translateY(-50%);width:100%}:host([touch-target=none]) .touch{display:none}.outline{border:var(--_outline-width) solid var(--_outline-color);border-radius:inherit;inset:0;pointer-events:none;position:absolute}:where(:focus) .outline{border-color:var(--_focus-outline-color)}:where(.disabled) .outline{border-color:var(--_disabled-outline-color);opacity:var(--_disabled-outline-opacity)}md-ripple{border-radius:inherit}.label,.icon,.touch{z-index:1}.label{align-items:center;color:var(--_label-text-color);display:flex;font-family:var(--_label-text-font);font-size:var(--_label-text-size);font-weight:var(--_label-text-weight);height:100%;line-height:var(--_label-text-line-height);overflow:hidden;user-select:none}.label-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(:hover) .label{color:var(--_hover-label-text-color)}:where(:focus) .label{color:var(--_focus-label-text-color)}:where(:active) .label{color:var(--_pressed-label-text-color)}:where(.disabled) .label{color:var(--_disabled-label-text-color);opacity:var(--_disabled-label-text-opacity)}.icon{align-self:center;display:flex;fill:currentColor;position:relative}.icon ::slotted(:first-child){font-size:var(--_icon-size);height:var(--_icon-size);width:var(--_icon-size)}.leading.icon{color:var(--_leading-icon-color)}.leading.icon ::slotted(*),.leading.icon svg{margin-inline-end:var(--_icon-label-space)}:where(:hover) .leading.icon{color:var(--_hover-leading-icon-color)}:where(:focus) .leading.icon{color:var(--_focus-leading-icon-color)}:where(:active) .leading.icon{color:var(--_pressed-leading-icon-color)}:where(.disabled) .leading.icon{color:var(--_disabled-leading-icon-color);opacity:var(--_disabled-leading-icon-opacity)}@media(forced-colors: active){:where(.disabled) :is(.label,.outline,.leading.icon){color:GrayText;opacity:1}}a,button{text-transform:inherit}a,button:not(:disabled,[aria-disabled=true]){cursor:inherit}
`;const wj=ft`.trailing.action{align-items:center;justify-content:center;padding-inline-start:var(--_icon-label-space);padding-inline-end:var(--_with-trailing-icon-trailing-space)}.trailing.action :is(md-ripple,md-focus-ring){border-radius:50%;height:calc(1.3333333333*var(--_icon-size));width:calc(1.3333333333*var(--_icon-size))}.trailing.action md-focus-ring{inset:unset}.has-trailing .primary.action{padding-inline-end:0}.trailing.icon{color:var(--_trailing-icon-color);height:var(--_icon-size);width:var(--_icon-size)}:where(:hover) .trailing.icon{color:var(--_hover-trailing-icon-color)}:where(:focus) .trailing.icon{color:var(--_focus-trailing-icon-color)}:where(:active) .trailing.icon{color:var(--_pressed-trailing-icon-color)}:where(.disabled) .trailing.icon{color:var(--_disabled-trailing-icon-color);opacity:var(--_disabled-trailing-icon-opacity)}:where(.selected) .trailing.icon{color:var(--_selected-trailing-icon-color)}:where(.selected:hover) .trailing.icon{color:var(--_selected-hover-trailing-icon-color)}:where(.selected:focus) .trailing.icon{color:var(--_selected-focus-trailing-icon-color)}:where(.selected:active) .trailing.icon{color:var(--_selected-pressed-trailing-icon-color)}@media(forced-colors: active){.trailing.icon{color:ButtonText}:where(.disabled) .trailing.icon{color:GrayText;opacity:1}}
`;let A_=class extends $l{};A_.styles=[_j,pj,wj,bj,yj];A_=$([en("md-filter-chip")],A_);const Ip=Symbol("isFocusable"),hb=Symbol("privateIsFocusable"),Cp=Symbol("externalTabIndex"),Rp=Symbol("isUpdatingTabIndex"),Dp=Symbol("updateTabIndex");function Ej(n){var e,t,r;class a extends n{constructor(){super(...arguments),this[e]=!0,this[t]=null,this[r]=!1}get[Ip](){return this[hb]}set[Ip](c){this[Ip]!==c&&(this[hb]=c,this[Dp]())}connectedCallback(){super.connectedCallback(),this[Dp]()}attributeChangedCallback(c,d,f){if(c!=="tabindex"){super.attributeChangedCallback(c,d,f);return}if(this.requestUpdate("tabIndex",Number(d??-1)),!this[Rp]){if(!this.hasAttribute("tabindex")){this[Cp]=null,this[Dp]();return}this[Cp]=this.tabIndex}}[(e=hb,t=Cp,r=Rp,Dp)](){const c=this[Ip]?0:-1,d=this[Cp]??c;this[Rp]=!0,this.tabIndex=d,this[Rp]=!1}}return $([re({noAccessor:!0})],a.prototype,"tabIndex",void 0),a}class xj extends Sw{computeValidity(e){this.radioElement||(this.radioElement=document.createElement("input"),this.radioElement.type="radio",this.radioElement.name="group");let t=!1,r=!1;for(const{checked:a,required:o}of e)o&&(t=!0),a&&(r=!0);return this.radioElement.checked=r,this.radioElement.required=t,{validity:{valueMissing:t&&!r},validationMessage:this.radioElement.validationMessage}}equals(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const a=e[r],o=t[r];if(a.checked!==o.checked||a.required!==o.required)return!1}return!0}copy(e){return e.map(({checked:t,required:r})=>({checked:t,required:r}))}}class Tj{get controls(){const e=this.host.getAttribute("name");return!e||!this.root||!this.host.isConnected?[this.host]:Array.from(this.root.querySelectorAll(`[name="${e}"]`))}constructor(e){this.host=e,this.focused=!1,this.root=null,this.handleFocusIn=()=>{this.focused=!0,this.updateTabIndices()},this.handleFocusOut=()=>{this.focused=!1,this.updateTabIndices()},this.handleKeyDown=t=>{const r=t.key==="ArrowDown",a=t.key==="ArrowUp",o=t.key==="ArrowLeft",c=t.key==="ArrowRight";if(!o&&!c&&!r&&!a)return;const d=this.controls;if(!d.length)return;t.preventDefault();const m=getComputedStyle(this.host).direction==="rtl"?o||r:c||r,v=d.indexOf(this.host);let y=m?v+1:v-1;for(;y!==v;){y>=d.length?y=0:y<0&&(y=d.length-1);const E=d[y];if(E.hasAttribute("disabled")){m?y++:y--;continue}for(const I of d)I!==E&&(I.checked=!1,I.tabIndex=-1,I.blur());E.checked=!0,E.tabIndex=0,E.focus(),E.dispatchEvent(new Event("change",{bubbles:!0}));break}}}hostConnected(){this.host.addEventListener("keydown",this.handleKeyDown),this.host.addEventListener("focusin",this.handleFocusIn),this.host.addEventListener("focusout",this.handleFocusOut),queueMicrotask(()=>{this.root=this.host.getRootNode(),this.host.checked&&this.uncheckSiblings(),this.updateTabIndices()})}hostDisconnected(){this.host.removeEventListener("keydown",this.handleKeyDown),this.host.removeEventListener("focusin",this.handleFocusIn),this.host.removeEventListener("focusout",this.handleFocusOut),queueMicrotask(()=>{this.updateTabIndices(),this.root=null})}handleCheckedChange(){this.host.checked&&(this.uncheckSiblings(),this.updateTabIndices())}uncheckSiblings(){for(const e of this.controls)e!==this.host&&(e.checked=!1)}updateTabIndices(){const e=this.controls,t=e.find(r=>r.checked);if(t||this.focused){const r=t||this.host;r.tabIndex=0;for(const a of e)a!==r&&(a.tabIndex=-1);return}for(const r of e)r.tabIndex=0}}var QI;const fb=Symbol("checked");let Sj=0;const Aj=xw(Tw($h(Ej(Dt))));class qh extends Aj{get checked(){return this[fb]}set checked(e){const t=this.checked;t!==e&&(this[fb]=e,this.requestUpdate("checked",t),this.selectionController.handleCheckedChange())}constructor(){super(),this.maskId=`cutout${++Sj}`,this[QI]=!1,this.required=!1,this.value="on",this.selectionController=new Tj(this),this.addController(this.selectionController),this[er].role="radio",this.addEventListener("click",this.handleClick.bind(this)),this.addEventListener("keydown",this.handleKeydown.bind(this))}render(){const e={checked:this.checked};return Ee`
      <div class="container ${Ir(e)}" aria-hidden="true">
        <md-ripple
          part="ripple"
          .control=${this}
          ?disabled=${this.disabled}></md-ripple>
        <md-focus-ring part="focus-ring" .control=${this}></md-focus-ring>
        <svg class="icon" viewBox="0 0 20 20">
          <mask id="${this.maskId}">
            <rect width="100%" height="100%" fill="white" />
            <circle cx="10" cy="10" r="8" fill="black" />
          </mask>
          <circle
            class="outer circle"
            cx="10"
            cy="10"
            r="10"
            mask="url(#${this.maskId})" />
          <circle class="inner circle" cx="10" cy="10" r="5" />
        </svg>

        <div class="touch-target"></div>
      </div>
    `}updated(){this[er].ariaChecked=String(this.checked)}async handleClick(e){this.disabled||(await 0,!e.defaultPrevented&&(Ew(e)&&this.focus(),this.checked=!0,this.dispatchEvent(new Event("change",{bubbles:!0})),this.dispatchEvent(new InputEvent("input",{bubbles:!0,composed:!0}))))}async handleKeydown(e){await 0,!(e.key!==" "||e.defaultPrevented)&&this.click()}[(QI=fb,Kc)](){return this.checked?this.value:null}[km](){return String(this.checked)}formResetCallback(){this.checked=this.hasAttribute("checked")}formStateRestoreCallback(e){this.checked=e==="true"}[bh](){return new xj(()=>this.selectionController?this.selectionController.controls:[this])}[_h](){return this.container}}$([re({type:Boolean})],qh.prototype,"checked",null);$([re({type:Boolean})],qh.prototype,"required",void 0);$([re()],qh.prototype,"value",void 0);$([jt(".container")],qh.prototype,"container",void 0);const Ij=ft`@layer{:host{display:inline-flex;height:var(--md-radio-icon-size, 20px);outline:none;position:relative;vertical-align:top;width:var(--md-radio-icon-size, 20px);-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;--md-ripple-hover-color: var(--md-radio-hover-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--md-ripple-hover-opacity: var(--md-radio-hover-state-layer-opacity, 0.08);--md-ripple-pressed-color: var(--md-radio-pressed-state-layer-color, var(--md-sys-color-primary, #6750a4));--md-ripple-pressed-opacity: var(--md-radio-pressed-state-layer-opacity, 0.12)}:host([disabled]){cursor:default}:host([touch-target=wrapper]){margin:max(0px,(48px - var(--md-radio-icon-size, 20px))/2)}.container{display:flex;height:100%;place-content:center;place-items:center;width:100%}md-focus-ring{height:44px;inset:unset;width:44px}.checked{--md-ripple-hover-color: var(--md-radio-selected-hover-state-layer-color, var(--md-sys-color-primary, #6750a4));--md-ripple-hover-opacity: var(--md-radio-selected-hover-state-layer-opacity, 0.08);--md-ripple-pressed-color: var(--md-radio-selected-pressed-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--md-ripple-pressed-opacity: var(--md-radio-selected-pressed-state-layer-opacity, 0.12)}.touch-target{height:48px;position:absolute;width:48px}:host([touch-target=none]) .touch-target{display:none}md-ripple{border-radius:50%;height:var(--md-radio-state-layer-size, 40px);inset:unset;width:var(--md-radio-state-layer-size, 40px)}.icon{fill:var(--md-radio-icon-color, var(--md-sys-color-on-surface-variant, #49454f));inset:0;position:absolute}.outer.circle{transition:fill 50ms linear}.inner.circle{opacity:0;transform-origin:center;transition:opacity 50ms linear}.checked .icon{fill:var(--md-radio-selected-icon-color, var(--md-sys-color-primary, #6750a4))}.checked .inner.circle{animation:inner-circle-grow 300ms cubic-bezier(0.05, 0.7, 0.1, 1);opacity:1}@keyframes inner-circle-grow{from{transform:scale(0)}to{transform:scale(1)}}:host([disabled]) .circle{animation-duration:0s;transition-duration:0s}:host(:hover) .icon{fill:var(--md-radio-hover-icon-color, var(--md-sys-color-on-surface, #1d1b20))}:host(:focus-within) .icon{fill:var(--md-radio-focus-icon-color, var(--md-sys-color-on-surface, #1d1b20))}:host(:active) .icon{fill:var(--md-radio-pressed-icon-color, var(--md-sys-color-on-surface, #1d1b20))}:host([disabled]) .icon{fill:var(--md-radio-disabled-unselected-icon-color, var(--md-sys-color-on-surface, #1d1b20));opacity:var(--md-radio-disabled-unselected-icon-opacity, 0.38)}:host(:hover) .checked .icon{fill:var(--md-radio-selected-hover-icon-color, var(--md-sys-color-primary, #6750a4))}:host(:focus-within) .checked .icon{fill:var(--md-radio-selected-focus-icon-color, var(--md-sys-color-primary, #6750a4))}:host(:active) .checked .icon{fill:var(--md-radio-selected-pressed-icon-color, var(--md-sys-color-primary, #6750a4))}:host([disabled]) .checked .icon{fill:var(--md-radio-disabled-selected-icon-color, var(--md-sys-color-on-surface, #1d1b20));opacity:var(--md-radio-disabled-selected-icon-opacity, 0.38)}}@layer hcm{@media(forced-colors: active){.icon{fill:CanvasText}:host([disabled]) .icon{fill:GrayText;opacity:1}}}
`;let I_=class extends qh{};I_.styles=[Ij];I_=$([en("md-radio")],I_);class Rg extends Dt{constructor(){super(...arguments),this.inset=!1,this.insetStart=!1,this.insetEnd=!1}}$([re({type:Boolean,reflect:!0})],Rg.prototype,"inset",void 0);$([re({type:Boolean,reflect:!0,attribute:"inset-start"})],Rg.prototype,"insetStart",void 0);$([re({type:Boolean,reflect:!0,attribute:"inset-end"})],Rg.prototype,"insetEnd",void 0);const Cj=ft`:host{box-sizing:border-box;color:var(--md-divider-color, var(--md-sys-color-outline-variant, #cac4d0));display:flex;height:var(--md-divider-thickness, 1px);width:100%}:host([inset]),:host([inset-start]){padding-inline-start:16px}:host([inset]),:host([inset-end]){padding-inline-end:16px}:host::before{background:currentColor;content:"";height:100%;width:100%}@media(forced-colors: active){:host::before{background:CanvasText}}
`;let C_=class extends Rg{};C_.styles=[Cj];C_=$([en("md-divider")],C_);const Rj={dialog:[[[{transform:"translateY(-50px)"},{transform:"translateY(0)"}],{duration:500,easing:ms.EMPHASIZED}]],scrim:[[[{opacity:0},{opacity:.32}],{duration:500,easing:"linear"}]],container:[[[{opacity:0},{opacity:1}],{duration:50,easing:"linear",pseudoElement:"::before"}],[[{height:"35%"},{height:"100%"}],{duration:500,easing:ms.EMPHASIZED,pseudoElement:"::before"}]],headline:[[[{opacity:0},{opacity:0,offset:.2},{opacity:1}],{duration:250,easing:"linear",fill:"forwards"}]],content:[[[{opacity:0},{opacity:0,offset:.2},{opacity:1}],{duration:250,easing:"linear",fill:"forwards"}]],actions:[[[{opacity:0},{opacity:0,offset:.5},{opacity:1}],{duration:300,easing:"linear",fill:"forwards"}]]},Dj={dialog:[[[{transform:"translateY(0)"},{transform:"translateY(-50px)"}],{duration:150,easing:ms.EMPHASIZED_ACCELERATE}]],scrim:[[[{opacity:.32},{opacity:0}],{duration:150,easing:"linear"}]],container:[[[{height:"100%"},{height:"35%"}],{duration:150,easing:ms.EMPHASIZED_ACCELERATE,pseudoElement:"::before"}],[[{opacity:"1"},{opacity:"0"}],{delay:100,duration:50,easing:"linear",pseudoElement:"::before"}]],headline:[[[{opacity:1},{opacity:0}],{duration:100,easing:"linear",fill:"forwards"}]],content:[[[{opacity:1},{opacity:0}],{duration:100,easing:"linear",fill:"forwards"}]],actions:[[[{opacity:1},{opacity:0}],{duration:100,easing:"linear",fill:"forwards"}]]};const Nj=ma(Dt);class vn extends Nj{get open(){return this.isOpen}set open(e){e!==this.isOpen&&(this.isOpen=e,e?(this.setAttribute("open",""),this.show()):(this.removeAttribute("open"),this.close()))}constructor(){super(),this.quick=!1,this.returnValue="",this.noFocusTrap=!1,this.getOpenAnimation=()=>Rj,this.getCloseAnimation=()=>Dj,this.isOpen=!1,this.isOpening=!1,this.isConnectedPromise=this.getIsConnectedPromise(),this.isAtScrollTop=!1,this.isAtScrollBottom=!1,this.nextClickIsFromContent=!1,this.hasHeadline=!1,this.hasActions=!1,this.hasIcon=!1,this.escapePressedWithoutCancel=!1,this.treewalker=document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT),this.addEventListener("submit",this.handleSubmit)}async show(){this.isOpening=!0,await this.isConnectedPromise,await this.updateComplete;const e=this.dialog;if(e.open||!this.isOpening){this.isOpening=!1;return}if(!this.dispatchEvent(new Event("open",{cancelable:!0}))){this.open=!1,this.isOpening=!1;return}e.showModal(),this.open=!0,this.scroller&&(this.scroller.scrollTop=0),this.querySelector("[autofocus]")?.focus(),await this.animateDialog(this.getOpenAnimation()),this.dispatchEvent(new Event("opened")),this.isOpening=!1}async close(e=this.returnValue){if(this.isOpening=!1,!this.isConnected){this.open=!1;return}await this.updateComplete;const t=this.dialog;if(!t.open||this.isOpening){this.open=!1;return}const r=this.returnValue;if(this.returnValue=e,!this.dispatchEvent(new Event("close",{cancelable:!0}))){this.returnValue=r;return}await this.animateDialog(this.getCloseAnimation()),t.close(e),this.open=!1,this.dispatchEvent(new Event("closed"))}connectedCallback(){super.connectedCallback(),this.isConnectedPromiseResolve()}disconnectedCallback(){super.disconnectedCallback(),this.isConnectedPromise=this.getIsConnectedPromise()}render(){const e=this.open&&!(this.isAtScrollTop&&this.isAtScrollBottom),t={"has-headline":this.hasHeadline,"has-actions":this.hasActions,"has-icon":this.hasIcon,scrollable:e,"show-top-divider":e&&!this.isAtScrollTop,"show-bottom-divider":e&&!this.isAtScrollBottom},r=this.open&&!this.noFocusTrap,a=Ee`
      <div
        class="focus-trap"
        tabindex="0"
        aria-hidden="true"
        @focus=${this.handleFocusTrapFocus}></div>
    `,{ariaLabel:o}=this;return Ee`
      <div class="scrim"></div>
      <dialog
        class=${Ir(t)}
        aria-label=${o||fe}
        aria-labelledby=${this.hasHeadline?"headline":fe}
        role=${this.type==="alert"?"alertdialog":fe}
        @cancel=${this.handleCancel}
        @click=${this.handleDialogClick}
        @close=${this.handleClose}
        @keydown=${this.handleKeydown}
        .returnValue=${this.returnValue||fe}>
        ${r?a:fe}
        <div class="container" @click=${this.handleContentClick}>
          <div class="headline">
            <div class="icon" aria-hidden="true">
              <slot name="icon" @slotchange=${this.handleIconChange}></slot>
            </div>
            <h2 id="headline" aria-hidden=${!this.hasHeadline||fe}>
              <slot
                name="headline"
                @slotchange=${this.handleHeadlineChange}></slot>
            </h2>
            <md-divider></md-divider>
          </div>
          <div class="scroller">
            <div class="content">
              <div class="top anchor"></div>
              <slot name="content"></slot>
              <div class="bottom anchor"></div>
            </div>
          </div>
          <div class="actions">
            <md-divider></md-divider>
            <slot name="actions" @slotchange=${this.handleActionsChange}></slot>
          </div>
        </div>
        ${r?a:fe}
      </dialog>
    `}firstUpdated(){this.intersectionObserver=new IntersectionObserver(e=>{for(const t of e)this.handleAnchorIntersection(t)},{root:this.scroller}),this.intersectionObserver.observe(this.topAnchor),this.intersectionObserver.observe(this.bottomAnchor)}handleDialogClick(){if(this.nextClickIsFromContent){this.nextClickIsFromContent=!1;return}this.dispatchEvent(new Event("cancel",{cancelable:!0}))&&this.close()}handleContentClick(){this.nextClickIsFromContent=!0}handleSubmit(e){const t=e.target,{submitter:r}=e;t.getAttribute("method")!=="dialog"||!r||this.close(r.getAttribute("value")??this.returnValue)}handleCancel(e){if(e.target!==this.dialog)return;this.escapePressedWithoutCancel=!1;const t=!Cg(this,e);e.preventDefault(),!t&&this.close()}handleClose(){this.escapePressedWithoutCancel&&(this.escapePressedWithoutCancel=!1,this.dialog?.dispatchEvent(new Event("cancel",{cancelable:!0})))}handleKeydown(e){e.key==="Escape"&&(this.escapePressedWithoutCancel=!0,setTimeout(()=>{this.escapePressedWithoutCancel=!1}))}async animateDialog(e){if(this.cancelAnimations?.abort(),this.cancelAnimations=new AbortController,this.quick)return;const{dialog:t,scrim:r,container:a,headline:o,content:c,actions:d}=this;if(!t||!r||!a||!o||!c||!d)return;const{container:f,dialog:m,scrim:v,headline:y,content:E,actions:I}=e,U=[[t,m??[]],[r,v??[]],[a,f??[]],[o,y??[]],[c,E??[]],[d,I??[]]],k=[];for(const[V,K]of U)for(const F of K){const G=V.animate(...F);this.cancelAnimations.signal.addEventListener("abort",()=>{G.cancel()}),k.push(G)}await Promise.all(k.map(V=>V.finished.catch(()=>{})))}handleHeadlineChange(e){const t=e.target;this.hasHeadline=t.assignedElements().length>0}handleActionsChange(e){const t=e.target;this.hasActions=t.assignedElements().length>0}handleIconChange(e){const t=e.target;this.hasIcon=t.assignedElements().length>0}handleAnchorIntersection(e){const{target:t,isIntersecting:r}=e;t===this.topAnchor&&(this.isAtScrollTop=r),t===this.bottomAnchor&&(this.isAtScrollBottom=r)}getIsConnectedPromise(){return new Promise(e=>{this.isConnectedPromiseResolve=e})}handleFocusTrapFocus(e){const[t,r]=this.getFirstAndLastFocusableChildren();if(!t||!r){this.dialog?.focus();return}const a=e.target===this.firstFocusTrap,o=!a,c=e.relatedTarget===t,d=e.relatedTarget===r,f=!c&&!d;if(o&&d||a&&f){t.focus();return}if(a&&c||o&&f){r.focus();return}}getFirstAndLastFocusableChildren(){if(!this.treewalker)return[null,null];let e=null,t=null;for(this.treewalker.currentNode=this.treewalker.root;this.treewalker.nextNode();){const r=this.treewalker.currentNode;kj(r)&&(e||(e=r),t=r)}return[e,t]}}$([re({type:Boolean})],vn.prototype,"open",null);$([re({type:Boolean})],vn.prototype,"quick",void 0);$([re({attribute:!1})],vn.prototype,"returnValue",void 0);$([re()],vn.prototype,"type",void 0);$([re({type:Boolean,attribute:"no-focus-trap"})],vn.prototype,"noFocusTrap",void 0);$([jt("dialog")],vn.prototype,"dialog",void 0);$([jt(".scrim")],vn.prototype,"scrim",void 0);$([jt(".container")],vn.prototype,"container",void 0);$([jt(".headline")],vn.prototype,"headline",void 0);$([jt(".content")],vn.prototype,"content",void 0);$([jt(".actions")],vn.prototype,"actions",void 0);$([hr()],vn.prototype,"isAtScrollTop",void 0);$([hr()],vn.prototype,"isAtScrollBottom",void 0);$([jt(".scroller")],vn.prototype,"scroller",void 0);$([jt(".top.anchor")],vn.prototype,"topAnchor",void 0);$([jt(".bottom.anchor")],vn.prototype,"bottomAnchor",void 0);$([jt(".focus-trap")],vn.prototype,"firstFocusTrap",void 0);$([hr()],vn.prototype,"hasHeadline",void 0);$([hr()],vn.prototype,"hasActions",void 0);$([hr()],vn.prototype,"hasIcon",void 0);function kj(n){const e=":is(button,input,select,textarea,object,:is(a,area)[href],[tabindex],[contenteditable=true])",t=":not(:disabled,[disabled])";return n.matches(e+t+':not([tabindex^="-"])')?!0:!n.localName.includes("-")||!n.matches(t)?!1:n.shadowRoot?.delegatesFocus??!1}const Oj=ft`:host{border-start-start-radius:var(--md-dialog-container-shape-start-start, var(--md-dialog-container-shape, var(--md-sys-shape-corner-extra-large, 28px)));border-start-end-radius:var(--md-dialog-container-shape-start-end, var(--md-dialog-container-shape, var(--md-sys-shape-corner-extra-large, 28px)));border-end-end-radius:var(--md-dialog-container-shape-end-end, var(--md-dialog-container-shape, var(--md-sys-shape-corner-extra-large, 28px)));border-end-start-radius:var(--md-dialog-container-shape-end-start, var(--md-dialog-container-shape, var(--md-sys-shape-corner-extra-large, 28px)));display:contents;margin:auto;max-height:min(560px,100% - 48px);max-width:min(560px,100% - 48px);min-height:140px;min-width:280px;position:fixed;height:fit-content;width:fit-content}dialog{background:rgba(0,0,0,0);border:none;border-radius:inherit;flex-direction:column;height:inherit;margin:inherit;max-height:inherit;max-width:inherit;min-height:inherit;min-width:inherit;outline:none;overflow:visible;padding:0;width:inherit}dialog[open]{display:flex}::backdrop{background:none}.scrim{background:var(--md-sys-color-scrim, #000);display:none;inset:0;opacity:32%;pointer-events:none;position:fixed;z-index:1}:host([open]) .scrim{display:flex}h2{all:unset;align-self:stretch}.headline{align-items:center;color:var(--md-dialog-headline-color, var(--md-sys-color-on-surface, #1d1b20));display:flex;flex-direction:column;font-family:var(--md-dialog-headline-font, var(--md-sys-typescale-headline-small-font, var(--md-ref-typeface-brand, Roboto)));font-size:var(--md-dialog-headline-size, var(--md-sys-typescale-headline-small-size, 1.5rem));line-height:var(--md-dialog-headline-line-height, var(--md-sys-typescale-headline-small-line-height, 2rem));font-weight:var(--md-dialog-headline-weight, var(--md-sys-typescale-headline-small-weight, var(--md-ref-typeface-weight-regular, 400)));position:relative}slot[name=headline]::slotted(*){align-items:center;align-self:stretch;box-sizing:border-box;display:flex;gap:8px;padding:24px 24px 0}.icon{display:flex}slot[name=icon]::slotted(*){color:var(--md-dialog-icon-color, var(--md-sys-color-secondary, #625b71));fill:currentColor;font-size:var(--md-dialog-icon-size, 24px);margin-top:24px;height:var(--md-dialog-icon-size, 24px);width:var(--md-dialog-icon-size, 24px)}.has-icon slot[name=headline]::slotted(*){justify-content:center;padding-top:16px}.scrollable slot[name=headline]::slotted(*){padding-bottom:16px}.scrollable.has-headline slot[name=content]::slotted(*){padding-top:8px}.container{border-radius:inherit;display:flex;flex-direction:column;flex-grow:1;overflow:hidden;position:relative;transform-origin:top}.container::before{background:var(--md-dialog-container-color, var(--md-sys-color-surface-container-high, #ece6f0));border-radius:inherit;content:"";inset:0;position:absolute}.scroller{display:flex;flex:1;flex-direction:column;overflow:hidden;z-index:1}.scrollable .scroller{overflow-y:scroll}.content{color:var(--md-dialog-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));font-family:var(--md-dialog-supporting-text-font, var(--md-sys-typescale-body-medium-font, var(--md-ref-typeface-plain, Roboto)));font-size:var(--md-dialog-supporting-text-size, var(--md-sys-typescale-body-medium-size, 0.875rem));line-height:var(--md-dialog-supporting-text-line-height, var(--md-sys-typescale-body-medium-line-height, 1.25rem));flex:1;font-weight:var(--md-dialog-supporting-text-weight, var(--md-sys-typescale-body-medium-weight, var(--md-ref-typeface-weight-regular, 400)));height:min-content;position:relative}slot[name=content]::slotted(*){box-sizing:border-box;padding:24px}.anchor{position:absolute}.top.anchor{top:0}.bottom.anchor{bottom:0}.actions{position:relative}slot[name=actions]::slotted(*){box-sizing:border-box;display:flex;gap:8px;justify-content:flex-end;padding:16px 24px 24px}.has-actions slot[name=content]::slotted(*){padding-bottom:8px}md-divider{display:none;position:absolute}.has-headline.show-top-divider .headline md-divider,.has-actions.show-bottom-divider .actions md-divider{display:flex}.headline md-divider{bottom:0}.actions md-divider{top:0}@media(forced-colors: active){dialog{outline:2px solid WindowText}}
`;let R_=class extends vn{};R_.styles=[Oj];R_=$([en("md-dialog")],R_);function WI(n,e=!0){return e&&getComputedStyle(n).getPropertyValue("direction").trim()==="rtl"}const Pj=ma($h(Dt));class fr extends Pj{get name(){return this.getAttribute("name")??""}set name(e){this.setAttribute("name",e)}get form(){return this[er].form}get labels(){return this[er].labels}constructor(){super(),this.disabled=!1,this.softDisabled=!1,this.flipIconInRtl=!1,this.href="",this.download="",this.target="",this.ariaLabelSelected="",this.toggle=!1,this.selected=!1,this.type="submit",this.value="",this.flipIcon=WI(this,this.flipIconInRtl),this.addEventListener("click",this.handleClick.bind(this))}willUpdate(){this.href&&(this.disabled=!1,this.softDisabled=!1)}render(){const e=this.href?bs`div`:bs`button`,{ariaLabel:t,ariaHasPopup:r,ariaExpanded:a}=this,o=t&&this.ariaLabelSelected,c=this.toggle?this.selected:fe;let d=fe;return this.href||(d=o&&this.selected?this.ariaLabelSelected:t),Ig`<${e}
        class="icon-button ${Ir(this.getRenderClasses())}"
        id="button"
        aria-label="${d||fe}"
        aria-haspopup="${!this.href&&r||fe}"
        aria-expanded="${!this.href&&a||fe}"
        aria-pressed="${c}"
        aria-disabled=${!this.href&&this.softDisabled||fe}
        ?disabled="${!this.href&&this.disabled}"
        @click="${this.handleClickOnChild}">
        ${this.renderFocusRing()}
        ${this.renderRipple()}
        ${this.selected?fe:this.renderIcon()}
        ${this.selected?this.renderSelectedIcon():fe}
        ${this.href?this.renderLink():this.renderTouchTarget()}
  </${e}>`}renderLink(){const{ariaLabel:e}=this;return Ee`
      <a
        class="link"
        id="link"
        href="${this.href}"
        download="${this.download||fe}"
        target="${this.target||fe}"
        aria-label="${e||fe}">
        ${this.renderTouchTarget()}
      </a>
    `}getRenderClasses(){return{"flip-icon":this.flipIcon,selected:this.toggle&&this.selected}}renderIcon(){return Ee`<span class="icon"><slot></slot></span>`}renderSelectedIcon(){return Ee`<span class="icon icon--selected"
      ><slot name="selected"><slot></slot></slot
    ></span>`}renderTouchTarget(){return Ee`<span class="touch"></span>`}renderFocusRing(){return Ee`<md-focus-ring
      part="focus-ring"
      for=${this.href?"link":"button"}></md-focus-ring>`}renderRipple(){const e=!this.href&&(this.disabled||this.softDisabled);return Ee`<md-ripple
      for=${this.href?"link":fe}
      ?disabled="${e}"></md-ripple>`}connectedCallback(){this.flipIcon=WI(this,this.flipIconInRtl),super.connectedCallback()}handleClick(e){if(!this.href&&this.softDisabled){e.stopImmediatePropagation(),e.preventDefault();return}}async handleClickOnChild(e){await 0,!(!this.toggle||this.disabled||this.softDisabled||e.defaultPrevented)&&(this.selected=!this.selected,this.dispatchEvent(new InputEvent("input",{bubbles:!0,composed:!0})),this.dispatchEvent(new Event("change",{bubbles:!0})))}}Y2(fr);fr.formAssociated=!0;fr.shadowRootOptions={mode:"open",delegatesFocus:!0};$([re({type:Boolean,reflect:!0})],fr.prototype,"disabled",void 0);$([re({type:Boolean,attribute:"soft-disabled",reflect:!0})],fr.prototype,"softDisabled",void 0);$([re({type:Boolean,attribute:"flip-icon-in-rtl"})],fr.prototype,"flipIconInRtl",void 0);$([re()],fr.prototype,"href",void 0);$([re()],fr.prototype,"download",void 0);$([re()],fr.prototype,"target",void 0);$([re({attribute:"aria-label-selected"})],fr.prototype,"ariaLabelSelected",void 0);$([re({type:Boolean})],fr.prototype,"toggle",void 0);$([re({type:Boolean,reflect:!0})],fr.prototype,"selected",void 0);$([re()],fr.prototype,"type",void 0);$([re({reflect:!0})],fr.prototype,"value",void 0);$([hr()],fr.prototype,"flipIcon",void 0);const Mj=ft`:host{display:inline-flex;outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0);height:var(--_container-height);width:var(--_container-width);justify-content:center}:host([touch-target=wrapper]){margin:max(0px,(48px - var(--_container-height))/2) max(0px,(48px - var(--_container-width))/2)}md-focus-ring{--md-focus-ring-shape-start-start: var(--_container-shape-start-start);--md-focus-ring-shape-start-end: var(--_container-shape-start-end);--md-focus-ring-shape-end-end: var(--_container-shape-end-end);--md-focus-ring-shape-end-start: var(--_container-shape-end-start)}:host(:is([disabled],[soft-disabled])){pointer-events:none}.icon-button{place-items:center;background:none;border:none;box-sizing:border-box;cursor:pointer;display:flex;place-content:center;outline:none;padding:0;position:relative;text-decoration:none;user-select:none;z-index:0;flex:1;border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-start-radius:var(--_container-shape-end-start);border-end-end-radius:var(--_container-shape-end-end)}.icon ::slotted(*){font-size:var(--_icon-size);height:var(--_icon-size);width:var(--_icon-size);font-weight:inherit}md-ripple{z-index:-1;border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-start-radius:var(--_container-shape-end-start);border-end-end-radius:var(--_container-shape-end-end)}.flip-icon .icon{transform:scaleX(-1)}.icon{display:inline-flex}.link{display:grid;height:100%;outline:none;place-items:center;position:absolute;width:100%}.touch{position:absolute;height:max(48px,100%);width:max(48px,100%)}:host([touch-target=none]) .touch{display:none}@media(forced-colors: active){:host(:is([disabled],[soft-disabled])){--_disabled-icon-color: GrayText;--_disabled-icon-opacity: 1}}
`;const Vj=ft`:host{--_disabled-icon-color: var(--md-icon-button-disabled-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-icon-opacity: var(--md-icon-button-disabled-icon-opacity, 0.38);--_icon-size: var(--md-icon-button-icon-size, 24px);--_selected-focus-icon-color: var(--md-icon-button-selected-focus-icon-color, var(--md-sys-color-primary, #6750a4));--_selected-hover-icon-color: var(--md-icon-button-selected-hover-icon-color, var(--md-sys-color-primary, #6750a4));--_selected-hover-state-layer-color: var(--md-icon-button-selected-hover-state-layer-color, var(--md-sys-color-primary, #6750a4));--_selected-hover-state-layer-opacity: var(--md-icon-button-selected-hover-state-layer-opacity, 0.08);--_selected-icon-color: var(--md-icon-button-selected-icon-color, var(--md-sys-color-primary, #6750a4));--_selected-pressed-icon-color: var(--md-icon-button-selected-pressed-icon-color, var(--md-sys-color-primary, #6750a4));--_selected-pressed-state-layer-color: var(--md-icon-button-selected-pressed-state-layer-color, var(--md-sys-color-primary, #6750a4));--_selected-pressed-state-layer-opacity: var(--md-icon-button-selected-pressed-state-layer-opacity, 0.12);--_state-layer-height: var(--md-icon-button-state-layer-height, 40px);--_state-layer-shape: var(--md-icon-button-state-layer-shape, var(--md-sys-shape-corner-full, 9999px));--_state-layer-width: var(--md-icon-button-state-layer-width, 40px);--_focus-icon-color: var(--md-icon-button-focus-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-icon-color: var(--md-icon-button-hover-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-state-layer-color: var(--md-icon-button-hover-state-layer-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-state-layer-opacity: var(--md-icon-button-hover-state-layer-opacity, 0.08);--_icon-color: var(--md-icon-button-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_pressed-icon-color: var(--md-icon-button-pressed-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_pressed-state-layer-color: var(--md-icon-button-pressed-state-layer-color, var(--md-sys-color-on-surface-variant, #49454f));--_pressed-state-layer-opacity: var(--md-icon-button-pressed-state-layer-opacity, 0.12);--_container-shape-start-start: 0;--_container-shape-start-end: 0;--_container-shape-end-end: 0;--_container-shape-end-start: 0;--_container-height: 0;--_container-width: 0;height:var(--_state-layer-height);width:var(--_state-layer-width)}:host([touch-target=wrapper]){margin:max(0px,(48px - var(--_state-layer-height))/2) max(0px,(48px - var(--_state-layer-width))/2)}md-focus-ring{--md-focus-ring-shape-start-start: var(--_state-layer-shape);--md-focus-ring-shape-start-end: var(--_state-layer-shape);--md-focus-ring-shape-end-end: var(--_state-layer-shape);--md-focus-ring-shape-end-start: var(--_state-layer-shape)}.standard{background-color:rgba(0,0,0,0);color:var(--_icon-color);--md-ripple-hover-color: var(--_hover-state-layer-color);--md-ripple-hover-opacity: var(--_hover-state-layer-opacity);--md-ripple-pressed-color: var(--_pressed-state-layer-color);--md-ripple-pressed-opacity: var(--_pressed-state-layer-opacity)}.standard:hover{color:var(--_hover-icon-color)}.standard:focus{color:var(--_focus-icon-color)}.standard:active{color:var(--_pressed-icon-color)}.standard:is(:disabled,[aria-disabled=true]){color:var(--_disabled-icon-color)}md-ripple{border-radius:var(--_state-layer-shape)}.standard:is(:disabled,[aria-disabled=true]){opacity:var(--_disabled-icon-opacity)}.selected:not(:disabled,[aria-disabled=true]){color:var(--_selected-icon-color)}.selected:not(:disabled,[aria-disabled=true]):hover{color:var(--_selected-hover-icon-color)}.selected:not(:disabled,[aria-disabled=true]):focus{color:var(--_selected-focus-icon-color)}.selected:not(:disabled,[aria-disabled=true]):active{color:var(--_selected-pressed-icon-color)}.selected{--md-ripple-hover-color: var(--_selected-hover-state-layer-color);--md-ripple-hover-opacity: var(--_selected-hover-state-layer-opacity);--md-ripple-pressed-color: var(--_selected-pressed-state-layer-color);--md-ripple-pressed-opacity: var(--_selected-pressed-state-layer-opacity)}
`;let D_=class extends fr{getRenderClasses(){return{...super.getRenderClasses(),standard:!0}}};D_.styles=[Mj,Vj];D_=$([en("md-icon-button")],D_);function Lj(n,e){return new CustomEvent("close-menu",{bubbles:!0,composed:!0,detail:{initiator:n,reason:e,itemPath:[n]}})}const XI=Lj,JI={SPACE:"Space",ENTER:"Enter"},ZI={CLICK_SELECTION:"click-selection",KEYDOWN:"keydown"},Uj={ESCAPE:"Escape",SPACE:JI.SPACE,ENTER:JI.ENTER};function sN(n){return Object.values(Uj).some(e=>e===n)}function e1(n,e){const t=new Event("md-contains",{bubbles:!0,composed:!0});let r=[];const a=c=>{r=c.composedPath()};return e.addEventListener("md-contains",a),n.dispatchEvent(t),e.removeEventListener("md-contains",a),r.length>0}const Pc={NONE:"none",LIST_ROOT:"list-root",FIRST_ITEM:"first-item",LAST_ITEM:"last-item"};const t1={END_START:"end-start",START_START:"start-start"};class Bj{constructor(e,t){this.host=e,this.getProperties=t,this.surfaceStylesInternal={display:"none"},this.lastValues={isOpen:!1},this.host.addController(this)}get surfaceStyles(){return this.surfaceStylesInternal}async position(){const{surfaceEl:e,anchorEl:t,anchorCorner:r,surfaceCorner:a,positioning:o,xOffset:c,yOffset:d,disableBlockFlip:f,disableInlineFlip:m,repositionStrategy:v}=this.getProperties(),y=r.toLowerCase().trim(),E=a.toLowerCase().trim();if(!e||!t)return;const I=window.innerWidth,U=window.innerHeight,k=document.createElement("div");k.style.opacity="0",k.style.position="fixed",k.style.display="block",k.style.inset="0",document.body.appendChild(k);const V=k.getBoundingClientRect();k.remove();const K=window.innerHeight-V.bottom,F=window.innerWidth-V.right;this.surfaceStylesInternal={display:"block",opacity:"0"},this.host.requestUpdate(),await this.host.updateComplete,e.popover&&e.isConnected&&e.showPopover();const G=e.getSurfacePositionClientRect?e.getSurfacePositionClientRect():e.getBoundingClientRect(),ce=t.getSurfacePositionClientRect?t.getSurfacePositionClientRect():t.getBoundingClientRect(),[ae,de]=E.split("-"),[D,A]=y.split("-"),R=getComputedStyle(e).direction==="ltr";let{blockInset:M,blockOutOfBoundsCorrection:P,surfaceBlockProperty:B}=this.calculateBlock({surfaceRect:G,anchorRect:ce,anchorBlock:D,surfaceBlock:ae,yOffset:d,positioning:o,windowInnerHeight:U,blockScrollbarHeight:K});if(P&&!f){const Z=ae==="start"?"end":"start",ue=D==="start"?"end":"start",be=this.calculateBlock({surfaceRect:G,anchorRect:ce,anchorBlock:ue,surfaceBlock:Z,yOffset:d,positioning:o,windowInnerHeight:U,blockScrollbarHeight:K});P>be.blockOutOfBoundsCorrection&&(M=be.blockInset,P=be.blockOutOfBoundsCorrection,B=be.surfaceBlockProperty)}let{inlineInset:N,inlineOutOfBoundsCorrection:Ie,surfaceInlineProperty:Ye}=this.calculateInline({surfaceRect:G,anchorRect:ce,anchorInline:A,surfaceInline:de,xOffset:c,positioning:o,isLTR:R,windowInnerWidth:I,inlineScrollbarWidth:F});if(Ie&&!m){const Z=de==="start"?"end":"start",ue=A==="start"?"end":"start",be=this.calculateInline({surfaceRect:G,anchorRect:ce,anchorInline:ue,surfaceInline:Z,xOffset:c,positioning:o,isLTR:R,windowInnerWidth:I,inlineScrollbarWidth:F});Math.abs(Ie)>Math.abs(be.inlineOutOfBoundsCorrection)&&(N=be.inlineInset,Ie=be.inlineOutOfBoundsCorrection,Ye=be.surfaceInlineProperty)}v==="move"&&(M=M-P,N=N-Ie),this.surfaceStylesInternal={display:"block",opacity:"1",[B]:`${M}px`,[Ye]:`${N}px`},v==="resize"&&(P&&(this.surfaceStylesInternal.height=`${G.height-P}px`),Ie&&(this.surfaceStylesInternal.width=`${G.width-Ie}px`)),this.host.requestUpdate()}calculateBlock(e){const{surfaceRect:t,anchorRect:r,anchorBlock:a,surfaceBlock:o,yOffset:c,positioning:d,windowInnerHeight:f,blockScrollbarHeight:m}=e,v=d==="fixed"||d==="document"?1:0,y=d==="document"?1:0,E=o==="start"?1:0,I=o==="end"?1:0,k=(a!==o?1:0)*r.height+c,V=E*r.top+I*(f-r.bottom-m),K=E*window.scrollY-I*window.scrollY,F=Math.abs(Math.min(0,f-V-k-t.height));return{blockInset:v*V+y*K+k,blockOutOfBoundsCorrection:F,surfaceBlockProperty:o==="start"?"inset-block-start":"inset-block-end"}}calculateInline(e){const{isLTR:t,surfaceInline:r,anchorInline:a,anchorRect:o,surfaceRect:c,xOffset:d,positioning:f,windowInnerWidth:m,inlineScrollbarWidth:v}=e,y=f==="fixed"||f==="document"?1:0,E=f==="document"?1:0,I=t?1:0,U=t?0:1,k=r==="start"?1:0,V=r==="end"?1:0,F=(a!==r?1:0)*o.width+d,G=k*o.left+V*(m-o.right-v),ce=k*(m-o.right-v)+V*o.left,ae=I*G+U*ce,de=k*window.scrollX-V*window.scrollX,D=V*window.scrollX-k*window.scrollX,A=I*de+U*D,R=Math.abs(Math.min(0,m-ae-F-c.width)),M=y*ae+F+E*A;let P=r==="start"?"inset-inline-start":"inset-inline-end";return(f==="document"||f==="fixed")&&(r==="start"&&t||r==="end"&&!t?P="left":P="right"),{inlineInset:M,inlineOutOfBoundsCorrection:R,surfaceInlineProperty:P}}hostUpdate(){this.onUpdate()}hostUpdated(){this.onUpdate()}async onUpdate(){const e=this.getProperties();let t=!1;for(const[c,d]of Object.entries(e))if(t=t||d!==this.lastValues[c],t)break;const r=this.lastValues.isOpen!==e.isOpen,a=!!e.anchorEl,o=!!e.surfaceEl;t&&a&&o&&(this.lastValues.isOpen=e.isOpen,e.isOpen?(this.lastValues=e,await this.position(),e.onOpen()):r&&(await e.beforeClose(),this.close(),e.onClose()))}close(){this.surfaceStylesInternal={display:"none"},this.host.requestUpdate();const e=this.getProperties().surfaceEl;e?.popover&&e?.isConnected&&e.hidePopover()}}const $i={INDEX:0,ITEM:1,TEXT:2};class zj{constructor(e){this.getProperties=e,this.typeaheadRecords=[],this.typaheadBuffer="",this.cancelTypeaheadTimeout=0,this.isTypingAhead=!1,this.lastActiveRecord=null,this.onKeydown=t=>{this.isTypingAhead?this.typeahead(t):this.beginTypeahead(t)},this.endTypeahead=()=>{this.isTypingAhead=!1,this.typaheadBuffer="",this.typeaheadRecords=[]}}get items(){return this.getProperties().getItems()}get active(){return this.getProperties().active}beginTypeahead(e){this.active&&(e.code==="Space"||e.code==="Enter"||e.code.startsWith("Arrow")||e.code==="Escape"||(this.isTypingAhead=!0,this.typeaheadRecords=this.items.map((t,r)=>[r,t,t.typeaheadText.trim().toLowerCase()]),this.lastActiveRecord=this.typeaheadRecords.find(t=>t[$i.ITEM].tabIndex===0)??null,this.lastActiveRecord&&(this.lastActiveRecord[$i.ITEM].tabIndex=-1),this.typeahead(e)))}typeahead(e){if(e.defaultPrevented)return;if(clearTimeout(this.cancelTypeaheadTimeout),e.code==="Enter"||e.code.startsWith("Arrow")||e.code==="Escape"){this.endTypeahead(),this.lastActiveRecord&&(this.lastActiveRecord[$i.ITEM].tabIndex=-1);return}e.code==="Space"&&e.preventDefault(),this.cancelTypeaheadTimeout=setTimeout(this.endTypeahead,this.getProperties().typeaheadBufferTime),this.typaheadBuffer+=e.key.toLowerCase();const t=this.lastActiveRecord?this.lastActiveRecord[$i.INDEX]:-1,r=this.typeaheadRecords.length,a=f=>(f[$i.INDEX]+r-t)%r,o=this.typeaheadRecords.filter(f=>!f[$i.ITEM].disabled&&f[$i.TEXT].startsWith(this.typaheadBuffer)).sort((f,m)=>a(f)-a(m));if(o.length===0){clearTimeout(this.cancelTypeaheadTimeout),this.lastActiveRecord&&(this.lastActiveRecord[$i.ITEM].tabIndex=-1),this.endTypeahead();return}const c=this.typaheadBuffer.length===1;let d;this.lastActiveRecord===o[0]&&c?d=o[1]??o[0]:d=o[0],this.lastActiveRecord&&(this.lastActiveRecord[$i.ITEM].tabIndex=-1),this.lastActiveRecord=d,d[$i.ITEM].tabIndex=0,d[$i.ITEM].focus()}}const jj=200,aN=new Set([Zn.ArrowDown,Zn.ArrowUp,Zn.Home,Zn.End]),$j=new Set([Zn.ArrowLeft,Zn.ArrowRight,...aN]);function Fj(n=document){let e=n.activeElement;for(;e&&e?.shadowRoot?.activeElement;)e=e.shadowRoot.activeElement;return e}class cn extends Dt{get openDirection(){return this.menuCorner.split("-")[0]==="start"?"DOWN":"UP"}get anchorElement(){return this.anchor?this.getRootNode().querySelector(`#${this.anchor}`):this.currentAnchorElement}set anchorElement(e){this.currentAnchorElement=e,this.requestUpdate("anchorElement")}constructor(){super(),this.anchor="",this.positioning="absolute",this.quick=!1,this.hasOverflow=!1,this.open=!1,this.xOffset=0,this.yOffset=0,this.noHorizontalFlip=!1,this.noVerticalFlip=!1,this.typeaheadDelay=jj,this.anchorCorner=t1.END_START,this.menuCorner=t1.START_START,this.stayOpenOnOutsideClick=!1,this.stayOpenOnFocusout=!1,this.skipRestoreFocus=!1,this.defaultFocus=Pc.FIRST_ITEM,this.noNavigationWrap=!1,this.typeaheadActive=!0,this.isSubmenu=!1,this.pointerPath=[],this.isRepositioning=!1,this.openCloseAnimationSignal=lz(),this.listController=new nN({isItem:e=>e.hasAttribute("md-menu-item"),getPossibleItems:()=>this.slotItems,isRtl:()=>getComputedStyle(this).direction==="rtl",deactivateItem:e=>{e.selected=!1,e.tabIndex=-1},activateItem:e=>{e.selected=!0,e.tabIndex=0},isNavigableKey:e=>{if(!this.isSubmenu)return $j.has(e);const r=getComputedStyle(this).direction==="rtl"?Zn.ArrowLeft:Zn.ArrowRight;return e===r?!0:aN.has(e)},wrapNavigation:()=>!this.noNavigationWrap}),this.lastFocusedElement=null,this.typeaheadController=new zj(()=>({getItems:()=>this.items,typeaheadBufferTime:this.typeaheadDelay,active:this.typeaheadActive})),this.currentAnchorElement=null,this.internals=this.attachInternals(),this.menuPositionController=new Bj(this,()=>({anchorCorner:this.anchorCorner,surfaceCorner:this.menuCorner,surfaceEl:this.surfaceEl,anchorEl:this.anchorElement,positioning:this.positioning==="popover"?"document":this.positioning,isOpen:this.open,xOffset:this.xOffset,yOffset:this.yOffset,disableBlockFlip:this.noVerticalFlip,disableInlineFlip:this.noHorizontalFlip,onOpen:this.onOpened,beforeClose:this.beforeClose,onClose:this.onClosed,repositionStrategy:this.hasOverflow&&this.positioning!=="popover"?"move":"resize"})),this.onWindowResize=()=>{this.isRepositioning||this.positioning!=="document"&&this.positioning!=="fixed"&&this.positioning!=="popover"||(this.isRepositioning=!0,this.reposition(),this.isRepositioning=!1)},this.handleFocusout=async e=>{const t=this.anchorElement;if(this.stayOpenOnFocusout||!this.open||this.pointerPath.includes(t))return;if(e.relatedTarget){if(e1(e.relatedTarget,this)||this.pointerPath.length!==0&&e1(e.relatedTarget,t))return}else if(this.pointerPath.includes(this))return;const r=this.skipRestoreFocus;this.skipRestoreFocus=!0,this.close(),await this.updateComplete,this.skipRestoreFocus=r},this.onOpened=async()=>{this.lastFocusedElement=Fj();const e=this.items,t=Xp(e);t&&this.defaultFocus!==Pc.NONE&&(t.item.tabIndex=-1);let r=!this.quick;switch(this.quick?this.dispatchEvent(new Event("opening")):r=!!await this.animateOpen(),this.defaultFocus){case Pc.FIRST_ITEM:const a=Aw(e);a&&(a.tabIndex=0,a.focus(),await a.updateComplete);break;case Pc.LAST_ITEM:const o=tN(e);o&&(o.tabIndex=0,o.focus(),await o.updateComplete);break;case Pc.LIST_ROOT:this.focus();break;default:case Pc.NONE:break}r||this.dispatchEvent(new Event("opened"))},this.beforeClose=async()=>{this.open=!1,this.skipRestoreFocus||this.lastFocusedElement?.focus?.(),this.quick||await this.animateClose()},this.onClosed=()=>{this.quick&&(this.dispatchEvent(new Event("closing")),this.dispatchEvent(new Event("closed")))},this.onWindowPointerdown=e=>{this.pointerPath=e.composedPath()},this.onDocumentClick=e=>{if(!this.open)return;const t=e.composedPath();!this.stayOpenOnOutsideClick&&!t.includes(this)&&!t.includes(this.anchorElement)&&(this.open=!1)},this.internals.role="menu",this.addEventListener("keydown",this.handleKeydown),this.addEventListener("keydown",this.captureKeydown,{capture:!0}),this.addEventListener("focusout",this.handleFocusout)}get items(){return this.listController.items}willUpdate(e){if(e.has("open")){if(this.open){this.removeAttribute("aria-hidden");return}this.setAttribute("aria-hidden","true")}}update(e){e.has("open")&&(this.open?this.setUpGlobalEventListeners():this.cleanUpGlobalEventListeners()),e.has("positioning")&&this.positioning==="popover"&&!this.showPopover&&(this.positioning="fixed"),super.update(e)}connectedCallback(){super.connectedCallback(),this.open&&this.setUpGlobalEventListeners()}disconnectedCallback(){super.disconnectedCallback(),this.cleanUpGlobalEventListeners()}getBoundingClientRect(){return this.surfaceEl?this.surfaceEl.getBoundingClientRect():super.getBoundingClientRect()}getClientRects(){return this.surfaceEl?this.surfaceEl.getClientRects():super.getClientRects()}render(){return this.renderSurface()}renderSurface(){return Ee`
      <div
        class="menu ${Ir(this.getSurfaceClasses())}"
        style=${v_(this.menuPositionController.surfaceStyles)}
        popover=${this.positioning==="popover"?"manual":fe}>
        ${this.renderElevation()}
        <div class="items">
          <div class="item-padding"> ${this.renderMenuItems()} </div>
        </div>
      </div>
    `}renderMenuItems(){return Ee`<slot
      @close-menu=${this.onCloseMenu}
      @deactivate-items=${this.onDeactivateItems}
      @request-activation=${this.onRequestActivation}
      @deactivate-typeahead=${this.handleDeactivateTypeahead}
      @activate-typeahead=${this.handleActivateTypeahead}
      @stay-open-on-focusout=${this.handleStayOpenOnFocusout}
      @close-on-focusout=${this.handleCloseOnFocusout}
      @slotchange=${this.listController.onSlotchange}></slot>`}renderElevation(){return Ee`<md-elevation part="elevation"></md-elevation>`}getSurfaceClasses(){return{open:this.open,fixed:this.positioning==="fixed","has-overflow":this.hasOverflow}}captureKeydown(e){e.target===this&&!e.defaultPrevented&&sN(e.code)&&(e.preventDefault(),this.close()),this.typeaheadController.onKeydown(e)}async animateOpen(){const e=this.surfaceEl,t=this.slotEl;if(!e||!t)return!0;const r=this.openDirection;this.dispatchEvent(new Event("opening")),e.classList.toggle("animating",!0);const a=this.openCloseAnimationSignal.start(),o=e.offsetHeight,c=r==="UP",d=this.items,f=500,m=50,v=250,y=(f-v)/d.length,E=e.animate([{height:"0px"},{height:`${o}px`}],{duration:f,easing:ms.EMPHASIZED}),I=t.animate([{transform:c?`translateY(-${o}px)`:""},{transform:""}],{duration:f,easing:ms.EMPHASIZED}),U=e.animate([{opacity:0},{opacity:1}],m),k=[];for(let F=0;F<d.length;F++){const G=c?d.length-1-F:F,ce=d[G],ae=ce.animate([{opacity:0},{opacity:1}],{duration:v,delay:y*F});ce.classList.toggle("md-menu-hidden",!0),ae.addEventListener("finish",()=>{ce.classList.toggle("md-menu-hidden",!1)}),k.push([ce,ae])}let V=F=>{};const K=new Promise(F=>{V=F});return a.addEventListener("abort",()=>{E.cancel(),I.cancel(),U.cancel(),k.forEach(([F,G])=>{F.classList.toggle("md-menu-hidden",!1),G.cancel()}),V(!0)}),E.addEventListener("finish",()=>{e.classList.toggle("animating",!1),this.openCloseAnimationSignal.finish(),V(!1)}),await K}animateClose(){let e;const t=new Promise(ae=>{e=ae}),r=this.surfaceEl,a=this.slotEl;if(!r||!a)return e(!1),t;const c=this.openDirection==="UP";this.dispatchEvent(new Event("closing")),r.classList.toggle("animating",!0);const d=this.openCloseAnimationSignal.start(),f=r.offsetHeight,m=this.items,v=150,y=50,E=v-y,I=50,U=50,k=.35,V=(v-U-I)/m.length,K=r.animate([{height:`${f}px`},{height:`${f*k}px`}],{duration:v,easing:ms.EMPHASIZED_ACCELERATE}),F=a.animate([{transform:""},{transform:c?`translateY(-${f*(1-k)}px)`:""}],{duration:v,easing:ms.EMPHASIZED_ACCELERATE}),G=r.animate([{opacity:1},{opacity:0}],{duration:y,delay:E}),ce=[];for(let ae=0;ae<m.length;ae++){const de=c?ae:m.length-1-ae,D=m[de],A=D.animate([{opacity:1},{opacity:0}],{duration:I,delay:U+V*ae});A.addEventListener("finish",()=>{D.classList.toggle("md-menu-hidden",!0)}),ce.push([D,A])}return d.addEventListener("abort",()=>{K.cancel(),F.cancel(),G.cancel(),ce.forEach(([ae,de])=>{de.cancel(),ae.classList.toggle("md-menu-hidden",!1)}),e(!1)}),K.addEventListener("finish",()=>{r.classList.toggle("animating",!1),ce.forEach(([ae])=>{ae.classList.toggle("md-menu-hidden",!1)}),this.openCloseAnimationSignal.finish(),this.dispatchEvent(new Event("closed")),e(!0)}),t}handleKeydown(e){this.pointerPath=[],this.listController.handleKeydown(e)}setUpGlobalEventListeners(){document.addEventListener("click",this.onDocumentClick,{capture:!0}),window.addEventListener("pointerdown",this.onWindowPointerdown),document.addEventListener("resize",this.onWindowResize,{passive:!0}),window.addEventListener("resize",this.onWindowResize,{passive:!0})}cleanUpGlobalEventListeners(){document.removeEventListener("click",this.onDocumentClick,{capture:!0}),window.removeEventListener("pointerdown",this.onWindowPointerdown),document.removeEventListener("resize",this.onWindowResize),window.removeEventListener("resize",this.onWindowResize)}onCloseMenu(){this.close()}onDeactivateItems(e){e.stopPropagation(),this.listController.onDeactivateItems()}onRequestActivation(e){e.stopPropagation(),this.listController.onRequestActivation(e)}handleDeactivateTypeahead(e){e.stopPropagation(),this.typeaheadActive=!1}handleActivateTypeahead(e){e.stopPropagation(),this.typeaheadActive=!0}handleStayOpenOnFocusout(e){e.stopPropagation(),this.stayOpenOnFocusout=!0}handleCloseOnFocusout(e){e.stopPropagation(),this.stayOpenOnFocusout=!1}close(){this.open=!1,this.slotItems.forEach(t=>{t.close?.()})}show(){this.open=!0}activateNextItem(){return this.listController.activateNextItem()??null}activatePreviousItem(){return this.listController.activatePreviousItem()??null}reposition(){this.open&&this.menuPositionController.position()}}$([jt(".menu")],cn.prototype,"surfaceEl",void 0);$([jt("slot")],cn.prototype,"slotEl",void 0);$([re()],cn.prototype,"anchor",void 0);$([re()],cn.prototype,"positioning",void 0);$([re({type:Boolean})],cn.prototype,"quick",void 0);$([re({type:Boolean,attribute:"has-overflow"})],cn.prototype,"hasOverflow",void 0);$([re({type:Boolean,reflect:!0})],cn.prototype,"open",void 0);$([re({type:Number,attribute:"x-offset"})],cn.prototype,"xOffset",void 0);$([re({type:Number,attribute:"y-offset"})],cn.prototype,"yOffset",void 0);$([re({type:Boolean,attribute:"no-horizontal-flip"})],cn.prototype,"noHorizontalFlip",void 0);$([re({type:Boolean,attribute:"no-vertical-flip"})],cn.prototype,"noVerticalFlip",void 0);$([re({type:Number,attribute:"typeahead-delay"})],cn.prototype,"typeaheadDelay",void 0);$([re({attribute:"anchor-corner"})],cn.prototype,"anchorCorner",void 0);$([re({attribute:"menu-corner"})],cn.prototype,"menuCorner",void 0);$([re({type:Boolean,attribute:"stay-open-on-outside-click"})],cn.prototype,"stayOpenOnOutsideClick",void 0);$([re({type:Boolean,attribute:"stay-open-on-focusout"})],cn.prototype,"stayOpenOnFocusout",void 0);$([re({type:Boolean,attribute:"skip-restore-focus"})],cn.prototype,"skipRestoreFocus",void 0);$([re({attribute:"default-focus"})],cn.prototype,"defaultFocus",void 0);$([re({type:Boolean,attribute:"no-navigation-wrap"})],cn.prototype,"noNavigationWrap",void 0);$([pa({flatten:!0})],cn.prototype,"slotItems",void 0);$([hr()],cn.prototype,"typeaheadActive",void 0);const qj=ft`:host{--md-elevation-level: var(--md-menu-container-elevation, 2);--md-elevation-shadow-color: var(--md-menu-container-shadow-color, var(--md-sys-color-shadow, #000));min-width:112px;color:unset;display:contents}md-focus-ring{--md-focus-ring-shape: var(--md-menu-container-shape, var(--md-sys-shape-corner-extra-small, 4px))}.menu{border-radius:var(--md-menu-container-shape, var(--md-sys-shape-corner-extra-small, 4px));display:none;inset:auto;border:none;padding:0px;overflow:visible;background-color:rgba(0,0,0,0);color:inherit;opacity:0;z-index:20;position:absolute;user-select:none;max-height:inherit;height:inherit;min-width:inherit;max-width:inherit;scrollbar-width:inherit}.menu::backdrop{display:none}.fixed{position:fixed}.items{display:block;list-style-type:none;margin:0;outline:none;box-sizing:border-box;background-color:var(--md-menu-container-color, var(--md-sys-color-surface-container, #f3edf7));height:inherit;max-height:inherit;overflow:auto;min-width:inherit;max-width:inherit;border-radius:inherit;scrollbar-width:inherit}.item-padding{padding-block:var(--md-menu-top-space, 8px) var(--md-menu-bottom-space, 8px)}.has-overflow:not([popover]) .items{overflow:visible}.has-overflow.animating .items,.animating .items{overflow:hidden}.has-overflow.animating .items{pointer-events:none}.animating ::slotted(.md-menu-hidden){opacity:0}slot{display:block;height:inherit;max-height:inherit}::slotted(:is(md-divider,[role=separator])){margin:8px 0}@media(forced-colors: active){.menu{border-style:solid;border-color:CanvasText;border-width:1px}}
`;let N_=class extends cn{};N_.styles=[qj];N_=$([en("md-menu")],N_);class Hj{constructor(e,t){this.host=e,this.internalTypeaheadText=null,this.onClick=()=>{this.host.keepOpen||this.host.dispatchEvent(XI(this.host,{kind:ZI.CLICK_SELECTION}))},this.onKeydown=r=>{if(this.host.href&&r.code==="Enter"){const o=this.getInteractiveElement();o instanceof HTMLAnchorElement&&o.click()}if(r.defaultPrevented)return;const a=r.code;this.host.keepOpen&&a!=="Escape"||sN(a)&&(r.preventDefault(),this.host.dispatchEvent(XI(this.host,{kind:ZI.KEYDOWN,key:a})))},this.getHeadlineElements=t.getHeadlineElements,this.getSupportingTextElements=t.getSupportingTextElements,this.getDefaultElements=t.getDefaultElements,this.getInteractiveElement=t.getInteractiveElement,this.host.addController(this)}get typeaheadText(){if(this.internalTypeaheadText!==null)return this.internalTypeaheadText;const e=this.getHeadlineElements(),t=[];return e.forEach(r=>{r.textContent&&r.textContent.trim()&&t.push(r.textContent.trim())}),t.length===0&&this.getDefaultElements().forEach(r=>{r.textContent&&r.textContent.trim()&&t.push(r.textContent.trim())}),t.length===0&&this.getSupportingTextElements().forEach(r=>{r.textContent&&r.textContent.trim()&&t.push(r.textContent.trim())}),t.join(" ")}get tagName(){switch(this.host.type){case"link":return"a";case"button":return"button";default:case"menuitem":case"option":return"li"}}get role(){return this.host.type==="option"?"option":"menuitem"}hostConnected(){this.host.toggleAttribute("md-menu-item",!0)}hostUpdate(){this.host.href&&(this.host.type="link")}setTypeaheadText(e){this.internalTypeaheadText=e}}const Gj=ma(Dt);class ai extends Gj{constructor(){super(...arguments),this.disabled=!1,this.type="menuitem",this.href="",this.target="",this.keepOpen=!1,this.selected=!1,this.menuItemController=new Hj(this,{getHeadlineElements:()=>this.headlineElements,getSupportingTextElements:()=>this.supportingTextElements,getDefaultElements:()=>this.defaultElements,getInteractiveElement:()=>this.listItemRoot})}get typeaheadText(){return this.menuItemController.typeaheadText}set typeaheadText(e){this.menuItemController.setTypeaheadText(e)}render(){return this.renderListItem(Ee`
      <md-item>
        <div slot="container">
          ${this.renderRipple()} ${this.renderFocusRing()}
        </div>
        <slot name="start" slot="start"></slot>
        <slot name="end" slot="end"></slot>
        ${this.renderBody()}
      </md-item>
    `)}renderListItem(e){const t=this.type==="link";let r;switch(this.menuItemController.tagName){case"a":r=bs`a`;break;case"button":r=bs`button`;break;default:case"li":r=bs`li`;break}const a=t&&this.target?this.target:fe;return Ig`
      <${r}
        id="item"
        tabindex=${this.disabled&&!t?-1:0}
        role=${this.menuItemController.role}
        aria-label=${this.ariaLabel||fe}
        aria-selected=${this.ariaSelected||fe}
        aria-checked=${this.ariaChecked||fe}
        aria-expanded=${this.ariaExpanded||fe}
        aria-haspopup=${this.ariaHasPopup||fe}
        class="list-item ${Ir(this.getRenderClasses())}"
        href=${this.href||fe}
        target=${a}
        @click=${this.menuItemController.onClick}
        @keydown=${this.menuItemController.onKeydown}
      >${e}</${r}>
    `}renderRipple(){return Ee` <md-ripple
      part="ripple"
      for="item"
      ?disabled=${this.disabled}></md-ripple>`}renderFocusRing(){return Ee` <md-focus-ring
      part="focus-ring"
      for="item"
      inward></md-focus-ring>`}getRenderClasses(){return{disabled:this.disabled,selected:this.selected}}renderBody(){return Ee`
      <slot></slot>
      <slot name="overline" slot="overline"></slot>
      <slot name="headline" slot="headline"></slot>
      <slot name="supporting-text" slot="supporting-text"></slot>
      <slot
        name="trailing-supporting-text"
        slot="trailing-supporting-text"></slot>
    `}focus(){this.listItemRoot?.focus()}}ai.shadowRootOptions={...Dt.shadowRootOptions,delegatesFocus:!0};$([re({type:Boolean,reflect:!0})],ai.prototype,"disabled",void 0);$([re()],ai.prototype,"type",void 0);$([re()],ai.prototype,"href",void 0);$([re()],ai.prototype,"target",void 0);$([re({type:Boolean,attribute:"keep-open"})],ai.prototype,"keepOpen",void 0);$([re({type:Boolean})],ai.prototype,"selected",void 0);$([jt(".list-item")],ai.prototype,"listItemRoot",void 0);$([pa({slot:"headline"})],ai.prototype,"headlineElements",void 0);$([pa({slot:"supporting-text"})],ai.prototype,"supportingTextElements",void 0);$([GB({slot:""})],ai.prototype,"defaultElements",void 0);$([re({attribute:"typeahead-text"})],ai.prototype,"typeaheadText",null);const Kj=ft`:host{display:flex;--md-ripple-hover-color: var(--md-menu-item-hover-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--md-ripple-hover-opacity: var(--md-menu-item-hover-state-layer-opacity, 0.08);--md-ripple-pressed-color: var(--md-menu-item-pressed-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--md-ripple-pressed-opacity: var(--md-menu-item-pressed-state-layer-opacity, 0.12)}:host([disabled]){opacity:var(--md-menu-item-disabled-opacity, 0.3);pointer-events:none}md-focus-ring{z-index:1;--md-focus-ring-shape: 8px}a,button,li{background:none;border:none;padding:0;margin:0;text-align:unset;text-decoration:none}.list-item{border-radius:inherit;display:flex;flex:1;max-width:inherit;min-width:inherit;outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.list-item:not(.disabled){cursor:pointer}[slot=container]{pointer-events:none}md-ripple{border-radius:inherit}md-item{border-radius:inherit;flex:1;color:var(--md-menu-item-label-text-color, var(--md-sys-color-on-surface, #1d1b20));font-family:var(--md-menu-item-label-text-font, var(--md-sys-typescale-body-large-font, var(--md-ref-typeface-plain, Roboto)));font-size:var(--md-menu-item-label-text-size, var(--md-sys-typescale-body-large-size, 1rem));line-height:var(--md-menu-item-label-text-line-height, var(--md-sys-typescale-body-large-line-height, 1.5rem));font-weight:var(--md-menu-item-label-text-weight, var(--md-sys-typescale-body-large-weight, var(--md-ref-typeface-weight-regular, 400)));min-height:var(--md-menu-item-one-line-container-height, 56px);padding-top:var(--md-menu-item-top-space, 12px);padding-bottom:var(--md-menu-item-bottom-space, 12px);padding-inline-start:var(--md-menu-item-leading-space, 16px);padding-inline-end:var(--md-menu-item-trailing-space, 16px)}md-item[multiline]{min-height:var(--md-menu-item-two-line-container-height, 72px)}[slot=supporting-text]{color:var(--md-menu-item-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));font-family:var(--md-menu-item-supporting-text-font, var(--md-sys-typescale-body-medium-font, var(--md-ref-typeface-plain, Roboto)));font-size:var(--md-menu-item-supporting-text-size, var(--md-sys-typescale-body-medium-size, 0.875rem));line-height:var(--md-menu-item-supporting-text-line-height, var(--md-sys-typescale-body-medium-line-height, 1.25rem));font-weight:var(--md-menu-item-supporting-text-weight, var(--md-sys-typescale-body-medium-weight, var(--md-ref-typeface-weight-regular, 400)))}[slot=trailing-supporting-text]{color:var(--md-menu-item-trailing-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));font-family:var(--md-menu-item-trailing-supporting-text-font, var(--md-sys-typescale-label-small-font, var(--md-ref-typeface-plain, Roboto)));font-size:var(--md-menu-item-trailing-supporting-text-size, var(--md-sys-typescale-label-small-size, 0.6875rem));line-height:var(--md-menu-item-trailing-supporting-text-line-height, var(--md-sys-typescale-label-small-line-height, 1rem));font-weight:var(--md-menu-item-trailing-supporting-text-weight, var(--md-sys-typescale-label-small-weight, var(--md-ref-typeface-weight-medium, 500)))}:is([slot=start],[slot=end])::slotted(*){fill:currentColor}[slot=start]{color:var(--md-menu-item-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f))}[slot=end]{color:var(--md-menu-item-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f))}.list-item{background-color:var(--md-menu-item-container-color, transparent)}.list-item.selected{background-color:var(--md-menu-item-selected-container-color, var(--md-sys-color-secondary-container, #e8def8))}.selected:not(.disabled) ::slotted(*){color:var(--md-menu-item-selected-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b))}@media(forced-colors: active){:host([disabled]),:host([disabled]) slot{color:GrayText;opacity:1}.list-item{position:relative}.list-item.selected::before{content:"";position:absolute;inset:0;box-sizing:border-box;border-radius:inherit;pointer-events:none;border:3px double CanvasText}}
`;let k_=class extends ai{};k_.styles=[Kj];k_=$([en("md-menu-item")],k_);const Yj=5,Qj=["Owner","Bartender","Barback","Server","Manager","Security","Runner"],Wj=["Amstel Light","Bass Ale","Beck's","Blue Moon","Bud Light","Bud Light Lime","Bud Light Platinum","Budweiser","Busch","Busch Light","Coors","Coors Banquet","Coors Light","Corona","Corona Extra","Corona Light","Corona Premier","Dos Equis Amber","Dos Equis Lager","Foster's","Goose Island IPA","Guinness","Heineken","Heineken 0.0","Heineken Light","Hoegaarden","Kona Big Wave","Lagunitas IPA","Landshark Lager","Michelob","Michelob Light","Michelob Ultra","Michelob Ultra Amber","Miller Genuine Draft","Miller High Life","Miller Lite","Modelo Especial","Modelo Negra","Natural Light","Newcastle Brown Ale","Pabst Blue Ribbon","Pacifico","Peroni","Pilsner Urquell","Red Stripe","Rolling Rock","Samuel Adams Boston Lager","Sapporo","Shiner Bock","Shock Top","Sierra Nevada Pale Ale","Sol","St. Pauli Girl","Stella Artois","Tecate","Victoria","Yuengling"],pb=[{id:"break",label:"BREAK",icon:"coffee"},{id:"ice",label:"ICE",icon:"ac_unit"},{id:"glass",label:"SERVICE ITEMS",icon:"wine_bar",children:[{id:"pint",label:"PINT"},{id:"rocks",label:"ROCKS"},{id:"collins",label:"COLLINS"},{id:"wine",label:"WINE GLASS"},{id:"coupe",label:"COUPE"},{id:"shot",label:"SHOT GLASS"},{id:"napkins",label:"NAPKINS"},{id:"straws",label:"STRAWS"},{id:"coasters",label:"COASTERS"}]},{id:"fruit",label:"GARNISH",icon:"restaurant",children:[{id:"lime",label:"LIMES"},{id:"lemon",label:"LEMONS"},{id:"orange",label:"ORANGES"},{id:"olive",label:"OLIVES"},{id:"cherry",label:"CHERRIES"},{id:"mint",label:"MINT"}]},{id:"restock_beer",label:"BEER",icon:"sports_bar"},{id:"mixers",label:"MIXERS",icon:"local_bar",children:[{id:"soda",label:"SODA"},{id:"tonic",label:"TONIC"},{id:"coke",label:"COKE"},{id:"diet",label:"DIET COKE"},{id:"sprite",label:"SPRITE"},{id:"ginger_ale",label:"GINGER ALE"},{id:"ginger_beer",label:"GINGER BEER"},{id:"cranberry",label:"CRANBERRY"},{id:"oj",label:"OJ"},{id:"pineapple",label:"PINEAPPLE"},{id:"grapefruit",label:"GRAPEFRUIT"},{id:"sour",label:"SOUR MIX"},{id:"simple",label:"SIMPLE SYRUP"},{id:"grenadine",label:"GRENADINE"},{id:"bitters",label:"BITTERS"}]},{id:"restock",label:"WELL",icon:"liquor",children:[{id:"vodka",label:"VODKA"},{id:"gin",label:"GIN"},{id:"tequila",label:"TEQUILA"},{id:"rum",label:"RUM"},{id:"whiskey",label:"WHISKEY"},{id:"cordial",label:"MIXERS"},{id:"beer",label:"BEER"}]},{id:"trash",label:"TRASH / SPILL",icon:"delete"},{id:"keg",label:"KEG",icon:"keg"},{id:"security",label:"SECURITY",icon:"security"},{id:"manager",label:"MANAGER",icon:"manage_accounts"}],Jp={Owner:["manager","security","keg","trash","ice","glass","fruit","restock","mixers","restock_beer","break"],Manager:["manager","security","keg","trash","break"],Bartender:["ice","glass","fruit","restock","keg","trash","mixers","restock_beer"],Barback:["ice","glass","fruit","restock","keg","trash","mixers","restock_beer","break"],Server:[],Runner:["ice","glass","restock","mixers","restock_beer"],Security:["security","manager","break"]};function Xj(n,e){const t=S.useRef([]),r=S.useRef(null);S.useEffect(()=>{t.current=n},[n]),S.useEffect(()=>{const a=setInterval(()=>{t.current.filter(c=>!e.includes(c.id)).length>0&&(r.current||(r.current=new Audio("/alert.wav")),r.current.currentTime=0,r.current.play().catch(c=>console.log("Audio play failed",c)),navigator.vibrate&&navigator.vibrate([500,200,500]))},6e4);return()=>clearInterval(a)},[e])}const Jj=[{id:"search",label:"Search"},{id:"create",label:"Create"}],Zj=500,e$=({onJoin:n})=>{const[e,t]=S.useState("search"),[r,a]=S.useState(""),[o,c]=S.useState([]),[d,f]=S.useState(!1),[m,v]=S.useState(""),[y,E]=S.useState(""),[I,U]=S.useState(""),[k,V]=S.useState(""),[K,F]=S.useState(""),[G,ce]=S.useState(""),[ae,de]=S.useState("bar"),D=S.useRef(!0);S.useEffect(()=>(D.current=!0,()=>{D.current=!1}),[]),S.useEffect(()=>{const R=new AbortController,M=R.signal;if(e==="search"&&r.length>2){const P=setTimeout(async()=>{f(!0);try{let B=[],N=[];const Ie=fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(r+" bar")}`,{signal:M}).then(ue=>ue.json()).then(ue=>(M.aborted||!D.current||(N=ue,c([...B,...N])),ue)).catch(ue=>ue.name==="AbortError"?[]:[]),Ye=Ld(cl(lt,"bars"),r_("name"),IU(r),CU(r+""),i_(5)),Z=c2(Ye).then(ue=>ue.docs.map(be=>{const Pe=be.data();return{place_id:be.id,osm_id:be.id,display_name:`${Pe.name}, ${Pe.city||""} ${Pe.state||""}`,name:Pe.name,isFirebase:!0}})).then(ue=>(M.aborted||!D.current||(B=ue,c([...B,...N])),ue)).catch(()=>[]);await Promise.all([Ie,Z])}catch(B){B.name!=="AbortError"&&console.error(B)}finally{D.current&&f(!1)}},Zj);return()=>{R.abort(),clearTimeout(P)}}else c([])},[r,e]);const A=R=>{if(R.preventDefault(),!m||!(k&&K||G)){alert("Please enter a Business Name and either City/State or Zip Code.");return}n({id:`bar_${Date.now()}`,name:m,address:y,city:k,state:K,zip:G,phone:I,status:"verified",type:ae})};return x.jsxs("div",{className:"w-[300px] space-y-4",children:[e==="search"?x.jsxs("div",{className:"space-y-2",children:[x.jsx("div",{className:"relative",children:x.jsx("md-filled-text-field",{label:"Search OpenStreetMap",value:r,onInput:R=>a(R.target.value),type:"search",className:"w-full",children:d&&x.jsx("md-circular-progress",{slot:"trailing-icon",indeterminate:!0,style:{width:"24px",height:"24px"},"data-testid":"search-progress"})})}),o.length>0&&x.jsx("md-list",{className:"bg-[#1E1E1E] rounded-xl overflow-hidden border border-gray-800 max-h-60 overflow-y-auto",children:o.map(R=>x.jsxs("md-list-item",{type:"button",onClick:()=>n({id:String(R.osm_id),name:R.name||R.display_name.split(",")[0],address:R.display_name,status:"verified",osmId:String(R.osm_id)}),children:[x.jsx("div",{slot:"headline",className:"text-white",children:R.name||R.display_name.split(",")[0]}),x.jsx("div",{slot:"supporting-text",className:"text-gray-400 text-xs truncate",children:R.display_name}),x.jsx("md-icon",{slot:"start",children:"location_on"})]},R.place_id))})]}):x.jsxs("form",{onSubmit:A,className:"space-y-4 max-h-[60vh] overflow-y-auto px-1",children:[x.jsx("md-filled-text-field",{label:"Business Name *",value:m,onInput:R=>v(R.target.value),required:!0}),x.jsx("md-filled-text-field",{label:"Address",value:y,onInput:R=>E(R.target.value)}),x.jsx("md-filled-text-field",{label:"City",value:k,onInput:R=>V(R.target.value),className:"w-full"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("div",{className:"w-24",children:x.jsx("md-filled-text-field",{label:"State",value:K,onInput:R=>F(R.target.value),style:{width:"100%"}})}),x.jsx("div",{className:"flex-1",children:x.jsx("md-filled-text-field",{label:"Zip Code",value:G,onInput:R=>ce(R.target.value),type:"number",style:{width:"100%"}})})]}),x.jsx("md-filled-text-field",{label:"Phone",value:I,onInput:R=>U(R.target.value),type:"tel"}),x.jsxs("div",{className:"flex gap-6 justify-center my-2",children:[x.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>de("bar"),children:[x.jsx("md-radio",{name:"barType",value:"bar",checked:ae==="bar","touch-target":"wrapper"}),x.jsx("span",{className:"text-white",children:"Bar"})]}),x.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>de("restaurant"),children:[x.jsx("md-radio",{name:"barType",value:"restaurant",checked:ae==="restaurant","touch-target":"wrapper"}),x.jsx("span",{className:"text-white",children:"Restaurant"})]})]})]}),x.jsx("div",{className:"flex justify-center gap-4 pt-2",children:Jj.map(R=>{const M=e===R.id,P=M?"md-filled-button":"md-outlined-button",B=N=>{M&&R.id==="create"?A(N):M||t(R.id)};return x.jsx(P,{onClick:B,children:R.label},R.id)})})]})},t$=({onSelect:n,initialName:e})=>{const[t,r]=S.useState(""),[a,o]=S.useState(e||"");return x.jsxs("div",{className:"w-[300px] space-y-6 animate-in fade-in slide-in-from-bottom-4",children:[x.jsxs("div",{className:"text-center space-y-2",children:[x.jsx("h2",{className:"text-2xl font-bold text-white",children:"Identification"}),x.jsx("p",{className:"text-gray-500",children:"Name and Rank, soldier."})]}),x.jsx("md-filled-text-field",{label:"Display Name (e.g. 'Angry Steve')",value:a,onInput:c=>o(c.target.value),required:!0}),x.jsx("div",{className:"bg-[#1E1E1E] rounded-xl overflow-hidden border border-gray-800 max-h-60 overflow-y-auto",children:Qj.map(c=>x.jsxs("div",{onClick:()=>r(c),className:`p-4 flex items-center justify-between cursor-pointer border-b border-gray-800 last:border-0 hover:bg-white/5 ${t===c?"bg-white/10":""}`,children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("md-icon",{children:c==="Bartender"?"local_bar":"person"}),x.jsx("span",{className:"font-medium text-lg",children:c})]}),x.jsx("md-radio",{checked:t===c,"touch-target":"wrapper"})]},c))}),x.jsx("md-filled-button",{disabled:!t||!a||null,onClick:()=>n(t,a),children:"Clock In"})]})};const oN=Symbol("dispatchHooks");function n$(n,e){const t=n[oN];if(!t)throw new Error(`'${n.type}' event needs setupDispatchHooks().`);t.addEventListener("after",e)}const n1=new WeakMap;function r$(n,...e){let t=n1.get(n);t||(t=new Set,n1.set(n,t));for(const r of e){if(t.has(r))continue;let a=!1;n.addEventListener(r,o=>{if(a)return;o.stopImmediatePropagation();const c=Reflect.construct(o.constructor,[o.type,o]),d=new EventTarget;c[oN]=d,a=!0;const f=n.dispatchEvent(c);a=!1,f||o.preventDefault(),d.dispatchEvent(new Event("after"))},{capture:!0}),t.add(r)}}class i$ extends Sw{computeValidity(e){return this.checkboxControl||(this.checkboxControl=document.createElement("input"),this.checkboxControl.type="checkbox"),this.checkboxControl.checked=e.checked,this.checkboxControl.required=e.required,{validity:this.checkboxControl.validity,validationMessage:this.checkboxControl.validationMessage}}equals(e,t){return e.checked===t.checked&&e.required===t.required}copy({checked:e,required:t}){return{checked:e,required:t}}}const s$=ma(xw(Tw($h(Dt))));class Co extends s${constructor(){super(),this.selected=!1,this.icons=!1,this.showOnlySelectedIcon=!1,this.required=!1,this.value="on",this.addEventListener("click",e=>{!Ew(e)||!this.input||(this.focus(),Q2(this.input))}),r$(this,"keydown"),this.addEventListener("keydown",e=>{n$(e,()=>{e.defaultPrevented||e.key!=="Enter"||this.disabled||!this.input||this.input.click()})})}render(){return Ee`
      <div class="switch ${Ir(this.getRenderClasses())}">
        <input
          id="switch"
          class="touch"
          type="checkbox"
          role="switch"
          aria-label=${this.ariaLabel||fe}
          ?checked=${this.selected}
          ?disabled=${this.disabled}
          ?required=${this.required}
          @input=${this.handleInput}
          @change=${this.handleChange} />

        <md-focus-ring part="focus-ring" for="switch"></md-focus-ring>
        <span class="track"> ${this.renderHandle()} </span>
      </div>
    `}getRenderClasses(){return{selected:this.selected,unselected:!this.selected,disabled:this.disabled}}renderHandle(){const e={"with-icon":this.showOnlySelectedIcon?this.selected:this.icons};return Ee`
      ${this.renderTouchTarget()}
      <span class="handle-container">
        <md-ripple for="switch" ?disabled="${this.disabled}"></md-ripple>
        <span class="handle ${Ir(e)}">
          ${this.shouldShowIcons()?this.renderIcons():Ee``}
        </span>
      </span>
    `}renderIcons(){return Ee`
      <div class="icons">
        ${this.renderOnIcon()}
        ${this.showOnlySelectedIcon?Ee``:this.renderOffIcon()}
      </div>
    `}renderOnIcon(){return Ee`
      <slot class="icon icon--on" name="on-icon">
        <svg viewBox="0 0 24 24">
          <path
            d="M9.55 18.2 3.65 12.3 5.275 10.675 9.55 14.95 18.725 5.775 20.35 7.4Z" />
        </svg>
      </slot>
    `}renderOffIcon(){return Ee`
      <slot class="icon icon--off" name="off-icon">
        <svg viewBox="0 0 24 24">
          <path
            d="M6.4 19.2 4.8 17.6 10.4 12 4.8 6.4 6.4 4.8 12 10.4 17.6 4.8 19.2 6.4 13.6 12 19.2 17.6 17.6 19.2 12 13.6Z" />
        </svg>
      </slot>
    `}renderTouchTarget(){return Ee`<span class="touch"></span>`}shouldShowIcons(){return this.icons||this.showOnlySelectedIcon}handleInput(e){const t=e.target;this.selected=t.checked}handleChange(e){Cg(this,e)}[Kc](){return this.selected?this.value:null}[km](){return String(this.selected)}formResetCallback(){this.selected=this.hasAttribute("selected")}formStateRestoreCallback(e){this.selected=e==="true"}[bh](){return new i$(()=>({checked:this.selected,required:this.required}))}[_h](){return this.input}}Co.shadowRootOptions={mode:"open",delegatesFocus:!0};$([re({type:Boolean})],Co.prototype,"selected",void 0);$([re({type:Boolean})],Co.prototype,"icons",void 0);$([re({type:Boolean,attribute:"show-only-selected-icon"})],Co.prototype,"showOnlySelectedIcon",void 0);$([re({type:Boolean})],Co.prototype,"required",void 0);$([re()],Co.prototype,"value",void 0);$([jt("input")],Co.prototype,"input",void 0);const a$=ft`@layer styles, hcm;@layer styles{:host{display:inline-flex;outline:none;vertical-align:top;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer}:host([disabled]){cursor:default}:host([touch-target=wrapper]){margin:max(0px,(48px - var(--md-switch-track-height, 32px))/2) 0px}md-focus-ring{--md-focus-ring-shape-start-start: var(--md-switch-track-shape-start-start, var(--md-switch-track-shape, var(--md-sys-shape-corner-full, 9999px)));--md-focus-ring-shape-start-end: var(--md-switch-track-shape-start-end, var(--md-switch-track-shape, var(--md-sys-shape-corner-full, 9999px)));--md-focus-ring-shape-end-end: var(--md-switch-track-shape-end-end, var(--md-switch-track-shape, var(--md-sys-shape-corner-full, 9999px)));--md-focus-ring-shape-end-start: var(--md-switch-track-shape-end-start, var(--md-switch-track-shape, var(--md-sys-shape-corner-full, 9999px)))}.switch{align-items:center;display:inline-flex;flex-shrink:0;position:relative;width:var(--md-switch-track-width, 52px);height:var(--md-switch-track-height, 32px);border-start-start-radius:var(--md-switch-track-shape-start-start, var(--md-switch-track-shape, var(--md-sys-shape-corner-full, 9999px)));border-start-end-radius:var(--md-switch-track-shape-start-end, var(--md-switch-track-shape, var(--md-sys-shape-corner-full, 9999px)));border-end-end-radius:var(--md-switch-track-shape-end-end, var(--md-switch-track-shape, var(--md-sys-shape-corner-full, 9999px)));border-end-start-radius:var(--md-switch-track-shape-end-start, var(--md-switch-track-shape, var(--md-sys-shape-corner-full, 9999px)))}input{appearance:none;height:max(100%,var(--md-switch-touch-target-size, 48px));outline:none;margin:0;position:absolute;width:max(100%,var(--md-switch-touch-target-size, 48px));z-index:1;cursor:inherit;top:50%;left:50%;transform:translate(-50%, -50%)}:host([touch-target=none]) input{display:none}}@layer styles{.track{position:absolute;width:100%;height:100%;box-sizing:border-box;border-radius:inherit;display:flex;justify-content:center;align-items:center}.track::before{content:"";display:flex;position:absolute;height:100%;width:100%;border-radius:inherit;box-sizing:border-box;transition-property:opacity,background-color;transition-timing-function:linear;transition-duration:67ms}.disabled .track{background-color:rgba(0,0,0,0);border-color:rgba(0,0,0,0)}.disabled .track::before,.disabled .track::after{transition:none;opacity:var(--md-switch-disabled-track-opacity, 0.12)}.disabled .track::before{background-clip:content-box}.selected .track::before{background-color:var(--md-switch-selected-track-color, var(--md-sys-color-primary, #6750a4))}.selected:hover .track::before{background-color:var(--md-switch-selected-hover-track-color, var(--md-sys-color-primary, #6750a4))}.selected:focus-within .track::before{background-color:var(--md-switch-selected-focus-track-color, var(--md-sys-color-primary, #6750a4))}.selected:active .track::before{background-color:var(--md-switch-selected-pressed-track-color, var(--md-sys-color-primary, #6750a4))}.selected.disabled .track{background-clip:border-box}.selected.disabled .track::before{background-color:var(--md-switch-disabled-selected-track-color, var(--md-sys-color-on-surface, #1d1b20))}.unselected .track::before{background-color:var(--md-switch-track-color, var(--md-sys-color-surface-container-highest, #e6e0e9));border-color:var(--md-switch-track-outline-color, var(--md-sys-color-outline, #79747e));border-style:solid;border-width:var(--md-switch-track-outline-width, 2px)}.unselected:hover .track::before{background-color:var(--md-switch-hover-track-color, var(--md-sys-color-surface-container-highest, #e6e0e9));border-color:var(--md-switch-hover-track-outline-color, var(--md-sys-color-outline, #79747e))}.unselected:focus-visible .track::before{background-color:var(--md-switch-focus-track-color, var(--md-sys-color-surface-container-highest, #e6e0e9));border-color:var(--md-switch-focus-track-outline-color, var(--md-sys-color-outline, #79747e))}.unselected:active .track::before{background-color:var(--md-switch-pressed-track-color, var(--md-sys-color-surface-container-highest, #e6e0e9));border-color:var(--md-switch-pressed-track-outline-color, var(--md-sys-color-outline, #79747e))}.unselected.disabled .track::before{background-color:var(--md-switch-disabled-track-color, var(--md-sys-color-surface-container-highest, #e6e0e9));border-color:var(--md-switch-disabled-track-outline-color, var(--md-sys-color-on-surface, #1d1b20))}}@layer hcm{@media(forced-colors: active){.selected .track::before{background:ButtonText;border-color:ButtonText}.disabled .track::before{border-color:GrayText;opacity:1}.disabled.selected .track::before{background:GrayText}}}@layer styles{.handle-container{display:flex;place-content:center;place-items:center;position:relative;transition:margin 300ms cubic-bezier(0.175, 0.885, 0.32, 1.275)}.selected .handle-container{margin-inline-start:calc(var(--md-switch-track-width, 52px) - var(--md-switch-track-height, 32px))}.unselected .handle-container{margin-inline-end:calc(var(--md-switch-track-width, 52px) - var(--md-switch-track-height, 32px))}.disabled .handle-container{transition:none}.handle{border-start-start-radius:var(--md-switch-handle-shape-start-start, var(--md-switch-handle-shape, var(--md-sys-shape-corner-full, 9999px)));border-start-end-radius:var(--md-switch-handle-shape-start-end, var(--md-switch-handle-shape, var(--md-sys-shape-corner-full, 9999px)));border-end-end-radius:var(--md-switch-handle-shape-end-end, var(--md-switch-handle-shape, var(--md-sys-shape-corner-full, 9999px)));border-end-start-radius:var(--md-switch-handle-shape-end-start, var(--md-switch-handle-shape, var(--md-sys-shape-corner-full, 9999px)));height:var(--md-switch-handle-height, 16px);width:var(--md-switch-handle-width, 16px);transform-origin:center;transition-property:height,width;transition-duration:250ms,250ms;transition-timing-function:cubic-bezier(0.2, 0, 0, 1),cubic-bezier(0.2, 0, 0, 1);z-index:0}.handle::before{content:"";display:flex;inset:0;position:absolute;border-radius:inherit;box-sizing:border-box;transition:background-color 67ms linear}.disabled .handle,.disabled .handle::before{transition:none}.selected .handle{height:var(--md-switch-selected-handle-height, 24px);width:var(--md-switch-selected-handle-width, 24px)}.handle.with-icon{height:var(--md-switch-with-icon-handle-height, 24px);width:var(--md-switch-with-icon-handle-width, 24px)}.selected:not(.disabled):active .handle,.unselected:not(.disabled):active .handle{height:var(--md-switch-pressed-handle-height, 28px);width:var(--md-switch-pressed-handle-width, 28px);transition-timing-function:linear;transition-duration:100ms}.selected .handle::before{background-color:var(--md-switch-selected-handle-color, var(--md-sys-color-on-primary, #fff))}.selected:hover .handle::before{background-color:var(--md-switch-selected-hover-handle-color, var(--md-sys-color-primary-container, #eaddff))}.selected:focus-within .handle::before{background-color:var(--md-switch-selected-focus-handle-color, var(--md-sys-color-primary-container, #eaddff))}.selected:active .handle::before{background-color:var(--md-switch-selected-pressed-handle-color, var(--md-sys-color-primary-container, #eaddff))}.selected.disabled .handle::before{background-color:var(--md-switch-disabled-selected-handle-color, var(--md-sys-color-surface, #fef7ff));opacity:var(--md-switch-disabled-selected-handle-opacity, 1)}.unselected .handle::before{background-color:var(--md-switch-handle-color, var(--md-sys-color-outline, #79747e))}.unselected:hover .handle::before{background-color:var(--md-switch-hover-handle-color, var(--md-sys-color-on-surface-variant, #49454f))}.unselected:focus-within .handle::before{background-color:var(--md-switch-focus-handle-color, var(--md-sys-color-on-surface-variant, #49454f))}.unselected:active .handle::before{background-color:var(--md-switch-pressed-handle-color, var(--md-sys-color-on-surface-variant, #49454f))}.unselected.disabled .handle::before{background-color:var(--md-switch-disabled-handle-color, var(--md-sys-color-on-surface, #1d1b20));opacity:var(--md-switch-disabled-handle-opacity, 0.38)}md-ripple{border-radius:var(--md-switch-state-layer-shape, var(--md-sys-shape-corner-full, 9999px));height:var(--md-switch-state-layer-size, 40px);inset:unset;width:var(--md-switch-state-layer-size, 40px)}.selected md-ripple{--md-ripple-hover-color: var(--md-switch-selected-hover-state-layer-color, var(--md-sys-color-primary, #6750a4));--md-ripple-pressed-color: var(--md-switch-selected-pressed-state-layer-color, var(--md-sys-color-primary, #6750a4));--md-ripple-hover-opacity: var(--md-switch-selected-hover-state-layer-opacity, 0.08);--md-ripple-pressed-opacity: var(--md-switch-selected-pressed-state-layer-opacity, 0.12)}.unselected md-ripple{--md-ripple-hover-color: var(--md-switch-hover-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--md-ripple-pressed-color: var(--md-switch-pressed-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--md-ripple-hover-opacity: var(--md-switch-hover-state-layer-opacity, 0.08);--md-ripple-pressed-opacity: var(--md-switch-pressed-state-layer-opacity, 0.12)}}@layer hcm{@media(forced-colors: active){.unselected .handle::before{background:ButtonText}.disabled .handle::before{opacity:1}.disabled.unselected .handle::before{background:GrayText}}}@layer styles{.icons{position:relative;height:100%;width:100%}.icon{position:absolute;inset:0;margin:auto;display:flex;align-items:center;justify-content:center;fill:currentColor;transition:fill 67ms linear,opacity 33ms linear,transform 167ms cubic-bezier(0.2, 0, 0, 1);opacity:0}.disabled .icon{transition:none}.selected .icon--on,.unselected .icon--off{opacity:1}.unselected .handle:not(.with-icon) .icon--on{transform:rotate(-45deg)}.icon--off{width:var(--md-switch-icon-size, 16px);height:var(--md-switch-icon-size, 16px);color:var(--md-switch-icon-color, var(--md-sys-color-surface-container-highest, #e6e0e9))}.unselected:hover .icon--off{color:var(--md-switch-hover-icon-color, var(--md-sys-color-surface-container-highest, #e6e0e9))}.unselected:focus-within .icon--off{color:var(--md-switch-focus-icon-color, var(--md-sys-color-surface-container-highest, #e6e0e9))}.unselected:active .icon--off{color:var(--md-switch-pressed-icon-color, var(--md-sys-color-surface-container-highest, #e6e0e9))}.unselected.disabled .icon--off{color:var(--md-switch-disabled-icon-color, var(--md-sys-color-surface-container-highest, #e6e0e9));opacity:var(--md-switch-disabled-icon-opacity, 0.38)}.icon--on{width:var(--md-switch-selected-icon-size, 16px);height:var(--md-switch-selected-icon-size, 16px);color:var(--md-switch-selected-icon-color, var(--md-sys-color-on-primary-container, #21005d))}.selected:hover .icon--on{color:var(--md-switch-selected-hover-icon-color, var(--md-sys-color-on-primary-container, #21005d))}.selected:focus-within .icon--on{color:var(--md-switch-selected-focus-icon-color, var(--md-sys-color-on-primary-container, #21005d))}.selected:active .icon--on{color:var(--md-switch-selected-pressed-icon-color, var(--md-sys-color-on-primary-container, #21005d))}.selected.disabled .icon--on{color:var(--md-switch-disabled-selected-icon-color, var(--md-sys-color-on-surface, #1d1b20));opacity:var(--md-switch-disabled-selected-icon-opacity, 0.38)}}@layer hcm{@media(forced-colors: active){.icon--off{fill:Canvas}.icon--on{fill:ButtonText}.disabled.unselected .icon--off,.disabled.selected .icon--on{opacity:1}.disabled .icon--on{fill:GrayText}}}
`;let O_=class extends Co{};O_.styles=[a$];O_=$([en("md-switch")],O_);const o$=({open:n,onClose:e,onSave:t,userRole:r,currentPreferences:a,currentNtfyTopic:o,allButtons:c})=>{const[d,f]=S.useState([]),[m,v]=S.useState("");S.useEffect(()=>{n&&(f(a),v(o||""))},[n,a,o]);const y=(U,k)=>{f(k?V=>[...V,U]:V=>V.filter(K=>K!==U))},E=()=>{const U=Jp[r]||[];f(U)},I=()=>{t(d,m),e()};return x.jsxs("md-dialog",{open:n||void 0,onClose:e,children:[x.jsx("div",{slot:"headline",children:"Notification Settings"}),x.jsxs("div",{slot:"content",className:"flex flex-col gap-4 min-w-[300px]",children:[x.jsxs("div",{className:"text-sm text-gray-400",children:["Enable or disable notifications for your role (",r,")."]}),x.jsxs("div",{className:"p-4 bg-[#2D2D2D] rounded-lg border border-[#444] flex flex-col gap-3",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"font-bold text-gray-300",children:"iOS Alerts (ntfy)"}),x.jsx("span",{className:"text-xs text-green-400 font-mono bg-green-900/30 px-2 py-1 rounded",children:"Active"})]}),x.jsx("div",{className:"text-xs text-gray-400 font-mono break-all p-2 bg-black/50 rounded select-all",children:m||"Loading..."}),m&&x.jsxs("a",{href:`ntfy://subscribe/${m}`,className:"flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg font-bold text-sm transition-colors text-center no-underline",children:[x.jsx("md-icon",{style:{fontSize:"18px"},children:"notifications_active"}),"Subscribe on iOS"]}),x.jsxs("div",{className:"flex flex-col items-center gap-1",children:[x.jsx("span",{className:"text-xs text-green-400 font-bold",children:"(It's free!)"}),x.jsxs("p",{className:"text-[10px] text-gray-500 text-center",children:["Requires the ",x.jsx("a",{href:"https://apps.apple.com/us/app/ntfy/id1625396347",target:"_blank",className:"text-blue-400 hover:underline",children:"ntfy app"})," installed."]})]})]}),x.jsx("md-list",{className:"bg-transparent max-h-[60vh] overflow-y-auto",children:c.map(U=>{const k=d.includes(U.id);return x.jsxs("md-list-item",{children:[x.jsx("div",{slot:"headline",children:U.label}),x.jsx("md-icon",{slot:"start",children:U.icon||"notifications"}),x.jsx("md-switch",{slot:"end",selected:k,onClick:()=>y(U.id,!k)})]},U.id)})})]}),x.jsxs("div",{slot:"actions",children:[x.jsx("md-text-button",{onClick:E,children:"Reset to Default"}),x.jsx("div",{className:"flex-1"}),x.jsx("md-text-button",{onClick:e,children:"Cancel"}),x.jsx("md-filled-button",{onClick:I,children:"Save"})]})]})},l$=({open:n,onClose:e,barName:t,allButtons:r,hiddenButtonIds:a,onHideButton:o,godMode:c,onUnhideButton:d})=>{const[f,m]=S.useState(null),v=S.useMemo(()=>new Set(a),[a]),y=S.useMemo(()=>r.filter(k=>!v.has(k.id)),[r,v]),E=S.useMemo(()=>r.filter(k=>v.has(k.id)),[r,v]),I=k=>{m(k)},U=()=>{f&&(o(f),m(null))};return x.jsxs(x.Fragment,{children:[x.jsxs("md-dialog",{"data-testid":"bar-manager-dialog",open:n||void 0,onClose:e,style:{maxHeight:"80vh"},children:[x.jsxs("div",{slot:"headline",children:["Manage ",t]}),x.jsxs("div",{slot:"content",className:"flex flex-col gap-4 min-w-[300px]",children:[x.jsx("div",{className:"text-sm text-gray-400",children:"Manage active pager buttons. Hiding a button removes it from the main dashboard but keeps it in the database."}),x.jsx("div",{className:"border border-gray-800 rounded overflow-y-auto max-h-[50vh]",children:x.jsxs("md-list",{children:[y.map(k=>x.jsxs("md-list-item",{children:[x.jsx("div",{slot:"headline",children:k.label}),x.jsx("md-icon",{slot:"start",children:k.icon||"circle"}),x.jsx("md-icon-button",{slot:"end",onClick:()=>I(k.id),children:x.jsx("md-icon",{children:"close"})})]},k.id)),y.length===0&&x.jsx("div",{className:"p-4 text-center text-gray-500",children:"No active buttons."})]})}),c&&E.length>0&&x.jsxs("div",{className:"mt-4 border border-red-800 rounded overflow-y-auto max-h-[30vh]",children:[x.jsx("div",{className:"bg-red-900/20 p-2 text-xs font-bold text-red-400 uppercase",children:"Restorable Buttons (God Mode)"}),x.jsx("md-list",{children:E.map(k=>x.jsxs("md-list-item",{children:[x.jsx("div",{slot:"headline",children:k.label}),x.jsx("md-icon",{slot:"start",children:k.icon||"circle"}),x.jsx("md-icon-button",{slot:"end",onClick:()=>d&&d(k.id),children:x.jsx("md-icon",{children:"restore"})})]},k.id))})]})]}),x.jsx("div",{slot:"actions",children:x.jsx("md-text-button",{onClick:e,"data-testid":"bar-manager-close",children:"Close"})})]}),x.jsxs("md-dialog",{open:!!f||void 0,onClose:()=>m(null),children:[x.jsx("div",{slot:"headline",children:"Remove Button?"}),x.jsx("div",{slot:"content",children:"Are you sure you want to remove this button from the dashboard?"}),x.jsxs("div",{slot:"actions",children:[x.jsx("md-text-button",{onClick:()=>m(null),children:"Cancel"}),x.jsx("md-filled-button",{onClick:U,className:"btn-alert",children:"Remove"})]})]})]})},c$=({open:n,mode:e,searchTerm:t,onSearchChange:r,onClose:a,onSelect:o,suggestions:c})=>{const d=t.toLowerCase(),f=c.filter(v=>v.toLowerCase().includes(d)),m=f.some(v=>v.toLowerCase()===d);return x.jsxs("md-dialog",{open:n||void 0,onClose:a,children:[x.jsxs("div",{slot:"headline",children:[e==="brand"&&"Select or Add Brand",e==="type"&&"Select or Add Type",e==="well"&&"Add Well"]}),x.jsxs("div",{slot:"content",className:"flex flex-col gap-4 min-w-[300px] h-[300px]",children:[x.jsx("md-filled-text-field",{label:e==="well"?"Well Name":"Search...",value:t,onInput:v=>r(v.target.value),style:{width:"100%"}}),e!=="well"?x.jsx("div",{className:"flex-1 overflow-y-auto border border-gray-800 rounded p-2",children:x.jsxs("md-list",{children:[f.map(v=>x.jsxs("md-list-item",{type:"button",onClick:()=>o(v),children:[x.jsx("div",{slot:"headline",children:v}),x.jsx("md-icon",{slot:"end",children:"arrow_forward"})]},v)),t&&!m&&x.jsxs("md-list-item",{type:"button",onClick:()=>o(t),children:[x.jsxs("div",{slot:"headline",className:"text-blue-400",children:['Create "',t,'"']}),x.jsx("md-icon",{slot:"end",className:"text-blue-400",children:"add_circle"})]})]})}):x.jsx("div",{className:"flex justify-center p-4",children:x.jsx("md-filled-button",{onClick:()=>o(t),children:"Save & Request"})})]}),x.jsx("div",{slot:"actions",children:x.jsx("md-text-button",{onClick:a,children:"Cancel"})})]})},u$=({open:n,onClose:e,users:t})=>{const r=t.filter(a=>a.status==="active"||a.status===void 0);return x.jsxs("md-dialog",{open:n||void 0,onClose:e,children:[x.jsx("div",{slot:"headline",children:"Who's On"}),x.jsx("div",{slot:"content",className:"flex flex-col gap-4 min-w-[300px]",children:x.jsxs("div",{children:[x.jsxs("h3",{className:"text-green-400 font-bold text-sm uppercase tracking-wide mb-2",children:["Clocked In (",r.length,")"]}),x.jsx("div",{className:"border border-gray-800 rounded overflow-hidden",children:x.jsxs("md-list",{children:[r.map(a=>x.jsxs("md-list-item",{children:[x.jsx("div",{slot:"headline",className:"text-white",children:a.displayName||"Unknown"}),x.jsx("div",{slot:"supporting-text",className:"text-gray-400",children:a.role}),x.jsx("md-icon",{slot:"start",className:"text-green-500",children:"fiber_manual_record"})]},a.id)),r.length===0&&x.jsx("div",{className:"p-4 text-center text-gray-500",children:"No one is clocked in."})]})})]})}),x.jsx("div",{slot:"actions",children:x.jsx("md-text-button",{onClick:e,children:"Close"})})]})};function d$(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return S.useMemo(()=>r=>{e.forEach(a=>a(r))},e)}const Dg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Iu(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function Cw(n){return"nodeType"in n}function Cr(n){var e,t;return n?Iu(n)?n:Cw(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function Rw(n){const{Document:e}=Cr(n);return n instanceof e}function Hh(n){return Iu(n)?!1:n instanceof Cr(n).HTMLElement}function lN(n){return n instanceof Cr(n).SVGElement}function Cu(n){return n?Iu(n)?n.document:Cw(n)?Rw(n)?n:Hh(n)||lN(n)?n.ownerDocument:document:document:document}const Yi=Dg?S.useLayoutEffect:S.useEffect;function Ng(n){const e=S.useRef(n);return Yi(()=>{e.current=n}),S.useCallback(function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e.current==null?void 0:e.current(...r)},[])}function h$(){const n=S.useRef(null),e=S.useCallback((r,a)=>{n.current=setInterval(r,a)},[]),t=S.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function wh(n,e){e===void 0&&(e=[n]);const t=S.useRef(n);return Yi(()=>{t.current!==n&&(t.current=n)},e),t}function Gh(n,e){const t=S.useRef();return S.useMemo(()=>{const r=n(t.current);return t.current=r,r},[...e])}function Om(n){const e=Ng(n),t=S.useRef(null),r=S.useCallback(a=>{a!==t.current&&e?.(a,t.current),t.current=a},[]);return[t,r]}function Pm(n){const e=S.useRef();return S.useEffect(()=>{e.current=n},[n]),e.current}let mb={};function Kh(n,e){return S.useMemo(()=>{if(e)return e;const t=mb[n]==null?0:mb[n]+1;return mb[n]=t,n+"-"+t},[n,e])}function cN(n){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return r.reduce((o,c)=>{const d=Object.entries(c);for(const[f,m]of d){const v=o[f];v!=null&&(o[f]=v+n*m)}return o},{...e})}}const Yc=cN(1),Mm=cN(-1);function f$(n){return"clientX"in n&&"clientY"in n}function kg(n){if(!n)return!1;const{KeyboardEvent:e}=Cr(n.target);return e&&n instanceof e}function p$(n){if(!n)return!1;const{TouchEvent:e}=Cr(n.target);return e&&n instanceof e}function Vm(n){if(p$(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return f$(n)?{x:n.clientX,y:n.clientY}:null}const vo=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[vo.Translate.toString(n),vo.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:r}=n;return e+" "+t+"ms "+r}}}),r1="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function m$(n){return n.matches(r1)?n:n.querySelector(r1)}const g$={display:"none"};function v$(n){let{id:e,value:t}=n;return Jt.createElement("div",{id:e,style:g$},t)}function y$(n){let{id:e,announcement:t,ariaLiveType:r="assertive"}=n;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Jt.createElement("div",{id:e,style:a,role:"status","aria-live":r,"aria-atomic":!0},t)}function b$(){const[n,e]=S.useState("");return{announce:S.useCallback(r=>{r!=null&&e(r)},[]),announcement:n}}const uN=S.createContext(null);function _$(n){const e=S.useContext(uN);S.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function w$(){const[n]=S.useState(()=>new Set),e=S.useCallback(r=>(n.add(r),()=>n.delete(r)),[n]);return[S.useCallback(r=>{let{type:a,event:o}=r;n.forEach(c=>{var d;return(d=c[a])==null?void 0:d.call(c,o)})},[n]),e]}const E$={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},x$={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function T$(n){let{announcements:e=x$,container:t,hiddenTextDescribedById:r,screenReaderInstructions:a=E$}=n;const{announce:o,announcement:c}=b$(),d=Kh("DndLiveRegion"),[f,m]=S.useState(!1);if(S.useEffect(()=>{m(!0)},[]),_$(S.useMemo(()=>({onDragStart(y){let{active:E}=y;o(e.onDragStart({active:E}))},onDragMove(y){let{active:E,over:I}=y;e.onDragMove&&o(e.onDragMove({active:E,over:I}))},onDragOver(y){let{active:E,over:I}=y;o(e.onDragOver({active:E,over:I}))},onDragEnd(y){let{active:E,over:I}=y;o(e.onDragEnd({active:E,over:I}))},onDragCancel(y){let{active:E,over:I}=y;o(e.onDragCancel({active:E,over:I}))}}),[o,e])),!f)return null;const v=Jt.createElement(Jt.Fragment,null,Jt.createElement(v$,{id:r,value:a.draggable}),Jt.createElement(y$,{id:d,announcement:c}));return t?Dd.createPortal(v,t):v}var Vn;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(Vn||(Vn={}));function Lm(){}function i1(n,e){return S.useMemo(()=>({sensor:n,options:e??{}}),[n,e])}function S$(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return S.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Qi=Object.freeze({x:0,y:0});function A$(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function I$(n,e){const t=Vm(n);if(!t)return"0 0";const r={x:(t.x-e.left)/e.width*100,y:(t.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function C$(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return t-r}function R$(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return r-t}function D$(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}function s1(n,e,t){return e===void 0&&(e=n.left),t===void 0&&(t=n.top),{x:e+n.width*.5,y:t+n.height*.5}}const a1=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const a=s1(e,e.left,e.top),o=[];for(const c of r){const{id:d}=c,f=t.get(d);if(f){const m=A$(s1(f),a);o.push({id:d,data:{droppableContainer:c,value:m}})}}return o.sort(C$)};function N$(n,e){const t=Math.max(e.top,n.top),r=Math.max(e.left,n.left),a=Math.min(e.left+e.width,n.left+n.width),o=Math.min(e.top+e.height,n.top+n.height),c=a-r,d=o-t;if(r<a&&t<o){const f=e.width*e.height,m=n.width*n.height,v=c*d,y=v/(f+m-v);return Number(y.toFixed(4))}return 0}const k$=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const a=[];for(const o of r){const{id:c}=o,d=t.get(c);if(d){const f=N$(d,e);f>0&&a.push({id:c,data:{droppableContainer:o,value:f}})}}return a.sort(R$)};function O$(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function dN(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:Qi}function P$(n){return function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return a.reduce((c,d)=>({...c,top:c.top+n*d.y,bottom:c.bottom+n*d.y,left:c.left+n*d.x,right:c.right+n*d.x}),{...t})}}const M$=P$(1);function hN(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function V$(n,e,t){const r=hN(e);if(!r)return n;const{scaleX:a,scaleY:o,x:c,y:d}=r,f=n.left-c-(1-a)*parseFloat(t),m=n.top-d-(1-o)*parseFloat(t.slice(t.indexOf(" ")+1)),v=a?n.width/a:n.width,y=o?n.height/o:n.height;return{width:v,height:y,top:m,right:f+v,bottom:m+y,left:f}}const L$={ignoreTransform:!1};function Ru(n,e){e===void 0&&(e=L$);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:m,transformOrigin:v}=Cr(n).getComputedStyle(n);m&&(t=V$(t,m,v))}const{top:r,left:a,width:o,height:c,bottom:d,right:f}=t;return{top:r,left:a,width:o,height:c,bottom:d,right:f}}function o1(n){return Ru(n,{ignoreTransform:!0})}function U$(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function B$(n,e){return e===void 0&&(e=Cr(n).getComputedStyle(n)),e.position==="fixed"}function z$(n,e){e===void 0&&(e=Cr(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const o=e[a];return typeof o=="string"?t.test(o):!1})}function Dw(n,e){const t=[];function r(a){if(e!=null&&t.length>=e||!a)return t;if(Rw(a)&&a.scrollingElement!=null&&!t.includes(a.scrollingElement))return t.push(a.scrollingElement),t;if(!Hh(a)||lN(a)||t.includes(a))return t;const o=Cr(n).getComputedStyle(a);return a!==n&&z$(a,o)&&t.push(a),B$(a,o)?t:r(a.parentNode)}return n?r(n):t}function fN(n){const[e]=Dw(n,1);return e??null}function gb(n){return!Dg||!n?null:Iu(n)?n:Cw(n)?Rw(n)||n===Cu(n).scrollingElement?window:Hh(n)?n:null:null}function pN(n){return Iu(n)?n.scrollX:n.scrollLeft}function mN(n){return Iu(n)?n.scrollY:n.scrollTop}function P_(n){return{x:pN(n),y:mN(n)}}var qn;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(qn||(qn={}));function gN(n){return!Dg||!n?!1:n===document.scrollingElement}function vN(n){const e={x:0,y:0},t=gN(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},r={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},a=n.scrollTop<=e.y,o=n.scrollLeft<=e.x,c=n.scrollTop>=r.y,d=n.scrollLeft>=r.x;return{isTop:a,isLeft:o,isBottom:c,isRight:d,maxScroll:r,minScroll:e}}const j$={x:.2,y:.2};function $$(n,e,t,r,a){let{top:o,left:c,right:d,bottom:f}=t;r===void 0&&(r=10),a===void 0&&(a=j$);const{isTop:m,isBottom:v,isLeft:y,isRight:E}=vN(n),I={x:0,y:0},U={x:0,y:0},k={height:e.height*a.y,width:e.width*a.x};return!m&&o<=e.top+k.height?(I.y=qn.Backward,U.y=r*Math.abs((e.top+k.height-o)/k.height)):!v&&f>=e.bottom-k.height&&(I.y=qn.Forward,U.y=r*Math.abs((e.bottom-k.height-f)/k.height)),!E&&d>=e.right-k.width?(I.x=qn.Forward,U.x=r*Math.abs((e.right-k.width-d)/k.width)):!y&&c<=e.left+k.width&&(I.x=qn.Backward,U.x=r*Math.abs((e.left+k.width-c)/k.width)),{direction:I,speed:U}}function F$(n){if(n===document.scrollingElement){const{innerWidth:o,innerHeight:c}=window;return{top:0,left:0,right:o,bottom:c,width:o,height:c}}const{top:e,left:t,right:r,bottom:a}=n.getBoundingClientRect();return{top:e,left:t,right:r,bottom:a,width:n.clientWidth,height:n.clientHeight}}function yN(n){return n.reduce((e,t)=>Yc(e,P_(t)),Qi)}function q$(n){return n.reduce((e,t)=>e+pN(t),0)}function H$(n){return n.reduce((e,t)=>e+mN(t),0)}function bN(n,e){if(e===void 0&&(e=Ru),!n)return;const{top:t,left:r,bottom:a,right:o}=e(n);fN(n)&&(a<=0||o<=0||t>=window.innerHeight||r>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const G$=[["x",["left","right"],q$],["y",["top","bottom"],H$]];class Nw{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Dw(t),a=yN(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,c,d]of G$)for(const f of c)Object.defineProperty(this,f,{get:()=>{const m=d(r),v=a[o]-m;return this.rect[f]+v},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Xd{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...t)})},this.target=e}add(e,t,r){var a;(a=this.target)==null||a.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function K$(n){const{EventTarget:e}=Cr(n);return n instanceof e?n:Cu(n)}function vb(n,e){const t=Math.abs(n.x),r=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+r**2)>e:"x"in e&&"y"in e?t>e.x&&r>e.y:"x"in e?t>e.x:"y"in e?r>e.y:!1}var Ti;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(Ti||(Ti={}));function l1(n){n.preventDefault()}function Y$(n){n.stopPropagation()}var vt;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(vt||(vt={}));const _N={start:[vt.Space,vt.Enter],cancel:[vt.Esc],end:[vt.Space,vt.Enter,vt.Tab]},Q$=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case vt.Right:return{...t,x:t.x+25};case vt.Left:return{...t,x:t.x-25};case vt.Down:return{...t,y:t.y+25};case vt.Up:return{...t,y:t.y-25}}};class wN{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Xd(Cu(t)),this.windowListeners=new Xd(Cr(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ti.Resize,this.handleCancel),this.windowListeners.add(Ti.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ti.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&bN(r),t(Qi)}handleKeyDown(e){if(kg(e)){const{active:t,context:r,options:a}=this.props,{keyboardCodes:o=_N,coordinateGetter:c=Q$,scrollBehavior:d="smooth"}=a,{code:f}=e;if(o.end.includes(f)){this.handleEnd(e);return}if(o.cancel.includes(f)){this.handleCancel(e);return}const{collisionRect:m}=r.current,v=m?{x:m.left,y:m.top}:Qi;this.referenceCoordinates||(this.referenceCoordinates=v);const y=c(e,{active:t,context:r.current,currentCoordinates:v});if(y){const E=Mm(y,v),I={x:0,y:0},{scrollableAncestors:U}=r.current;for(const k of U){const V=e.code,{isTop:K,isRight:F,isLeft:G,isBottom:ce,maxScroll:ae,minScroll:de}=vN(k),D=F$(k),A={x:Math.min(V===vt.Right?D.right-D.width/2:D.right,Math.max(V===vt.Right?D.left:D.left+D.width/2,y.x)),y:Math.min(V===vt.Down?D.bottom-D.height/2:D.bottom,Math.max(V===vt.Down?D.top:D.top+D.height/2,y.y))},R=V===vt.Right&&!F||V===vt.Left&&!G,M=V===vt.Down&&!ce||V===vt.Up&&!K;if(R&&A.x!==y.x){const P=k.scrollLeft+E.x,B=V===vt.Right&&P<=ae.x||V===vt.Left&&P>=de.x;if(B&&!E.y){k.scrollTo({left:P,behavior:d});return}B?I.x=k.scrollLeft-P:I.x=V===vt.Right?k.scrollLeft-ae.x:k.scrollLeft-de.x,I.x&&k.scrollBy({left:-I.x,behavior:d});break}else if(M&&A.y!==y.y){const P=k.scrollTop+E.y,B=V===vt.Down&&P<=ae.y||V===vt.Up&&P>=de.y;if(B&&!E.x){k.scrollTo({top:P,behavior:d});return}B?I.y=k.scrollTop-P:I.y=V===vt.Down?k.scrollTop-ae.y:k.scrollTop-de.y,I.y&&k.scrollBy({top:-I.y,behavior:d});break}}this.handleMove(e,Yc(Mm(y,this.referenceCoordinates),I))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}wN.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:r=_N,onActivation:a}=e,{active:o}=t;const{code:c}=n.nativeEvent;if(r.start.includes(c)){const d=o.activatorNode.current;return d&&n.target!==d?!1:(n.preventDefault(),a?.({event:n.nativeEvent}),!0)}return!1}}];function c1(n){return!!(n&&"distance"in n)}function u1(n){return!!(n&&"delay"in n)}class kw{constructor(e,t,r){var a;r===void 0&&(r=K$(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:c}=o;this.props=e,this.events=t,this.document=Cu(c),this.documentListeners=new Xd(this.document),this.listeners=new Xd(r),this.windowListeners=new Xd(Cr(c)),this.initialCoordinates=(a=Vm(o))!=null?a:Qi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Ti.Resize,this.handleCancel),this.windowListeners.add(Ti.DragStart,l1),this.windowListeners.add(Ti.VisibilityChange,this.handleCancel),this.windowListeners.add(Ti.ContextMenu,l1),this.documentListeners.add(Ti.Keydown,this.handleKeydown),t){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(u1(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(c1(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:r,onPending:a}=this.props;a(r,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ti.Click,Y$,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ti.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:a,props:o}=this,{onMove:c,options:{activationConstraint:d}}=o;if(!a)return;const f=(t=Vm(e))!=null?t:Qi,m=Mm(a,f);if(!r&&d){if(c1(d)){if(d.tolerance!=null&&vb(m,d.tolerance))return this.handleCancel();if(vb(m,d.distance))return this.handleStart()}if(u1(d)&&vb(m,d.tolerance))return this.handleCancel();this.handlePending(d,m);return}e.cancelable&&e.preventDefault(),c(f)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===vt.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const W$={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class EN extends kw{constructor(e){const{event:t}=e,r=Cu(t.target);super(e,W$,r)}}EN.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return!t.isPrimary||t.button!==0?!1:(r?.({event:t}),!0)}}];const X$={move:{name:"mousemove"},end:{name:"mouseup"}};var M_;(function(n){n[n.RightClick=2]="RightClick"})(M_||(M_={}));class xN extends kw{constructor(e){super(e,X$,Cu(e.event.target))}}xN.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return t.button===M_.RightClick?!1:(r?.({event:t}),!0)}}];const yb={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class TN extends kw{constructor(e){super(e,yb)}static setup(){return window.addEventListener(yb.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(yb.move.name,e)};function e(){}}}TN.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;const{touches:a}=t;return a.length>1?!1:(r?.({event:t}),!0)}}];var Jd;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(Jd||(Jd={}));var Um;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(Um||(Um={}));function J$(n){let{acceleration:e,activator:t=Jd.Pointer,canScroll:r,draggingRect:a,enabled:o,interval:c=5,order:d=Um.TreeOrder,pointerCoordinates:f,scrollableAncestors:m,scrollableAncestorRects:v,delta:y,threshold:E}=n;const I=eF({delta:y,disabled:!o}),[U,k]=h$(),V=S.useRef({x:0,y:0}),K=S.useRef({x:0,y:0}),F=S.useMemo(()=>{switch(t){case Jd.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case Jd.DraggableRect:return a}},[t,a,f]),G=S.useRef(null),ce=S.useCallback(()=>{const de=G.current;if(!de)return;const D=V.current.x*K.current.x,A=V.current.y*K.current.y;de.scrollBy(D,A)},[]),ae=S.useMemo(()=>d===Um.TreeOrder?[...m].reverse():m,[d,m]);S.useEffect(()=>{if(!o||!m.length||!F){k();return}for(const de of ae){if(r?.(de)===!1)continue;const D=m.indexOf(de),A=v[D];if(!A)continue;const{direction:R,speed:M}=$$(de,A,F,e,E);for(const P of["x","y"])I[P][R[P]]||(M[P]=0,R[P]=0);if(M.x>0||M.y>0){k(),G.current=de,U(ce,c),V.current=M,K.current=R;return}}V.current={x:0,y:0},K.current={x:0,y:0},k()},[e,ce,r,k,o,c,JSON.stringify(F),JSON.stringify(I),U,m,ae,v,JSON.stringify(E)])}const Z$={x:{[qn.Backward]:!1,[qn.Forward]:!1},y:{[qn.Backward]:!1,[qn.Forward]:!1}};function eF(n){let{delta:e,disabled:t}=n;const r=Pm(e);return Gh(a=>{if(t||!r||!a)return Z$;const o={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[qn.Backward]:a.x[qn.Backward]||o.x===-1,[qn.Forward]:a.x[qn.Forward]||o.x===1},y:{[qn.Backward]:a.y[qn.Backward]||o.y===-1,[qn.Forward]:a.y[qn.Forward]||o.y===1}}},[t,e,r])}function tF(n,e){const t=e!=null?n.get(e):void 0,r=t?t.node.current:null;return Gh(a=>{var o;return e==null?null:(o=r??a)!=null?o:null},[r,e])}function nF(n,e){return S.useMemo(()=>n.reduce((t,r)=>{const{sensor:a}=r,o=a.activators.map(c=>({eventName:c.eventName,handler:e(c.handler,r)}));return[...t,...o]},[]),[n,e])}var Eh;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(Eh||(Eh={}));var V_;(function(n){n.Optimized="optimized"})(V_||(V_={}));const d1=new Map;function rF(n,e){let{dragging:t,dependencies:r,config:a}=e;const[o,c]=S.useState(null),{frequency:d,measure:f,strategy:m}=a,v=S.useRef(n),y=V(),E=wh(y),I=S.useCallback(function(K){K===void 0&&(K=[]),!E.current&&c(F=>F===null?K:F.concat(K.filter(G=>!F.includes(G))))},[E]),U=S.useRef(null),k=Gh(K=>{if(y&&!t)return d1;if(!K||K===d1||v.current!==n||o!=null){const F=new Map;for(let G of n){if(!G)continue;if(o&&o.length>0&&!o.includes(G.id)&&G.rect.current){F.set(G.id,G.rect.current);continue}const ce=G.node.current,ae=ce?new Nw(f(ce),ce):null;G.rect.current=ae,ae&&F.set(G.id,ae)}return F}return K},[n,o,t,y,f]);return S.useEffect(()=>{v.current=n},[n]),S.useEffect(()=>{y||I()},[t,y]),S.useEffect(()=>{o&&o.length>0&&c(null)},[JSON.stringify(o)]),S.useEffect(()=>{y||typeof d!="number"||U.current!==null||(U.current=setTimeout(()=>{I(),U.current=null},d))},[d,y,I,...r]),{droppableRects:k,measureDroppableContainers:I,measuringScheduled:o!=null};function V(){switch(m){case Eh.Always:return!1;case Eh.BeforeDragging:return t;default:return!t}}}function Ow(n,e){return Gh(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function iF(n,e){return Ow(n,e)}function sF(n){let{callback:e,disabled:t}=n;const r=Ng(e),a=S.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,t]);return S.useEffect(()=>()=>a?.disconnect(),[a]),a}function Og(n){let{callback:e,disabled:t}=n;const r=Ng(e),a=S.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[t]);return S.useEffect(()=>()=>a?.disconnect(),[a]),a}function aF(n){return new Nw(Ru(n),n)}function h1(n,e,t){e===void 0&&(e=aF);const[r,a]=S.useState(null);function o(){a(f=>{if(!n)return null;if(n.isConnected===!1){var m;return(m=f??t)!=null?m:null}const v=e(n);return JSON.stringify(f)===JSON.stringify(v)?f:v})}const c=sF({callback(f){if(n)for(const m of f){const{type:v,target:y}=m;if(v==="childList"&&y instanceof HTMLElement&&y.contains(n)){o();break}}}}),d=Og({callback:o});return Yi(()=>{o(),n?(d?.observe(n),c?.observe(document.body,{childList:!0,subtree:!0})):(d?.disconnect(),c?.disconnect())},[n]),r}function oF(n){const e=Ow(n);return dN(n,e)}const f1=[];function lF(n){const e=S.useRef(n),t=Gh(r=>n?r&&r!==f1&&n&&e.current&&n.parentNode===e.current.parentNode?r:Dw(n):f1,[n]);return S.useEffect(()=>{e.current=n},[n]),t}function cF(n){const[e,t]=S.useState(null),r=S.useRef(n),a=S.useCallback(o=>{const c=gb(o.target);c&&t(d=>d?(d.set(c,P_(c)),new Map(d)):null)},[]);return S.useEffect(()=>{const o=r.current;if(n!==o){c(o);const d=n.map(f=>{const m=gb(f);return m?(m.addEventListener("scroll",a,{passive:!0}),[m,P_(m)]):null}).filter(f=>f!=null);t(d.length?new Map(d):null),r.current=n}return()=>{c(n),c(o)};function c(d){d.forEach(f=>{const m=gb(f);m?.removeEventListener("scroll",a)})}},[a,n]),S.useMemo(()=>n.length?e?Array.from(e.values()).reduce((o,c)=>Yc(o,c),Qi):yN(n):Qi,[n,e])}function p1(n,e){e===void 0&&(e=[]);const t=S.useRef(null);return S.useEffect(()=>{t.current=null},e),S.useEffect(()=>{const r=n!==Qi;r&&!t.current&&(t.current=n),!r&&t.current&&(t.current=null)},[n]),t.current?Mm(n,t.current):Qi}function uF(n){S.useEffect(()=>{if(!Dg)return;const e=n.map(t=>{let{sensor:r}=t;return r.setup==null?void 0:r.setup()});return()=>{for(const t of e)t?.()}},n.map(e=>{let{sensor:t}=e;return t}))}function dF(n,e){return S.useMemo(()=>n.reduce((t,r)=>{let{eventName:a,handler:o}=r;return t[a]=c=>{o(c,e)},t},{}),[n,e])}function SN(n){return S.useMemo(()=>n?U$(n):null,[n])}const m1=[];function hF(n,e){e===void 0&&(e=Ru);const[t]=n,r=SN(t?Cr(t):null),[a,o]=S.useState(m1);function c(){o(()=>n.length?n.map(f=>gN(f)?r:new Nw(e(f),f)):m1)}const d=Og({callback:c});return Yi(()=>{d?.disconnect(),c(),n.forEach(f=>d?.observe(f))},[n]),a}function AN(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return Hh(e)?e:n}function fF(n){let{measure:e}=n;const[t,r]=S.useState(null),a=S.useCallback(m=>{for(const{target:v}of m)if(Hh(v)){r(y=>{const E=e(v);return y?{...y,width:E.width,height:E.height}:E});break}},[e]),o=Og({callback:a}),c=S.useCallback(m=>{const v=AN(m);o?.disconnect(),v&&o?.observe(v),r(v?e(v):null)},[e,o]),[d,f]=Om(c);return S.useMemo(()=>({nodeRef:d,rect:t,setRef:f}),[t,d,f])}const pF=[{sensor:EN,options:{}},{sensor:wN,options:{}}],mF={current:{}},Zp={draggable:{measure:o1},droppable:{measure:o1,strategy:Eh.WhileDragging,frequency:V_.Optimized},dragOverlay:{measure:Ru}};class Zd extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return(t=(r=this.get(e))==null?void 0:r.node.current)!=null?t:void 0}}const gF={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Zd,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Lm},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Zp,measureDroppableContainers:Lm,windowRect:null,measuringScheduled:!1},IN={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Lm,draggableNodes:new Map,over:null,measureDroppableContainers:Lm},Yh=S.createContext(IN),CN=S.createContext(gF);function vF(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Zd}}}function yF(n,e){switch(e.type){case Vn.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Vn.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case Vn.DragEnd:case Vn.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Vn.RegisterDroppable:{const{element:t}=e,{id:r}=t,a=new Zd(n.droppable.containers);return a.set(r,t),{...n,droppable:{...n.droppable,containers:a}}}case Vn.SetDroppableDisabled:{const{id:t,key:r,disabled:a}=e,o=n.droppable.containers.get(t);if(!o||r!==o.key)return n;const c=new Zd(n.droppable.containers);return c.set(t,{...o,disabled:a}),{...n,droppable:{...n.droppable,containers:c}}}case Vn.UnregisterDroppable:{const{id:t,key:r}=e,a=n.droppable.containers.get(t);if(!a||r!==a.key)return n;const o=new Zd(n.droppable.containers);return o.delete(t),{...n,droppable:{...n.droppable,containers:o}}}default:return n}}function bF(n){let{disabled:e}=n;const{active:t,activatorEvent:r,draggableNodes:a}=S.useContext(Yh),o=Pm(r),c=Pm(t?.id);return S.useEffect(()=>{if(!e&&!r&&o&&c!=null){if(!kg(o)||document.activeElement===o.target)return;const d=a.get(c);if(!d)return;const{activatorNode:f,node:m}=d;if(!f.current&&!m.current)return;requestAnimationFrame(()=>{for(const v of[f.current,m.current]){if(!v)continue;const y=m$(v);if(y){y.focus();break}}})}},[r,e,a,c,o]),null}function RN(n,e){let{transform:t,...r}=e;return n!=null&&n.length?n.reduce((a,o)=>o({transform:a,...r}),t):t}function _F(n){return S.useMemo(()=>({draggable:{...Zp.draggable,...n?.draggable},droppable:{...Zp.droppable,...n?.droppable},dragOverlay:{...Zp.dragOverlay,...n?.dragOverlay}}),[n?.draggable,n?.droppable,n?.dragOverlay])}function wF(n){let{activeNode:e,measure:t,initialRect:r,config:a=!0}=n;const o=S.useRef(!1),{x:c,y:d}=typeof a=="boolean"?{x:a,y:a}:a;Yi(()=>{if(!c&&!d||!e){o.current=!1;return}if(o.current||!r)return;const m=e?.node.current;if(!m||m.isConnected===!1)return;const v=t(m),y=dN(v,r);if(c||(y.x=0),d||(y.y=0),o.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const E=fN(m);E&&E.scrollBy({top:y.y,left:y.x})}},[e,c,d,r,t])}const Pg=S.createContext({...Qi,scaleX:1,scaleY:1});var eo;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(eo||(eo={}));const g1=S.memo(function(e){var t,r,a,o;let{id:c,accessibility:d,autoScroll:f=!0,children:m,sensors:v=pF,collisionDetection:y=k$,measuring:E,modifiers:I,...U}=e;const k=S.useReducer(yF,void 0,vF),[V,K]=k,[F,G]=w$(),[ce,ae]=S.useState(eo.Uninitialized),de=ce===eo.Initialized,{draggable:{active:D,nodes:A,translate:R},droppable:{containers:M}}=V,P=D!=null?A.get(D):null,B=S.useRef({initial:null,translated:null}),N=S.useMemo(()=>{var Ge;return D!=null?{id:D,data:(Ge=P?.data)!=null?Ge:mF,rect:B}:null},[D,P]),Ie=S.useRef(null),[Ye,Z]=S.useState(null),[ue,be]=S.useState(null),Pe=wh(U,Object.values(U)),He=Kh("DndDescribedBy",c),z=S.useMemo(()=>M.getEnabled(),[M]),ne=_F(E),{droppableRects:ge,measureDroppableContainers:_e,measuringScheduled:ke}=rF(z,{dragging:de,dependencies:[R.x,R.y],config:ne.droppable}),Re=tF(A,D),ze=S.useMemo(()=>ue?Vm(ue):null,[ue]),yt=qr(),et=iF(Re,ne.draggable.measure);wF({activeNode:D!=null?A.get(D):null,config:yt.layoutShiftCompensation,initialRect:et,measure:ne.draggable.measure});const Fe=h1(Re,ne.draggable.measure,et),pr=h1(Re?Re.parentElement:null),un=S.useRef({activatorEvent:null,active:null,activeNode:Re,collisionRect:null,collisions:null,droppableRects:ge,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:M,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),mr=M.getNodeFor((t=un.current.over)==null?void 0:t.id),ct=fF({measure:ne.dragOverlay.measure}),Pt=(r=ct.nodeRef.current)!=null?r:Re,Cn=de?(a=ct.rect)!=null?a:Fe:null,gr=!!(ct.nodeRef.current&&ct.rect),Lt=oF(gr?null:Fe),Qe=SN(Pt?Cr(Pt):null),at=lF(de?mr??Re:null),tr=hF(at),Fr=RN(I,{transform:{x:R.x-Lt.x,y:R.y-Lt.y,scaleX:1,scaleY:1},activatorEvent:ue,active:N,activeNodeRect:Fe,containerNodeRect:pr,draggingNodeRect:Cn,over:un.current.over,overlayNodeRect:ct.rect,scrollableAncestors:at,scrollableAncestorRects:tr,windowRect:Qe}),xs=ze?Yc(ze,R):null,Yt=cF(at),Ni=p1(Yt),Xi=p1(Yt,[Fe]),Rr=Yc(Fr,Ni),yn=Cn?M$(Cn,Fr):null,ki=N&&yn?y({active:N,collisionRect:yn,droppableRects:ge,droppableContainers:z,pointerCoordinates:xs}):null,vr=D$(ki,"id"),[yr,Ji]=S.useState(null),br=gr?Fr:Yc(Fr,Xi),$t=O$(br,(o=yr?.rect)!=null?o:null,Fe),Rn=S.useRef(null),Nt=S.useCallback((Ge,Mt)=>{let{sensor:bt,options:Qt}=Mt;if(Ie.current==null)return;const Dn=A.get(Ie.current);if(!Dn)return;const dn=Ge.nativeEvent,Ft=new bt({active:Ie.current,activeNode:Dn,event:dn,options:Qt,context:un,onAbort(qt){if(!A.get(qt))return;const{onDragAbort:On}=Pe.current,zn={id:qt};On?.(zn),F({type:"onDragAbort",event:zn})},onPending(qt,kn,On,zn){if(!A.get(qt))return;const{onDragPending:jn}=Pe.current,nr={id:qt,constraint:kn,initialCoordinates:On,offset:zn};jn?.(nr),F({type:"onDragPending",event:nr})},onStart(qt){const kn=Ie.current;if(kn==null)return;const On=A.get(kn);if(!On)return;const{onDragStart:zn}=Pe.current,_r={activatorEvent:dn,active:{id:kn,data:On.data,rect:B}};Dd.unstable_batchedUpdates(()=>{zn?.(_r),ae(eo.Initializing),K({type:Vn.DragStart,initialCoordinates:qt,active:kn}),F({type:"onDragStart",event:_r}),Z(Rn.current),be(dn)})},onMove(qt){K({type:Vn.DragMove,coordinates:qt})},onEnd:Nn(Vn.DragEnd),onCancel:Nn(Vn.DragCancel)});Rn.current=Ft;function Nn(qt){return async function(){const{active:On,collisions:zn,over:_r,scrollAdjustedTranslate:jn}=un.current;let nr=null;if(On&&jn){const{cancelDrop:bn}=Pe.current;nr={activatorEvent:dn,active:On,collisions:zn,delta:jn,over:_r},qt===Vn.DragEnd&&typeof bn=="function"&&await Promise.resolve(bn(nr))&&(qt=Vn.DragCancel)}Ie.current=null,Dd.unstable_batchedUpdates(()=>{K({type:qt}),ae(eo.Uninitialized),Ji(null),Z(null),be(null),Rn.current=null;const bn=qt===Vn.DragEnd?"onDragEnd":"onDragCancel";if(nr){const Pn=Pe.current[bn];Pn?.(nr),F({type:bn,event:nr})}})}}},[A]),Ts=S.useCallback((Ge,Mt)=>(bt,Qt)=>{const Dn=bt.nativeEvent,dn=A.get(Qt);if(Ie.current!==null||!dn||Dn.dndKit||Dn.defaultPrevented)return;const Ft={active:dn};Ge(bt,Mt.options,Ft)===!0&&(Dn.dndKit={capturedBy:Mt.sensor},Ie.current=Qt,Nt(bt,Mt))},[A,Nt]),Dr=nF(v,Ts);uF(v),Yi(()=>{Fe&&ce===eo.Initializing&&ae(eo.Initialized)},[Fe,ce]),S.useEffect(()=>{const{onDragMove:Ge}=Pe.current,{active:Mt,activatorEvent:bt,collisions:Qt,over:Dn}=un.current;if(!Mt||!bt)return;const dn={active:Mt,activatorEvent:bt,collisions:Qt,delta:{x:Rr.x,y:Rr.y},over:Dn};Dd.unstable_batchedUpdates(()=>{Ge?.(dn),F({type:"onDragMove",event:dn})})},[Rr.x,Rr.y]),S.useEffect(()=>{const{active:Ge,activatorEvent:Mt,collisions:bt,droppableContainers:Qt,scrollAdjustedTranslate:Dn}=un.current;if(!Ge||Ie.current==null||!Mt||!Dn)return;const{onDragOver:dn}=Pe.current,Ft=Qt.get(vr),Nn=Ft&&Ft.rect.current?{id:Ft.id,rect:Ft.rect.current,data:Ft.data,disabled:Ft.disabled}:null,qt={active:Ge,activatorEvent:Mt,collisions:bt,delta:{x:Dn.x,y:Dn.y},over:Nn};Dd.unstable_batchedUpdates(()=>{Ji(Nn),dn?.(qt),F({type:"onDragOver",event:qt})})},[vr]),Yi(()=>{un.current={activatorEvent:ue,active:N,activeNode:Re,collisionRect:yn,collisions:ki,droppableRects:ge,draggableNodes:A,draggingNode:Pt,draggingNodeRect:Cn,droppableContainers:M,over:yr,scrollableAncestors:at,scrollAdjustedTranslate:Rr},B.current={initial:Cn,translated:yn}},[N,Re,ki,yn,A,Pt,Cn,ge,M,yr,at,Rr]),J$({...yt,delta:R,draggingRect:yn,pointerCoordinates:xs,scrollableAncestors:at,scrollableAncestorRects:tr});const Oi=S.useMemo(()=>({active:N,activeNode:Re,activeNodeRect:Fe,activatorEvent:ue,collisions:ki,containerNodeRect:pr,dragOverlay:ct,draggableNodes:A,droppableContainers:M,droppableRects:ge,over:yr,measureDroppableContainers:_e,scrollableAncestors:at,scrollableAncestorRects:tr,measuringConfiguration:ne,measuringScheduled:ke,windowRect:Qe}),[N,Re,Fe,ue,ki,pr,ct,A,M,ge,yr,_e,at,tr,ne,ke,Qe]),Nr=S.useMemo(()=>({activatorEvent:ue,activators:Dr,active:N,activeNodeRect:Fe,ariaDescribedById:{draggable:He},dispatch:K,draggableNodes:A,over:yr,measureDroppableContainers:_e}),[ue,Dr,N,Fe,K,He,A,yr,_e]);return Jt.createElement(uN.Provider,{value:G},Jt.createElement(Yh.Provider,{value:Nr},Jt.createElement(CN.Provider,{value:Oi},Jt.createElement(Pg.Provider,{value:$t},m)),Jt.createElement(bF,{disabled:d?.restoreFocus===!1})),Jt.createElement(T$,{...d,hiddenTextDescribedById:He}));function qr(){const Ge=Ye?.autoScrollEnabled===!1,Mt=typeof f=="object"?f.enabled===!1:f===!1,bt=de&&!Ge&&!Mt;return typeof f=="object"?{...f,enabled:bt}:{enabled:bt}}}),EF=S.createContext(null),v1="button",xF="Draggable";function TF(n){let{id:e,data:t,disabled:r=!1,attributes:a}=n;const o=Kh(xF),{activators:c,activatorEvent:d,active:f,activeNodeRect:m,ariaDescribedById:v,draggableNodes:y,over:E}=S.useContext(Yh),{role:I=v1,roleDescription:U="draggable",tabIndex:k=0}=a??{},V=f?.id===e,K=S.useContext(V?Pg:EF),[F,G]=Om(),[ce,ae]=Om(),de=dF(c,e),D=wh(t);Yi(()=>(y.set(e,{id:e,key:o,node:F,activatorNode:ce,data:D}),()=>{const R=y.get(e);R&&R.key===o&&y.delete(e)}),[y,e]);const A=S.useMemo(()=>({role:I,tabIndex:k,"aria-disabled":r,"aria-pressed":V&&I===v1?!0:void 0,"aria-roledescription":U,"aria-describedby":v.draggable}),[r,I,k,V,U,v.draggable]);return{active:f,activatorEvent:d,activeNodeRect:m,attributes:A,isDragging:V,listeners:r?void 0:de,node:F,over:E,setNodeRef:G,setActivatorNodeRef:ae,transform:K}}function DN(){return S.useContext(CN)}const SF="Droppable",AF={timeout:25};function IF(n){let{data:e,disabled:t=!1,id:r,resizeObserverConfig:a}=n;const o=Kh(SF),{active:c,dispatch:d,over:f,measureDroppableContainers:m}=S.useContext(Yh),v=S.useRef({disabled:t}),y=S.useRef(!1),E=S.useRef(null),I=S.useRef(null),{disabled:U,updateMeasurementsFor:k,timeout:V}={...AF,...a},K=wh(k??r),F=S.useCallback(()=>{if(!y.current){y.current=!0;return}I.current!=null&&clearTimeout(I.current),I.current=setTimeout(()=>{m(Array.isArray(K.current)?K.current:[K.current]),I.current=null},V)},[V]),G=Og({callback:F,disabled:U||!c}),ce=S.useCallback((A,R)=>{G&&(R&&(G.unobserve(R),y.current=!1),A&&G.observe(A))},[G]),[ae,de]=Om(ce),D=wh(e);return S.useEffect(()=>{!G||!ae.current||(G.disconnect(),y.current=!1,G.observe(ae.current))},[ae,G]),S.useEffect(()=>(d({type:Vn.RegisterDroppable,element:{id:r,key:o,disabled:t,node:ae,rect:E,data:D}}),()=>d({type:Vn.UnregisterDroppable,key:o,id:r})),[r]),S.useEffect(()=>{t!==v.current.disabled&&(d({type:Vn.SetDroppableDisabled,id:r,key:o,disabled:t}),v.current.disabled=t)},[r,o,t,d]),{active:c,rect:E,isOver:f?.id===r,node:ae,over:f,setNodeRef:de}}function CF(n){let{animation:e,children:t}=n;const[r,a]=S.useState(null),[o,c]=S.useState(null),d=Pm(t);return!t&&!r&&d&&a(d),Yi(()=>{if(!o)return;const f=r?.key,m=r?.props.id;if(f==null||m==null){a(null);return}Promise.resolve(e(m,o)).then(()=>{a(null)})},[e,r,o]),Jt.createElement(Jt.Fragment,null,t,r?S.cloneElement(r,{ref:c}):null)}const RF={x:0,y:0,scaleX:1,scaleY:1};function DF(n){let{children:e}=n;return Jt.createElement(Yh.Provider,{value:IN},Jt.createElement(Pg.Provider,{value:RF},e))}const NF={position:"fixed",touchAction:"none"},kF=n=>kg(n)?"transform 250ms ease":void 0,OF=S.forwardRef((n,e)=>{let{as:t,activatorEvent:r,adjustScale:a,children:o,className:c,rect:d,style:f,transform:m,transition:v=kF}=n;if(!d)return null;const y=a?m:{...m,scaleX:1,scaleY:1},E={...NF,width:d.width,height:d.height,top:d.top,left:d.left,transform:vo.Transform.toString(y),transformOrigin:a&&r?I$(r,d):void 0,transition:typeof v=="function"?v(r):v,...f};return Jt.createElement(t,{className:c,style:E,ref:e},o)}),PF=n=>e=>{let{active:t,dragOverlay:r}=e;const a={},{styles:o,className:c}=n;if(o!=null&&o.active)for(const[d,f]of Object.entries(o.active))f!==void 0&&(a[d]=t.node.style.getPropertyValue(d),t.node.style.setProperty(d,f));if(o!=null&&o.dragOverlay)for(const[d,f]of Object.entries(o.dragOverlay))f!==void 0&&r.node.style.setProperty(d,f);return c!=null&&c.active&&t.node.classList.add(c.active),c!=null&&c.dragOverlay&&r.node.classList.add(c.dragOverlay),function(){for(const[f,m]of Object.entries(a))t.node.style.setProperty(f,m);c!=null&&c.active&&t.node.classList.remove(c.active)}},MF=n=>{let{transform:{initial:e,final:t}}=n;return[{transform:vo.Transform.toString(e)},{transform:vo.Transform.toString(t)}]},VF={duration:250,easing:"ease",keyframes:MF,sideEffects:PF({styles:{active:{opacity:"0"}}})};function LF(n){let{config:e,draggableNodes:t,droppableContainers:r,measuringConfiguration:a}=n;return Ng((o,c)=>{if(e===null)return;const d=t.get(o);if(!d)return;const f=d.node.current;if(!f)return;const m=AN(c);if(!m)return;const{transform:v}=Cr(c).getComputedStyle(c),y=hN(v);if(!y)return;const E=typeof e=="function"?e:UF(e);return bN(f,a.draggable.measure),E({active:{id:o,data:d.data,node:f,rect:a.draggable.measure(f)},draggableNodes:t,dragOverlay:{node:c,rect:a.dragOverlay.measure(m)},droppableContainers:r,measuringConfiguration:a,transform:y})})}function UF(n){const{duration:e,easing:t,sideEffects:r,keyframes:a}={...VF,...n};return o=>{let{active:c,dragOverlay:d,transform:f,...m}=o;if(!e)return;const v={x:d.rect.left-c.rect.left,y:d.rect.top-c.rect.top},y={scaleX:f.scaleX!==1?c.rect.width*f.scaleX/d.rect.width:1,scaleY:f.scaleY!==1?c.rect.height*f.scaleY/d.rect.height:1},E={x:f.x-v.x,y:f.y-v.y,...y},I=a({...m,active:c,dragOverlay:d,transform:{initial:f,final:E}}),[U]=I,k=I[I.length-1];if(JSON.stringify(U)===JSON.stringify(k))return;const V=r?.({active:c,dragOverlay:d,...m}),K=d.node.animate(I,{duration:e,easing:t,fill:"forwards"});return new Promise(F=>{K.onfinish=()=>{V?.(),F()}})}}let y1=0;function BF(n){return S.useMemo(()=>{if(n!=null)return y1++,y1},[n])}const b1=Jt.memo(n=>{let{adjustScale:e=!1,children:t,dropAnimation:r,style:a,transition:o,modifiers:c,wrapperElement:d="div",className:f,zIndex:m=999}=n;const{activatorEvent:v,active:y,activeNodeRect:E,containerNodeRect:I,draggableNodes:U,droppableContainers:k,dragOverlay:V,over:K,measuringConfiguration:F,scrollableAncestors:G,scrollableAncestorRects:ce,windowRect:ae}=DN(),de=S.useContext(Pg),D=BF(y?.id),A=RN(c,{activatorEvent:v,active:y,activeNodeRect:E,containerNodeRect:I,draggingNodeRect:V.rect,over:K,overlayNodeRect:V.rect,scrollableAncestors:G,scrollableAncestorRects:ce,transform:de,windowRect:ae}),R=Ow(E),M=LF({config:r,draggableNodes:U,droppableContainers:k,measuringConfiguration:F}),P=R?V.setRef:void 0;return Jt.createElement(DF,null,Jt.createElement(CF,{animation:M},y&&D?Jt.createElement(OF,{key:D,id:y.id,ref:P,as:d,activatorEvent:v,adjustScale:e,className:f,transition:o,rect:R,style:{zIndex:m,...a},transform:A},t):null))});function Pw(n,e,t){const r=n.slice();return r.splice(t<0?r.length+t:t,0,r.splice(e,1)[0]),r}function zF(n,e){return n.reduce((t,r,a)=>{const o=e.get(r);return o&&(t[a]=o),t},Array(n.length))}function Np(n){return n!==null&&n>=0}function jF(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function $F(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const Bm=n=>{let{rects:e,activeIndex:t,overIndex:r,index:a}=n;const o=Pw(e,r,t),c=e[a],d=o[a];return!d||!c?null:{x:d.left-c.left,y:d.top-c.top,scaleX:d.width/c.width,scaleY:d.height/c.height}},NN="Sortable",kN=Jt.createContext({activeIndex:-1,containerId:NN,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Bm,disabled:{draggable:!1,droppable:!1}});function _1(n){let{children:e,id:t,items:r,strategy:a=Bm,disabled:o=!1}=n;const{active:c,dragOverlay:d,droppableRects:f,over:m,measureDroppableContainers:v}=DN(),y=Kh(NN,t),E=d.rect!==null,I=S.useMemo(()=>r.map(de=>typeof de=="object"&&"id"in de?de.id:de),[r]),U=c!=null,k=c?I.indexOf(c.id):-1,V=m?I.indexOf(m.id):-1,K=S.useRef(I),F=!jF(I,K.current),G=V!==-1&&k===-1||F,ce=$F(o);Yi(()=>{F&&U&&v(I)},[F,I,U,v]),S.useEffect(()=>{K.current=I},[I]);const ae=S.useMemo(()=>({activeIndex:k,containerId:y,disabled:ce,disableTransforms:G,items:I,overIndex:V,useDragOverlay:E,sortedRects:zF(I,f),strategy:a}),[k,y,ce.draggable,ce.droppable,G,I,V,f,E,a]);return Jt.createElement(kN.Provider,{value:ae},e)}const FF=n=>{let{id:e,items:t,activeIndex:r,overIndex:a}=n;return Pw(t,r,a).indexOf(e)},qF=n=>{let{containerId:e,isSorting:t,wasDragging:r,index:a,items:o,newIndex:c,previousItems:d,previousContainerId:f,transition:m}=n;return!m||!r||d!==o&&a===c?!1:t?!0:c!==a&&e===f},HF={duration:200,easing:"ease"},ON="transform",GF=vo.Transition.toString({property:ON,duration:0,easing:"linear"}),KF={roleDescription:"sortable"};function YF(n){let{disabled:e,index:t,node:r,rect:a}=n;const[o,c]=S.useState(null),d=S.useRef(t);return Yi(()=>{if(!e&&t!==d.current&&r.current){const f=a.current;if(f){const m=Ru(r.current,{ignoreTransform:!0}),v={x:f.left-m.left,y:f.top-m.top,scaleX:f.width/m.width,scaleY:f.height/m.height};(v.x||v.y)&&c(v)}}t!==d.current&&(d.current=t)},[e,t,r,a]),S.useEffect(()=>{o&&c(null)},[o]),o}function QF(n){let{animateLayoutChanges:e=qF,attributes:t,disabled:r,data:a,getNewIndex:o=FF,id:c,strategy:d,resizeObserverConfig:f,transition:m=HF}=n;const{items:v,containerId:y,activeIndex:E,disabled:I,disableTransforms:U,sortedRects:k,overIndex:V,useDragOverlay:K,strategy:F}=S.useContext(kN),G=WF(r,I),ce=v.indexOf(c),ae=S.useMemo(()=>({sortable:{containerId:y,index:ce,items:v},...a}),[y,a,ce,v]),de=S.useMemo(()=>v.slice(v.indexOf(c)),[v,c]),{rect:D,node:A,isOver:R,setNodeRef:M}=IF({id:c,data:ae,disabled:G.droppable,resizeObserverConfig:{updateMeasurementsFor:de,...f}}),{active:P,activatorEvent:B,activeNodeRect:N,attributes:Ie,setNodeRef:Ye,listeners:Z,isDragging:ue,over:be,setActivatorNodeRef:Pe,transform:He}=TF({id:c,data:ae,attributes:{...KF,...t},disabled:G.draggable}),z=d$(M,Ye),ne=!!P,ge=ne&&!U&&Np(E)&&Np(V),_e=!K&&ue,ke=_e&&ge?He:null,ze=ge?ke??(d??F)({rects:k,activeNodeRect:N,activeIndex:E,overIndex:V,index:ce}):null,yt=Np(E)&&Np(V)?o({id:c,items:v,activeIndex:E,overIndex:V}):ce,et=P?.id,Fe=S.useRef({activeId:et,items:v,newIndex:yt,containerId:y}),pr=v!==Fe.current.items,un=e({active:P,containerId:y,isDragging:ue,isSorting:ne,id:c,index:ce,items:v,newIndex:Fe.current.newIndex,previousItems:Fe.current.items,previousContainerId:Fe.current.containerId,transition:m,wasDragging:Fe.current.activeId!=null}),mr=YF({disabled:!un,index:ce,node:A,rect:D});return S.useEffect(()=>{ne&&Fe.current.newIndex!==yt&&(Fe.current.newIndex=yt),y!==Fe.current.containerId&&(Fe.current.containerId=y),v!==Fe.current.items&&(Fe.current.items=v)},[ne,yt,y,v]),S.useEffect(()=>{if(et===Fe.current.activeId)return;if(et!=null&&Fe.current.activeId==null){Fe.current.activeId=et;return}const Pt=setTimeout(()=>{Fe.current.activeId=et},50);return()=>clearTimeout(Pt)},[et]),{active:P,activeIndex:E,attributes:Ie,data:ae,rect:D,index:ce,newIndex:yt,items:v,isOver:R,isSorting:ne,isDragging:ue,listeners:Z,node:A,overIndex:V,over:be,setNodeRef:z,setActivatorNodeRef:Pe,setDroppableNodeRef:M,setDraggableNodeRef:Ye,transform:mr??ze,transition:ct()};function ct(){if(mr||pr&&Fe.current.newIndex===ce)return GF;if(!(_e&&!kg(B)||!m)&&(ne||un))return vo.Transition.toString({...m,property:ON})}}function WF(n,e){var t,r;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n?.draggable)!=null?t:e.draggable,droppable:(r=n?.droppable)!=null?r:e.droppable}}vt.Down,vt.Right,vt.Up,vt.Left;function w1({id:n,children:e,onClick:t,disabled:r}){const{attributes:a,listeners:o,setNodeRef:c,transform:d,transition:f,isDragging:m}=QF({id:n,disabled:r}),v={transform:vo.Transform.toString(d),transition:f,zIndex:m?10:1,opacity:m?0:1,visibility:m?"hidden":"visible",touchAction:"manipulation"};return x.jsx("div",{ref:c,style:v,...a,...o,onClick:t,className:"h-full w-full relative",children:e})}const XF=({name:n,onClick:e})=>x.jsxs("md-list-item",{type:"button",onClick:e,children:[x.jsx("div",{slot:"headline",className:"text-white",children:n}),x.jsx("md-icon",{slot:"start",children:"store"}),x.jsx("md-icon",{slot:"end",children:"arrow_forward"})]});function JF(){const n=S.useRef(null),[e,t]=S.useState(null),[r,a]=S.useState(null),[o,c]=S.useState(!1),[d,f]=HP(),m=d.get("bar")||localStorage.getItem("barId"),[v,y]=S.useState(m),[E,I]=S.useState(""),[U,k]=S.useState(null),[V,K]=S.useState("active"),[F,G]=S.useState(""),[ce,ae]=S.useState([]),[de,D]=S.useState(null),[A,R]=S.useState([]),[M,P]=S.useState([]),[B,N]=S.useState({}),[Ie,Ye]=S.useState(pb),[Z,ue]=S.useState(null),[be,Pe]=S.useState({}),[He,z]=S.useState([]),[ne,ge]=S.useState([]),[_e,ke]=S.useState({}),[Re,ze]=S.useState({}),[yt,et]=S.useState(!1),[Fe,pr]=S.useState(null),[un,mr]=S.useState([]),[ct,Pt]=S.useState({type:"brand",open:!1,searchTerm:""}),[Cn,gr]=S.useState({open:!1,currentQty:1,context:""}),[Lt,Qe]=S.useState([]),at=S.useRef(null),tr=S.useRef(!1),Fr=S.useRef({}),[xs,Yt]=S.useState(!1),[Ni,Xi]=S.useState(!1),[Rr,yn]=S.useState(!1),[ki,vr]=S.useState(!1),[yr,Ji]=S.useState(!1),[br,$t]=S.useState(!1),[Rn,Nt]=S.useState(""),[Ts,Dr]=S.useState(null),[Oi,Nr]=S.useState([]),[qr,Ge]=S.useState([]),[Mt,bt]=S.useState(!1),[Qt,Dn]=S.useState(""),[dn,Ft]=S.useState(null),[Nn,qt]=S.useState(null),[kn,On]=S.useState(!1),{downloadUrl:zn,loading:_r}=TB(),jn=S$(i1(TN,{activationConstraint:{delay:250,tolerance:5}}),i1(xN,{activationConstraint:{distance:10}})),nr=S.useMemo(()=>{const O=new Map;for(const se of Ie)if(O.has(se.label)||O.set(se.label,se.id),se.children)for(const me of se.children)O.has(me.label)||O.set(me.label,se.id);return O},[Ie]),bn=S.useMemo(()=>{const O=new Map;return Ie.forEach((se,me)=>{O.has(se.label)||O.set(se.label,me)}),O},[Ie]),Pn=S.useCallback(O=>{const se=nr.get(O);if(se)return se;const me=O.split(": ");let we=-1,Oe="";for(let We=0;We<me.length;We++){Oe+=(We>0?": ":"")+me[We];const nn=bn.get(Oe);nn!==void 0&&(we===-1||nn<we)&&(we=nn)}if(we!==-1)return Ie[we].id},[Ie,nr,bn]),kt=S.useMemo(()=>{const O=new Set(Oi),se=new Set(ce);return A.filter(me=>{if(me.status!=="pending")return!1;const we=Pn(me.label);return we==="break"||me.label.includes("BREAK")||!we?!0:se.has(we)}).sort((me,we)=>{const Oe=O.has(me.id),We=O.has(we.id);return Oe===We?0:Oe?1:-1})},[A,Pn,ce,Oi]);Xj(kt,Oi),S.useEffect(()=>{const O=se=>{se.preventDefault(),qt(se)};return window.addEventListener("beforeinstallprompt",O),()=>window.removeEventListener("beforeinstallprompt",O)},[]),S.useEffect(()=>{const O=OV(rl,async se=>{if(t(se),se)if(Rm.isNativePlatform())try{await il.addListener("registration",we=>{ue(we.value)}),await il.addListener("registrationError",we=>{console.error("Registration error: ",we.error)}),await il.addListener("pushNotificationReceived",()=>{navigator.vibrate&&navigator.vibrate([500,200,500]),n.current||(n.current=new Audio("/alert.wav"));const we=n.current;we.pause(),we.onended=null,we.currentTime=0,we.play().catch(()=>{})}),await il.addListener("pushNotificationActionPerformed",()=>{});let me=await il.checkPermissions();me.receive==="prompt"&&(me=await il.requestPermissions()),me.receive==="granted"&&await il.register()}catch(me){console.error("Native push setup failed",me)}else(window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone)&&II().then(we=>we&&ue(we)),fB().then(we=>{navigator.vibrate&&navigator.vibrate([500,200,500]),we&&we.notification&&new Notification(we.notification.title,{body:we.notification.body,icon:"/icon-192x192.png"}),n.current||(n.current=new Audio("/alert.wav"));const Oe=n.current;let We=0;Oe.onended=()=>{We++,We<8&&(Oe.currentTime=0,Oe.play().catch(()=>{}))},Oe.play().catch(()=>{})})});return()=>O()},[]),S.useEffect(()=>{if(!e)return;const O=Oc(Rt(lt,"users",e.uid),se=>{se.exists()&&se.data().joinedBars?P(se.data().joinedBars):P([])});return()=>O()},[e]),S.useEffect(()=>{(async()=>{if(M.length===0){N({});return}const se=[];for(let Oe=0;Oe<M.length;Oe+=30)se.push(M.slice(Oe,Oe+30));const me={};await Promise.all(se.map(async Oe=>{try{const We=Ld(cl(lt,"bars"),Id(vU(),"in",Oe));(await c2(We)).forEach(Xt=>{me[Xt.id]=Xt.data().name})}catch(We){console.error("Error fetching bar names",We)}}));const we={};M.forEach(Oe=>{we[Oe]=me[Oe]||"Unknown Bar"}),N(we)})()},[M]),S.useEffect(()=>{if(!e||!v)return;f({bar:v}),localStorage.setItem("barId",v);const O=Rt(lt,`bars/${v}/users`,e.uid),se=Oc(O,Xt=>{if(Xt.exists()){const Me=Xt.data();k(Me.role),K(Me.status||"active"),G(Me.displayName||"Unknown"),Me.notificationPreferences?ae(Me.notificationPreferences):Me.role&&ae(Jp[Me.role]||[]);const Pr=`barbacker-${e.uid}`;Me.ntfyTopic!==Pr?(xi(O,{ntfyTopic:Pr}).catch(console.error),D(Pr)):D(Me.ntfyTopic)}else k(null)}),me=Oc(Rt(lt,"bars",v),Xt=>{if(Xt.exists()){const Me=Xt.data();if(I(Me.name),Me.buttons){const Pr=new Map(Me.buttons.map(Gr=>[Gr.id,Gr])),Mr=[...pb.filter(Gr=>!Pr.has(Gr.id)),...Me.buttons];Ye(Mr)}else Ye(pb);Me.beerInventory&&Pe(Me.beerInventory),Me.wells&&z(Me.wells),Me.hiddenButtonIds&&ge(Me.hiddenButtonIds),Me.buttonUsage&&ke(Me.buttonUsage),Me.customOrders&&ze(Me.customOrders)}}),we=Oc(Ld(cl(lt,"requests"),Id("barId","==",v),Id("timestamp",">=",new Date(Date.now()-1440*60*1e3)),r_("timestamp","desc"),i_(100)),Xt=>R(Xt.docs.map(Me=>({id:Me.id,...Me.data()})))),Oe=Ld(cl(lt,`bars/${v}/users`),Id("status","in",["active","pending"])),We=Oc(Oe,Xt=>{mr(Xt.docs.map(Me=>({id:Me.id,...Me.data()})))}),nn=Oc(Ld(cl(lt,`bars/${v}/notices`),Id("timestamp",">=",new Date(Date.now()-4320*60*1e3)),r_("timestamp","desc"),i_(100)),Xt=>{const Me=Xt.docs.map(Pr=>({id:Pr.id,...Pr.data()}));Ge(Me)});return()=>{se(),me(),we(),We(),nn()}},[e,v,f]),S.useEffect(()=>{if(!e||!v||!Z)return;const O=Rt(lt,`bars/${v}/users`,e.uid),se=Rt(lt,`bars/${v}/tokens`,e.uid);(async()=>(await nl(se,{token:Z,updated:Gs()}),await xi(O,{status:"active",lastSeen:Gs()}).catch(()=>{})))()},[e,v,Z]),S.useEffect(()=>{if(e){const O=RB.checkSubscription(e.email);console.log("Subscription Active:",O),et(O)}NB.applyTheme("default"),DB.getNotices().then(O=>{O.length>0&&console.log("System Notices:",O)})},[e]),S.useEffect(()=>(at.current&&window.clearTimeout(at.current),Lt.length>0&&(at.current=window.setTimeout(()=>{const O=Lt.map(se=>se.label).join(": ");di(`${O} (Ask Me)`),Qe([])},6e4)),()=>{at.current&&window.clearTimeout(at.current)}),[Lt]);const _n=async O=>{if(!e||!v)return;if(be[O]){Pt(we=>({...we,open:!1,searchTerm:""}));const me={id:`brand_${O}`,label:O,children:[]};Qe(we=>[...we,me]);return}await nl(Rt(lt,"bars",v),{beerInventory:{[O]:[]}},{merge:!0}),Pe(me=>({...me,[O]:[]})),Pt(me=>({...me,open:!1,searchTerm:""}));const se={id:`brand_${O}`,label:O,children:[]};Qe(me=>[...me,se])},oi=async O=>{if(!e||!v||!ct.parentContext)return;const se=ct.parentContext;if((be[se]||[]).includes(O)){Pt(We=>({...We,open:!1,searchTerm:""}));const Oe={id:`type_${se}_${O}`,label:O,children:[]};Qe(We=>[...We,Oe]);return}await xi(Rt(lt,"bars",v),{[`beerInventory.${se}`]:bp(O)}),Pe(Oe=>({...Oe,[se]:[...Oe[se]||[],O]})),Pt(Oe=>({...Oe,open:!1,searchTerm:""}));const we={id:`type_${se}_${O}`,label:O,children:[]};Qe(Oe=>[...Oe,we])},va=async O=>{if(!(!e||!v)){if(He.includes(O)){Pt(se=>({...se,open:!1,searchTerm:""})),di(`ICE: ${O}`),Qe([]);return}await xi(Rt(lt,"bars",v),{wells:bp(O)}),z(se=>[...se,O]),Pt(se=>({...se,open:!1,searchTerm:""})),di(`ICE: ${O}`),Qe([])}},Du=async O=>{!e||!v||(await xi(Rt(lt,"bars",v),{hiddenButtonIds:bp(O)}),ge(se=>[...se,O]))},Fl=async O=>{!e||!v||(await xi(Rt(lt,"bars",v),{hiddenButtonIds:uI(O)}),ge(se=>se.filter(me=>me!==O)))},ql=async O=>{if(!(!e||!v||!O.trim()))try{await vI(cl(lt,`bars/${v}/notices`),{text:O,authorId:e.uid,authorName:F,timestamp:Gs()}),Dn(""),bt(!1)}catch(se){console.error("Error saving notice:",se),Ft("Failed to save notice: "+(se.message||"Unknown error"))}},li=async O=>{!e||!v||confirm("Delete this notice?")&&await kc(Rt(lt,`bars/${v}/notices`,O))},Ss=O=>{if(O.id==="ice")return[...He.map(me=>({id:`well_${me}`,label:me})),{id:"add_well",label:"+ ADD WELL",isCustom:!0}];if(O.id==="restock_beer")return[...Object.keys(be).map(me=>({id:`brand_${me}`,label:me,children:[]})),{id:"add_brand",label:"+ ADD BRAND",action:"add_brand",isCustom:!0}];if(O.id.startsWith("brand_")){const se=O.label;return[...(be[se]||[]).map(Oe=>({id:`type_${se}_${Oe}`,label:Oe,children:[]})),{id:"add_type",label:"+ ADD TYPE",action:"add_type",isCustom:!0}]}return O.id.startsWith("type_")?[{id:"qty_6",label:"6"},{id:"qty_12",label:"12"},{id:"qty_24",label:"24"},{id:"qty_other",label:"Other",action:"custom_qty"}]:O.children||[]},wr=S.useCallback(()=>{if(!v)return;const O=Fr.current;if(Object.keys(O).length===0)return;Fr.current={};const se={};for(const[me,we]of Object.entries(O))se[`buttonUsage.${me}`]=SU(we);xi(Rt(lt,"bars",v),se).catch(me=>console.error("Failed to flush usage",me))},[v]);S.useEffect(()=>{const O=window.setInterval(wr,1e4),se=()=>wr();return window.addEventListener("beforeunload",se),()=>{window.clearInterval(O),window.removeEventListener("beforeunload",se),wr()}},[wr]);const kr=O=>{v&&(Fr.current[O]=(Fr.current[O]||0)+1)},rr=(O,se)=>{const me=Re[se];return me?[...O].sort((we,Oe)=>{const We=me.indexOf(we.id),nn=me.indexOf(Oe.id);return We===-1&&nn===-1?0:We===-1?1:nn===-1?-1:We-nn}):[...O].sort((we,Oe)=>{const We=_e[we.id]||0;return(_e[Oe.id]||0)-We})},Hr=O=>{pr(O.active.id),tr.current=!0},Wt=(O,se,me)=>{const{active:we,over:Oe}=O;if(Oe&&we.id!==Oe.id){const We=me.findIndex(Me=>Me.id===we.id),nn=me.findIndex(Me=>Me.id===Oe.id),Xt=Pw(me,We,nn).map(Me=>Me.id);ze(Me=>({...Me,[se]:Xt}))}},ya=async(O,se)=>{pr(null),tr.current=!1,v&&Re[se]&&await xi(Rt(lt,"bars",v),{[`customOrders.${se}`]:Re[se]})},ba=O=>{if(kr(O.id),O.id==="add_well"){const me=`Well #${He.length+1}`;Pt({type:"well",open:!0,searchTerm:me});return}if(O.action==="add_brand"){Pt({type:"brand",open:!0,searchTerm:""});return}if(O.action==="add_type"){const me=Lt[Lt.length-1];Pt({type:"type",open:!0,parentContext:me.label,searchTerm:""});return}if(O.action==="custom_qty"){gr({open:!0,currentQty:1,context:Lt.map(me=>me.label).join(": ")});return}if(O.id==="custom_req_btn"){Pt({type:"custom",open:!0,searchTerm:""});return}const se=Ss(O);se&&se.length>0?Qe([...Lt,O]):(di([...Lt,O].map(me=>me.label).join(": ")),Qe([]))},ci=async(O,se)=>{if(!e||!v)return;const me="active";await nl(Rt(lt,"users",e.uid),{joinedBars:bp(v)},{merge:!0}),await nl(Rt(lt,`bars/${v}/users`,e.uid),{role:O,displayName:se,email:e.email,status:me,joinedAt:Gs(),lastSeen:Gs(),notificationPreferences:Jp[O]||[]},{merge:!0}),Z&&await nl(Rt(lt,`bars/${v}/tokens`,e.uid),{token:Z,updated:Gs()})},ui=async()=>{!e||!v||(await kc(Rt(lt,`bars/${v}/tokens`,e.uid)),await xi(Rt(lt,`bars/${v}/users`,e.uid),{status:"off_clock"}),y(null),localStorage.removeItem("barId"),Yt(!1))},Ro=async()=>{y(null),localStorage.removeItem("barId")},di=async O=>{if(!e||!v)return;navigator.vibrate&&navigator.vibrate(100),await vI(cl(lt,"requests"),{barId:v,label:O,requesterId:e.uid,requesterName:F,requesterRole:U,status:"pending",timestamp:Gs(),lastNotification:Gs()});const se=Pn(O),me=new Set;un.forEach(we=>{if(!(we.status==="active"||we.status===void 0)||we.id===e.uid||!we.ntfyTopic)return;let We=we.notificationPreferences;if(!We&&we.role&&(We=Jp[we.role]||[]),O.includes("BREAK")||se==="break"){me.add(we.ntfyTopic);return}We&&se&&We.includes(se)&&me.add(we.ntfyTopic)}),SB(Array.from(me),async we=>fetch(`https://ntfy.sh/${we}`,{method:"POST",body:`New Request: ${O} (by ${F})`,headers:{Title:"BarBacker Alert",Priority:"high",Tags:"bell,bar_chart"}}).catch(Oe=>console.error("Failed to send ntfy",Oe)),Yj)},Do=async O=>{await xi(Rt(lt,"requests",O),{status:"claimed",claimedBy:e?.uid,claimerName:F,claimedAt:Gs()})},Hl=async(O,se)=>{!e||!v||(ae(O),D(se),await nl(Rt(lt,`bars/${v}/users`,e.uid),{notificationPreferences:O,ntfyTopic:se},{merge:!0}))},_a=async()=>{await qy(rl),vr(!1)},Er=async()=>{!e||!v||confirm("Are you sure you want to leave this bar? You will need to join again.")&&(await kc(Rt(lt,`bars/${v}/users`,e.uid)),await xi(Rt(lt,"users",e.uid),{joinedBars:uI(v)}).catch(()=>{}),y(null),localStorage.removeItem("barId"),vr(!1))},tn=async()=>{if(e&&confirm("Are you sure you want to delete your account? This cannot be undone."))try{const O=Rt(lt,"users",e.uid),se=await gI(O),me=se.exists()?se.data().joinedBars||[]:[];await Promise.all(me.map(we=>kc(Rt(lt,`bars/${we}/users`,e.uid)))),await kc(O),await PV(e),vr(!1)}catch(O){console.error("Error deleting account:",O),alert("Failed to delete account completely. Please log out and log back in, then try again.")}},wn=async O=>{O.preventDefault();const se=new FormData(O.target);try{o?await IV(rl,se.get("email"),se.get("password")):await CV(rl,se.get("email"),se.get("password"))}catch(me){a(me.message)}},Zi=async()=>{try{await eL(rl,V2)}catch(O){a(O.message)}},No=async()=>{if(!Nn)return;Nn.prompt();const{outcome:O}=await Nn.userChoice;O==="accepted"&&(qt(null),e&&II().then(se=>se&&ue(se)))},pt=async()=>{if(navigator.share)try{await navigator.share({title:"BarBacker",text:"Join my bar on BarBacker!",url:window.location.href})}catch(O){console.log("Error sharing:",O)}else navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!")};if(!e)return x.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 space-y-8 bg-black",children:[x.jsx("h1",{className:"text-4xl font-bold tracking-widest text-white",children:"BARBACKER"}),r&&x.jsx("div",{className:"text-red-400 p-2 border border-red-800 rounded",children:r}),x.jsxs("form",{onSubmit:wn,className:"w-[300px] space-y-4",children:[x.jsx("md-filled-text-field",{label:"Email",name:"email",type:"email",required:!0}),x.jsx("md-filled-text-field",{label:"Password",name:"password",type:"password",required:!0}),x.jsx("md-filled-button",{type:"submit",children:o?"Create Account":"Clock In"})]}),x.jsxs("div",{className:"flex gap-4 items-center",children:[x.jsx("md-text-button",{onClick:()=>c(!o),children:o?"Login":"Register"}),x.jsxs("md-outlined-button",{onClick:Zi,children:[x.jsx("md-icon",{slot:"icon",children:"mail"}),"Google"]})]}),x.jsxs("div",{className:"text-center text-gray-500 text-sm mt-8 space-y-2",children:[x.jsxs("p",{children:[_r?x.jsx("span",{children:"Checking for Android App..."}):x.jsx("a",{href:zn||"https://github.com/HereLiesAz/BarBacker/releases/latest",className:"text-blue-400 underline",children:"Install BarBacker App"})," for Android."]}),x.jsxs("p",{children:["For iOS alerts, install ",x.jsx("a",{href:"https://ntfy.sh",target:"_blank",className:"text-blue-400 underline",children:"ntfy.sh"}),"."]})]})]});if(!v)return x.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 space-y-6 bg-black",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:"Select Bar"}),x.jsxs("p",{className:"text-gray-500 text-sm",children:["You are ",e.email]})]}),x.jsx("md-text-button",{onClick:()=>qy(rl),children:"Sign Out"}),M.length>0&&x.jsxs("div",{className:"w-[300px] mb-2",children:[x.jsx("h3",{className:"text-gray-400 font-bold text-sm uppercase mb-2 pl-2",children:"My Bars"}),x.jsx("div",{className:"bg-[#1E1E1E] rounded-xl overflow-hidden border border-gray-800",children:x.jsx("md-list",{className:"bg-transparent",children:M.map(O=>x.jsx(XF,{name:B[O]||"Loading...",onClick:()=>{y(O),localStorage.setItem("barId",O)}},O))})})]}),x.jsx(e$,{onJoin:async O=>{if(O.id){const se=Rt(lt,"bars",O.id);(await gI(se)).exists()||await nl(se,{name:O.name,address:O.address||"",city:O.city||"",state:O.state||"",zip:O.zip||"",phone:O.phone||"",status:O.status||"verified",type:O.type||"bar",buttons:[]}),y(O.id)}}}),x.jsxs("div",{className:"text-center text-gray-500 text-xs mt-8 space-y-2 max-w-[300px]",children:[x.jsxs("p",{children:["Tip: ",x.jsx("a",{href:zn||"https://github.com/HereLiesAz/BarBacker/releases/latest",className:"text-blue-400 underline",children:"Install BarBacker App"})," for the best experience."]}),x.jsxs("div",{className:"flex flex-col items-center gap-1 mt-2",children:[x.jsx("a",{href:`ntfy://subscribe/barbacker-${e.uid}`,className:"text-blue-400 underline font-bold",children:"Subscribe to iOS Alerts"}),x.jsx("span",{className:"text-xs text-green-400 font-bold",children:"(It's free!)"}),x.jsx("span",{className:"text-[10px] text-gray-600",children:"(Requires ntfy app)"})]})]})]});if(!U)return x.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 space-y-6 bg-black",children:[x.jsxs("div",{className:"flex w-full justify-between items-center max-w-[300px]",children:[x.jsx("md-icon-button",{onClick:()=>{y(null),localStorage.removeItem("barId")},children:x.jsx("md-icon",{children:"arrow_back"})}),x.jsx("md-text-button",{onClick:()=>qy(rl),children:"Sign Out"})]}),x.jsx(t$,{onSelect:ci,initialName:e?.displayName||""},e?.displayName||"default")]});const As=A.filter(O=>O.status!=="pending").slice(0,20),Or=O=>O?(O.toDate?O.toDate():new Date(O.seconds*1e3)).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}):"",Pi=Lt.length>0?Lt[Lt.length-1].id:"main",Gn=Lt.length>0?Ss(Lt[Lt.length-1]):Ie,wa=Gn.filter(O=>!ne.includes(O.id)),Is=rr(wa,Pi),Ea=rr(Ie,"main"),hi=Ea.filter(O=>!ne.includes(O.id)),ko=un.filter(O=>O.status==="pending"),es=ko.length>0;return V==="pending"?x.jsxs("div",{className:"h-[100dvh] w-screen flex flex-col items-center justify-center p-6 space-y-6 bg-black text-center overflow-hidden",children:[x.jsx("md-icon",{style:{fontSize:64},className:"text-yellow-500",children:"hourglass_empty"}),x.jsx("h2",{className:"text-2xl font-bold text-white",children:"Approval Pending"}),x.jsxs("p",{className:"text-gray-400",children:["A manager must approve your request to join ",E,"."]}),x.jsx("md-text-button",{onClick:()=>{y(null),localStorage.removeItem("barId")},children:"Cancel"})]}):x.jsxs("div",{className:"h-[100dvh] w-screen flex flex-col bg-black overflow-hidden",children:[x.jsx(l$,{open:Rr,onClose:()=>yn(!1),barName:E,allButtons:Ea,hiddenButtonIds:ne,onHideButton:Du,godMode:yt,onUnhideButton:Fl}),x.jsx(u$,{open:yr,onClose:()=>Ji(!1),users:un}),x.jsx(o$,{open:Ni,onClose:()=>Xi(!1),onSave:Hl,userRole:U||"",currentPreferences:ce,currentNtfyTopic:de,allButtons:Ie}),x.jsx(c$,{open:ct.open,mode:ct.type,searchTerm:ct.searchTerm,onSearchChange:O=>Pt(se=>({...se,searchTerm:O})),onClose:()=>Pt(O=>({...O,open:!1})),onSelect:O=>{if(Gn.map(me=>me.label.toLowerCase()).includes(O.toLowerCase())){alert("This button already exists!");return}ct.type==="brand"?_n(O):ct.type==="type"?oi(O):ct.type==="well"?va(O):ct.type==="custom"&&(di(O),Pt(me=>({...me,open:!1})))},suggestions:ct.type==="brand"?[...Wj,...Object.keys(be)]:ct.type==="type"?Array.from(new Set(Object.values(be).flat())):[]}),x.jsxs("md-dialog",{open:Cn.open||void 0,onClose:()=>gr(O=>({...O,open:!1})),children:[x.jsx("div",{slot:"headline",children:"Select Quantity"}),x.jsxs("div",{slot:"content",className:"flex items-center justify-center gap-6 py-6",children:[x.jsx("md-filled-tonal-button",{onClick:()=>gr(O=>({...O,currentQty:Math.max(1,O.currentQty-1)})),children:x.jsx("md-icon",{children:"remove"})}),x.jsx("span",{className:"text-4xl font-bold text-white",children:Cn.currentQty}),x.jsx("md-filled-tonal-button",{onClick:()=>gr(O=>({...O,currentQty:O.currentQty+1})),children:x.jsx("md-icon",{children:"add"})})]}),x.jsxs("div",{slot:"actions",children:[x.jsx("md-text-button",{onClick:()=>gr(O=>({...O,open:!1})),children:"Cancel"}),x.jsx("md-filled-button",{onClick:()=>{di(`${Cn.context}: ${Cn.currentQty}`),gr(O=>({...O,open:!1})),Qe([])},children:"Send"})]})]}),x.jsxs("md-dialog",{open:Mt||void 0,onClose:()=>bt(!1),children:[x.jsx("div",{slot:"headline",children:"Add Notice"}),x.jsxs("div",{slot:"content",className:"flex flex-col gap-4",children:[x.jsx("md-filled-text-field",{label:"Notice Message",value:Qt,onInput:O=>Dn(O.target.value),required:!0,type:"text"}),dn&&x.jsx("div",{className:"text-red-500 text-sm mt-2",children:dn})]}),x.jsxs("div",{slot:"actions",children:[x.jsx("md-text-button",{onClick:()=>bt(!1),children:"Cancel"}),x.jsx("md-filled-button",{onClick:()=>ql(Qt),children:"Post"})]})]}),x.jsxs("md-dialog",{open:xs||void 0,onClose:()=>Yt(!1),children:[x.jsx("div",{slot:"headline",children:"Abandon Ship?"}),x.jsx("div",{slot:"content",children:"Going off clock stops all notifications and signs you out. The bar will be unprotected. Are you sure?"}),x.jsxs("div",{slot:"actions",children:[x.jsx("md-text-button",{onClick:()=>Yt(!1),children:"Stay"}),x.jsx("md-filled-button",{onClick:ui,className:"btn-alert",children:"Clock Out"})]})]}),x.jsxs("div",{className:"flex-none flex flex-wrap justify-between items-center py-12 px-6 bg-[#121212] border-b border-[#333] z-10 gap-4",children:[x.jsxs("div",{className:"flex items-center min-w-[200px] cursor-pointer hover:bg-white/5 p-2 rounded transition-colors mr-auto ml-4",onClick:()=>vr(!0),children:[x.jsx("span",{className:"whitespace-pre",children:"    "}),x.jsx("span",{className:"text-white font-bold text-xl truncate",children:F}),x.jsx("span",{className:"text-white text-xl whitespace-pre",children:"        "}),x.jsx("span",{className:"bg-gray-800 px-4 py-2 rounded text-base text-gray-300 whitespace-nowrap",children:U})]}),x.jsxs("div",{className:"flex items-center gap-6 mr-4 flex-wrap justify-end",children:[x.jsx("span",{className:"font-bold text-xl text-white tracking-wide hidden sm:block",children:E}),x.jsx("md-text-button",{onClick:()=>yn(!0),className:"sm:hidden",children:x.jsx("span",{className:"font-bold text-lg text-white tracking-wide",children:E})}),x.jsxs("div",{className:"flex gap-4 items-center",children:[Nn&&x.jsx("md-icon-button",{onClick:No,title:"Install App",className:"navbar-icon-button",children:x.jsx("md-icon",{className:"text-blue-400",style:{fontSize:"36px"},children:"download"})}),x.jsxs("span",{style:{position:"relative"},children:[x.jsx("md-icon-button",{id:"menu-anchor",onClick:()=>On(!kn),className:"navbar-icon-button",children:x.jsx("md-icon",{className:"text-white",style:{fontSize:"36px"},children:"menu"})}),x.jsxs("md-menu",{anchor:"menu-anchor",open:kn,onClosed:()=>On(!1),positioning:"fixed",quick:!0,style:{zIndex:2e3},children:[x.jsxs("md-menu-item",{onClick:()=>vr(!0),children:[x.jsx("md-icon",{slot:"start",children:"account_circle"}),x.jsx("div",{slot:"headline",children:"Account Options"})]}),x.jsxs("md-menu-item",{onClick:Ro,children:[x.jsx("md-icon",{slot:"start",children:"sync_alt"}),x.jsx("div",{slot:"headline",children:"Switch Bar"})]}),x.jsxs("md-menu-item",{onClick:()=>yn(!0),children:[x.jsx("md-icon",{slot:"start",children:"store"}),x.jsx("div",{slot:"headline",children:"Manage Bar"})]}),x.jsxs("md-menu-item",{onClick:pt,children:[x.jsx("md-icon",{slot:"start",children:"share"}),x.jsx("div",{slot:"headline",children:"Share"})]}),x.jsxs("md-menu-item",{onClick:()=>Ji(!0),children:[x.jsx("md-icon",{slot:"start",children:"group"}),x.jsx("div",{slot:"headline",children:"Who's On"})]}),x.jsxs("md-menu-item",{onClick:()=>{bt(!0),Ft(null)},children:[x.jsx("md-icon",{slot:"start",children:"campaign"}),x.jsx("div",{slot:"headline",children:"Post Notice"})]}),x.jsxs("md-menu-item",{onClick:()=>Xi(!0),children:[x.jsx("md-icon",{slot:"start",children:"settings"}),x.jsx("div",{slot:"headline",children:"Pagers"})]}),x.jsxs("md-menu-item",{onClick:()=>Yt(!0),children:[x.jsx("md-icon",{slot:"start",children:"power_settings_new"}),x.jsx("div",{slot:"headline",children:"Clock Out"})]})]})]})]})]})]}),qr.length>0&&x.jsx("div",{className:"bg-yellow-900/20 border-b border-yellow-900/50 overflow-hidden relative h-8 flex items-center",children:x.jsxs("div",{className:"animate-marquee whitespace-nowrap flex gap-12 text-yellow-500 text-sm font-medium items-center",children:[qr.map(O=>x.jsxs("span",{className:"inline-flex items-center gap-2 cursor-pointer",onClick:()=>li(O.id),children:[x.jsxs("span",{children:[" ",O.text," ",x.jsxs("span",{className:"text-yellow-700 text-xs",children:["(",O.authorName,")"]})]}),x.jsx("md-icon",{style:{fontSize:14},className:"text-yellow-700 hover:text-red-500",children:"close"})]},O.id)),qr.map(O=>x.jsx("span",{className:"inline-flex items-center gap-2",children:x.jsxs("span",{children:[" ",O.text," ",x.jsxs("span",{className:"text-yellow-700 text-xs",children:["(",O.authorName,")"]})]})},`dup-${O.id}`))]})}),x.jsxs("md-dialog",{open:br||void 0,onClose:()=>{$t(!1),Dr(null)},children:[x.jsx("div",{slot:"headline",children:"Edit Name"}),x.jsxs("div",{slot:"content",className:"flex flex-col gap-4 pt-4",children:[x.jsx("md-filled-text-field",{label:"Display Name",value:Rn,onInput:O=>Nt(O.target.value),required:!0,type:"text"}),Ts&&x.jsx("div",{className:"text-red-500 text-sm",children:Ts})]}),x.jsxs("div",{slot:"actions",children:[x.jsx("md-text-button",{onClick:()=>$t(!1),children:"Cancel"}),x.jsx("md-filled-button",{onClick:async()=>{const O=Rn.trim();if(O){Dr(null);try{e&&(await DV(e,{displayName:O}),v&&await xi(Rt(lt,`bars/${v}/users`,e.uid),{displayName:O}),$t(!1))}catch(se){console.error("Error updating name:",se),Dr("Failed to update name: "+(se.message||"Unknown error"))}}},children:"Save"})]})]}),x.jsxs("md-dialog",{open:ki||void 0,onClose:()=>vr(!1),children:[x.jsx("div",{slot:"headline",children:"Account Options"}),x.jsxs("div",{slot:"content",className:"flex flex-col gap-4 pt-4",children:[x.jsxs("p",{className:"text-gray-300",children:["Manage your account for ",x.jsx("strong",{children:E}),"."]}),x.jsxs("md-outlined-button",{onClick:()=>{Nt(F),Dr(null),$t(!0)},children:[x.jsx("md-icon",{slot:"icon",children:"edit"}),"Edit Name"]})]}),x.jsx("div",{slot:"actions",children:x.jsxs("div",{className:"flex flex-col gap-2 w-full items-end",children:[x.jsxs("div",{className:"flex gap-2",children:[x.jsx("md-text-button",{onClick:Er,children:"Leave Bar"}),x.jsx("md-text-button",{onClick:_a,children:"Log Out"})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("md-text-button",{onClick:tn,className:"text-red-500",children:"Delete Account"}),x.jsx("md-filled-button",{onClick:()=>vr(!1),children:"Close"})]})]})})]}),x.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden w-full relative pb-[35vh]",children:[Lt.length>0&&x.jsx("div",{className:"fixed inset-0 top-[88px] z-50 bg-black/95 flex items-start justify-center p-4 pt-10 animate-in fade-in duration-200 backdrop-blur-sm",children:x.jsxs("div",{className:"bg-[#121212] w-full max-w-lg max-h-[80vh] overflow-y-auto p-6 rounded-2xl border border-gray-800 shadow-2xl flex flex-col relative animate-in zoom-in-95 duration-200",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-4 flex-none border-b border-gray-800 pb-4",children:[x.jsx("md-icon-button",{onClick:()=>Qe([]),children:x.jsx("md-icon",{children:"arrow_back"})}),x.jsx("span",{className:"text-lg font-bold text-white uppercase tracking-wide truncate flex-1",children:Lt.map(O=>O.label).join(" > ")})]}),x.jsxs(g1,{sensors:jn,collisionDetection:a1,onDragStart:Hr,onDragOver:O=>Wt(O,Pi,Is),onDragEnd:O=>ya(O,Pi),children:[x.jsx(_1,{items:Is,strategy:Bm,children:x.jsx("div",{className:"grid grid-cols-2 gap-4 mb-auto",children:Is.map(O=>x.jsx(w1,{id:O.id,onClick:()=>ba(O),children:x.jsx("md-filled-tonal-button",{style:{height:"100px",fontSize:"18px",width:"100%",pointerEvents:"none",border:"8px solid #000000",boxSizing:"border-box"},children:x.jsx("span",{className:"text-red-500 font-bold text-3xl",children:O.label})})},O.id))})}),x.jsx(b1,{children:Fe?x.jsx("md-filled-tonal-button",{style:{height:"100px",fontSize:"18px",width:"100%",pointerEvents:"none",opacity:.9},children:Is.find(O=>O.id===Fe)?.label}):null})]}),x.jsx("div",{className:"mt-6 flex-none",children:x.jsx("md-outlined-button",{className:"w-full",onClick:()=>Qe([]),style:{height:"56px"},children:"Cancel"})})]})}),x.jsxs(g1,{sensors:jn,collisionDetection:a1,onDragStart:Hr,onDragOver:O=>Wt(O,"main",hi),onDragEnd:O=>ya(O,"main"),children:[x.jsx(_1,{items:hi,strategy:Bm,children:x.jsx("div",{className:"grid grid-cols-2 gap-8 p-6",children:[...hi,{id:"custom_req_btn",label:"CUSTOM",icon:"add",isCustom:!0}].map(O=>{const se=kt.some(me=>me.label.startsWith(O.label));return x.jsx(w1,{id:O.id,onClick:()=>ba(O),children:x.jsx("md-filled-tonal-button",{className:se?"btn-alert":"",style:{height:"120px",width:"100%",pointerEvents:"none",border:se?"8px solid #EF4444":"8px solid #000000",boxSizing:"border-box"},children:x.jsxs("div",{className:"flex flex-col items-center gap-2",children:[x.jsx("md-icon",{style:{fontSize:32},className:"text-red-500",children:O.icon||"circle"}),x.jsx("span",{className:"text-3xl font-bold leading-none text-red-500",children:O.label}),se&&x.jsx("span",{className:"text-xs opacity-80 text-red-500",children:"PENDING"})]})})},O.id)})})}),x.jsx(b1,{children:Fe?(()=>{const O=Ie.find(me=>me.id===Fe);if(!O)return null;const se=kt.some(me=>me.label.startsWith(O.label));return x.jsx("md-filled-tonal-button",{className:se?"btn-alert":"",style:{height:"120px",width:"100%",pointerEvents:"none",opacity:.9},children:x.jsxs("div",{className:"flex flex-col items-center gap-2",children:[x.jsx("md-icon",{style:{fontSize:32},children:O.icon||"circle"}),x.jsx("span",{className:"text-lg font-bold leading-none",children:O.label}),se&&x.jsx("span",{className:"text-xs opacity-80",children:"PENDING"})]})})})():null})]}),x.jsxs("div",{className:"fixed bottom-0 left-0 right-0 w-full max-h-[33vh] bg-[#1E1E1E] border-t border-[#333] z-20 flex flex-col shadow-2xl transition-all duration-300",children:[x.jsxs("div",{className:"flex-none p-2 bg-[#252525] border-b border-[#333] flex justify-between items-center px-4 sticky top-0 z-30",children:[x.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:["Notifications (",kt.length,")"]}),es&&x.jsxs("md-filled-button",{onClick:()=>yn(!0),style:{height:"24px",fontSize:"12px","--md-filled-button-container-color":"#EAB308","--md-filled-button-label-text-color":"#000"},children:[ko.length," Approvals"]})]}),x.jsxs("div",{className:"flex-1 overflow-y-auto w-full",children:[kt.map(O=>{const se=Oi.includes(O.id),me=e&&O.requesterId===e.uid;return x.jsxs("div",{className:`w-full grid grid-cols-[33vw_1fr_auto] items-center gap-2 p-3 transition-colors border-b border-[#333] ${se?"bg-[#1a1a1a] opacity-60":"bg-[#2C1A1A]"}`,children:[x.jsxs("div",{className:"flex flex-col overflow-hidden mr-2",children:[x.jsx("span",{className:`font-bold text-lg leading-tight truncate ${se?"text-gray-400":"text-red-100"}`,children:O.label}),x.jsxs("div",{className:"flex flex-wrap gap-1 text-xs text-gray-400 mt-1 truncate",children:[x.jsx("span",{children:O.requesterName}),x.jsx("span",{children:""}),x.jsx("span",{children:Or(O.timestamp)})]})]}),x.jsx("md-filled-button",{onClick:()=>Do(O.id),className:`w-full ${se?"":"btn-alert"}`,style:{height:"48px",minWidth:"100px"},children:"CLAIM"}),me?x.jsx("md-outlined-button",{onClick:async we=>{we.stopPropagation(),confirm("Cancel this request?")&&await kc(Rt(lt,"requests",O.id))},style:{height:"48px",minWidth:"100px","--md-outlined-button-label-text-color":"#EF4444","--md-sys-color-outline":"#EF4444"},children:"CANCEL"}):!se&&x.jsx("md-outlined-button",{onClick:we=>{we.stopPropagation(),Nr(Oe=>[...Oe,O.id])},style:{height:"48px",minWidth:"100px"},children:"Ignore"})]},O.id)}),kt.length===0&&x.jsx("div",{className:"p-8 text-center text-gray-600 italic",children:"No active requests"})]})]}),x.jsxs("div",{className:"px-4 mt-8 pb-32",children:[x.jsx("div",{className:"text-xs font-bold text-gray-600 mb-2 uppercase tracking-widest",children:"Shift Log"}),x.jsx("md-list",{className:"bg-transparent",children:As.map(O=>x.jsxs("md-list-item",{children:[x.jsx("div",{slot:"headline",className:"text-gray-400",children:O.label}),x.jsxs("div",{slot:"supporting-text",className:"text-xs text-gray-600",children:[O.claimerName||"Someone"," claimed ",O.claimedAt?Or(O.claimedAt):"","  Asked ",Or(O.timestamp)]}),x.jsx("md-icon",{slot:"start",className:"text-green-800",children:"check_circle"})]},O.id))})]})]})]})}const ZF={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyCfkeRu4DVuSBBBa9bc0rrhtu-gCixFqIo",VITE_FIREBASE_APP_ID:"1:869145643734:web:d902468d6942df6bc81777",VITE_FIREBASE_AUTH_DOMAIN:"barbacker-6c683.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"869145643734",VITE_FIREBASE_PROJECT_ID:"barbacker-6c683",VITE_FIREBASE_STORAGE_BUCKET:"barbacker-6c683.firebasestorage.app",VITE_FIREBASE_VAPID_KEY:"G-H8717DGSJ8",VITE_GOD_MODE_EMAIL:"hereliesaz@gmail.com"},e8=()=>{const n={timestamp:new Date().toISOString(),userAgent:navigator.userAgent,envCheck:{},online:navigator.onLine,storage:{localStorage:!1,sessionStorage:!1,cookies:navigator.cookieEnabled}};["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID"].forEach(t=>{n.envCheck[t]=!!ZF[t]});try{localStorage.setItem("__test__","1"),localStorage.removeItem("__test__"),n.storage.localStorage=!0}catch{}try{sessionStorage.setItem("__test__","1"),sessionStorage.removeItem("__test__"),n.storage.sessionStorage=!0}catch{}return n},t8=n=>{let e=`[Diagnostic Report - ${n.timestamp}]
`;return e+=`User Agent: ${n.userAgent}
`,e+=`Online: ${n.online?"":""}

`,e+=`Environment Variables:
`,Object.entries(n.envCheck).forEach(([t,r])=>{e+=`  ${r?"":""} ${t}
`}),e+=`
Storage:
`,e+=`  ${n.storage.localStorage?"":""} LocalStorage
`,e+=`  ${n.storage.sessionStorage?"":""} SessionStorage
`,e+=`  ${n.storage.cookies?"":""} Cookies
`,e};class n8 extends S.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null,diagnosticReport:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null,diagnosticReport:null}}componentDidCatch(e,t){const r=e8();this.setState({errorInfo:t,diagnosticReport:t8(r)}),console.error("Uncaught error:",e,t)}handleCopy=()=>{const{error:e,errorInfo:t,diagnosticReport:r}=this.state,a=`ERROR:
${e?.toString()}

STACK:
${t?.componentStack}

DIAGNOSTICS:
${r}`;navigator.clipboard.writeText(a).then(()=>alert("Copied to clipboard"))};render(){return this.state.hasError?x.jsxs("div",{className:"min-h-screen bg-black text-red-500 p-8 flex flex-col gap-4 overflow-auto font-mono",children:[x.jsx("h1",{className:"text-2xl font-bold text-white",children:"Something went wrong."}),x.jsxs("div",{className:"border border-red-900 bg-red-950/50 p-4 rounded",children:[x.jsx("h2",{className:"text-xl font-bold mb-2",children:this.state.error?.toString()}),x.jsx("details",{className:"whitespace-pre-wrap text-sm text-gray-400",children:this.state.errorInfo?.componentStack})]}),this.state.diagnosticReport&&x.jsxs("div",{className:"border border-blue-900 bg-blue-950/20 p-4 rounded",children:[x.jsx("h3",{className:"text-lg font-bold text-blue-400 mb-2",children:"Auto-Diagnostics"}),x.jsx("pre",{className:"whitespace-pre-wrap text-xs text-blue-200",children:this.state.diagnosticReport})]}),x.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-900/50 p-4 rounded text-yellow-200 text-sm",children:[x.jsx("p",{className:"font-bold mb-1",children:"Stuck in a crash loop?"}),x.jsx("p",{children:"Try clearing your local data:"}),x.jsxs("ul",{className:"list-disc list-inside mt-1 opacity-80",children:[x.jsxs("li",{children:[x.jsx("strong",{children:"Android App:"})," Long press App Icon  App Info  Storage  Clear Data"]}),x.jsxs("li",{children:[x.jsx("strong",{children:"Browser:"})," Settings  Site Settings  Clear Data"]})]})]}),x.jsxs("div",{className:"flex gap-4 mt-4",children:[x.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-white text-black rounded font-bold hover:bg-gray-200",children:"Reload App"}),x.jsx("button",{onClick:this.handleCopy,className:"px-6 py-3 border border-white text-white rounded font-bold hover:bg-white/10",children:"Copy Debug Info"})]})]}):this.props.children}}bO.createRoot(document.getElementById("root")).render(x.jsx(S.StrictMode,{children:x.jsx(n8,{children:x.jsx(zP,{children:x.jsx(JF,{})})})}));
