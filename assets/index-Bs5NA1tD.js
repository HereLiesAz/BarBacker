(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function sO(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Iy={exports:{}},hd={};var ZT;function aO(){if(ZT)return hd;ZT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:o}}return hd.Fragment=e,hd.jsx=t,hd.jsxs=t,hd}var eS;function oO(){return eS||(eS=1,Iy.exports=aO()),Iy.exports}var S=oO(),Cy={exports:{}},Ue={};var tS;function lO(){if(tS)return Ue;tS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),E=Symbol.iterator;function I(B){return B===null||typeof B!="object"?null:(B=E&&B[E]||B["@@iterator"],typeof B=="function"?B:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,M={};function K(B,ne,me){this.props=B,this.context=ne,this.refs=M,this.updater=me||L}K.prototype.isReactComponent={},K.prototype.setState=function(B,ne){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ne,"setState")},K.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function F(){}F.prototype=K.prototype;function G(B,ne,me){this.props=B,this.context=ne,this.refs=M,this.updater=me||L}var le=G.prototype=new F;le.constructor=G,O(le,K.prototype),le.isPureReactComponent=!0;var se=Array.isArray;function ue(){}var R={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function D(B,ne,me){var ye=me.ref;return{$$typeof:n,type:B,key:ne,ref:ye!==void 0?ye:null,props:me}}function P(B,ne){return D(B.type,ne,B.props)}function k(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function z(B){var ne={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(me){return ne[me]})}var N=/\/+/g;function Re(B,ne){return typeof B=="object"&&B!==null&&B.key!=null?z(""+B.key):ne.toString(36)}function je(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(ue,ue):(B.status="pending",B.then(function(ne){B.status==="pending"&&(B.status="fulfilled",B.value=ne)},function(ne){B.status==="pending"&&(B.status="rejected",B.reason=ne)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function Z(B,ne,me,ye,De){var Ce=typeof B;(Ce==="undefined"||Ce==="boolean")&&(B=null);var $e=!1;if(B===null)$e=!0;else switch(Ce){case"bigint":case"string":case"number":$e=!0;break;case"object":switch(B.$$typeof){case n:case e:$e=!0;break;case v:return $e=B._init,Z($e(B._payload),ne,me,ye,De)}}if($e)return De=De(B),$e=ye===""?"."+Re(B,0):ye,se(De)?(me="",$e!=null&&(me=$e.replace(N,"$&/")+"/"),Z(De,ne,me,"",function(Fe){return Fe})):De!=null&&(k(De)&&(De=P(De,me+(De.key==null||B&&B.key===De.key?"":(""+De.key).replace(N,"$&/")+"/")+$e)),ne.push(De)),1;$e=0;var He=ye===""?".":ye+":";if(se(B))for(var Me=0;Me<B.length;Me++)ye=B[Me],Ce=He+Re(ye,Me),$e+=Z(ye,ne,me,Ce,De);else if(Me=I(B),typeof Me=="function")for(B=Me.call(B),Me=0;!(ye=B.next()).done;)ye=ye.value,Ce=He+Re(ye,Me++),$e+=Z(ye,ne,me,Ce,De);else if(Ce==="object"){if(typeof B.then=="function")return Z(je(B),ne,me,ye,De);throw ne=String(B),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return $e}function de(B,ne,me){if(B==null)return B;var ye=[],De=0;return Z(B,ye,"","",function(Ce){return ne.call(me,Ce,De++)}),ye}function _e(B){if(B._status===-1){var ne=B._result;ne=ne(),ne.then(function(me){(B._status===0||B._status===-1)&&(B._status=1,B._result=me)},function(me){(B._status===0||B._status===-1)&&(B._status=2,B._result=me)}),B._status===-1&&(B._status=0,B._result=ne)}if(B._status===1)return B._result.default;throw B._result}var Ve=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},We={map:de,forEach:function(B,ne,me){de(B,function(){ne.apply(this,arguments)},me)},count:function(B){var ne=0;return de(B,function(){ne++}),ne},toArray:function(B){return de(B,function(ne){return ne})||[]},only:function(B){if(!k(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return Ue.Activity=y,Ue.Children=We,Ue.Component=K,Ue.Fragment=t,Ue.Profiler=a,Ue.PureComponent=G,Ue.StrictMode=r,Ue.Suspense=f,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(B){return R.H.useMemoCache(B)}},Ue.cache=function(B){return function(){return B.apply(null,arguments)}},Ue.cacheSignal=function(){return null},Ue.cloneElement=function(B,ne,me){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ye=O({},B.props),De=B.key;if(ne!=null)for(Ce in ne.key!==void 0&&(De=""+ne.key),ne)!x.call(ne,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ne.ref===void 0||(ye[Ce]=ne[Ce]);var Ce=arguments.length-2;if(Ce===1)ye.children=me;else if(1<Ce){for(var $e=Array(Ce),He=0;He<Ce;He++)$e[He]=arguments[He+2];ye.children=$e}return D(B.type,De,ye)},Ue.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:o,_context:B},B},Ue.createElement=function(B,ne,me){var ye,De={},Ce=null;if(ne!=null)for(ye in ne.key!==void 0&&(Ce=""+ne.key),ne)x.call(ne,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(De[ye]=ne[ye]);var $e=arguments.length-2;if($e===1)De.children=me;else if(1<$e){for(var He=Array($e),Me=0;Me<$e;Me++)He[Me]=arguments[Me+2];De.children=He}if(B&&B.defaultProps)for(ye in $e=B.defaultProps,$e)De[ye]===void 0&&(De[ye]=$e[ye]);return D(B,Ce,De)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(B){return{$$typeof:d,render:B}},Ue.isValidElement=k,Ue.lazy=function(B){return{$$typeof:v,_payload:{_status:-1,_result:B},_init:_e}},Ue.memo=function(B,ne){return{$$typeof:m,type:B,compare:ne===void 0?null:ne}},Ue.startTransition=function(B){var ne=R.T,me={};R.T=me;try{var ye=B(),De=R.S;De!==null&&De(me,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(ue,Ve)}catch(Ce){Ve(Ce)}finally{ne!==null&&me.types!==null&&(ne.types=me.types),R.T=ne}},Ue.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ue.use=function(B){return R.H.use(B)},Ue.useActionState=function(B,ne,me){return R.H.useActionState(B,ne,me)},Ue.useCallback=function(B,ne){return R.H.useCallback(B,ne)},Ue.useContext=function(B){return R.H.useContext(B)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(B,ne){return R.H.useDeferredValue(B,ne)},Ue.useEffect=function(B,ne){return R.H.useEffect(B,ne)},Ue.useEffectEvent=function(B){return R.H.useEffectEvent(B)},Ue.useId=function(){return R.H.useId()},Ue.useImperativeHandle=function(B,ne,me){return R.H.useImperativeHandle(B,ne,me)},Ue.useInsertionEffect=function(B,ne){return R.H.useInsertionEffect(B,ne)},Ue.useLayoutEffect=function(B,ne){return R.H.useLayoutEffect(B,ne)},Ue.useMemo=function(B,ne){return R.H.useMemo(B,ne)},Ue.useOptimistic=function(B,ne){return R.H.useOptimistic(B,ne)},Ue.useReducer=function(B,ne,me){return R.H.useReducer(B,ne,me)},Ue.useRef=function(B){return R.H.useRef(B)},Ue.useState=function(B){return R.H.useState(B)},Ue.useSyncExternalStore=function(B,ne,me){return R.H.useSyncExternalStore(B,ne,me)},Ue.useTransition=function(){return R.H.useTransition()},Ue.version="19.2.4",Ue}var nS;function M_(){return nS||(nS=1,Cy.exports=lO()),Cy.exports}var A=M_();const Yt=sO(A);var Ry={exports:{}},fd={},Dy={exports:{}},Ny={};var rS;function cO(){return rS||(rS=1,(function(n){function e(Z,de){var _e=Z.length;Z.push(de);e:for(;0<_e;){var Ve=_e-1>>>1,We=Z[Ve];if(0<a(We,de))Z[Ve]=de,Z[_e]=We,_e=Ve;else break e}}function t(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var de=Z[0],_e=Z.pop();if(_e!==de){Z[0]=_e;e:for(var Ve=0,We=Z.length,B=We>>>1;Ve<B;){var ne=2*(Ve+1)-1,me=Z[ne],ye=ne+1,De=Z[ye];if(0>a(me,_e))ye<We&&0>a(De,me)?(Z[Ve]=De,Z[ye]=_e,Ve=ye):(Z[Ve]=me,Z[ne]=_e,Ve=ne);else if(ye<We&&0>a(De,_e))Z[Ve]=De,Z[ye]=_e,Ve=ye;else break e}}return de}function a(Z,de){var _e=Z.sortIndex-de.sortIndex;return _e!==0?_e:Z.id-de.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var f=[],m=[],v=1,y=null,E=3,I=!1,L=!1,O=!1,M=!1,K=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function le(Z){for(var de=t(m);de!==null;){if(de.callback===null)r(m);else if(de.startTime<=Z)r(m),de.sortIndex=de.expirationTime,e(f,de);else break;de=t(m)}}function se(Z){if(O=!1,le(Z),!L)if(t(f)!==null)L=!0,ue||(ue=!0,z());else{var de=t(m);de!==null&&je(se,de.startTime-Z)}}var ue=!1,R=-1,x=5,D=-1;function P(){return M?!0:!(n.unstable_now()-D<x)}function k(){if(M=!1,ue){var Z=n.unstable_now();D=Z;var de=!0;try{e:{L=!1,O&&(O=!1,F(R),R=-1),I=!0;var _e=E;try{t:{for(le(Z),y=t(f);y!==null&&!(y.expirationTime>Z&&P());){var Ve=y.callback;if(typeof Ve=="function"){y.callback=null,E=y.priorityLevel;var We=Ve(y.expirationTime<=Z);if(Z=n.unstable_now(),typeof We=="function"){y.callback=We,le(Z),de=!0;break t}y===t(f)&&r(f),le(Z)}else r(f);y=t(f)}if(y!==null)de=!0;else{var B=t(m);B!==null&&je(se,B.startTime-Z),de=!1}}break e}finally{y=null,E=_e,I=!1}de=void 0}}finally{de?z():ue=!1}}}var z;if(typeof G=="function")z=function(){G(k)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Re=N.port2;N.port1.onmessage=k,z=function(){Re.postMessage(null)}}else z=function(){K(k,0)};function je(Z,de){R=K(function(){Z(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(Z){switch(E){case 1:case 2:case 3:var de=3;break;default:de=E}var _e=E;E=de;try{return Z()}finally{E=_e}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(Z,de){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var _e=E;E=Z;try{return de()}finally{E=_e}},n.unstable_scheduleCallback=function(Z,de,_e){var Ve=n.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Ve+_e:Ve):_e=Ve,Z){case 1:var We=-1;break;case 2:We=250;break;case 5:We=1073741823;break;case 4:We=1e4;break;default:We=5e3}return We=_e+We,Z={id:v++,callback:de,priorityLevel:Z,startTime:_e,expirationTime:We,sortIndex:-1},_e>Ve?(Z.sortIndex=_e,e(m,Z),t(f)===null&&Z===t(m)&&(O?(F(R),R=-1):O=!0,je(se,_e-Ve))):(Z.sortIndex=We,e(f,Z),L||I||(L=!0,ue||(ue=!0,z()))),Z},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(Z){var de=E;return function(){var _e=E;E=de;try{return Z.apply(this,arguments)}finally{E=_e}}}})(Ny)),Ny}var iS;function uO(){return iS||(iS=1,Dy.exports=cO()),Dy.exports}var ky={exports:{}},ir={};var sS;function dO(){if(sS)return ir;sS=1;var n=M_();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,m,v){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:f,containerInfo:m,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ir.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ir.createPortal=function(f,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(f,m,null,v)},ir.flushSync=function(f){var m=c.T,v=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=m,r.p=v,r.d.f()}},ir.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},ir.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},ir.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var v=m.as,y=d(v,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,I=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:E,fetchPriority:I}):v==="script"&&r.d.X(f,{crossOrigin:y,integrity:E,fetchPriority:I,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ir.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=d(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},ir.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,y=d(v,m.crossOrigin);r.d.L(f,v,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ir.preloadModule=function(f,m){if(typeof f=="string")if(m){var v=d(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},ir.requestFormReset=function(f){r.d.r(f)},ir.unstable_batchedUpdates=function(f,m){return f(m)},ir.useFormState=function(f,m,v){return c.H.useFormState(f,m,v)},ir.useFormStatus=function(){return c.H.useHostTransitionStatus()},ir.version="19.2.4",ir}var aS;function b1(){if(aS)return ky.exports;aS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ky.exports=dO(),ky.exports}var oS;function hO(){if(oS)return fd;oS=1;var n=uO(),e=M_(),t=b1();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function m(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,u=s;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(u=p.return,u!==null){l=u;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return f(p),i;if(g===u)return f(p),s;g=g.sibling}throw Error(r(188))}if(l.return!==u.return)l=p,u=g;else{for(var _=!1,T=p.child;T;){if(T===l){_=!0,l=p,u=g;break}if(T===u){_=!0,u=p,l=g;break}T=T.sibling}if(!_){for(T=g.child;T;){if(T===l){_=!0,l=g,u=p;break}if(T===u){_=!0,u=g,l=p;break}T=T.sibling}if(!_)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function v(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=v(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,E=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),G=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=k&&i[k]||i["@@iterator"],typeof i=="function"?i:null)}var N=Symbol.for("react.client.reference");function Re(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===N?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case O:return"Fragment";case K:return"Profiler";case M:return"StrictMode";case se:return"Suspense";case ue:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case L:return"Portal";case G:return i.displayName||"Context";case F:return(i._context.displayName||"Context")+".Consumer";case le:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return s=i.displayName||null,s!==null?s:Re(i.type)||"Memo";case x:s=i._payload,i=i._init;try{return Re(i(s))}catch{}}return null}var je=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},Ve=[],We=-1;function B(i){return{current:i}}function ne(i){0>We||(i.current=Ve[We],Ve[We]=null,We--)}function me(i,s){We++,Ve[We]=i.current,i.current=s}var ye=B(null),De=B(null),Ce=B(null),$e=B(null);function He(i,s){switch(me(Ce,s),me(De,i),me(ye,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?ET(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=ET(s),i=xT(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ne(ye),me(ye,i)}function Me(){ne(ye),ne(De),ne(Ce)}function Fe(i){i.memoizedState!==null&&me($e,i);var s=ye.current,l=xT(s,i.type);s!==l&&(me(De,i),me(ye,l))}function Tn(i){De.current===i&&(ne(ye),ne(De)),$e.current===i&&(ne($e),ld._currentValue=_e)}var at,Ot;function Pt(i){if(at===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);at=s&&s[1]||"",Ot=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+at+i+Ot}var pr=!1;function Zn(i,s){if(!i||pr)return"";pr=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(ee){var X=ee}Reflect.construct(i,[],oe)}else{try{oe.call()}catch(ee){X=ee}i.call(oe.prototype)}}else{try{throw Error()}catch(ee){X=ee}(oe=i())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(ee){if(ee&&X&&typeof ee.stack=="string")return[ee.stack,X.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),_=g[0],T=g[1];if(_&&T){var V=_.split(`
`),W=T.split(`
`);for(p=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;p<W.length&&!W[p].includes("DetermineComponentFrameRoot");)p++;if(u===V.length||p===W.length)for(u=V.length-1,p=W.length-1;1<=u&&0<=p&&V[u]!==W[p];)p--;for(;1<=u&&0<=p;u--,p--)if(V[u]!==W[p]){if(u!==1||p!==1)do if(u--,p--,0>p||V[u]!==W[p]){var ie=`
`+V[u].replace(" at new "," at ");return i.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",i.displayName)),ie}while(1<=u&&0<=p);break}}}finally{pr=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Pt(l):""}function Mr(i,s){switch(i.tag){case 26:case 27:case 5:return Pt(i.type);case 16:return Pt("Lazy");case 13:return i.child!==s&&s!==null?Pt("Suspense Fallback"):Pt("Suspense");case 19:return Pt("SuspenseList");case 0:case 15:return Zn(i.type,!1);case 11:return Zn(i.type.render,!1);case 1:return Zn(i.type,!0);case 31:return Pt("Activity");default:return""}}function Fi(i){try{var s="",l=null;do s+=Mr(i,l),l=i,i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ct=Object.prototype.hasOwnProperty,mt=n.unstable_scheduleCallback,On=n.unstable_cancelCallback,qi=n.unstable_shouldYield,mr=n.unstable_requestPaint,Xt=n.unstable_now,Zr=n.unstable_getCurrentPriorityLevel,Vr=n.unstable_ImmediatePriority,Sr=n.unstable_UserBlockingPriority,Sn=n.unstable_NormalPriority,xi=n.unstable_LowPriority,ps=n.unstable_IdlePriority,Pn=n.log,Hi=n.unstable_setDisableYieldValue,er=null,Jt=null;function An(i){if(typeof Pn=="function"&&Hi(i),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(er,i)}catch{}}var gt=Math.clz32?Math.clz32:gs,ms=Math.log,ei=Math.LN2;function gs(i){return i>>>=0,i===0?32:31-(ms(i)/ei|0)|0}var gr=256,Ti=262144,Ge=4194304;function Rt(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Et(i,s,l){var u=i.pendingLanes;if(u===0)return 0;var p=0,g=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var T=u&134217727;return T!==0?(u=T&~g,u!==0?p=Rt(u):(_&=T,_!==0?p=Rt(_):l||(l=T&~i,l!==0&&(p=Rt(l))))):(T=u&~g,T!==0?p=Rt(T):_!==0?p=Rt(_):l||(l=u&~i,l!==0&&(p=Rt(l)))),p===0?0:s!==0&&s!==p&&(s&g)===0&&(g=p&-p,l=s&-s,g>=l||g===32&&(l&4194048)!==0)?s:p}function Dt(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Mn(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pn(){var i=Ge;return Ge<<=1,(Ge&62914560)===0&&(Ge=4194304),i}function Gt(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function tr(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Kt(i,s,l,u,p,g){var _=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var T=i.entanglements,V=i.expirationTimes,W=i.hiddenUpdates;for(l=_&~l;0<l;){var ie=31-gt(l),oe=1<<ie;T[ie]=0,V[ie]=-1;var X=W[ie];if(X!==null)for(W[ie]=null,ie=0;ie<X.length;ie++){var ee=X[ie];ee!==null&&(ee.lane&=-536870913)}l&=~oe}u!==0&&Vn(i,u,0),g!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=g&~(_&~s))}function Vn(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-gt(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|l&261930}function In(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var u=31-gt(l),p=1<<u;p&s|i[u]&s&&(i[u]|=s),l&=~p}}function Fn(i,s){var l=s&-s;return l=(l&42)!==0?1:nr(l),(l&(i.suspendedLanes|s))!==0?0:l}function nr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ln(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function rr(){var i=de.p;return i!==0?i:(i=window.event,i===void 0?32:GT(i.type))}function mn(i,s){var l=de.p;try{return de.p=i,s()}finally{de.p=l}}var Un=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Un,gn="__reactProps$"+Un,qn="__reactContainer$"+Un,ca="__reactEvents$"+Un,wu="__reactListeners$"+Un,Dl="__reactHandles$"+Un,Nl="__reactResources$"+Un,ti="__reactMarker$"+Un;function ua(i){delete i[Zt],delete i[gn],delete i[ca],delete i[wu],delete i[Dl]}function ni(i){var s=i[Zt];if(s)return s;for(var l=i.parentNode;l;){if(s=l[qn]||l[Zt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=DT(i);i!==null;){if(l=i[Zt])return l;i=DT(i)}return s}i=l,l=i.parentNode}return null}function Ar(i){if(i=i[Zt]||i[qn]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function vr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function ri(i){var s=i[Nl];return s||(s=i[Nl]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function jt(i){i[ti]=!0}var vs=new Set,da={};function ii(i,s){yr(i,s),yr(i+"Capture",s)}function yr(i,s){for(da[i]=s,i=0;i<s.length;i++)vs.add(s[i])}var ha=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ys={},fa={};function kl(i){return Ct.call(fa,i)?!0:Ct.call(ys,i)?!1:ha.test(i)?fa[i]=!0:(ys[i]=!0,!1)}function U(i,s,l){if(kl(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function ce(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function ge(i,s,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+u)}}function Ee(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ke(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Nt(i,s,l){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,g=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(_){l=""+_,g.call(this,_)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Xe(i){if(!i._valueTracker){var s=Ke(i)?"checked":"value";i._valueTracker=Nt(i,s,""+i[s])}}function Si(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return i&&(u=Ke(i)?i.checked?"true":"false":i.value),i=u,i!==l?(s.setValue(i),!0):!1}function vn(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var bs=/[\n"\\]/g;function Mt(i){return i.replace(bs,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ye(i,s,l,u,p,g,_,T){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),s!=null?_==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Ee(s)):i.value!==""+Ee(s)&&(i.value=""+Ee(s)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),s!=null?So(i,_,Ee(s)):l!=null?So(i,_,Ee(l)):u!=null&&i.removeAttribute("value"),p==null&&g!=null&&(i.defaultChecked=!!g),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.name=""+Ee(T):i.removeAttribute("name")}function Lr(i,s,l,u,p,g,_,T){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){Xe(i);return}l=l!=null?""+Ee(l):"",s=s!=null?""+Ee(s):l,T||s===i.value||(i.value=s),i.defaultValue=s}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=T?i.checked:!!u,i.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),Xe(i)}function So(i,s,l){s==="number"&&vn(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Ur(i,s,l,u){if(i=i.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=s.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&u&&(i[l].defaultSelected=!0)}else{for(l=""+Ee(l),s=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,u&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function qh(i,s,l){if(s!=null&&(s=""+Ee(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+Ee(l):""}function pa(i,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(r(92));if(je(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=Ee(s),i.defaultValue=l,u=i.textContent,u===l&&u!==""&&u!==null&&(i.value=u),Xe(i)}function Ir(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var Hh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eu(i,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,l):typeof l!="number"||l===0||Hh.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function xu(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var p in s)u=s[p],s.hasOwnProperty(p)&&l[p]!==u&&Eu(i,p,u)}else for(var g in s)s.hasOwnProperty(g)&&Eu(i,g,s[g])}function Ol(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ma=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pl(i){return ma.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ai(){}var Tu=null;function si(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ga=null,Gi=null;function Ao(i){var s=Ar(i);if(s&&(i=s.stateNode)){var l=i[gn]||null;e:switch(i=s.stateNode,s.type){case"input":if(Ye(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Mt(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==i&&u.form===i.form){var p=u[gn]||null;if(!p)throw Error(r(90));Ye(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===i.form&&Si(u)}break e;case"textarea":qh(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Ur(i,!!l.multiple,s,!1)}}}var Ml=!1;function va(i,s,l){if(Ml)return i(s,l);Ml=!0;try{var u=i(s);return u}finally{if(Ml=!1,(ga!==null||Gi!==null)&&(Bf(),ga&&(s=ga,i=Gi,Gi=ga=null,Ao(s),i)))for(s=0;s<i.length;s++)Ao(i[s])}}function Ii(i,s){var l=i.stateNode;if(l===null)return null;var u=l[gn]||null;if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Io=!1;if(ai)try{var xt={};Object.defineProperty(xt,"passive",{get:function(){Io=!0}}),window.addEventListener("test",xt,xt),window.removeEventListener("test",xt,xt)}catch{Io=!1}var Ki=null,Su=null,Co=null;function Au(){if(Co)return Co;var i,s=Su,l=s.length,u,p="value"in Ki?Ki.value:Ki.textContent,g=p.length;for(i=0;i<l&&s[i]===p[i];i++);var _=l-i;for(u=1;u<=_&&s[l-u]===p[g-u];u++);return Co=p.slice(i,1<u?1-u:void 0)}function Ro(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function _s(){return!0}function Ci(){return!1}function Hn(i){function s(l,u,p,g,_){this._reactName=l,this._targetInst=p,this.type=u,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var T in i)i.hasOwnProperty(T)&&(l=i[T],this[T]=l?l(g):g[T]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?_s:Ci,this.isPropagationStopped=Ci,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),s}var ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yi=Hn(ws),ya=y({},ws,{view:0,detail:0}),Iu=Hn(ya),ba,Vl,Qi,Ll=y({},ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_a,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Qi&&(Qi&&i.type==="mousemove"?(ba=i.screenX-Qi.screenX,Vl=i.screenY-Qi.screenY):Vl=ba=0,Qi=i),ba)},movementY:function(i){return"movementY"in i?i.movementY:Vl}}),Cu=Hn(Ll),Do=y({},Ll,{dataTransfer:0}),Kh=Hn(Do),Yh=y({},ya,{relatedTarget:0}),No=Hn(Yh),Ru=y({},ws,{animationName:0,elapsedTime:0,pseudoElement:0}),Qh=Hn(Ru),Ul=y({},ws,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Wh=Hn(Ul),Xh=y({},ws,{data:0}),Wi=Hn(Xh),Jh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ef={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tf(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=ef[i])?!!s[i]:!1}function _a(){return tf}var br=y({},ya,{key:function(i){if(i.key){var s=Jh[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Ro(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Zh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_a,charCode:function(i){return i.type==="keypress"?Ro(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ro(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),nf=Hn(br),rf=y({},Ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Es=Hn(rf),h=y({},ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_a}),b=Hn(h),w=y({},ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=Hn(w),Y=y({},Ll,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),J=Hn(Y),ve=y({},ws,{newState:0,oldState:0}),ze=Hn(ve),on=[9,13,27,32],ht=ai&&"CompositionEvent"in window,$t=null;ai&&"documentMode"in document&&($t=document.documentMode);var oi=ai&&"TextEvent"in window&&!$t,Xi=ai&&(!ht||$t&&8<$t&&11>=$t),Ri=" ",Di=!1;function ko(i,s){switch(i){case"keyup":return on.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zl(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Bl=!1;function RN(i,s){switch(i){case"compositionend":return zl(s);case"keypress":return s.which!==32?null:(Di=!0,Ri);case"textInput":return i=s.data,i===Ri&&Di?null:i;default:return null}}function DN(i,s){if(Bl)return i==="compositionend"||!ht&&ko(i,s)?(i=Au(),Co=Su=Ki=null,Bl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Xi&&s.locale!=="ko"?null:s.data;default:return null}}var NN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ow(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!NN[i.type]:s==="textarea"}function Pw(i,s,l,u){ga?Gi?Gi.push(u):Gi=[u]:ga=u,s=Kf(s,"onChange"),0<s.length&&(l=new Yi("onChange","change",null,l,u),i.push({event:l,listeners:s}))}var Du=null,Nu=null;function kN(i){gT(i,0)}function sf(i){var s=vr(i);if(Si(s))return i}function Mw(i,s){if(i==="change")return s}var Vw=!1;if(ai){var Pg;if(ai){var Mg="oninput"in document;if(!Mg){var Lw=document.createElement("div");Lw.setAttribute("oninput","return;"),Mg=typeof Lw.oninput=="function"}Pg=Mg}else Pg=!1;Vw=Pg&&(!document.documentMode||9<document.documentMode)}function Uw(){Du&&(Du.detachEvent("onpropertychange",zw),Nu=Du=null)}function zw(i){if(i.propertyName==="value"&&sf(Nu)){var s=[];Pw(s,Nu,i,si(i)),va(kN,s)}}function ON(i,s,l){i==="focusin"?(Uw(),Du=s,Nu=l,Du.attachEvent("onpropertychange",zw)):i==="focusout"&&Uw()}function PN(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return sf(Nu)}function MN(i,s){if(i==="click")return sf(s)}function VN(i,s){if(i==="input"||i==="change")return sf(s)}function LN(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var zr=typeof Object.is=="function"?Object.is:LN;function ku(i,s){if(zr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var p=l[u];if(!Ct.call(s,p)||!zr(i[p],s[p]))return!1}return!0}function Bw(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function jw(i,s){var l=Bw(i);i=0;for(var u;l;){if(l.nodeType===3){if(u=i+l.textContent.length,i<=s&&u>=s)return{node:l,offset:s-i};i=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Bw(l)}}function $w(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?$w(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Fw(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=vn(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=vn(i.document)}return s}function Vg(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var UN=ai&&"documentMode"in document&&11>=document.documentMode,jl=null,Lg=null,Ou=null,Ug=!1;function qw(i,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ug||jl==null||jl!==vn(u)||(u=jl,"selectionStart"in u&&Vg(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ou&&ku(Ou,u)||(Ou=u,u=Kf(Lg,"onSelect"),0<u.length&&(s=new Yi("onSelect","select",null,s,l),i.push({event:s,listeners:u}),s.target=jl)))}function Oo(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var $l={animationend:Oo("Animation","AnimationEnd"),animationiteration:Oo("Animation","AnimationIteration"),animationstart:Oo("Animation","AnimationStart"),transitionrun:Oo("Transition","TransitionRun"),transitionstart:Oo("Transition","TransitionStart"),transitioncancel:Oo("Transition","TransitionCancel"),transitionend:Oo("Transition","TransitionEnd")},zg={},Hw={};ai&&(Hw=document.createElement("div").style,"AnimationEvent"in window||(delete $l.animationend.animation,delete $l.animationiteration.animation,delete $l.animationstart.animation),"TransitionEvent"in window||delete $l.transitionend.transition);function Po(i){if(zg[i])return zg[i];if(!$l[i])return i;var s=$l[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in Hw)return zg[i]=s[l];return i}var Gw=Po("animationend"),Kw=Po("animationiteration"),Yw=Po("animationstart"),zN=Po("transitionrun"),BN=Po("transitionstart"),jN=Po("transitioncancel"),Qw=Po("transitionend"),Ww=new Map,Bg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bg.push("scrollEnd");function Ni(i,s){Ww.set(i,s),ii(s,[i])}var af=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},li=[],Fl=0,jg=0;function of(){for(var i=Fl,s=jg=Fl=0;s<i;){var l=li[s];li[s++]=null;var u=li[s];li[s++]=null;var p=li[s];li[s++]=null;var g=li[s];if(li[s++]=null,u!==null&&p!==null){var _=u.pending;_===null?p.next=p:(p.next=_.next,_.next=p),u.pending=p}g!==0&&Xw(l,p,g)}}function lf(i,s,l,u){li[Fl++]=i,li[Fl++]=s,li[Fl++]=l,li[Fl++]=u,jg|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function $g(i,s,l,u){return lf(i,s,l,u),cf(i)}function Mo(i,s){return lf(i,null,null,s),cf(i)}function Xw(i,s,l){i.lanes|=l;var u=i.alternate;u!==null&&(u.lanes|=l);for(var p=!1,g=i.return;g!==null;)g.childLanes|=l,u=g.alternate,u!==null&&(u.childLanes|=l),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(p=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,p&&s!==null&&(p=31-gt(l),i=g.hiddenUpdates,u=i[p],u===null?i[p]=[s]:u.push(s),s.lane=l|536870912),g):null}function cf(i){if(50<td)throw td=0,Xv=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var ql={};function $N(i,s,l,u){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(i,s,l,u){return new $N(i,s,l,u)}function Fg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function xs(i,s){var l=i.alternate;return l===null?(l=Br(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Jw(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function uf(i,s,l,u,p,g){var _=0;if(u=i,typeof i=="function")Fg(i)&&(_=1);else if(typeof i=="string")_=Kk(i,l,ye.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case D:return i=Br(31,l,s,p),i.elementType=D,i.lanes=g,i;case O:return Vo(l.children,p,g,s);case M:_=8,p|=24;break;case K:return i=Br(12,l,s,p|2),i.elementType=K,i.lanes=g,i;case se:return i=Br(13,l,s,p),i.elementType=se,i.lanes=g,i;case ue:return i=Br(19,l,s,p),i.elementType=ue,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case G:_=10;break e;case F:_=9;break e;case le:_=11;break e;case R:_=14;break e;case x:_=16,u=null;break e}_=29,l=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=Br(_,l,s,p),s.elementType=i,s.type=u,s.lanes=g,s}function Vo(i,s,l,u){return i=Br(7,i,u,s),i.lanes=l,i}function qg(i,s,l){return i=Br(6,i,null,s),i.lanes=l,i}function Zw(i){var s=Br(18,null,null,0);return s.stateNode=i,s}function Hg(i,s,l){return s=Br(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var eE=new WeakMap;function ci(i,s){if(typeof i=="object"&&i!==null){var l=eE.get(i);return l!==void 0?l:(s={value:i,source:s,stack:Fi(s)},eE.set(i,s),s)}return{value:i,source:s,stack:Fi(s)}}var Hl=[],Gl=0,df=null,Pu=0,ui=[],di=0,wa=null,Ji=1,Zi="";function Ts(i,s){Hl[Gl++]=Pu,Hl[Gl++]=df,df=i,Pu=s}function tE(i,s,l){ui[di++]=Ji,ui[di++]=Zi,ui[di++]=wa,wa=i;var u=Ji;i=Zi;var p=32-gt(u)-1;u&=~(1<<p),l+=1;var g=32-gt(s)+p;if(30<g){var _=p-p%5;g=(u&(1<<_)-1).toString(32),u>>=_,p-=_,Ji=1<<32-gt(s)+p|l<<p|u,Zi=g+i}else Ji=1<<g|l<<p|u,Zi=i}function Gg(i){i.return!==null&&(Ts(i,1),tE(i,1,0))}function Kg(i){for(;i===df;)df=Hl[--Gl],Hl[Gl]=null,Pu=Hl[--Gl],Hl[Gl]=null;for(;i===wa;)wa=ui[--di],ui[di]=null,Zi=ui[--di],ui[di]=null,Ji=ui[--di],ui[di]=null}function nE(i,s){ui[di++]=Ji,ui[di++]=Zi,ui[di++]=wa,Ji=s.id,Zi=s.overflow,wa=i}var Gn=null,Ut=null,st=!1,Ea=null,hi=!1,Yg=Error(r(519));function xa(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mu(ci(s,i)),Yg}function rE(i){var s=i.stateNode,l=i.type,u=i.memoizedProps;switch(s[Zt]=i,s[gn]=u,l){case"dialog":Ze("cancel",s),Ze("close",s);break;case"iframe":case"object":case"embed":Ze("load",s);break;case"video":case"audio":for(l=0;l<rd.length;l++)Ze(rd[l],s);break;case"source":Ze("error",s);break;case"img":case"image":case"link":Ze("error",s),Ze("load",s);break;case"details":Ze("toggle",s);break;case"input":Ze("invalid",s),Lr(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ze("invalid",s);break;case"textarea":Ze("invalid",s),pa(s,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||_T(s.textContent,l)?(u.popover!=null&&(Ze("beforetoggle",s),Ze("toggle",s)),u.onScroll!=null&&Ze("scroll",s),u.onScrollEnd!=null&&Ze("scrollend",s),u.onClick!=null&&(s.onclick=Ai),s=!0):s=!1,s||xa(i,!0)}function iE(i){for(Gn=i.return;Gn;)switch(Gn.tag){case 5:case 31:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:Gn=Gn.return}}function Kl(i){if(i!==Gn)return!1;if(!st)return iE(i),st=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||hy(i.type,i.memoizedProps)),l=!l),l&&Ut&&xa(i),iE(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Ut=RT(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Ut=RT(i)}else s===27?(s=Ut,La(i.type)?(i=vy,vy=null,Ut=i):Ut=s):Ut=Gn?pi(i.stateNode.nextSibling):null;return!0}function Lo(){Ut=Gn=null,st=!1}function Qg(){var i=Ea;return i!==null&&(Nr===null?Nr=i:Nr.push.apply(Nr,i),Ea=null),i}function Mu(i){Ea===null?Ea=[i]:Ea.push(i)}var Wg=B(null),Uo=null,Ss=null;function Ta(i,s,l){me(Wg,s._currentValue),s._currentValue=l}function As(i){i._currentValue=Wg.current,ne(Wg)}function Xg(i,s,l){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===l)break;i=i.return}}function Jg(i,s,l,u){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var g=p.dependencies;if(g!==null){var _=p.child;g=g.firstContext;e:for(;g!==null;){var T=g;g=p;for(var V=0;V<s.length;V++)if(T.context===s[V]){g.lanes|=l,T=g.alternate,T!==null&&(T.lanes|=l),Xg(g.return,l,i),u||(_=null);break e}g=T.next}}else if(p.tag===18){if(_=p.return,_===null)throw Error(r(341));_.lanes|=l,g=_.alternate,g!==null&&(g.lanes|=l),Xg(_,l,i),_=null}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===i){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}}function Yl(i,s,l,u){i=null;for(var p=s,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var _=p.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var T=p.type;zr(p.pendingProps.value,_.value)||(i!==null?i.push(T):i=[T])}}else if(p===$e.current){if(_=p.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(ld):i=[ld])}p=p.return}i!==null&&Jg(s,i,l,u),s.flags|=262144}function hf(i){for(i=i.firstContext;i!==null;){if(!zr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function zo(i){Uo=i,Ss=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Kn(i){return sE(Uo,i)}function ff(i,s){return Uo===null&&zo(i),sE(i,s)}function sE(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Ss===null){if(i===null)throw Error(r(308));Ss=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Ss=Ss.next=s;return l}var FN=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},qN=n.unstable_scheduleCallback,HN=n.unstable_NormalPriority,yn={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zg(){return{controller:new FN,data:new Map,refCount:0}}function Vu(i){i.refCount--,i.refCount===0&&qN(HN,function(){i.controller.abort()})}var Lu=null,ev=0,Ql=0,Wl=null;function GN(i,s){if(Lu===null){var l=Lu=[];ev=0,Ql=ry(),Wl={status:"pending",value:void 0,then:function(u){l.push(u)}}}return ev++,s.then(aE,aE),s}function aE(){if(--ev===0&&Lu!==null){Wl!==null&&(Wl.status="fulfilled");var i=Lu;Lu=null,Ql=0,Wl=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function KN(i,s){var l=[],u={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var p=0;p<l.length;p++)(0,l[p])(s)},function(p){for(u.status="rejected",u.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),u}var oE=Z.S;Z.S=function(i,s){qx=Xt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&GN(i,s),oE!==null&&oE(i,s)};var Bo=B(null);function tv(){var i=Bo.current;return i!==null?i:kt.pooledCache}function pf(i,s){s===null?me(Bo,Bo.current):me(Bo,s.pool)}function lE(){var i=tv();return i===null?null:{parent:yn._currentValue,pool:i}}var Xl=Error(r(460)),nv=Error(r(474)),mf=Error(r(542)),gf={then:function(){}};function cE(i){return i=i.status,i==="fulfilled"||i==="rejected"}function uE(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(Ai,Ai),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,hE(i),i;default:if(typeof s.status=="string")s.then(Ai,Ai);else{if(i=kt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=u}},function(u){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,hE(i),i}throw $o=s,Xl}}function jo(i){try{var s=i._init;return s(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?($o=l,Xl):l}}var $o=null;function dE(){if($o===null)throw Error(r(459));var i=$o;return $o=null,i}function hE(i){if(i===Xl||i===mf)throw Error(r(483))}var Jl=null,Uu=0;function vf(i){var s=Uu;return Uu+=1,Jl===null&&(Jl=[]),uE(Jl,i,s)}function zu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function yf(i,s){throw s.$$typeof===E?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function fE(i){function s(q,j){if(i){var Q=q.deletions;Q===null?(q.deletions=[j],q.flags|=16):Q.push(j)}}function l(q,j){if(!i)return null;for(;j!==null;)s(q,j),j=j.sibling;return null}function u(q){for(var j=new Map;q!==null;)q.key!==null?j.set(q.key,q):j.set(q.index,q),q=q.sibling;return j}function p(q,j){return q=xs(q,j),q.index=0,q.sibling=null,q}function g(q,j,Q){return q.index=Q,i?(Q=q.alternate,Q!==null?(Q=Q.index,Q<j?(q.flags|=67108866,j):Q):(q.flags|=67108866,j)):(q.flags|=1048576,j)}function _(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function T(q,j,Q,ae){return j===null||j.tag!==6?(j=qg(Q,q.mode,ae),j.return=q,j):(j=p(j,Q),j.return=q,j)}function V(q,j,Q,ae){var Ne=Q.type;return Ne===O?ie(q,j,Q.props.children,ae,Q.key):j!==null&&(j.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===x&&jo(Ne)===j.type)?(j=p(j,Q.props),zu(j,Q),j.return=q,j):(j=uf(Q.type,Q.key,Q.props,null,q.mode,ae),zu(j,Q),j.return=q,j)}function W(q,j,Q,ae){return j===null||j.tag!==4||j.stateNode.containerInfo!==Q.containerInfo||j.stateNode.implementation!==Q.implementation?(j=Hg(Q,q.mode,ae),j.return=q,j):(j=p(j,Q.children||[]),j.return=q,j)}function ie(q,j,Q,ae,Ne){return j===null||j.tag!==7?(j=Vo(Q,q.mode,ae,Ne),j.return=q,j):(j=p(j,Q),j.return=q,j)}function oe(q,j,Q){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=qg(""+j,q.mode,Q),j.return=q,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case I:return Q=uf(j.type,j.key,j.props,null,q.mode,Q),zu(Q,j),Q.return=q,Q;case L:return j=Hg(j,q.mode,Q),j.return=q,j;case x:return j=jo(j),oe(q,j,Q)}if(je(j)||z(j))return j=Vo(j,q.mode,Q,null),j.return=q,j;if(typeof j.then=="function")return oe(q,vf(j),Q);if(j.$$typeof===G)return oe(q,ff(q,j),Q);yf(q,j)}return null}function X(q,j,Q,ae){var Ne=j!==null?j.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ne!==null?null:T(q,j,""+Q,ae);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case I:return Q.key===Ne?V(q,j,Q,ae):null;case L:return Q.key===Ne?W(q,j,Q,ae):null;case x:return Q=jo(Q),X(q,j,Q,ae)}if(je(Q)||z(Q))return Ne!==null?null:ie(q,j,Q,ae,null);if(typeof Q.then=="function")return X(q,j,vf(Q),ae);if(Q.$$typeof===G)return X(q,j,ff(q,Q),ae);yf(q,Q)}return null}function ee(q,j,Q,ae,Ne){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return q=q.get(Q)||null,T(j,q,""+ae,Ne);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case I:return q=q.get(ae.key===null?Q:ae.key)||null,V(j,q,ae,Ne);case L:return q=q.get(ae.key===null?Q:ae.key)||null,W(j,q,ae,Ne);case x:return ae=jo(ae),ee(q,j,Q,ae,Ne)}if(je(ae)||z(ae))return q=q.get(Q)||null,ie(j,q,ae,Ne,null);if(typeof ae.then=="function")return ee(q,j,Q,vf(ae),Ne);if(ae.$$typeof===G)return ee(q,j,Q,ff(j,ae),Ne);yf(j,ae)}return null}function Te(q,j,Q,ae){for(var Ne=null,lt=null,Ae=j,qe=j=0,nt=null;Ae!==null&&qe<Q.length;qe++){Ae.index>qe?(nt=Ae,Ae=null):nt=Ae.sibling;var ct=X(q,Ae,Q[qe],ae);if(ct===null){Ae===null&&(Ae=nt);break}i&&Ae&&ct.alternate===null&&s(q,Ae),j=g(ct,j,qe),lt===null?Ne=ct:lt.sibling=ct,lt=ct,Ae=nt}if(qe===Q.length)return l(q,Ae),st&&Ts(q,qe),Ne;if(Ae===null){for(;qe<Q.length;qe++)Ae=oe(q,Q[qe],ae),Ae!==null&&(j=g(Ae,j,qe),lt===null?Ne=Ae:lt.sibling=Ae,lt=Ae);return st&&Ts(q,qe),Ne}for(Ae=u(Ae);qe<Q.length;qe++)nt=ee(Ae,q,qe,Q[qe],ae),nt!==null&&(i&&nt.alternate!==null&&Ae.delete(nt.key===null?qe:nt.key),j=g(nt,j,qe),lt===null?Ne=nt:lt.sibling=nt,lt=nt);return i&&Ae.forEach(function($a){return s(q,$a)}),st&&Ts(q,qe),Ne}function Oe(q,j,Q,ae){if(Q==null)throw Error(r(151));for(var Ne=null,lt=null,Ae=j,qe=j=0,nt=null,ct=Q.next();Ae!==null&&!ct.done;qe++,ct=Q.next()){Ae.index>qe?(nt=Ae,Ae=null):nt=Ae.sibling;var $a=X(q,Ae,ct.value,ae);if($a===null){Ae===null&&(Ae=nt);break}i&&Ae&&$a.alternate===null&&s(q,Ae),j=g($a,j,qe),lt===null?Ne=$a:lt.sibling=$a,lt=$a,Ae=nt}if(ct.done)return l(q,Ae),st&&Ts(q,qe),Ne;if(Ae===null){for(;!ct.done;qe++,ct=Q.next())ct=oe(q,ct.value,ae),ct!==null&&(j=g(ct,j,qe),lt===null?Ne=ct:lt.sibling=ct,lt=ct);return st&&Ts(q,qe),Ne}for(Ae=u(Ae);!ct.done;qe++,ct=Q.next())ct=ee(Ae,q,qe,ct.value,ae),ct!==null&&(i&&ct.alternate!==null&&Ae.delete(ct.key===null?qe:ct.key),j=g(ct,j,qe),lt===null?Ne=ct:lt.sibling=ct,lt=ct);return i&&Ae.forEach(function(iO){return s(q,iO)}),st&&Ts(q,qe),Ne}function At(q,j,Q,ae){if(typeof Q=="object"&&Q!==null&&Q.type===O&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case I:e:{for(var Ne=Q.key;j!==null;){if(j.key===Ne){if(Ne=Q.type,Ne===O){if(j.tag===7){l(q,j.sibling),ae=p(j,Q.props.children),ae.return=q,q=ae;break e}}else if(j.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===x&&jo(Ne)===j.type){l(q,j.sibling),ae=p(j,Q.props),zu(ae,Q),ae.return=q,q=ae;break e}l(q,j);break}else s(q,j);j=j.sibling}Q.type===O?(ae=Vo(Q.props.children,q.mode,ae,Q.key),ae.return=q,q=ae):(ae=uf(Q.type,Q.key,Q.props,null,q.mode,ae),zu(ae,Q),ae.return=q,q=ae)}return _(q);case L:e:{for(Ne=Q.key;j!==null;){if(j.key===Ne)if(j.tag===4&&j.stateNode.containerInfo===Q.containerInfo&&j.stateNode.implementation===Q.implementation){l(q,j.sibling),ae=p(j,Q.children||[]),ae.return=q,q=ae;break e}else{l(q,j);break}else s(q,j);j=j.sibling}ae=Hg(Q,q.mode,ae),ae.return=q,q=ae}return _(q);case x:return Q=jo(Q),At(q,j,Q,ae)}if(je(Q))return Te(q,j,Q,ae);if(z(Q)){if(Ne=z(Q),typeof Ne!="function")throw Error(r(150));return Q=Ne.call(Q),Oe(q,j,Q,ae)}if(typeof Q.then=="function")return At(q,j,vf(Q),ae);if(Q.$$typeof===G)return At(q,j,ff(q,Q),ae);yf(q,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,j!==null&&j.tag===6?(l(q,j.sibling),ae=p(j,Q),ae.return=q,q=ae):(l(q,j),ae=qg(Q,q.mode,ae),ae.return=q,q=ae),_(q)):l(q,j)}return function(q,j,Q,ae){try{Uu=0;var Ne=At(q,j,Q,ae);return Jl=null,Ne}catch(Ae){if(Ae===Xl||Ae===mf)throw Ae;var lt=Br(29,Ae,null,q.mode);return lt.lanes=ae,lt.return=q,lt}}}var Fo=fE(!0),pE=fE(!1),Sa=!1;function rv(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function iv(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Aa(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ia(i,s,l){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(ft&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,s=cf(i),Xw(i,null,l),s}return lf(i,u,s,l),cf(i)}function Bu(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,l|=u,s.lanes=l,In(i,l)}}function sv(i,s){var l=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var _={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?p=g=_:g=g.next=_,l=l.next}while(l!==null);g===null?p=g=s:g=g.next=s}else p=g=s;l={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var av=!1;function ju(){if(av){var i=Wl;if(i!==null)throw i}}function $u(i,s,l,u){av=!1;var p=i.updateQueue;Sa=!1;var g=p.firstBaseUpdate,_=p.lastBaseUpdate,T=p.shared.pending;if(T!==null){p.shared.pending=null;var V=T,W=V.next;V.next=null,_===null?g=W:_.next=W,_=V;var ie=i.alternate;ie!==null&&(ie=ie.updateQueue,T=ie.lastBaseUpdate,T!==_&&(T===null?ie.firstBaseUpdate=W:T.next=W,ie.lastBaseUpdate=V))}if(g!==null){var oe=p.baseState;_=0,ie=W=V=null,T=g;do{var X=T.lane&-536870913,ee=X!==T.lane;if(ee?(tt&X)===X:(u&X)===X){X!==0&&X===Ql&&(av=!0),ie!==null&&(ie=ie.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Te=i,Oe=T;X=s;var At=l;switch(Oe.tag){case 1:if(Te=Oe.payload,typeof Te=="function"){oe=Te.call(At,oe,X);break e}oe=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Oe.payload,X=typeof Te=="function"?Te.call(At,oe,X):Te,X==null)break e;oe=y({},oe,X);break e;case 2:Sa=!0}}X=T.callback,X!==null&&(i.flags|=64,ee&&(i.flags|=8192),ee=p.callbacks,ee===null?p.callbacks=[X]:ee.push(X))}else ee={lane:X,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ie===null?(W=ie=ee,V=oe):ie=ie.next=ee,_|=X;if(T=T.next,T===null){if(T=p.shared.pending,T===null)break;ee=T,T=ee.next,ee.next=null,p.lastBaseUpdate=ee,p.shared.pending=null}}while(!0);ie===null&&(V=oe),p.baseState=V,p.firstBaseUpdate=W,p.lastBaseUpdate=ie,g===null&&(p.shared.lanes=0),ka|=_,i.lanes=_,i.memoizedState=oe}}function mE(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function gE(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)mE(l[i],s)}var Zl=B(null),bf=B(0);function vE(i,s){i=Ms,me(bf,i),me(Zl,s),Ms=i|s.baseLanes}function ov(){me(bf,Ms),me(Zl,Zl.current)}function lv(){Ms=bf.current,ne(Zl),ne(bf)}var jr=B(null),fi=null;function Ca(i){var s=i.alternate;me(ln,ln.current&1),me(jr,i),fi===null&&(s===null||Zl.current!==null||s.memoizedState!==null)&&(fi=i)}function cv(i){me(ln,ln.current),me(jr,i),fi===null&&(fi=i)}function yE(i){i.tag===22?(me(ln,ln.current),me(jr,i),fi===null&&(fi=i)):Ra()}function Ra(){me(ln,ln.current),me(jr,jr.current)}function $r(i){ne(jr),fi===i&&(fi=null),ne(ln)}var ln=B(0);function _f(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||my(l)||gy(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Is=0,Be=null,Tt=null,bn=null,wf=!1,ec=!1,qo=!1,Ef=0,Fu=0,tc=null,YN=0;function en(){throw Error(r(321))}function uv(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!zr(i[l],s[l]))return!1;return!0}function dv(i,s,l,u,p,g){return Is=g,Be=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=i===null||i.memoizedState===null?tx:Av,qo=!1,g=l(u,p),qo=!1,ec&&(g=_E(s,l,u,p)),bE(i),g}function bE(i){Z.H=Gu;var s=Tt!==null&&Tt.next!==null;if(Is=0,bn=Tt=Be=null,wf=!1,Fu=0,tc=null,s)throw Error(r(300));i===null||_n||(i=i.dependencies,i!==null&&hf(i)&&(_n=!0))}function _E(i,s,l,u){Be=i;var p=0;do{if(ec&&(tc=null),Fu=0,ec=!1,25<=p)throw Error(r(301));if(p+=1,bn=Tt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Z.H=nx,g=s(l,u)}while(ec);return g}function QN(){var i=Z.H,s=i.useState()[0];return s=typeof s.then=="function"?qu(s):s,i=i.useState()[0],(Tt!==null?Tt.memoizedState:null)!==i&&(Be.flags|=1024),s}function hv(){var i=Ef!==0;return Ef=0,i}function fv(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function pv(i){if(wf){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}wf=!1}Is=0,bn=Tt=Be=null,ec=!1,Fu=Ef=0,tc=null}function _r(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?Be.memoizedState=bn=i:bn=bn.next=i,bn}function cn(){if(Tt===null){var i=Be.alternate;i=i!==null?i.memoizedState:null}else i=Tt.next;var s=bn===null?Be.memoizedState:bn.next;if(s!==null)bn=s,Tt=i;else{if(i===null)throw Be.alternate===null?Error(r(467)):Error(r(310));Tt=i,i={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},bn===null?Be.memoizedState=bn=i:bn=bn.next=i}return bn}function xf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qu(i){var s=Fu;return Fu+=1,tc===null&&(tc=[]),i=uE(tc,i,s),s=Be,(bn===null?s.memoizedState:bn.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?tx:Av),i}function Tf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return qu(i);if(i.$$typeof===G)return Kn(i)}throw Error(r(438,String(i)))}function mv(i){var s=null,l=Be.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=Be.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=xf(),Be.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),u=0;u<i;u++)l[u]=P;return s.index++,l}function Cs(i,s){return typeof s=="function"?s(i):s}function Sf(i){var s=cn();return gv(s,Tt,i)}function gv(i,s,l){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var p=i.baseQueue,g=u.pending;if(g!==null){if(p!==null){var _=p.next;p.next=g.next,g.next=_}s.baseQueue=p=g,u.pending=null}if(g=i.baseState,p===null)i.memoizedState=g;else{s=p.next;var T=_=null,V=null,W=s,ie=!1;do{var oe=W.lane&-536870913;if(oe!==W.lane?(tt&oe)===oe:(Is&oe)===oe){var X=W.revertLane;if(X===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),oe===Ql&&(ie=!0);else if((Is&X)===X){W=W.next,X===Ql&&(ie=!0);continue}else oe={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},V===null?(T=V=oe,_=g):V=V.next=oe,Be.lanes|=X,ka|=X;oe=W.action,qo&&l(g,oe),g=W.hasEagerState?W.eagerState:l(g,oe)}else X={lane:oe,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},V===null?(T=V=X,_=g):V=V.next=X,Be.lanes|=oe,ka|=oe;W=W.next}while(W!==null&&W!==s);if(V===null?_=g:V.next=T,!zr(g,i.memoizedState)&&(_n=!0,ie&&(l=Wl,l!==null)))throw l;i.memoizedState=g,i.baseState=_,i.baseQueue=V,u.lastRenderedState=g}return p===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function vv(i){var s=cn(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var u=l.dispatch,p=l.pending,g=s.memoizedState;if(p!==null){l.pending=null;var _=p=p.next;do g=i(g,_.action),_=_.next;while(_!==p);zr(g,s.memoizedState)||(_n=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,u]}function wE(i,s,l){var u=Be,p=cn(),g=st;if(g){if(l===void 0)throw Error(r(407));l=l()}else l=s();var _=!zr((Tt||p).memoizedState,l);if(_&&(p.memoizedState=l,_n=!0),p=p.queue,_v(TE.bind(null,u,p,i),[i]),p.getSnapshot!==s||_||bn!==null&&bn.memoizedState.tag&1){if(u.flags|=2048,nc(9,{destroy:void 0},xE.bind(null,u,p,l,s),null),kt===null)throw Error(r(349));g||(Is&127)!==0||EE(u,s,l)}return l}function EE(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Be.updateQueue,s===null?(s=xf(),Be.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function xE(i,s,l,u){s.value=l,s.getSnapshot=u,SE(s)&&AE(i)}function TE(i,s,l){return l(function(){SE(s)&&AE(i)})}function SE(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!zr(i,l)}catch{return!0}}function AE(i){var s=Mo(i,2);s!==null&&kr(s,i,2)}function yv(i){var s=_r();if(typeof i=="function"){var l=i;if(i=l(),qo){An(!0);try{l()}finally{An(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:i},s}function IE(i,s,l,u){return i.baseState=l,gv(i,Tt,typeof u=="function"?u:Cs)}function WN(i,s,l,u,p){if(Cf(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){g.listeners.push(_)}};Z.T!==null?l(!0):g.isTransition=!1,u(g),l=s.pending,l===null?(g.next=s.pending=g,CE(s,g)):(g.next=l.next,s.pending=l.next=g)}}function CE(i,s){var l=s.action,u=s.payload,p=i.state;if(s.isTransition){var g=Z.T,_={};Z.T=_;try{var T=l(p,u),V=Z.S;V!==null&&V(_,T),RE(i,s,T)}catch(W){bv(i,s,W)}finally{g!==null&&_.types!==null&&(g.types=_.types),Z.T=g}}else try{g=l(p,u),RE(i,s,g)}catch(W){bv(i,s,W)}}function RE(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){DE(i,s,u)},function(u){return bv(i,s,u)}):DE(i,s,l)}function DE(i,s,l){s.status="fulfilled",s.value=l,NE(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,CE(i,l)))}function bv(i,s,l){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,NE(s),s=s.next;while(s!==u)}i.action=null}function NE(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function kE(i,s){return s}function OE(i,s){if(st){var l=kt.formState;if(l!==null){e:{var u=Be;if(st){if(Ut){t:{for(var p=Ut,g=hi;p.nodeType!==8;){if(!g){p=null;break t}if(p=pi(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Ut=pi(p.nextSibling),u=p.data==="F!";break e}}xa(u)}u=!1}u&&(s=l[0])}}return l=_r(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kE,lastRenderedState:s},l.queue=u,l=JE.bind(null,Be,u),u.dispatch=l,u=yv(!1),g=Sv.bind(null,Be,!1,u.queue),u=_r(),p={state:s,dispatch:null,action:i,pending:null},u.queue=p,l=WN.bind(null,Be,p,g,l),p.dispatch=l,u.memoizedState=i,[s,l,!1]}function PE(i){var s=cn();return ME(s,Tt,i)}function ME(i,s,l){if(s=gv(i,s,kE)[0],i=Sf(Cs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=qu(s)}catch(_){throw _===Xl?mf:_}else u=s;s=cn();var p=s.queue,g=p.dispatch;return l!==s.memoizedState&&(Be.flags|=2048,nc(9,{destroy:void 0},XN.bind(null,p,l),null)),[u,g,i]}function XN(i,s){i.action=s}function VE(i){var s=cn(),l=Tt;if(l!==null)return ME(s,l,i);cn(),s=s.memoizedState,l=cn();var u=l.queue.dispatch;return l.memoizedState=i,[s,u,!1]}function nc(i,s,l,u){return i={tag:i,create:l,deps:u,inst:s,next:null},s=Be.updateQueue,s===null&&(s=xf(),Be.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(u=l.next,l.next=i,i.next=u,s.lastEffect=i),i}function LE(){return cn().memoizedState}function Af(i,s,l,u){var p=_r();Be.flags|=i,p.memoizedState=nc(1|s,{destroy:void 0},l,u===void 0?null:u)}function If(i,s,l,u){var p=cn();u=u===void 0?null:u;var g=p.memoizedState.inst;Tt!==null&&u!==null&&uv(u,Tt.memoizedState.deps)?p.memoizedState=nc(s,g,l,u):(Be.flags|=i,p.memoizedState=nc(1|s,g,l,u))}function UE(i,s){Af(8390656,8,i,s)}function _v(i,s){If(2048,8,i,s)}function JN(i){Be.flags|=4;var s=Be.updateQueue;if(s===null)s=xf(),Be.updateQueue=s,s.events=[i];else{var l=s.events;l===null?s.events=[i]:l.push(i)}}function zE(i){var s=cn().memoizedState;return JN({ref:s,nextImpl:i}),function(){if((ft&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function BE(i,s){return If(4,2,i,s)}function jE(i,s){return If(4,4,i,s)}function $E(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function FE(i,s,l){l=l!=null?l.concat([i]):null,If(4,4,$E.bind(null,s,i),l)}function wv(){}function qE(i,s){var l=cn();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&uv(s,u[1])?u[0]:(l.memoizedState=[i,s],i)}function HE(i,s){var l=cn();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&uv(s,u[1]))return u[0];if(u=i(),qo){An(!0);try{i()}finally{An(!1)}}return l.memoizedState=[u,s],u}function Ev(i,s,l){return l===void 0||(Is&1073741824)!==0&&(tt&261930)===0?i.memoizedState=s:(i.memoizedState=l,i=Gx(),Be.lanes|=i,ka|=i,l)}function GE(i,s,l,u){return zr(l,s)?l:Zl.current!==null?(i=Ev(i,l,u),zr(i,s)||(_n=!0),i):(Is&42)===0||(Is&1073741824)!==0&&(tt&261930)===0?(_n=!0,i.memoizedState=l):(i=Gx(),Be.lanes|=i,ka|=i,s)}function KE(i,s,l,u,p){var g=de.p;de.p=g!==0&&8>g?g:8;var _=Z.T,T={};Z.T=T,Sv(i,!1,s,l);try{var V=p(),W=Z.S;if(W!==null&&W(T,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ie=KN(V,u);Hu(i,s,ie,Hr(i))}else Hu(i,s,u,Hr(i))}catch(oe){Hu(i,s,{then:function(){},status:"rejected",reason:oe},Hr())}finally{de.p=g,_!==null&&T.types!==null&&(_.types=T.types),Z.T=_}}function ZN(){}function xv(i,s,l,u){if(i.tag!==5)throw Error(r(476));var p=YE(i).queue;KE(i,p,s,_e,l===null?ZN:function(){return QE(i),l(u)})}function YE(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:_e},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function QE(i){var s=YE(i);s.next===null&&(s=i.alternate.memoizedState),Hu(i,s.next.queue,{},Hr())}function Tv(){return Kn(ld)}function WE(){return cn().memoizedState}function XE(){return cn().memoizedState}function ek(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=Hr();i=Aa(l);var u=Ia(s,i,l);u!==null&&(kr(u,s,l),Bu(u,s,l)),s={cache:Zg()},i.payload=s;return}s=s.return}}function tk(i,s,l){var u=Hr();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Cf(i)?ZE(s,l):(l=$g(i,s,l,u),l!==null&&(kr(l,i,u),ex(l,s,u)))}function JE(i,s,l){var u=Hr();Hu(i,s,l,u)}function Hu(i,s,l,u){var p={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Cf(i))ZE(s,p);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var _=s.lastRenderedState,T=g(_,l);if(p.hasEagerState=!0,p.eagerState=T,zr(T,_))return lf(i,s,p,0),kt===null&&of(),!1}catch{}if(l=$g(i,s,p,u),l!==null)return kr(l,i,u),ex(l,s,u),!0}return!1}function Sv(i,s,l,u){if(u={lane:2,revertLane:ry(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Cf(i)){if(s)throw Error(r(479))}else s=$g(i,l,u,2),s!==null&&kr(s,i,2)}function Cf(i){var s=i.alternate;return i===Be||s!==null&&s===Be}function ZE(i,s){ec=wf=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function ex(i,s,l){if((l&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,l|=u,s.lanes=l,In(i,l)}}var Gu={readContext:Kn,use:Tf,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useInsertionEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useSyncExternalStore:en,useId:en,useHostTransitionStatus:en,useFormState:en,useActionState:en,useOptimistic:en,useMemoCache:en,useCacheRefresh:en};Gu.useEffectEvent=en;var tx={readContext:Kn,use:Tf,useCallback:function(i,s){return _r().memoizedState=[i,s===void 0?null:s],i},useContext:Kn,useEffect:UE,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,Af(4194308,4,$E.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Af(4194308,4,i,s)},useInsertionEffect:function(i,s){Af(4,2,i,s)},useMemo:function(i,s){var l=_r();s=s===void 0?null:s;var u=i();if(qo){An(!0);try{i()}finally{An(!1)}}return l.memoizedState=[u,s],u},useReducer:function(i,s,l){var u=_r();if(l!==void 0){var p=l(s);if(qo){An(!0);try{l(s)}finally{An(!1)}}}else p=s;return u.memoizedState=u.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},u.queue=i,i=i.dispatch=tk.bind(null,Be,i),[u.memoizedState,i]},useRef:function(i){var s=_r();return i={current:i},s.memoizedState=i},useState:function(i){i=yv(i);var s=i.queue,l=JE.bind(null,Be,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:wv,useDeferredValue:function(i,s){var l=_r();return Ev(l,i,s)},useTransition:function(){var i=yv(!1);return i=KE.bind(null,Be,i.queue,!0,!1),_r().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var u=Be,p=_r();if(st){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),kt===null)throw Error(r(349));(tt&127)!==0||EE(u,s,l)}p.memoizedState=l;var g={value:l,getSnapshot:s};return p.queue=g,UE(TE.bind(null,u,g,i),[i]),u.flags|=2048,nc(9,{destroy:void 0},xE.bind(null,u,g,l,s),null),l},useId:function(){var i=_r(),s=kt.identifierPrefix;if(st){var l=Zi,u=Ji;l=(u&~(1<<32-gt(u)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Ef++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=YN++,s="_"+s+"r_"+l.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Tv,useFormState:OE,useActionState:OE,useOptimistic:function(i){var s=_r();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Sv.bind(null,Be,!0,l),l.dispatch=s,[i,s]},useMemoCache:mv,useCacheRefresh:function(){return _r().memoizedState=ek.bind(null,Be)},useEffectEvent:function(i){var s=_r(),l={impl:i};return s.memoizedState=l,function(){if((ft&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},Av={readContext:Kn,use:Tf,useCallback:qE,useContext:Kn,useEffect:_v,useImperativeHandle:FE,useInsertionEffect:BE,useLayoutEffect:jE,useMemo:HE,useReducer:Sf,useRef:LE,useState:function(){return Sf(Cs)},useDebugValue:wv,useDeferredValue:function(i,s){var l=cn();return GE(l,Tt.memoizedState,i,s)},useTransition:function(){var i=Sf(Cs)[0],s=cn().memoizedState;return[typeof i=="boolean"?i:qu(i),s]},useSyncExternalStore:wE,useId:WE,useHostTransitionStatus:Tv,useFormState:PE,useActionState:PE,useOptimistic:function(i,s){var l=cn();return IE(l,Tt,i,s)},useMemoCache:mv,useCacheRefresh:XE};Av.useEffectEvent=zE;var nx={readContext:Kn,use:Tf,useCallback:qE,useContext:Kn,useEffect:_v,useImperativeHandle:FE,useInsertionEffect:BE,useLayoutEffect:jE,useMemo:HE,useReducer:vv,useRef:LE,useState:function(){return vv(Cs)},useDebugValue:wv,useDeferredValue:function(i,s){var l=cn();return Tt===null?Ev(l,i,s):GE(l,Tt.memoizedState,i,s)},useTransition:function(){var i=vv(Cs)[0],s=cn().memoizedState;return[typeof i=="boolean"?i:qu(i),s]},useSyncExternalStore:wE,useId:WE,useHostTransitionStatus:Tv,useFormState:VE,useActionState:VE,useOptimistic:function(i,s){var l=cn();return Tt!==null?IE(l,Tt,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:mv,useCacheRefresh:XE};nx.useEffectEvent=zE;function Iv(i,s,l,u){s=i.memoizedState,l=l(u,s),l=l==null?s:y({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Cv={enqueueSetState:function(i,s,l){i=i._reactInternals;var u=Hr(),p=Aa(u);p.payload=s,l!=null&&(p.callback=l),s=Ia(i,p,u),s!==null&&(kr(s,i,u),Bu(s,i,u))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var u=Hr(),p=Aa(u);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=Ia(i,p,u),s!==null&&(kr(s,i,u),Bu(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=Hr(),u=Aa(l);u.tag=2,s!=null&&(u.callback=s),s=Ia(i,u,l),s!==null&&(kr(s,i,l),Bu(s,i,l))}};function rx(i,s,l,u,p,g,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,_):s.prototype&&s.prototype.isPureReactComponent?!ku(l,u)||!ku(p,g):!0}function ix(i,s,l,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==i&&Cv.enqueueReplaceState(s,s.state,null)}function Ho(i,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(i=i.defaultProps){l===s&&(l=y({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}function sx(i){af(i)}function ax(i){console.error(i)}function ox(i){af(i)}function Rf(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function lx(i,s,l){try{var u=i.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Rv(i,s,l){return l=Aa(l),l.tag=3,l.payload={element:null},l.callback=function(){Rf(i,s)},l}function cx(i){return i=Aa(i),i.tag=3,i}function ux(i,s,l,u){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var g=u.value;i.payload=function(){return p(g)},i.callback=function(){lx(s,l,u)}}var _=l.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){lx(s,l,u),typeof p!="function"&&(Oa===null?Oa=new Set([this]):Oa.add(this));var T=u.stack;this.componentDidCatch(u.value,{componentStack:T!==null?T:""})})}function nk(i,s,l,u,p){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&Yl(s,l,p,!0),l=jr.current,l!==null){switch(l.tag){case 31:case 13:return fi===null?jf():l.alternate===null&&tn===0&&(tn=3),l.flags&=-257,l.flags|=65536,l.lanes=p,u===gf?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),ey(i,u,p)),!1;case 22:return l.flags|=65536,u===gf?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),ey(i,u,p)),!1}throw Error(r(435,l.tag))}return ey(i,u,p),jf(),!1}if(st)return s=jr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,u!==Yg&&(i=Error(r(422),{cause:u}),Mu(ci(i,l)))):(u!==Yg&&(s=Error(r(423),{cause:u}),Mu(ci(s,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,u=ci(u,l),p=Rv(i.stateNode,u,p),sv(i,p),tn!==4&&(tn=2)),!1;var g=Error(r(520),{cause:u});if(g=ci(g,l),ed===null?ed=[g]:ed.push(g),tn!==4&&(tn=2),s===null)return!0;u=ci(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=Rv(l.stateNode,u,i),sv(l,i),!1;case 1:if(s=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Oa===null||!Oa.has(g))))return l.flags|=65536,p&=-p,l.lanes|=p,p=cx(p),ux(p,i,l,u),sv(l,p),!1}l=l.return}while(l!==null);return!1}var Dv=Error(r(461)),_n=!1;function Yn(i,s,l,u){s.child=i===null?pE(s,null,l,u):Fo(s,i.child,l,u)}function dx(i,s,l,u,p){l=l.render;var g=s.ref;if("ref"in u){var _={};for(var T in u)T!=="ref"&&(_[T]=u[T])}else _=u;return zo(s),u=dv(i,s,l,_,g,p),T=hv(),i!==null&&!_n?(fv(i,s,p),Rs(i,s,p)):(st&&T&&Gg(s),s.flags|=1,Yn(i,s,u,p),s.child)}function hx(i,s,l,u,p){if(i===null){var g=l.type;return typeof g=="function"&&!Fg(g)&&g.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=g,fx(i,s,g,u,p)):(i=uf(l.type,null,u,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!Uv(i,p)){var _=g.memoizedProps;if(l=l.compare,l=l!==null?l:ku,l(_,u)&&i.ref===s.ref)return Rs(i,s,p)}return s.flags|=1,i=xs(g,u),i.ref=s.ref,i.return=s,s.child=i}function fx(i,s,l,u,p){if(i!==null){var g=i.memoizedProps;if(ku(g,u)&&i.ref===s.ref)if(_n=!1,s.pendingProps=u=g,Uv(i,p))(i.flags&131072)!==0&&(_n=!0);else return s.lanes=i.lanes,Rs(i,s,p)}return Nv(i,s,l,u,p)}function px(i,s,l,u){var p=u.children,g=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|l:l,i!==null){for(u=s.child=i.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~g}else u=0,s.child=null;return mx(i,s,g,l,u)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&pf(s,g!==null?g.cachePool:null),g!==null?vE(s,g):ov(),yE(s);else return u=s.lanes=536870912,mx(i,s,g!==null?g.baseLanes|l:l,l,u)}else g!==null?(pf(s,g.cachePool),vE(s,g),Ra(),s.memoizedState=null):(i!==null&&pf(s,null),ov(),Ra());return Yn(i,s,p,l),s.child}function Ku(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function mx(i,s,l,u,p){var g=tv();return g=g===null?null:{parent:yn._currentValue,pool:g},s.memoizedState={baseLanes:l,cachePool:g},i!==null&&pf(s,null),ov(),yE(s),i!==null&&Yl(i,s,u,!0),s.childLanes=p,null}function Df(i,s){return s=kf({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function gx(i,s,l){return Fo(s,i.child,null,l),i=Df(s,s.pendingProps),i.flags|=2,$r(s),s.memoizedState=null,i}function rk(i,s,l){var u=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(st){if(u.mode==="hidden")return i=Df(s,u),s.lanes=536870912,Ku(null,i);if(cv(s),(i=Ut)?(i=CT(i,hi),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:wa!==null?{id:Ji,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},l=Zw(i),l.return=s,s.child=l,Gn=s,Ut=null)):i=null,i===null)throw xa(s);return s.lanes=536870912,null}return Df(s,u)}var g=i.memoizedState;if(g!==null){var _=g.dehydrated;if(cv(s),p)if(s.flags&256)s.flags&=-257,s=gx(i,s,l);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(_n||Yl(i,s,l,!1),p=(l&i.childLanes)!==0,_n||p){if(u=kt,u!==null&&(_=Fn(u,l),_!==0&&_!==g.retryLane))throw g.retryLane=_,Mo(i,_),kr(u,i,_),Dv;jf(),s=gx(i,s,l)}else i=g.treeContext,Ut=pi(_.nextSibling),Gn=s,st=!0,Ea=null,hi=!1,i!==null&&nE(s,i),s=Df(s,u),s.flags|=4096;return s}return i=xs(i.child,{mode:u.mode,children:u.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Nf(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function Nv(i,s,l,u,p){return zo(s),l=dv(i,s,l,u,void 0,p),u=hv(),i!==null&&!_n?(fv(i,s,p),Rs(i,s,p)):(st&&u&&Gg(s),s.flags|=1,Yn(i,s,l,p),s.child)}function vx(i,s,l,u,p,g){return zo(s),s.updateQueue=null,l=_E(s,u,l,p),bE(i),u=hv(),i!==null&&!_n?(fv(i,s,g),Rs(i,s,g)):(st&&u&&Gg(s),s.flags|=1,Yn(i,s,l,g),s.child)}function yx(i,s,l,u,p){if(zo(s),s.stateNode===null){var g=ql,_=l.contextType;typeof _=="object"&&_!==null&&(g=Kn(_)),g=new l(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Cv,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},rv(s),_=l.contextType,g.context=typeof _=="object"&&_!==null?Kn(_):ql,g.state=s.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(Iv(s,l,_,u),g.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(_=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),_!==g.state&&Cv.enqueueReplaceState(g,g.state,null),$u(s,u,g,p),ju(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){g=s.stateNode;var T=s.memoizedProps,V=Ho(l,T);g.props=V;var W=g.context,ie=l.contextType;_=ql,typeof ie=="object"&&ie!==null&&(_=Kn(ie));var oe=l.getDerivedStateFromProps;ie=typeof oe=="function"||typeof g.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,ie||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T||W!==_)&&ix(s,g,u,_),Sa=!1;var X=s.memoizedState;g.state=X,$u(s,u,g,p),ju(),W=s.memoizedState,T||X!==W||Sa?(typeof oe=="function"&&(Iv(s,l,oe,u),W=s.memoizedState),(V=Sa||rx(s,l,V,u,X,W,_))?(ie||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=W),g.props=u,g.state=W,g.context=_,u=V):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,iv(i,s),_=s.memoizedProps,ie=Ho(l,_),g.props=ie,oe=s.pendingProps,X=g.context,W=l.contextType,V=ql,typeof W=="object"&&W!==null&&(V=Kn(W)),T=l.getDerivedStateFromProps,(W=typeof T=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(_!==oe||X!==V)&&ix(s,g,u,V),Sa=!1,X=s.memoizedState,g.state=X,$u(s,u,g,p),ju();var ee=s.memoizedState;_!==oe||X!==ee||Sa||i!==null&&i.dependencies!==null&&hf(i.dependencies)?(typeof T=="function"&&(Iv(s,l,T,u),ee=s.memoizedState),(ie=Sa||rx(s,l,ie,u,X,ee,V)||i!==null&&i.dependencies!==null&&hf(i.dependencies))?(W||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,ee,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,ee,V)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||_===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=ee),g.props=u,g.state=ee,g.context=V,u=ie):(typeof g.componentDidUpdate!="function"||_===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),u=!1)}return g=u,Nf(i,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&u?(s.child=Fo(s,i.child,null,p),s.child=Fo(s,null,l,p)):Yn(i,s,l,p),s.memoizedState=g.state,i=s.child):i=Rs(i,s,p),i}function bx(i,s,l,u){return Lo(),s.flags|=256,Yn(i,s,l,u),s.child}var kv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ov(i){return{baseLanes:i,cachePool:lE()}}function Pv(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=qr),i}function _x(i,s,l){var u=s.pendingProps,p=!1,g=(s.flags&128)!==0,_;if((_=g)||(_=i!==null&&i.memoizedState===null?!1:(ln.current&2)!==0),_&&(p=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,i===null){if(st){if(p?Ca(s):Ra(),(i=Ut)?(i=CT(i,hi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:wa!==null?{id:Ji,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},l=Zw(i),l.return=s,s.child=l,Gn=s,Ut=null)):i=null,i===null)throw xa(s);return gy(i)?s.lanes=32:s.lanes=536870912,null}var T=u.children;return u=u.fallback,p?(Ra(),p=s.mode,T=kf({mode:"hidden",children:T},p),u=Vo(u,p,l,null),T.return=s,u.return=s,T.sibling=u,s.child=T,u=s.child,u.memoizedState=Ov(l),u.childLanes=Pv(i,_,l),s.memoizedState=kv,Ku(null,u)):(Ca(s),Mv(s,T))}var V=i.memoizedState;if(V!==null&&(T=V.dehydrated,T!==null)){if(g)s.flags&256?(Ca(s),s.flags&=-257,s=Vv(i,s,l)):s.memoizedState!==null?(Ra(),s.child=i.child,s.flags|=128,s=null):(Ra(),T=u.fallback,p=s.mode,u=kf({mode:"visible",children:u.children},p),T=Vo(T,p,l,null),T.flags|=2,u.return=s,T.return=s,u.sibling=T,s.child=u,Fo(s,i.child,null,l),u=s.child,u.memoizedState=Ov(l),u.childLanes=Pv(i,_,l),s.memoizedState=kv,s=Ku(null,u));else if(Ca(s),gy(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var W=_.dgst;_=W,u=Error(r(419)),u.stack="",u.digest=_,Mu({value:u,source:null,stack:null}),s=Vv(i,s,l)}else if(_n||Yl(i,s,l,!1),_=(l&i.childLanes)!==0,_n||_){if(_=kt,_!==null&&(u=Fn(_,l),u!==0&&u!==V.retryLane))throw V.retryLane=u,Mo(i,u),kr(_,i,u),Dv;my(T)||jf(),s=Vv(i,s,l)}else my(T)?(s.flags|=192,s.child=i.child,s=null):(i=V.treeContext,Ut=pi(T.nextSibling),Gn=s,st=!0,Ea=null,hi=!1,i!==null&&nE(s,i),s=Mv(s,u.children),s.flags|=4096);return s}return p?(Ra(),T=u.fallback,p=s.mode,V=i.child,W=V.sibling,u=xs(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,W!==null?T=xs(W,T):(T=Vo(T,p,l,null),T.flags|=2),T.return=s,u.return=s,u.sibling=T,s.child=u,Ku(null,u),u=s.child,T=i.child.memoizedState,T===null?T=Ov(l):(p=T.cachePool,p!==null?(V=yn._currentValue,p=p.parent!==V?{parent:V,pool:V}:p):p=lE(),T={baseLanes:T.baseLanes|l,cachePool:p}),u.memoizedState=T,u.childLanes=Pv(i,_,l),s.memoizedState=kv,Ku(i.child,u)):(Ca(s),l=i.child,i=l.sibling,l=xs(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,i!==null&&(_=s.deletions,_===null?(s.deletions=[i],s.flags|=16):_.push(i)),s.child=l,s.memoizedState=null,l)}function Mv(i,s){return s=kf({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function kf(i,s){return i=Br(22,i,null,s),i.lanes=0,i}function Vv(i,s,l){return Fo(s,i.child,null,l),i=Mv(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function wx(i,s,l){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Xg(i.return,s,l)}function Lv(i,s,l,u,p,g){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:p,treeForkCount:g}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=l,_.tailMode=p,_.treeForkCount=g)}function Ex(i,s,l){var u=s.pendingProps,p=u.revealOrder,g=u.tail;u=u.children;var _=ln.current,T=(_&2)!==0;if(T?(_=_&1|2,s.flags|=128):_&=1,me(ln,_),Yn(i,s,u,l),u=st?Pu:0,!T&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&wx(i,l,s);else if(i.tag===19)wx(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(l=s.child,p=null;l!==null;)i=l.alternate,i!==null&&_f(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),Lv(s,!1,p,l,g,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&_f(i)===null){s.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}Lv(s,!0,l,null,g,u);break;case"together":Lv(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function Rs(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),ka|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(Yl(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=xs(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=xs(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function Uv(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&hf(i)))}function ik(i,s,l){switch(s.tag){case 3:He(s,s.stateNode.containerInfo),Ta(s,yn,i.memoizedState.cache),Lo();break;case 27:case 5:Fe(s);break;case 4:He(s,s.stateNode.containerInfo);break;case 10:Ta(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,cv(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Ca(s),s.flags|=128,null):(l&s.child.childLanes)!==0?_x(i,s,l):(Ca(s),i=Rs(i,s,l),i!==null?i.sibling:null);Ca(s);break;case 19:var p=(i.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(Yl(i,s,l,!1),u=(l&s.childLanes)!==0),p){if(u)return Ex(i,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),me(ln,ln.current),u)break;return null;case 22:return s.lanes=0,px(i,s,l,s.pendingProps);case 24:Ta(s,yn,i.memoizedState.cache)}return Rs(i,s,l)}function xx(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)_n=!0;else{if(!Uv(i,l)&&(s.flags&128)===0)return _n=!1,ik(i,s,l);_n=(i.flags&131072)!==0}else _n=!1,st&&(s.flags&1048576)!==0&&tE(s,Pu,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(i=jo(s.elementType),s.type=i,typeof i=="function")Fg(i)?(u=Ho(i,u),s.tag=1,s=yx(null,s,i,u,l)):(s.tag=0,s=Nv(null,s,i,u,l));else{if(i!=null){var p=i.$$typeof;if(p===le){s.tag=11,s=dx(null,s,i,u,l);break e}else if(p===R){s.tag=14,s=hx(null,s,i,u,l);break e}}throw s=Re(i)||i,Error(r(306,s,""))}}return s;case 0:return Nv(i,s,s.type,s.pendingProps,l);case 1:return u=s.type,p=Ho(u,s.pendingProps),yx(i,s,u,p,l);case 3:e:{if(He(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var g=s.memoizedState;p=g.element,iv(i,s),$u(s,u,null,l);var _=s.memoizedState;if(u=_.cache,Ta(s,yn,u),u!==g.cache&&Jg(s,[yn],l,!0),ju(),u=_.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=bx(i,s,u,l);break e}else if(u!==p){p=ci(Error(r(424)),s),Mu(p),s=bx(i,s,u,l);break e}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Ut=pi(i.firstChild),Gn=s,st=!0,Ea=null,hi=!0,l=pE(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Lo(),u===p){s=Rs(i,s,l);break e}Yn(i,s,u,l)}s=s.child}return s;case 26:return Nf(i,s),i===null?(l=PT(s.type,null,s.pendingProps,null))?s.memoizedState=l:st||(l=s.type,i=s.pendingProps,u=Yf(Ce.current).createElement(l),u[Zt]=s,u[gn]=i,Qn(u,l,i),jt(u),s.stateNode=u):s.memoizedState=PT(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Fe(s),i===null&&st&&(u=s.stateNode=NT(s.type,s.pendingProps,Ce.current),Gn=s,hi=!0,p=Ut,La(s.type)?(vy=p,Ut=pi(u.firstChild)):Ut=p),Yn(i,s,s.pendingProps.children,l),Nf(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&st&&((p=u=Ut)&&(u=Pk(u,s.type,s.pendingProps,hi),u!==null?(s.stateNode=u,Gn=s,Ut=pi(u.firstChild),hi=!1,p=!0):p=!1),p||xa(s)),Fe(s),p=s.type,g=s.pendingProps,_=i!==null?i.memoizedProps:null,u=g.children,hy(p,g)?u=null:_!==null&&hy(p,_)&&(s.flags|=32),s.memoizedState!==null&&(p=dv(i,s,QN,null,null,l),ld._currentValue=p),Nf(i,s),Yn(i,s,u,l),s.child;case 6:return i===null&&st&&((i=l=Ut)&&(l=Mk(l,s.pendingProps,hi),l!==null?(s.stateNode=l,Gn=s,Ut=null,i=!0):i=!1),i||xa(s)),null;case 13:return _x(i,s,l);case 4:return He(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=Fo(s,null,u,l):Yn(i,s,u,l),s.child;case 11:return dx(i,s,s.type,s.pendingProps,l);case 7:return Yn(i,s,s.pendingProps,l),s.child;case 8:return Yn(i,s,s.pendingProps.children,l),s.child;case 12:return Yn(i,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,Ta(s,s.type,u.value),Yn(i,s,u.children,l),s.child;case 9:return p=s.type._context,u=s.pendingProps.children,zo(s),p=Kn(p),u=u(p),s.flags|=1,Yn(i,s,u,l),s.child;case 14:return hx(i,s,s.type,s.pendingProps,l);case 15:return fx(i,s,s.type,s.pendingProps,l);case 19:return Ex(i,s,l);case 31:return rk(i,s,l);case 22:return px(i,s,l,s.pendingProps);case 24:return zo(s),u=Kn(yn),i===null?(p=tv(),p===null&&(p=kt,g=Zg(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=l),p=g),s.memoizedState={parent:u,cache:p},rv(s),Ta(s,yn,p)):((i.lanes&l)!==0&&(iv(i,s),$u(s,null,null,l),ju()),p=i.memoizedState,g=s.memoizedState,p.parent!==u?(p={parent:u,cache:u},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),Ta(s,yn,u)):(u=g.cache,Ta(s,yn,u),u!==p.cache&&Jg(s,[yn],l,!0))),Yn(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Ds(i){i.flags|=4}function zv(i,s,l,u,p){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(Wx())i.flags|=8192;else throw $o=gf,nv}else i.flags&=-16777217}function Tx(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!zT(s))if(Wx())i.flags|=8192;else throw $o=gf,nv}function Of(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?pn():536870912,i.lanes|=s,ac|=s)}function Yu(i,s){if(!st)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function zt(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,u=0;if(s)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=u,i.childLanes=l,s}function sk(i,s,l){var u=s.pendingProps;switch(Kg(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(s),null;case 1:return zt(s),null;case 3:return l=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),As(yn),Me(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Kl(s)?Ds(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Qg())),zt(s),null;case 26:var p=s.type,g=s.memoizedState;return i===null?(Ds(s),g!==null?(zt(s),Tx(s,g)):(zt(s),zv(s,p,null,u,l))):g?g!==i.memoizedState?(Ds(s),zt(s),Tx(s,g)):(zt(s),s.flags&=-16777217):(i=i.memoizedProps,i!==u&&Ds(s),zt(s),zv(s,p,i,u,l)),null;case 27:if(Tn(s),l=Ce.current,p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&Ds(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return zt(s),null}i=ye.current,Kl(s)?rE(s):(i=NT(p,u,l),s.stateNode=i,Ds(s))}return zt(s),null;case 5:if(Tn(s),p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&Ds(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return zt(s),null}if(g=ye.current,Kl(s))rE(s);else{var _=Yf(Ce.current);switch(g){case 1:g=_.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=_.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=_.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?_.createElement(p,{is:u.is}):_.createElement(p)}}g[Zt]=s,g[gn]=u;e:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)g.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break e;for(;_.sibling===null;){if(_.return===null||_.return===s)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=g;e:switch(Qn(g,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Ds(s)}}return zt(s),zv(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,l),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&Ds(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=Ce.current,Kl(s)){if(i=s.stateNode,l=s.memoizedProps,u=null,p=Gn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}i[Zt]=s,i=!!(i.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||_T(i.nodeValue,l)),i||xa(s,!0)}else i=Yf(i).createTextNode(u),i[Zt]=s,s.stateNode=i}return zt(s),null;case 31:if(l=s.memoizedState,i===null||i.memoizedState!==null){if(u=Kl(s),l!==null){if(i===null){if(!u)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Zt]=s}else Lo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;zt(s),i=!1}else l=Qg(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return s.flags&256?($r(s),s):($r(s),null);if((s.flags&128)!==0)throw Error(r(558))}return zt(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Kl(s),u!==null&&u.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Zt]=s}else Lo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;zt(s),p=!1}else p=Qg(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?($r(s),s):($r(s),null)}return $r(s),(s.flags&128)!==0?(s.lanes=l,s):(l=u!==null,i=i!==null&&i.memoizedState!==null,l&&(u=s.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==p&&(u.flags|=2048)),l!==i&&l&&(s.child.flags|=8192),Of(s,s.updateQueue),zt(s),null);case 4:return Me(),i===null&&oy(s.stateNode.containerInfo),zt(s),null;case 10:return As(s.type),zt(s),null;case 19:if(ne(ln),u=s.memoizedState,u===null)return zt(s),null;if(p=(s.flags&128)!==0,g=u.rendering,g===null)if(p)Yu(u,!1);else{if(tn!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=_f(i),g!==null){for(s.flags|=128,Yu(u,!1),i=g.updateQueue,s.updateQueue=i,Of(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)Jw(l,i),l=l.sibling;return me(ln,ln.current&1|2),st&&Ts(s,u.treeForkCount),s.child}i=i.sibling}u.tail!==null&&Xt()>Uf&&(s.flags|=128,p=!0,Yu(u,!1),s.lanes=4194304)}else{if(!p)if(i=_f(g),i!==null){if(s.flags|=128,p=!0,i=i.updateQueue,s.updateQueue=i,Of(s,i),Yu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!st)return zt(s),null}else 2*Xt()-u.renderingStartTime>Uf&&l!==536870912&&(s.flags|=128,p=!0,Yu(u,!1),s.lanes=4194304);u.isBackwards?(g.sibling=s.child,s.child=g):(i=u.last,i!==null?i.sibling=g:s.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=Xt(),i.sibling=null,l=ln.current,me(ln,p?l&1|2:l&1),st&&Ts(s,u.treeForkCount),i):(zt(s),null);case 22:case 23:return $r(s),lv(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(zt(s),s.subtreeFlags&6&&(s.flags|=8192)):zt(s),l=s.updateQueue,l!==null&&Of(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),i!==null&&ne(Bo),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),As(yn),zt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function ak(i,s){switch(Kg(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return As(yn),Me(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Tn(s),null;case 31:if(s.memoizedState!==null){if($r(s),s.alternate===null)throw Error(r(340));Lo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if($r(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Lo()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ne(ln),null;case 4:return Me(),null;case 10:return As(s.type),null;case 22:case 23:return $r(s),lv(),i!==null&&ne(Bo),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return As(yn),null;case 25:return null;default:return null}}function Sx(i,s){switch(Kg(s),s.tag){case 3:As(yn),Me();break;case 26:case 27:case 5:Tn(s);break;case 4:Me();break;case 31:s.memoizedState!==null&&$r(s);break;case 13:$r(s);break;case 19:ne(ln);break;case 10:As(s.type);break;case 22:case 23:$r(s),lv(),i!==null&&ne(Bo);break;case 24:As(yn)}}function Qu(i,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var p=u.next;l=p;do{if((l.tag&i)===i){u=void 0;var g=l.create,_=l.inst;u=g(),_.destroy=u}l=l.next}while(l!==p)}}catch(T){yt(s,s.return,T)}}function Da(i,s,l){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var g=p.next;u=g;do{if((u.tag&i)===i){var _=u.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,p=s;var V=l,W=T;try{W()}catch(ie){yt(p,V,ie)}}}u=u.next}while(u!==g)}}catch(ie){yt(s,s.return,ie)}}function Ax(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{gE(s,l)}catch(u){yt(i,i.return,u)}}}function Ix(i,s,l){l.props=Ho(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(u){yt(i,s,u)}}function Wu(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof l=="function"?i.refCleanup=l(u):l.current=u}}catch(p){yt(i,s,p)}}function es(i,s){var l=i.ref,u=i.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(p){yt(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){yt(i,s,p)}else l.current=null}function Cx(i){var s=i.type,l=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(p){yt(i,i.return,p)}}function Bv(i,s,l){try{var u=i.stateNode;Ck(u,i.type,l,s),u[gn]=s}catch(p){yt(i,i.return,p)}}function Rx(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&La(i.type)||i.tag===4}function jv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Rx(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&La(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function $v(i,s,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Ai));else if(u!==4&&(u===27&&La(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for($v(i,s,l),i=i.sibling;i!==null;)$v(i,s,l),i=i.sibling}function Pf(i,s,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(u!==4&&(u===27&&La(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Pf(i,s,l),i=i.sibling;i!==null;)Pf(i,s,l),i=i.sibling}function Dx(i){var s=i.stateNode,l=i.memoizedProps;try{for(var u=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Qn(s,u,l),s[Zt]=i,s[gn]=l}catch(g){yt(i,i.return,g)}}var Ns=!1,wn=!1,Fv=!1,Nx=typeof WeakSet=="function"?WeakSet:Set,zn=null;function ok(i,s){if(i=i.containerInfo,uy=tp,i=Fw(i),Vg(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var p=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var _=0,T=-1,V=-1,W=0,ie=0,oe=i,X=null;t:for(;;){for(var ee;oe!==l||p!==0&&oe.nodeType!==3||(T=_+p),oe!==g||u!==0&&oe.nodeType!==3||(V=_+u),oe.nodeType===3&&(_+=oe.nodeValue.length),(ee=oe.firstChild)!==null;)X=oe,oe=ee;for(;;){if(oe===i)break t;if(X===l&&++W===p&&(T=_),X===g&&++ie===u&&(V=_),(ee=oe.nextSibling)!==null)break;oe=X,X=oe.parentNode}oe=ee}l=T===-1||V===-1?null:{start:T,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(dy={focusedElem:i,selectionRange:l},tp=!1,zn=s;zn!==null;)if(s=zn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,zn=i;else for(;zn!==null;){switch(s=zn,g=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)p=i[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,l=s,p=g.memoizedProps,g=g.memoizedState,u=l.stateNode;try{var Te=Ho(l.type,p);i=u.getSnapshotBeforeUpdate(Te,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Oe){yt(l,l.return,Oe)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)py(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":py(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,zn=i;break}zn=s.return}}function kx(i,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Os(i,l),u&4&&Qu(5,l);break;case 1:if(Os(i,l),u&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(_){yt(l,l.return,_)}else{var p=Ho(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(_){yt(l,l.return,_)}}u&64&&Ax(l),u&512&&Wu(l,l.return);break;case 3:if(Os(i,l),u&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{gE(i,s)}catch(_){yt(l,l.return,_)}}break;case 27:s===null&&u&4&&Dx(l);case 26:case 5:Os(i,l),s===null&&u&4&&Cx(l),u&512&&Wu(l,l.return);break;case 12:Os(i,l);break;case 31:Os(i,l),u&4&&Mx(i,l);break;case 13:Os(i,l),u&4&&Vx(i,l),u&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=gk.bind(null,l),Vk(i,l))));break;case 22:if(u=l.memoizedState!==null||Ns,!u){s=s!==null&&s.memoizedState!==null||wn,p=Ns;var g=wn;Ns=u,(wn=s)&&!g?Ps(i,l,(l.subtreeFlags&8772)!==0):Os(i,l),Ns=p,wn=g}break;case 30:break;default:Os(i,l)}}function Ox(i){var s=i.alternate;s!==null&&(i.alternate=null,Ox(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&ua(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ft=null,Cr=!1;function ks(i,s,l){for(l=l.child;l!==null;)Px(i,s,l),l=l.sibling}function Px(i,s,l){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(er,l)}catch{}switch(l.tag){case 26:wn||es(l,s),ks(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:wn||es(l,s);var u=Ft,p=Cr;La(l.type)&&(Ft=l.stateNode,Cr=!1),ks(i,s,l),sd(l.stateNode),Ft=u,Cr=p;break;case 5:wn||es(l,s);case 6:if(u=Ft,p=Cr,Ft=null,ks(i,s,l),Ft=u,Cr=p,Ft!==null)if(Cr)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(l.stateNode)}catch(g){yt(l,s,g)}else try{Ft.removeChild(l.stateNode)}catch(g){yt(l,s,g)}break;case 18:Ft!==null&&(Cr?(i=Ft,AT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),pc(i)):AT(Ft,l.stateNode));break;case 4:u=Ft,p=Cr,Ft=l.stateNode.containerInfo,Cr=!0,ks(i,s,l),Ft=u,Cr=p;break;case 0:case 11:case 14:case 15:Da(2,l,s),wn||Da(4,l,s),ks(i,s,l);break;case 1:wn||(es(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Ix(l,s,u)),ks(i,s,l);break;case 21:ks(i,s,l);break;case 22:wn=(u=wn)||l.memoizedState!==null,ks(i,s,l),wn=u;break;default:ks(i,s,l)}}function Mx(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{pc(i)}catch(l){yt(s,s.return,l)}}}function Vx(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{pc(i)}catch(l){yt(s,s.return,l)}}function lk(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Nx),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Nx),s;default:throw Error(r(435,i.tag))}}function Mf(i,s){var l=lk(i);s.forEach(function(u){if(!l.has(u)){l.add(u);var p=vk.bind(null,i,u);u.then(p,p)}})}function Rr(i,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var p=l[u],g=i,_=s,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(La(T.type)){Ft=T.stateNode,Cr=!1;break e}break;case 5:Ft=T.stateNode,Cr=!1;break e;case 3:case 4:Ft=T.stateNode.containerInfo,Cr=!0;break e}T=T.return}if(Ft===null)throw Error(r(160));Px(g,_,p),Ft=null,Cr=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Lx(s,i),s=s.sibling}var ki=null;function Lx(i,s){var l=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Rr(s,i),Dr(i),u&4&&(Da(3,i,i.return),Qu(3,i),Da(5,i,i.return));break;case 1:Rr(s,i),Dr(i),u&512&&(wn||l===null||es(l,l.return)),u&64&&Ns&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var p=ki;if(Rr(s,i),Dr(i),u&512&&(wn||l===null||es(l,l.return)),u&4){var g=l!==null?l.memoizedState:null;if(u=i.memoizedState,l===null)if(u===null)if(i.stateNode===null){e:{u=i.type,l=i.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":g=p.getElementsByTagName("title")[0],(!g||g[ti]||g[Zt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(u),p.head.insertBefore(g,p.querySelector("head > title"))),Qn(g,u,l),g[Zt]=i,jt(g),u=g;break e;case"link":var _=LT("link","href",p).get(u+(l.href||""));if(_){for(var T=0;T<_.length;T++)if(g=_[T],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){_.splice(T,1);break t}}g=p.createElement(u),Qn(g,u,l),p.head.appendChild(g);break;case"meta":if(_=LT("meta","content",p).get(u+(l.content||""))){for(T=0;T<_.length;T++)if(g=_[T],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){_.splice(T,1);break t}}g=p.createElement(u),Qn(g,u,l),p.head.appendChild(g);break;default:throw Error(r(468,u))}g[Zt]=i,jt(g),u=g}i.stateNode=u}else UT(p,i.type,i.stateNode);else i.stateNode=VT(p,u,i.memoizedProps);else g!==u?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,u===null?UT(p,i.type,i.stateNode):VT(p,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Bv(i,i.memoizedProps,l.memoizedProps)}break;case 27:Rr(s,i),Dr(i),u&512&&(wn||l===null||es(l,l.return)),l!==null&&u&4&&Bv(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Rr(s,i),Dr(i),u&512&&(wn||l===null||es(l,l.return)),i.flags&32){p=i.stateNode;try{Ir(p,"")}catch(Te){yt(i,i.return,Te)}}u&4&&i.stateNode!=null&&(p=i.memoizedProps,Bv(i,p,l!==null?l.memoizedProps:p)),u&1024&&(Fv=!0);break;case 6:if(Rr(s,i),Dr(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,l=i.stateNode;try{l.nodeValue=u}catch(Te){yt(i,i.return,Te)}}break;case 3:if(Xf=null,p=ki,ki=Qf(s.containerInfo),Rr(s,i),ki=p,Dr(i),u&4&&l!==null&&l.memoizedState.isDehydrated)try{pc(s.containerInfo)}catch(Te){yt(i,i.return,Te)}Fv&&(Fv=!1,Ux(i));break;case 4:u=ki,ki=Qf(i.stateNode.containerInfo),Rr(s,i),Dr(i),ki=u;break;case 12:Rr(s,i),Dr(i);break;case 31:Rr(s,i),Dr(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Mf(i,u)));break;case 13:Rr(s,i),Dr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Lf=Xt()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Mf(i,u)));break;case 22:p=i.memoizedState!==null;var V=l!==null&&l.memoizedState!==null,W=Ns,ie=wn;if(Ns=W||p,wn=ie||V,Rr(s,i),wn=ie,Ns=W,Dr(i),u&8192)e:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(l===null||V||Ns||wn||Go(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){V=l=s;try{if(g=V.stateNode,p)_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=V.stateNode;var oe=V.memoizedProps.style,X=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;T.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Te){yt(V,V.return,Te)}}}else if(s.tag===6){if(l===null){V=s;try{V.stateNode.nodeValue=p?"":V.memoizedProps}catch(Te){yt(V,V.return,Te)}}}else if(s.tag===18){if(l===null){V=s;try{var ee=V.stateNode;p?IT(ee,!0):IT(V.stateNode,!1)}catch(Te){yt(V,V.return,Te)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Mf(i,l))));break;case 19:Rr(s,i),Dr(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Mf(i,u)));break;case 30:break;case 21:break;default:Rr(s,i),Dr(i)}}function Dr(i){var s=i.flags;if(s&2){try{for(var l,u=i.return;u!==null;){if(Rx(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var p=l.stateNode,g=jv(i);Pf(i,g,p);break;case 5:var _=l.stateNode;l.flags&32&&(Ir(_,""),l.flags&=-33);var T=jv(i);Pf(i,T,_);break;case 3:case 4:var V=l.stateNode.containerInfo,W=jv(i);$v(i,W,V);break;default:throw Error(r(161))}}catch(ie){yt(i,i.return,ie)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Ux(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Ux(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Os(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)kx(i,s.alternate,s),s=s.sibling}function Go(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Da(4,s,s.return),Go(s);break;case 1:es(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&Ix(s,s.return,l),Go(s);break;case 27:sd(s.stateNode);case 26:case 5:es(s,s.return),Go(s);break;case 22:s.memoizedState===null&&Go(s);break;case 30:Go(s);break;default:Go(s)}i=i.sibling}}function Ps(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,p=i,g=s,_=g.flags;switch(g.tag){case 0:case 11:case 15:Ps(p,g,l),Qu(4,g);break;case 1:if(Ps(p,g,l),u=g,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(W){yt(u,u.return,W)}if(u=g,p=u.updateQueue,p!==null){var T=u.stateNode;try{var V=p.shared.hiddenCallbacks;if(V!==null)for(p.shared.hiddenCallbacks=null,p=0;p<V.length;p++)mE(V[p],T)}catch(W){yt(u,u.return,W)}}l&&_&64&&Ax(g),Wu(g,g.return);break;case 27:Dx(g);case 26:case 5:Ps(p,g,l),l&&u===null&&_&4&&Cx(g),Wu(g,g.return);break;case 12:Ps(p,g,l);break;case 31:Ps(p,g,l),l&&_&4&&Mx(p,g);break;case 13:Ps(p,g,l),l&&_&4&&Vx(p,g);break;case 22:g.memoizedState===null&&Ps(p,g,l),Wu(g,g.return);break;case 30:break;default:Ps(p,g,l)}s=s.sibling}}function qv(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Vu(l))}function Hv(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Vu(i))}function Oi(i,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)zx(i,s,l,u),s=s.sibling}function zx(i,s,l,u){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Oi(i,s,l,u),p&2048&&Qu(9,s);break;case 1:Oi(i,s,l,u);break;case 3:Oi(i,s,l,u),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Vu(i)));break;case 12:if(p&2048){Oi(i,s,l,u),i=s.stateNode;try{var g=s.memoizedProps,_=g.id,T=g.onPostCommit;typeof T=="function"&&T(_,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){yt(s,s.return,V)}}else Oi(i,s,l,u);break;case 31:Oi(i,s,l,u);break;case 13:Oi(i,s,l,u);break;case 23:break;case 22:g=s.stateNode,_=s.alternate,s.memoizedState!==null?g._visibility&2?Oi(i,s,l,u):Xu(i,s):g._visibility&2?Oi(i,s,l,u):(g._visibility|=2,rc(i,s,l,u,(s.subtreeFlags&10256)!==0||!1)),p&2048&&qv(_,s);break;case 24:Oi(i,s,l,u),p&2048&&Hv(s.alternate,s);break;default:Oi(i,s,l,u)}}function rc(i,s,l,u,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=i,_=s,T=l,V=u,W=_.flags;switch(_.tag){case 0:case 11:case 15:rc(g,_,T,V,p),Qu(8,_);break;case 23:break;case 22:var ie=_.stateNode;_.memoizedState!==null?ie._visibility&2?rc(g,_,T,V,p):Xu(g,_):(ie._visibility|=2,rc(g,_,T,V,p)),p&&W&2048&&qv(_.alternate,_);break;case 24:rc(g,_,T,V,p),p&&W&2048&&Hv(_.alternate,_);break;default:rc(g,_,T,V,p)}s=s.sibling}}function Xu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,u=s,p=u.flags;switch(u.tag){case 22:Xu(l,u),p&2048&&qv(u.alternate,u);break;case 24:Xu(l,u),p&2048&&Hv(u.alternate,u);break;default:Xu(l,u)}s=s.sibling}}var Ju=8192;function ic(i,s,l){if(i.subtreeFlags&Ju)for(i=i.child;i!==null;)Bx(i,s,l),i=i.sibling}function Bx(i,s,l){switch(i.tag){case 26:ic(i,s,l),i.flags&Ju&&i.memoizedState!==null&&Yk(l,ki,i.memoizedState,i.memoizedProps);break;case 5:ic(i,s,l);break;case 3:case 4:var u=ki;ki=Qf(i.stateNode.containerInfo),ic(i,s,l),ki=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=Ju,Ju=16777216,ic(i,s,l),Ju=u):ic(i,s,l));break;default:ic(i,s,l)}}function jx(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Zu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];zn=u,Fx(u,i)}jx(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)$x(i),i=i.sibling}function $x(i){switch(i.tag){case 0:case 11:case 15:Zu(i),i.flags&2048&&Da(9,i,i.return);break;case 3:Zu(i);break;case 12:Zu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Vf(i)):Zu(i);break;default:Zu(i)}}function Vf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];zn=u,Fx(u,i)}jx(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Da(8,s,s.return),Vf(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Vf(s));break;default:Vf(s)}i=i.sibling}}function Fx(i,s){for(;zn!==null;){var l=zn;switch(l.tag){case 0:case 11:case 15:Da(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Vu(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,zn=u;else e:for(l=i;zn!==null;){u=zn;var p=u.sibling,g=u.return;if(Ox(u),u===l){zn=null;break e}if(p!==null){p.return=g,zn=p;break e}zn=g}}}var ck={getCacheForType:function(i){var s=Kn(yn),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l},cacheSignal:function(){return Kn(yn).controller.signal}},uk=typeof WeakMap=="function"?WeakMap:Map,ft=0,kt=null,Je=null,tt=0,vt=0,Fr=null,Na=!1,sc=!1,Gv=!1,Ms=0,tn=0,ka=0,Ko=0,Kv=0,qr=0,ac=0,ed=null,Nr=null,Yv=!1,Lf=0,qx=0,Uf=1/0,zf=null,Oa=null,Cn=0,Pa=null,oc=null,Vs=0,Qv=0,Wv=null,Hx=null,td=0,Xv=null;function Hr(){return(ft&2)!==0&&tt!==0?tt&-tt:Z.T!==null?ry():rr()}function Gx(){if(qr===0)if((tt&536870912)===0||st){var i=Ti;Ti<<=1,(Ti&3932160)===0&&(Ti=262144),qr=i}else qr=536870912;return i=jr.current,i!==null&&(i.flags|=32),qr}function kr(i,s,l){(i===kt&&(vt===2||vt===9)||i.cancelPendingCommit!==null)&&(lc(i,0),Ma(i,tt,qr,!1)),tr(i,l),((ft&2)===0||i!==kt)&&(i===kt&&((ft&2)===0&&(Ko|=l),tn===4&&Ma(i,tt,qr,!1)),ts(i))}function Kx(i,s,l){if((ft&6)!==0)throw Error(r(327));var u=!l&&(s&127)===0&&(s&i.expiredLanes)===0||Dt(i,s),p=u?fk(i,s):Zv(i,s,!0),g=u;do{if(p===0){sc&&!u&&Ma(i,s,0,!1);break}else{if(l=i.current.alternate,g&&!dk(l)){p=Zv(i,s,!1),g=!1;continue}if(p===2){if(g=s,i.errorRecoveryDisabledLanes&g)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var T=i;p=ed;var V=T.current.memoizedState.isDehydrated;if(V&&(lc(T,_).flags|=256),_=Zv(T,_,!1),_!==2){if(Gv&&!V){T.errorRecoveryDisabledLanes|=g,Ko|=g,p=4;break e}g=Nr,Nr=p,g!==null&&(Nr===null?Nr=g:Nr.push.apply(Nr,g))}p=_}if(g=!1,p!==2)continue}}if(p===1){lc(i,0),Ma(i,s,0,!0);break}e:{switch(u=i,g=p,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ma(u,s,qr,!Na);break e;case 2:Nr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=Lf+300-Xt(),10<p)){if(Ma(u,s,qr,!Na),Et(u,0,!0)!==0)break e;Vs=s,u.timeoutHandle=TT(Yx.bind(null,u,l,Nr,zf,Yv,s,qr,Ko,ac,Na,g,"Throttled",-0,0),p);break e}Yx(u,l,Nr,zf,Yv,s,qr,Ko,ac,Na,g,null,-0,0)}}break}while(!0);ts(i)}function Yx(i,s,l,u,p,g,_,T,V,W,ie,oe,X,ee){if(i.timeoutHandle=-1,oe=s.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ai},Bx(s,g,oe);var Te=(g&62914560)===g?Lf-Xt():(g&4194048)===g?qx-Xt():0;if(Te=Qk(oe,Te),Te!==null){Vs=g,i.cancelPendingCommit=Te(nT.bind(null,i,s,g,l,u,p,_,T,V,ie,oe,null,X,ee)),Ma(i,g,_,!W);return}}nT(i,s,g,l,u,p,_,T,V)}function dk(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var p=l[u],g=p.getSnapshot;p=p.value;try{if(!zr(g(),p))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ma(i,s,l,u){s&=~Kv,s&=~Ko,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var p=s;0<p;){var g=31-gt(p),_=1<<g;u[g]=-1,p&=~_}l!==0&&Vn(i,l,s)}function Bf(){return(ft&6)===0?(nd(0),!1):!0}function Jv(){if(Je!==null){if(vt===0)var i=Je.return;else i=Je,Ss=Uo=null,pv(i),Jl=null,Uu=0,i=Je;for(;i!==null;)Sx(i.alternate,i),i=i.return;Je=null}}function lc(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,Nk(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Vs=0,Jv(),kt=i,Je=l=xs(i.current,null),tt=s,vt=0,Fr=null,Na=!1,sc=Dt(i,s),Gv=!1,ac=qr=Kv=Ko=ka=tn=0,Nr=ed=null,Yv=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var p=31-gt(u),g=1<<p;s|=i[p],u&=~g}return Ms=s,of(),l}function Qx(i,s){Be=null,Z.H=Gu,s===Xl||s===mf?(s=dE(),vt=3):s===nv?(s=dE(),vt=4):vt=s===Dv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Fr=s,Je===null&&(tn=1,Rf(i,ci(s,i.current)))}function Wx(){var i=jr.current;return i===null?!0:(tt&4194048)===tt?fi===null:(tt&62914560)===tt||(tt&536870912)!==0?i===fi:!1}function Xx(){var i=Z.H;return Z.H=Gu,i===null?Gu:i}function Jx(){var i=Z.A;return Z.A=ck,i}function jf(){tn=4,Na||(tt&4194048)!==tt&&jr.current!==null||(sc=!0),(ka&134217727)===0&&(Ko&134217727)===0||kt===null||Ma(kt,tt,qr,!1)}function Zv(i,s,l){var u=ft;ft|=2;var p=Xx(),g=Jx();(kt!==i||tt!==s)&&(zf=null,lc(i,s)),s=!1;var _=tn;e:do try{if(vt!==0&&Je!==null){var T=Je,V=Fr;switch(vt){case 8:Jv(),_=6;break e;case 3:case 2:case 9:case 6:jr.current===null&&(s=!0);var W=vt;if(vt=0,Fr=null,cc(i,T,V,W),l&&sc){_=0;break e}break;default:W=vt,vt=0,Fr=null,cc(i,T,V,W)}}hk(),_=tn;break}catch(ie){Qx(i,ie)}while(!0);return s&&i.shellSuspendCounter++,Ss=Uo=null,ft=u,Z.H=p,Z.A=g,Je===null&&(kt=null,tt=0,of()),_}function hk(){for(;Je!==null;)Zx(Je)}function fk(i,s){var l=ft;ft|=2;var u=Xx(),p=Jx();kt!==i||tt!==s?(zf=null,Uf=Xt()+500,lc(i,s)):sc=Dt(i,s);e:do try{if(vt!==0&&Je!==null){s=Je;var g=Fr;t:switch(vt){case 1:vt=0,Fr=null,cc(i,s,g,1);break;case 2:case 9:if(cE(g)){vt=0,Fr=null,eT(s);break}s=function(){vt!==2&&vt!==9||kt!==i||(vt=7),ts(i)},g.then(s,s);break e;case 3:vt=7;break e;case 4:vt=5;break e;case 7:cE(g)?(vt=0,Fr=null,eT(s)):(vt=0,Fr=null,cc(i,s,g,7));break;case 5:var _=null;switch(Je.tag){case 26:_=Je.memoizedState;case 5:case 27:var T=Je;if(_?zT(_):T.stateNode.complete){vt=0,Fr=null;var V=T.sibling;if(V!==null)Je=V;else{var W=T.return;W!==null?(Je=W,$f(W)):Je=null}break t}}vt=0,Fr=null,cc(i,s,g,5);break;case 6:vt=0,Fr=null,cc(i,s,g,6);break;case 8:Jv(),tn=6;break e;default:throw Error(r(462))}}pk();break}catch(ie){Qx(i,ie)}while(!0);return Ss=Uo=null,Z.H=u,Z.A=p,ft=l,Je!==null?0:(kt=null,tt=0,of(),tn)}function pk(){for(;Je!==null&&!qi();)Zx(Je)}function Zx(i){var s=xx(i.alternate,i,Ms);i.memoizedProps=i.pendingProps,s===null?$f(i):Je=s}function eT(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=vx(l,s,s.pendingProps,s.type,void 0,tt);break;case 11:s=vx(l,s,s.pendingProps,s.type.render,s.ref,tt);break;case 5:pv(s);default:Sx(l,s),s=Je=Jw(s,Ms),s=xx(l,s,Ms)}i.memoizedProps=i.pendingProps,s===null?$f(i):Je=s}function cc(i,s,l,u){Ss=Uo=null,pv(s),Jl=null,Uu=0;var p=s.return;try{if(nk(i,p,s,l,tt)){tn=1,Rf(i,ci(l,i.current)),Je=null;return}}catch(g){if(p!==null)throw Je=p,g;tn=1,Rf(i,ci(l,i.current)),Je=null;return}s.flags&32768?(st||u===1?i=!0:sc||(tt&536870912)!==0?i=!1:(Na=i=!0,(u===2||u===9||u===3||u===6)&&(u=jr.current,u!==null&&u.tag===13&&(u.flags|=16384))),tT(s,i)):$f(s)}function $f(i){var s=i;do{if((s.flags&32768)!==0){tT(s,Na);return}i=s.return;var l=sk(s.alternate,s,Ms);if(l!==null){Je=l;return}if(s=s.sibling,s!==null){Je=s;return}Je=s=i}while(s!==null);tn===0&&(tn=5)}function tT(i,s){do{var l=ak(i.alternate,i);if(l!==null){l.flags&=32767,Je=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){Je=i;return}Je=i=l}while(i!==null);tn=6,Je=null}function nT(i,s,l,u,p,g,_,T,V){i.cancelPendingCommit=null;do Ff();while(Cn!==0);if((ft&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=jg,Kt(i,l,g,_,T,V),i===kt&&(Je=kt=null,tt=0),oc=s,Pa=i,Vs=l,Qv=g,Wv=p,Hx=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,yk(Sn,function(){return oT(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,p=de.p,de.p=2,_=ft,ft|=4;try{ok(i,s,l)}finally{ft=_,de.p=p,Z.T=u}}Cn=1,rT(),iT(),sT()}}function rT(){if(Cn===1){Cn=0;var i=Pa,s=oc,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null;var u=de.p;de.p=2;var p=ft;ft|=4;try{Lx(s,i);var g=dy,_=Fw(i.containerInfo),T=g.focusedElem,V=g.selectionRange;if(_!==T&&T&&T.ownerDocument&&$w(T.ownerDocument.documentElement,T)){if(V!==null&&Vg(T)){var W=V.start,ie=V.end;if(ie===void 0&&(ie=W),"selectionStart"in T)T.selectionStart=W,T.selectionEnd=Math.min(ie,T.value.length);else{var oe=T.ownerDocument||document,X=oe&&oe.defaultView||window;if(X.getSelection){var ee=X.getSelection(),Te=T.textContent.length,Oe=Math.min(V.start,Te),At=V.end===void 0?Oe:Math.min(V.end,Te);!ee.extend&&Oe>At&&(_=At,At=Oe,Oe=_);var q=jw(T,Oe),j=jw(T,At);if(q&&j&&(ee.rangeCount!==1||ee.anchorNode!==q.node||ee.anchorOffset!==q.offset||ee.focusNode!==j.node||ee.focusOffset!==j.offset)){var Q=oe.createRange();Q.setStart(q.node,q.offset),ee.removeAllRanges(),Oe>At?(ee.addRange(Q),ee.extend(j.node,j.offset)):(Q.setEnd(j.node,j.offset),ee.addRange(Q))}}}}for(oe=[],ee=T;ee=ee.parentNode;)ee.nodeType===1&&oe.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<oe.length;T++){var ae=oe[T];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}tp=!!uy,dy=uy=null}finally{ft=p,de.p=u,Z.T=l}}i.current=s,Cn=2}}function iT(){if(Cn===2){Cn=0;var i=Pa,s=oc,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=Z.T,Z.T=null;var u=de.p;de.p=2;var p=ft;ft|=4;try{kx(i,s.alternate,s)}finally{ft=p,de.p=u,Z.T=l}}Cn=3}}function sT(){if(Cn===4||Cn===3){Cn=0,mr();var i=Pa,s=oc,l=Vs,u=Hx;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Cn=5:(Cn=0,oc=Pa=null,aT(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Oa=null),Ln(l),s=s.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(er,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=Z.T,p=de.p,de.p=2,Z.T=null;try{for(var g=i.onRecoverableError,_=0;_<u.length;_++){var T=u[_];g(T.value,{componentStack:T.stack})}}finally{Z.T=s,de.p=p}}(Vs&3)!==0&&Ff(),ts(i),p=i.pendingLanes,(l&261930)!==0&&(p&42)!==0?i===Xv?td++:(td=0,Xv=i):td=0,nd(0)}}function aT(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Vu(s)))}function Ff(){return rT(),iT(),sT(),oT()}function oT(){if(Cn!==5)return!1;var i=Pa,s=Qv;Qv=0;var l=Ln(Vs),u=Z.T,p=de.p;try{de.p=32>l?32:l,Z.T=null,l=Wv,Wv=null;var g=Pa,_=Vs;if(Cn=0,oc=Pa=null,Vs=0,(ft&6)!==0)throw Error(r(331));var T=ft;if(ft|=4,$x(g.current),zx(g,g.current,_,l),ft=T,nd(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(er,g)}catch{}return!0}finally{de.p=p,Z.T=u,aT(i,s)}}function lT(i,s,l){s=ci(l,s),s=Rv(i.stateNode,s,2),i=Ia(i,s,2),i!==null&&(tr(i,2),ts(i))}function yt(i,s,l){if(i.tag===3)lT(i,i,l);else for(;s!==null;){if(s.tag===3){lT(s,i,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Oa===null||!Oa.has(u))){i=ci(l,i),l=cx(2),u=Ia(s,l,2),u!==null&&(ux(l,u,s,i),tr(u,2),ts(u));break}}s=s.return}}function ey(i,s,l){var u=i.pingCache;if(u===null){u=i.pingCache=new uk;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(l)||(Gv=!0,p.add(l),i=mk.bind(null,i,s,l),s.then(i,i))}function mk(i,s,l){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,kt===i&&(tt&l)===l&&(tn===4||tn===3&&(tt&62914560)===tt&&300>Xt()-Lf?(ft&2)===0&&lc(i,0):Kv|=l,ac===tt&&(ac=0)),ts(i)}function cT(i,s){s===0&&(s=pn()),i=Mo(i,s),i!==null&&(tr(i,s),ts(i))}function gk(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),cT(i,l)}function vk(i,s){var l=0;switch(i.tag){case 31:case 13:var u=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),cT(i,l)}function yk(i,s){return mt(i,s)}var qf=null,uc=null,ty=!1,Hf=!1,ny=!1,Va=0;function ts(i){i!==uc&&i.next===null&&(uc===null?qf=uc=i:uc=uc.next=i),Hf=!0,ty||(ty=!0,_k())}function nd(i,s){if(!ny&&Hf){ny=!0;do for(var l=!1,u=qf;u!==null;){if(i!==0){var p=u.pendingLanes;if(p===0)var g=0;else{var _=u.suspendedLanes,T=u.pingedLanes;g=(1<<31-gt(42|i)+1)-1,g&=p&~(_&~T),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,fT(u,g))}else g=tt,g=Et(u,u===kt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Dt(u,g)||(l=!0,fT(u,g));u=u.next}while(l);ny=!1}}function bk(){uT()}function uT(){Hf=ty=!1;var i=0;Va!==0&&Dk()&&(i=Va);for(var s=Xt(),l=null,u=qf;u!==null;){var p=u.next,g=dT(u,s);g===0?(u.next=null,l===null?qf=p:l.next=p,p===null&&(uc=l)):(l=u,(i!==0||(g&3)!==0)&&(Hf=!0)),u=p}Cn!==0&&Cn!==5||nd(i),Va!==0&&(Va=0)}function dT(i,s){for(var l=i.suspendedLanes,u=i.pingedLanes,p=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var _=31-gt(g),T=1<<_,V=p[_];V===-1?((T&l)===0||(T&u)!==0)&&(p[_]=Mn(T,s)):V<=s&&(i.expiredLanes|=T),g&=~T}if(s=kt,l=tt,l=Et(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,l===0||i===s&&(vt===2||vt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&On(u),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Dt(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(u!==null&&On(u),Ln(l)){case 2:case 8:l=Sr;break;case 32:l=Sn;break;case 268435456:l=ps;break;default:l=Sn}return u=hT.bind(null,i),l=mt(l,u),i.callbackPriority=s,i.callbackNode=l,s}return u!==null&&u!==null&&On(u),i.callbackPriority=2,i.callbackNode=null,2}function hT(i,s){if(Cn!==0&&Cn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Ff()&&i.callbackNode!==l)return null;var u=tt;return u=Et(i,i===kt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(Kx(i,u,s),dT(i,Xt()),i.callbackNode!=null&&i.callbackNode===l?hT.bind(null,i):null)}function fT(i,s){if(Ff())return null;Kx(i,s,!0)}function _k(){kk(function(){(ft&6)!==0?mt(Vr,bk):uT()})}function ry(){if(Va===0){var i=Ql;i===0&&(i=gr,gr<<=1,(gr&261888)===0&&(gr=256)),Va=i}return Va}function pT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Pl(""+i)}function mT(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function wk(i,s,l,u,p){if(s==="submit"&&l&&l.stateNode===p){var g=pT((p[gn]||null).action),_=u.submitter;_&&(s=(s=_[gn]||null)?pT(s.formAction):_.getAttribute("formAction"),s!==null&&(g=s,_=null));var T=new Yi("action","action",null,u,p);i.push({event:T,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Va!==0){var V=_?mT(p,_):new FormData(p);xv(l,{pending:!0,data:V,method:p.method,action:g},null,V)}}else typeof g=="function"&&(T.preventDefault(),V=_?mT(p,_):new FormData(p),xv(l,{pending:!0,data:V,method:p.method,action:g},g,V))},currentTarget:p}]})}}for(var iy=0;iy<Bg.length;iy++){var sy=Bg[iy],Ek=sy.toLowerCase(),xk=sy[0].toUpperCase()+sy.slice(1);Ni(Ek,"on"+xk)}Ni(Gw,"onAnimationEnd"),Ni(Kw,"onAnimationIteration"),Ni(Yw,"onAnimationStart"),Ni("dblclick","onDoubleClick"),Ni("focusin","onFocus"),Ni("focusout","onBlur"),Ni(zN,"onTransitionRun"),Ni(BN,"onTransitionStart"),Ni(jN,"onTransitionCancel"),Ni(Qw,"onTransitionEnd"),yr("onMouseEnter",["mouseout","mouseover"]),yr("onMouseLeave",["mouseout","mouseover"]),yr("onPointerEnter",["pointerout","pointerover"]),yr("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rd));function gT(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var u=i[l],p=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var _=u.length-1;0<=_;_--){var T=u[_],V=T.instance,W=T.currentTarget;if(T=T.listener,V!==g&&p.isPropagationStopped())break e;g=T,p.currentTarget=W;try{g(p)}catch(ie){af(ie)}p.currentTarget=null,g=V}else for(_=0;_<u.length;_++){if(T=u[_],V=T.instance,W=T.currentTarget,T=T.listener,V!==g&&p.isPropagationStopped())break e;g=T,p.currentTarget=W;try{g(p)}catch(ie){af(ie)}p.currentTarget=null,g=V}}}}function Ze(i,s){var l=s[ca];l===void 0&&(l=s[ca]=new Set);var u=i+"__bubble";l.has(u)||(vT(s,i,2,!1),l.add(u))}function ay(i,s,l){var u=0;s&&(u|=4),vT(l,i,u,s)}var Gf="_reactListening"+Math.random().toString(36).slice(2);function oy(i){if(!i[Gf]){i[Gf]=!0,vs.forEach(function(l){l!=="selectionchange"&&(Tk.has(l)||ay(l,!1,i),ay(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Gf]||(s[Gf]=!0,ay("selectionchange",!1,s))}}function vT(i,s,l,u){switch(GT(s)){case 2:var p=Jk;break;case 8:p=Zk;break;default:p=Ey}l=p.bind(null,s,l,i),p=void 0,!Io||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?i.addEventListener(s,l,{capture:!0,passive:p}):i.addEventListener(s,l,!0):p!==void 0?i.addEventListener(s,l,{passive:p}):i.addEventListener(s,l,!1)}function ly(i,s,l,u,p){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var T=u.stateNode.containerInfo;if(T===p)break;if(_===4)for(_=u.return;_!==null;){var V=_.tag;if((V===3||V===4)&&_.stateNode.containerInfo===p)return;_=_.return}for(;T!==null;){if(_=ni(T),_===null)return;if(V=_.tag,V===5||V===6||V===26||V===27){u=g=_;continue e}T=T.parentNode}}u=u.return}va(function(){var W=g,ie=si(l),oe=[];e:{var X=Ww.get(i);if(X!==void 0){var ee=Yi,Te=i;switch(i){case"keypress":if(Ro(l)===0)break e;case"keydown":case"keyup":ee=nf;break;case"focusin":Te="focus",ee=No;break;case"focusout":Te="blur",ee=No;break;case"beforeblur":case"afterblur":ee=No;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Cu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Kh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=b;break;case Gw:case Kw:case Yw:ee=Qh;break;case Qw:ee=C;break;case"scroll":case"scrollend":ee=Iu;break;case"wheel":ee=J;break;case"copy":case"cut":case"paste":ee=Wh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Es;break;case"toggle":case"beforetoggle":ee=ze}var Oe=(s&4)!==0,At=!Oe&&(i==="scroll"||i==="scrollend"),q=Oe?X!==null?X+"Capture":null:X;Oe=[];for(var j=W,Q;j!==null;){var ae=j;if(Q=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||Q===null||q===null||(ae=Ii(j,q),ae!=null&&Oe.push(id(j,ae,Q))),At)break;j=j.return}0<Oe.length&&(X=new ee(X,Te,null,l,ie),oe.push({event:X,listeners:Oe}))}}if((s&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",ee=i==="mouseout"||i==="pointerout",X&&l!==Tu&&(Te=l.relatedTarget||l.fromElement)&&(ni(Te)||Te[qn]))break e;if((ee||X)&&(X=ie.window===ie?ie:(X=ie.ownerDocument)?X.defaultView||X.parentWindow:window,ee?(Te=l.relatedTarget||l.toElement,ee=W,Te=Te?ni(Te):null,Te!==null&&(At=o(Te),Oe=Te.tag,Te!==At||Oe!==5&&Oe!==27&&Oe!==6)&&(Te=null)):(ee=null,Te=W),ee!==Te)){if(Oe=Cu,ae="onMouseLeave",q="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(Oe=Es,ae="onPointerLeave",q="onPointerEnter",j="pointer"),At=ee==null?X:vr(ee),Q=Te==null?X:vr(Te),X=new Oe(ae,j+"leave",ee,l,ie),X.target=At,X.relatedTarget=Q,ae=null,ni(ie)===W&&(Oe=new Oe(q,j+"enter",Te,l,ie),Oe.target=Q,Oe.relatedTarget=At,ae=Oe),At=ae,ee&&Te)t:{for(Oe=Sk,q=ee,j=Te,Q=0,ae=q;ae;ae=Oe(ae))Q++;ae=0;for(var Ne=j;Ne;Ne=Oe(Ne))ae++;for(;0<Q-ae;)q=Oe(q),Q--;for(;0<ae-Q;)j=Oe(j),ae--;for(;Q--;){if(q===j||j!==null&&q===j.alternate){Oe=q;break t}q=Oe(q),j=Oe(j)}Oe=null}else Oe=null;ee!==null&&yT(oe,X,ee,Oe,!1),Te!==null&&At!==null&&yT(oe,At,Te,Oe,!0)}}e:{if(X=W?vr(W):window,ee=X.nodeName&&X.nodeName.toLowerCase(),ee==="select"||ee==="input"&&X.type==="file")var lt=Mw;else if(Ow(X))if(Vw)lt=VN;else{lt=PN;var Ae=ON}else ee=X.nodeName,!ee||ee.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?W&&Ol(W.elementType)&&(lt=Mw):lt=MN;if(lt&&(lt=lt(i,W))){Pw(oe,lt,l,ie);break e}Ae&&Ae(i,X,W),i==="focusout"&&W&&X.type==="number"&&W.memoizedProps.value!=null&&So(X,"number",X.value)}switch(Ae=W?vr(W):window,i){case"focusin":(Ow(Ae)||Ae.contentEditable==="true")&&(jl=Ae,Lg=W,Ou=null);break;case"focusout":Ou=Lg=jl=null;break;case"mousedown":Ug=!0;break;case"contextmenu":case"mouseup":case"dragend":Ug=!1,qw(oe,l,ie);break;case"selectionchange":if(UN)break;case"keydown":case"keyup":qw(oe,l,ie)}var qe;if(ht)e:{switch(i){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else Bl?ko(i,l)&&(nt="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(nt="onCompositionStart");nt&&(Xi&&l.locale!=="ko"&&(Bl||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&Bl&&(qe=Au()):(Ki=ie,Su="value"in Ki?Ki.value:Ki.textContent,Bl=!0)),Ae=Kf(W,nt),0<Ae.length&&(nt=new Wi(nt,i,null,l,ie),oe.push({event:nt,listeners:Ae}),qe?nt.data=qe:(qe=zl(l),qe!==null&&(nt.data=qe)))),(qe=oi?RN(i,l):DN(i,l))&&(nt=Kf(W,"onBeforeInput"),0<nt.length&&(Ae=new Wi("onBeforeInput","beforeinput",null,l,ie),oe.push({event:Ae,listeners:nt}),Ae.data=qe)),wk(oe,i,W,l,ie)}gT(oe,s)})}function id(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Kf(i,s){for(var l=s+"Capture",u=[];i!==null;){var p=i,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Ii(i,l),p!=null&&u.unshift(id(i,p,g)),p=Ii(i,s),p!=null&&u.push(id(i,p,g))),i.tag===3)return u;i=i.return}return[]}function Sk(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function yT(i,s,l,u,p){for(var g=s._reactName,_=[];l!==null&&l!==u;){var T=l,V=T.alternate,W=T.stateNode;if(T=T.tag,V!==null&&V===u)break;T!==5&&T!==26&&T!==27||W===null||(V=W,p?(W=Ii(l,g),W!=null&&_.unshift(id(l,W,V))):p||(W=Ii(l,g),W!=null&&_.push(id(l,W,V)))),l=l.return}_.length!==0&&i.push({event:s,listeners:_})}var Ak=/\r\n?/g,Ik=/\u0000|\uFFFD/g;function bT(i){return(typeof i=="string"?i:""+i).replace(Ak,`
`).replace(Ik,"")}function _T(i,s){return s=bT(s),bT(i)===s}function St(i,s,l,u,p,g){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Ir(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Ir(i,""+u);break;case"className":ce(i,"class",u);break;case"tabIndex":ce(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ce(i,l,u);break;case"style":xu(i,u,g);break;case"data":if(s!=="object"){ce(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Pl(""+u),i.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(s!=="input"&&St(i,s,"name",p.name,p,null),St(i,s,"formEncType",p.formEncType,p,null),St(i,s,"formMethod",p.formMethod,p,null),St(i,s,"formTarget",p.formTarget,p,null)):(St(i,s,"encType",p.encType,p,null),St(i,s,"method",p.method,p,null),St(i,s,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Pl(""+u),i.setAttribute(l,u);break;case"onClick":u!=null&&(i.onclick=Ai);break;case"onScroll":u!=null&&Ze("scroll",i);break;case"onScrollEnd":u!=null&&Ze("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}l=Pl(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""+u):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":u===!0?i.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,u):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(l,u):i.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(l):i.setAttribute(l,u);break;case"popover":Ze("beforetoggle",i),Ze("toggle",i),U(i,"popover",u);break;case"xlinkActuate":ge(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ge(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ge(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ge(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ge(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ge(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ge(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ge(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ge(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":U(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Gh.get(l)||l,U(i,l,u))}}function cy(i,s,l,u,p,g){switch(l){case"style":xu(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof u=="string"?Ir(i,u):(typeof u=="number"||typeof u=="bigint")&&Ir(i,""+u);break;case"onScroll":u!=null&&Ze("scroll",i);break;case"onScrollEnd":u!=null&&Ze("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!da.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),s=l.slice(2,p?l.length-7:void 0),g=i[gn]||null,g=g!=null?g[l]:null,typeof g=="function"&&i.removeEventListener(s,g,p),typeof u=="function")){typeof g!="function"&&g!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,u,p);break e}l in i?i[l]=u:u===!0?i.setAttribute(l,""):U(i,l,u)}}}function Qn(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",i),Ze("load",i);var u=!1,p=!1,g;for(g in l)if(l.hasOwnProperty(g)){var _=l[g];if(_!=null)switch(g){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:St(i,s,g,_,l,null)}}p&&St(i,s,"srcSet",l.srcSet,l,null),u&&St(i,s,"src",l.src,l,null);return;case"input":Ze("invalid",i);var T=g=_=p=null,V=null,W=null;for(u in l)if(l.hasOwnProperty(u)){var ie=l[u];if(ie!=null)switch(u){case"name":p=ie;break;case"type":_=ie;break;case"checked":V=ie;break;case"defaultChecked":W=ie;break;case"value":g=ie;break;case"defaultValue":T=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,s));break;default:St(i,s,u,ie,l,null)}}Lr(i,g,T,V,W,_,p,!1);return;case"select":Ze("invalid",i),u=_=g=null;for(p in l)if(l.hasOwnProperty(p)&&(T=l[p],T!=null))switch(p){case"value":g=T;break;case"defaultValue":_=T;break;case"multiple":u=T;default:St(i,s,p,T,l,null)}s=g,l=_,i.multiple=!!u,s!=null?Ur(i,!!u,s,!1):l!=null&&Ur(i,!!u,l,!0);return;case"textarea":Ze("invalid",i),g=p=u=null;for(_ in l)if(l.hasOwnProperty(_)&&(T=l[_],T!=null))switch(_){case"value":u=T;break;case"defaultValue":p=T;break;case"children":g=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:St(i,s,_,T,l,null)}pa(i,u,p,g);return;case"option":for(V in l)l.hasOwnProperty(V)&&(u=l[V],u!=null)&&(V==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":St(i,s,V,u,l,null));return;case"dialog":Ze("beforetoggle",i),Ze("toggle",i),Ze("cancel",i),Ze("close",i);break;case"iframe":case"object":Ze("load",i);break;case"video":case"audio":for(u=0;u<rd.length;u++)Ze(rd[u],i);break;case"image":Ze("error",i),Ze("load",i);break;case"details":Ze("toggle",i);break;case"embed":case"source":case"link":Ze("error",i),Ze("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in l)if(l.hasOwnProperty(W)&&(u=l[W],u!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:St(i,s,W,u,l,null)}return;default:if(Ol(s)){for(ie in l)l.hasOwnProperty(ie)&&(u=l[ie],u!==void 0&&cy(i,s,ie,u,l,void 0));return}}for(T in l)l.hasOwnProperty(T)&&(u=l[T],u!=null&&St(i,s,T,u,l,null))}function Ck(i,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,_=null,T=null,V=null,W=null,ie=null;for(ee in l){var oe=l[ee];if(l.hasOwnProperty(ee)&&oe!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":V=oe;default:u.hasOwnProperty(ee)||St(i,s,ee,null,u,oe)}}for(var X in u){var ee=u[X];if(oe=l[X],u.hasOwnProperty(X)&&(ee!=null||oe!=null))switch(X){case"type":g=ee;break;case"name":p=ee;break;case"checked":W=ee;break;case"defaultChecked":ie=ee;break;case"value":_=ee;break;case"defaultValue":T=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,s));break;default:ee!==oe&&St(i,s,X,ee,u,oe)}}Ye(i,_,T,V,W,ie,g,p);return;case"select":ee=_=T=X=null;for(g in l)if(V=l[g],l.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":ee=V;default:u.hasOwnProperty(g)||St(i,s,g,null,u,V)}for(p in u)if(g=u[p],V=l[p],u.hasOwnProperty(p)&&(g!=null||V!=null))switch(p){case"value":X=g;break;case"defaultValue":T=g;break;case"multiple":_=g;default:g!==V&&St(i,s,p,g,u,V)}s=T,l=_,u=ee,X!=null?Ur(i,!!l,X,!1):!!u!=!!l&&(s!=null?Ur(i,!!l,s,!0):Ur(i,!!l,l?[]:"",!1));return;case"textarea":ee=X=null;for(T in l)if(p=l[T],l.hasOwnProperty(T)&&p!=null&&!u.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:St(i,s,T,null,u,p)}for(_ in u)if(p=u[_],g=l[_],u.hasOwnProperty(_)&&(p!=null||g!=null))switch(_){case"value":X=p;break;case"defaultValue":ee=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==g&&St(i,s,_,p,u,g)}qh(i,X,ee);return;case"option":for(var Te in l)X=l[Te],l.hasOwnProperty(Te)&&X!=null&&!u.hasOwnProperty(Te)&&(Te==="selected"?i.selected=!1:St(i,s,Te,null,u,X));for(V in u)X=u[V],ee=l[V],u.hasOwnProperty(V)&&X!==ee&&(X!=null||ee!=null)&&(V==="selected"?i.selected=X&&typeof X!="function"&&typeof X!="symbol":St(i,s,V,X,u,ee));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in l)X=l[Oe],l.hasOwnProperty(Oe)&&X!=null&&!u.hasOwnProperty(Oe)&&St(i,s,Oe,null,u,X);for(W in u)if(X=u[W],ee=l[W],u.hasOwnProperty(W)&&X!==ee&&(X!=null||ee!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:St(i,s,W,X,u,ee)}return;default:if(Ol(s)){for(var At in l)X=l[At],l.hasOwnProperty(At)&&X!==void 0&&!u.hasOwnProperty(At)&&cy(i,s,At,void 0,u,X);for(ie in u)X=u[ie],ee=l[ie],!u.hasOwnProperty(ie)||X===ee||X===void 0&&ee===void 0||cy(i,s,ie,X,u,ee);return}}for(var q in l)X=l[q],l.hasOwnProperty(q)&&X!=null&&!u.hasOwnProperty(q)&&St(i,s,q,null,u,X);for(oe in u)X=u[oe],ee=l[oe],!u.hasOwnProperty(oe)||X===ee||X==null&&ee==null||St(i,s,oe,X,u,ee)}function wT(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Rk(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var p=l[u],g=p.transferSize,_=p.initiatorType,T=p.duration;if(g&&T&&wT(_)){for(_=0,T=p.responseEnd,u+=1;u<l.length;u++){var V=l[u],W=V.startTime;if(W>T)break;var ie=V.transferSize,oe=V.initiatorType;ie&&wT(oe)&&(V=V.responseEnd,_+=ie*(V<T?1:(T-W)/(V-W)))}if(--u,s+=8*(g+_)/(p.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var uy=null,dy=null;function Yf(i){return i.nodeType===9?i:i.ownerDocument}function ET(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xT(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function hy(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var fy=null;function Dk(){var i=window.event;return i&&i.type==="popstate"?i===fy?!1:(fy=i,!0):(fy=null,!1)}var TT=typeof setTimeout=="function"?setTimeout:void 0,Nk=typeof clearTimeout=="function"?clearTimeout:void 0,ST=typeof Promise=="function"?Promise:void 0,kk=typeof queueMicrotask=="function"?queueMicrotask:typeof ST<"u"?function(i){return ST.resolve(null).then(i).catch(Ok)}:TT;function Ok(i){setTimeout(function(){throw i})}function La(i){return i==="head"}function AT(i,s){var l=s,u=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(u===0){i.removeChild(p),pc(s);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")sd(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,sd(l);for(var g=l.firstChild;g;){var _=g.nextSibling,T=g.nodeName;g[ti]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&g.rel.toLowerCase()==="stylesheet"||l.removeChild(g),g=_}}else l==="body"&&sd(i.ownerDocument.body);l=p}while(l);pc(s)}function IT(i,s){var l=i;i=0;do{var u=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=u}while(l)}function py(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":py(l),ua(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function Pk(i,s,l,u){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[ti])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=pi(i.nextSibling),i===null)break}return null}function Mk(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=pi(i.nextSibling),i===null))return null;return i}function CT(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=pi(i.nextSibling),i===null))return null;return i}function my(i){return i.data==="$?"||i.data==="$~"}function gy(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function Vk(i,s){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||l.readyState!=="loading")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function pi(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var vy=null;function RT(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(s===0)return pi(i.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}i=i.nextSibling}return null}function DT(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return i;s--}else l!=="/$"&&l!=="/&"||s++}i=i.previousSibling}return null}function NT(i,s,l){switch(s=Yf(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function sd(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);ua(i)}var mi=new Map,kT=new Set;function Qf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ls=de.d;de.d={f:Lk,r:Uk,D:zk,C:Bk,L:jk,m:$k,X:qk,S:Fk,M:Hk};function Lk(){var i=Ls.f(),s=Bf();return i||s}function Uk(i){var s=Ar(i);s!==null&&s.tag===5&&s.type==="form"?QE(s):Ls.r(i)}var dc=typeof document>"u"?null:document;function OT(i,s,l){var u=dc;if(u&&typeof s=="string"&&s){var p=Mt(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),kT.has(p)||(kT.add(p),i={rel:i,crossOrigin:l,href:s},u.querySelector(p)===null&&(s=u.createElement("link"),Qn(s,"link",i),jt(s),u.head.appendChild(s)))}}function zk(i){Ls.D(i),OT("dns-prefetch",i,null)}function Bk(i,s){Ls.C(i,s),OT("preconnect",i,s)}function jk(i,s,l){Ls.L(i,s,l);var u=dc;if(u&&i&&s){var p='link[rel="preload"][as="'+Mt(s)+'"]';s==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Mt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Mt(l.imageSizes)+'"]')):p+='[href="'+Mt(i)+'"]';var g=p;switch(s){case"style":g=hc(i);break;case"script":g=fc(i)}mi.has(g)||(i=y({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),mi.set(g,i),u.querySelector(p)!==null||s==="style"&&u.querySelector(ad(g))||s==="script"&&u.querySelector(od(g))||(s=u.createElement("link"),Qn(s,"link",i),jt(s),u.head.appendChild(s)))}}function $k(i,s){Ls.m(i,s);var l=dc;if(l&&i){var u=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Mt(u)+'"][href="'+Mt(i)+'"]',g=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=fc(i)}if(!mi.has(g)&&(i=y({rel:"modulepreload",href:i},s),mi.set(g,i),l.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(od(g)))return}u=l.createElement("link"),Qn(u,"link",i),jt(u),l.head.appendChild(u)}}}function Fk(i,s,l){Ls.S(i,s,l);var u=dc;if(u&&i){var p=ri(u).hoistableStyles,g=hc(i);s=s||"default";var _=p.get(g);if(!_){var T={loading:0,preload:null};if(_=u.querySelector(ad(g)))T.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},l),(l=mi.get(g))&&yy(i,l);var V=_=u.createElement("link");jt(V),Qn(V,"link",i),V._p=new Promise(function(W,ie){V.onload=W,V.onerror=ie}),V.addEventListener("load",function(){T.loading|=1}),V.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Wf(_,s,u)}_={type:"stylesheet",instance:_,count:1,state:T},p.set(g,_)}}}function qk(i,s){Ls.X(i,s);var l=dc;if(l&&i){var u=ri(l).hoistableScripts,p=fc(i),g=u.get(p);g||(g=l.querySelector(od(p)),g||(i=y({src:i,async:!0},s),(s=mi.get(p))&&by(i,s),g=l.createElement("script"),jt(g),Qn(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function Hk(i,s){Ls.M(i,s);var l=dc;if(l&&i){var u=ri(l).hoistableScripts,p=fc(i),g=u.get(p);g||(g=l.querySelector(od(p)),g||(i=y({src:i,async:!0,type:"module"},s),(s=mi.get(p))&&by(i,s),g=l.createElement("script"),jt(g),Qn(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function PT(i,s,l,u){var p=(p=Ce.current)?Qf(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=hc(l.href),l=ri(p).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=hc(l.href);var g=ri(p).hoistableStyles,_=g.get(i);if(_||(p=p.ownerDocument||p,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,_),(g=p.querySelector(ad(i)))&&!g._p&&(_.instance=g,_.state.loading=5),mi.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},mi.set(i,l),g||Gk(p,i,l,_.state))),s&&u===null)throw Error(r(528,""));return _}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=fc(l),l=ri(p).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function hc(i){return'href="'+Mt(i)+'"'}function ad(i){return'link[rel="stylesheet"]['+i+"]"}function MT(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function Gk(i,s,l,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Qn(s,"link",l),jt(s),i.head.appendChild(s))}function fc(i){return'[src="'+Mt(i)+'"]'}function od(i){return"script[async]"+i}function VT(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+Mt(l.href)+'"]');if(u)return s.instance=u,jt(u),u;var p=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),jt(u),Qn(u,"style",p),Wf(u,l.precedence,i),s.instance=u;case"stylesheet":p=hc(l.href);var g=i.querySelector(ad(p));if(g)return s.state.loading|=4,s.instance=g,jt(g),g;u=MT(l),(p=mi.get(p))&&yy(u,p),g=(i.ownerDocument||i).createElement("link"),jt(g);var _=g;return _._p=new Promise(function(T,V){_.onload=T,_.onerror=V}),Qn(g,"link",u),s.state.loading|=4,Wf(g,l.precedence,i),s.instance=g;case"script":return g=fc(l.src),(p=i.querySelector(od(g)))?(s.instance=p,jt(p),p):(u=l,(p=mi.get(g))&&(u=y({},l),by(u,p)),i=i.ownerDocument||i,p=i.createElement("script"),jt(p),Qn(p,"link",u),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Wf(u,l.precedence,i));return s.instance}function Wf(i,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,g=p,_=0;_<u.length;_++){var T=u[_];if(T.dataset.precedence===s)g=T;else if(g!==p)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function yy(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function by(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Xf=null;function LT(i,s,l){if(Xf===null){var u=new Map,p=Xf=new Map;p.set(l,u)}else p=Xf,u=p.get(l),u||(u=new Map,p.set(l,u));if(u.has(i))return u;for(u.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var g=l[p];if(!(g[ti]||g[Zt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var _=g.getAttribute(s)||"";_=i+_;var T=u.get(_);T?T.push(g):u.set(_,[g])}}return u}function UT(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function Kk(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function zT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function Yk(i,s,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=hc(u.href),g=s.querySelector(ad(p));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Jf.bind(i),s.then(i,i)),l.state.loading|=4,l.instance=g,jt(g);return}g=s.ownerDocument||s,u=MT(u),(p=mi.get(p))&&yy(u,p),g=g.createElement("link"),jt(g);var _=g;_._p=new Promise(function(T,V){_.onload=T,_.onerror=V}),Qn(g,"link",u),l.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Jf.bind(i),s.addEventListener("load",l),s.addEventListener("error",l))}}var _y=0;function Qk(i,s){return i.stylesheets&&i.count===0&&ep(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var u=setTimeout(function(){if(i.stylesheets&&ep(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+s);0<i.imgBytes&&_y===0&&(_y=62500*Rk());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&ep(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>_y?50:800)+s);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function Jf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ep(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Zf=null;function ep(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Zf=new Map,s.forEach(Wk,i),Zf=null,Jf.call(i))}function Wk(i,s){if(!(s.state.loading&4)){var l=Zf.get(i);if(l)var u=l.get(null);else{l=new Map,Zf.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var _=p[g];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(l.set(_.dataset.precedence,_),u=_)}u&&l.set(null,u)}p=s.instance,_=p.getAttribute("data-precedence"),g=l.get(_)||u,g===u&&l.set(null,p),l.set(_,p),this.count++,u=Jf.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),g?g.parentNode.insertBefore(p,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var ld={$$typeof:G,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function Xk(i,s,l,u,p,g,_,T,V){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gt(0),this.hiddenUpdates=Gt(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function BT(i,s,l,u,p,g,_,T,V,W,ie,oe){return i=new Xk(i,s,l,_,V,W,ie,oe,T),s=1,g===!0&&(s|=24),g=Br(3,null,null,s),i.current=g,g.stateNode=i,s=Zg(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:l,cache:s},rv(g),i}function jT(i){return i?(i=ql,i):ql}function $T(i,s,l,u,p,g){p=jT(p),u.context===null?u.context=p:u.pendingContext=p,u=Aa(s),u.payload={element:l},g=g===void 0?null:g,g!==null&&(u.callback=g),l=Ia(i,u,s),l!==null&&(kr(l,i,s),Bu(l,i,s))}function FT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function wy(i,s){FT(i,s),(i=i.alternate)&&FT(i,s)}function qT(i){if(i.tag===13||i.tag===31){var s=Mo(i,67108864);s!==null&&kr(s,i,67108864),wy(i,67108864)}}function HT(i){if(i.tag===13||i.tag===31){var s=Hr();s=nr(s);var l=Mo(i,s);l!==null&&kr(l,i,s),wy(i,s)}}var tp=!0;function Jk(i,s,l,u){var p=Z.T;Z.T=null;var g=de.p;try{de.p=2,Ey(i,s,l,u)}finally{de.p=g,Z.T=p}}function Zk(i,s,l,u){var p=Z.T;Z.T=null;var g=de.p;try{de.p=8,Ey(i,s,l,u)}finally{de.p=g,Z.T=p}}function Ey(i,s,l,u){if(tp){var p=xy(u);if(p===null)ly(i,s,u,np,l),KT(i,u);else if(tO(p,i,s,l,u))u.stopPropagation();else if(KT(i,u),s&4&&-1<eO.indexOf(i)){for(;p!==null;){var g=Ar(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var _=Rt(g.pendingLanes);if(_!==0){var T=g;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var V=1<<31-gt(_);T.entanglements[1]|=V,_&=~V}ts(g),(ft&6)===0&&(Uf=Xt()+500,nd(0))}}break;case 31:case 13:T=Mo(g,2),T!==null&&kr(T,g,2),Bf(),wy(g,2)}if(g=xy(u),g===null&&ly(i,s,u,np,l),g===p)break;p=g}p!==null&&u.stopPropagation()}else ly(i,s,u,null,l)}}function xy(i){return i=si(i),Ty(i)}var np=null;function Ty(i){if(np=null,i=ni(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=c(s),i!==null)return i;i=null}else if(l===31){if(i=d(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return np=i,null}function GT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zr()){case Vr:return 2;case Sr:return 8;case Sn:case xi:return 32;case ps:return 268435456;default:return 32}default:return 32}}var Sy=!1,Ua=null,za=null,Ba=null,cd=new Map,ud=new Map,ja=[],eO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function KT(i,s){switch(i){case"focusin":case"focusout":Ua=null;break;case"dragenter":case"dragleave":za=null;break;case"mouseover":case"mouseout":Ba=null;break;case"pointerover":case"pointerout":cd.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ud.delete(s.pointerId)}}function dd(i,s,l,u,p,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:g,targetContainers:[p]},s!==null&&(s=Ar(s),s!==null&&qT(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function tO(i,s,l,u,p){switch(s){case"focusin":return Ua=dd(Ua,i,s,l,u,p),!0;case"dragenter":return za=dd(za,i,s,l,u,p),!0;case"mouseover":return Ba=dd(Ba,i,s,l,u,p),!0;case"pointerover":var g=p.pointerId;return cd.set(g,dd(cd.get(g)||null,i,s,l,u,p)),!0;case"gotpointercapture":return g=p.pointerId,ud.set(g,dd(ud.get(g)||null,i,s,l,u,p)),!0}return!1}function YT(i){var s=ni(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){i.blockedOn=s,mn(i.priority,function(){HT(l)});return}}else if(s===31){if(s=d(l),s!==null){i.blockedOn=s,mn(i.priority,function(){HT(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function rp(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=xy(i.nativeEvent);if(l===null){l=i.nativeEvent;var u=new l.constructor(l.type,l);Tu=u,l.target.dispatchEvent(u),Tu=null}else return s=Ar(l),s!==null&&qT(s),i.blockedOn=l,!1;s.shift()}return!0}function QT(i,s,l){rp(i)&&l.delete(s)}function nO(){Sy=!1,Ua!==null&&rp(Ua)&&(Ua=null),za!==null&&rp(za)&&(za=null),Ba!==null&&rp(Ba)&&(Ba=null),cd.forEach(QT),ud.forEach(QT)}function ip(i,s){i.blockedOn===s&&(i.blockedOn=null,Sy||(Sy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,nO)))}var sp=null;function WT(i){sp!==i&&(sp=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){sp===i&&(sp=null);for(var s=0;s<i.length;s+=3){var l=i[s],u=i[s+1],p=i[s+2];if(typeof u!="function"){if(Ty(u||l)===null)continue;break}var g=Ar(l);g!==null&&(i.splice(s,3),s-=3,xv(g,{pending:!0,data:p,method:l.method,action:u},u,p))}}))}function pc(i){function s(V){return ip(V,i)}Ua!==null&&ip(Ua,i),za!==null&&ip(za,i),Ba!==null&&ip(Ba,i),cd.forEach(s),ud.forEach(s);for(var l=0;l<ja.length;l++){var u=ja[l];u.blockedOn===i&&(u.blockedOn=null)}for(;0<ja.length&&(l=ja[0],l.blockedOn===null);)YT(l),l.blockedOn===null&&ja.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var p=l[u],g=l[u+1],_=p[gn]||null;if(typeof g=="function")_||WT(l);else if(_){var T=null;if(g&&g.hasAttribute("formAction")){if(p=g,_=g[gn]||null)T=_.formAction;else if(Ty(p)!==null)continue}else T=_.action;typeof T=="function"?l[u+1]=T:(l.splice(u,3),u-=3),WT(l)}}}function XT(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(_){return p=_})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function Ay(i){this._internalRoot=i}ap.prototype.render=Ay.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,u=Hr();$T(l,u,i,s,null,null)},ap.prototype.unmount=Ay.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;$T(i.current,2,null,i,null,null),Bf(),s[qn]=null}};function ap(i){this._internalRoot=i}ap.prototype.unstable_scheduleHydration=function(i){if(i){var s=rr();i={blockedOn:null,target:i,priority:s};for(var l=0;l<ja.length&&s!==0&&s<ja[l].priority;l++);ja.splice(l,0,i),l===0&&YT(i)}};var JT=e.version;if(JT!=="19.2.4")throw Error(r(527,JT,"19.2.4"));de.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(s),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var rO={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var op=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!op.isDisabled&&op.supportsFiber)try{er=op.inject(rO),Jt=op}catch{}}return fd.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,u="",p=sx,g=ax,_=ox;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=BT(i,1,!1,null,null,l,u,null,p,g,_,XT),i[qn]=s.current,oy(i),new Ay(s)},fd.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var u=!1,p="",g=sx,_=ax,T=ox,V=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(T=l.onRecoverableError),l.formState!==void 0&&(V=l.formState)),s=BT(i,1,!0,s,l??null,u,p,V,g,_,T,XT),s.context=jT(null),l=s.current,u=Hr(),u=nr(u),p=Aa(u),p.callback=null,Ia(l,p,u),l=u,s.current.lanes=l,tr(s,l),ts(s),i[qn]=s.current,oy(i),new ap(s)},fd.version="19.2.4",fd}var lS;function fO(){if(lS)return Ry.exports;lS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ry.exports=hO(),Ry.exports}var pO=fO();var cS="popstate";function mO(n={}){function e(a,o){let{pathname:c="/",search:d="",hash:f=""}=iu(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),yb("",{pathname:c,search:d,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(a,o){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let f=a.location.href,m=f.indexOf("#");d=m===-1?f:f.slice(0,m)}return d+"#"+(typeof o=="string"?o:Qd(o))}function r(a,o){_i(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return vO(e,t,r,n)}function Dn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function _i(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gO(){return Math.random().toString(36).substring(2,10)}function uS(n,e){return{usr:n.state,key:n.key,idx:e}}function yb(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?iu(e):e,state:t,key:e&&e.key||r||gO()}}function Qd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function iu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function vO(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,c=a.history,d="POP",f=null,m=v();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function v(){return(c.state||{idx:null}).idx}function y(){d="POP";let M=v(),K=M==null?null:M-m;m=M,f&&f({action:d,location:O.location,delta:K})}function E(M,K){d="PUSH";let F=yb(O.location,M,K);t&&t(F,M),m=v()+1;let G=uS(F,m),le=O.createHref(F);try{c.pushState(G,"",le)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;a.location.assign(le)}o&&f&&f({action:d,location:O.location,delta:1})}function I(M,K){d="REPLACE";let F=yb(O.location,M,K);t&&t(F,M),m=v();let G=uS(F,m),le=O.createHref(F);c.replaceState(G,"",le),o&&f&&f({action:d,location:O.location,delta:0})}function L(M){return yO(M)}let O={get action(){return d},get location(){return n(a,c)},listen(M){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(cS,y),f=M,()=>{a.removeEventListener(cS,y),f=null}},createHref(M){return e(a,M)},createURL:L,encodeLocation(M){let K=L(M);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:E,replace:I,go(M){return c.go(M)}};return O}function yO(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Dn(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Qd(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function _1(n,e,t="/"){return bO(n,e,t,!1)}function bO(n,e,t,r){let a=typeof e=="string"?iu(e):e,o=Ws(a.pathname||"/",t);if(o==null)return null;let c=w1(n);_O(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let m=NO(o);d=RO(c[f],m,r)}return d}function w1(n,e=[],t=[],r="",a=!1){let o=(c,d,f=a,m)=>{let v={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&f)return;Dn(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let y=Ks([r,v.relativePath]),E=t.concat(v);c.children&&c.children.length>0&&(Dn(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),w1(c.children,e,E,y,f)),!(c.path==null&&!c.index)&&e.push({path:y,score:IO(y,c.index),routesMeta:E})};return n.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))o(c,d);else for(let f of E1(c.path))o(c,d,!0,f)}),e}function E1(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let c=E1(r.join("/")),d=[];return d.push(...c.map(f=>f===""?o:[o,f].join("/"))),a&&d.push(...c),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function _O(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:CO(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var wO=/^:[\w-]+$/,EO=3,xO=2,TO=1,SO=10,AO=-2,dS=n=>n==="*";function IO(n,e){let t=n.split("/"),r=t.length;return t.some(dS)&&(r+=AO),e&&(r+=xO),t.filter(a=>!dS(a)).reduce((a,o)=>a+(wO.test(o)?EO:o===""?TO:SO),r)}function CO(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function RO(n,e,t=!1){let{routesMeta:r}=n,a={},o="/",c=[];for(let d=0;d<r.length;++d){let f=r[d],m=d===r.length-1,v=o==="/"?e:e.slice(o.length)||"/",y=Zp({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},v),E=f.route;if(!y&&m&&t&&!r[r.length-1].route.index&&(y=Zp({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!y)return null;Object.assign(a,y.params),c.push({params:a,pathname:Ks([o,y.pathname]),pathnameBase:MO(Ks([o,y.pathnameBase])),route:E}),y.pathnameBase!=="/"&&(o=Ks([o,y.pathnameBase]))}return c}function Zp(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=DO(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((m,{paramName:v,isOptional:y},E)=>{if(v==="*"){let L=d[E]||"";c=o.slice(0,o.length-L.length).replace(/(.)\/+$/,"$1")}const I=d[E];return y&&!I?m[v]=void 0:m[v]=(I||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:n}}function DO(n,e=!1,t=!0){_i(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function NO(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _i(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ws(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var kO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function OO(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?iu(n):n,o;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?o=hS(t.substring(1),"/"):o=hS(t,e)):o=e,{pathname:o,search:VO(r),hash:LO(a)}}function hS(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Oy(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PO(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function x1(n){let e=PO(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function T1(n,e,t,r=!1){let a;typeof n=="string"?a=iu(n):(a={...n},Dn(!a.pathname||!a.pathname.includes("?"),Oy("?","pathname","search",a)),Dn(!a.pathname||!a.pathname.includes("#"),Oy("#","pathname","hash",a)),Dn(!a.search||!a.search.includes("#"),Oy("#","search","hash",a)));let o=n===""||a.pathname==="",c=o?"/":a.pathname,d;if(c==null)d=t;else{let y=e.length-1;if(!r&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),y-=1;a.pathname=E.join("/")}d=y>=0?e[y]:"/"}let f=OO(a,d),m=c&&c!=="/"&&c.endsWith("/"),v=(o||c===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||v)&&(f.pathname+="/"),f}var Ks=n=>n.join("/").replace(/\/\/+/g,"/"),MO=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),VO=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,LO=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,UO=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function zO(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function BO(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var S1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function A1(n,e){let t=n;if(typeof t!="string"||!kO.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let r=t,a=!1;if(S1)try{let o=new URL(window.location.href),c=t.startsWith("//")?new URL(o.protocol+t):new URL(t),d=Ws(c.pathname,e);c.origin===o.origin&&d!=null?t=d+c.search+c.hash:a=!0}catch{_i(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var I1=["POST","PUT","PATCH","DELETE"];new Set(I1);var jO=["GET",...I1];new Set(jO);var su=A.createContext(null);su.displayName="DataRouter";var zm=A.createContext(null);zm.displayName="DataRouterState";var $O=A.createContext(!1),C1=A.createContext({isTransitioning:!1});C1.displayName="ViewTransition";var FO=A.createContext(new Map);FO.displayName="Fetchers";var qO=A.createContext(null);qO.displayName="Await";var Ei=A.createContext(null);Ei.displayName="Navigation";var Bm=A.createContext(null);Bm.displayName="Location";var ra=A.createContext({outlet:null,matches:[],isDataRoute:!1});ra.displayName="Route";var V_=A.createContext(null);V_.displayName="RouteError";var R1="REACT_ROUTER_ERROR",HO="REDIRECT",GO="ROUTE_ERROR_RESPONSE";function KO(n){if(n.startsWith(`${R1}:${HO}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function YO(n){if(n.startsWith(`${R1}:${GO}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new UO(e.status,e.statusText,e.data)}catch{}}function QO(n,{relative:e}={}){Dn(bh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=A.useContext(Ei),{hash:a,pathname:o,search:c}=_h(n,{relative:e}),d=o;return t!=="/"&&(d=o==="/"?t:Ks([t,o])),r.createHref({pathname:d,search:c,hash:a})}function bh(){return A.useContext(Bm)!=null}function fo(){return Dn(bh(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Bm).location}var D1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function N1(n){A.useContext(Ei).static||A.useLayoutEffect(n)}function k1(){let{isDataRoute:n}=A.useContext(ra);return n?lP():WO()}function WO(){Dn(bh(),"useNavigate() may be used only in the context of a <Router> component.");let n=A.useContext(su),{basename:e,navigator:t}=A.useContext(Ei),{matches:r}=A.useContext(ra),{pathname:a}=fo(),o=JSON.stringify(x1(r)),c=A.useRef(!1);return N1(()=>{c.current=!0}),A.useCallback((f,m={})=>{if(_i(c.current,D1),!c.current)return;if(typeof f=="number"){t.go(f);return}let v=T1(f,JSON.parse(o),a,m.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ks([e,v.pathname])),(m.replace?t.replace:t.push)(v,m.state,m)},[e,t,o,a,n])}A.createContext(null);function _h(n,{relative:e}={}){let{matches:t}=A.useContext(ra),{pathname:r}=fo(),a=JSON.stringify(x1(t));return A.useMemo(()=>T1(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function XO(n,e,t,r,a){Dn(bh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=A.useContext(Ei),{matches:c}=A.useContext(ra),d=c[c.length-1],f=d?d.params:{},m=d?d.pathname:"/",v=d?d.pathnameBase:"/",y=d&&d.route;{let F=y&&y.path||"";P1(m,!y||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let E=fo(),I;I=E;let L=I.pathname||"/",O=L;if(v!=="/"){let F=v.replace(/^\//,"").split("/");O="/"+L.replace(/^\//,"").split("/").slice(F.length).join("/")}let M=_1(n,{pathname:O});return _i(y||M!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),_i(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),nP(M&&M.map(F=>Object.assign({},F,{params:Object.assign({},f,F.params),pathname:Ks([v,o.encodeLocation?o.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?v:Ks([v,o.encodeLocation?o.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),c,t,r,a)}function JO(){let n=oP(),e=zO(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:o},"ErrorBoundary")," or"," ",A.createElement("code",{style:o},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),t?A.createElement("pre",{style:a},t):null,c)}var ZO=A.createElement(JO,null),O1=class extends A.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=YO(n.digest);t&&(n=t)}let e=n!==void 0?A.createElement(ra.Provider,{value:this.props.routeContext},A.createElement(V_.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?A.createElement(eP,{error:n},e):e}};O1.contextType=$O;var Py=new WeakMap;function eP({children:n,error:e}){let{basename:t}=A.useContext(Ei);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=KO(e.digest);if(r){let a=Py.get(e);if(a)throw a;let o=A1(r.location,t);if(S1&&!Py.get(e))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw Py.set(e,c),c}return A.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return n}function tP({routeContext:n,match:e,children:t}){let r=A.useContext(su);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(ra.Provider,{value:n},t)}function nP(n,e=[],t=null,r=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,c=t?.errors;if(c!=null){let v=o.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);Dn(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,v+1))}let d=!1,f=-1;if(t)for(let v=0;v<o.length;v++){let y=o[v];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=v),y.route.id){let{loaderData:E,errors:I}=t,L=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!I||I[y.route.id]===void 0);if(y.route.lazy||L){d=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}let m=t&&r?(v,y)=>{r(v,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:BO(t.matches),errorInfo:y})}:void 0;return o.reduceRight((v,y,E)=>{let I,L=!1,O=null,M=null;t&&(I=c&&y.route.id?c[y.route.id]:void 0,O=y.route.errorElement||ZO,d&&(f<0&&E===0?(P1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,M=null):f===E&&(L=!0,M=y.route.hydrateFallbackElement||null)));let K=e.concat(o.slice(0,E+1)),F=()=>{let G;return I?G=O:L?G=M:y.route.Component?G=A.createElement(y.route.Component,null):y.route.element?G=y.route.element:G=v,A.createElement(tP,{match:y,routeContext:{outlet:v,matches:K,isDataRoute:t!=null},children:G})};return t&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?A.createElement(O1,{location:t.location,revalidation:t.revalidation,component:O,error:I,children:F(),routeContext:{outlet:null,matches:K,isDataRoute:!0},onError:m}):F()},null)}function L_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rP(n){let e=A.useContext(su);return Dn(e,L_(n)),e}function iP(n){let e=A.useContext(zm);return Dn(e,L_(n)),e}function sP(n){let e=A.useContext(ra);return Dn(e,L_(n)),e}function U_(n){let e=sP(n),t=e.matches[e.matches.length-1];return Dn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function aP(){return U_("useRouteId")}function oP(){let n=A.useContext(V_),e=iP("useRouteError"),t=U_("useRouteError");return n!==void 0?n:e.errors?.[t]}function lP(){let{router:n}=rP("useNavigate"),e=U_("useNavigate"),t=A.useRef(!1);return N1(()=>{t.current=!0}),A.useCallback(async(a,o={})=>{_i(t.current,D1),t.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var fS={};function P1(n,e,t){!e&&!fS[n]&&(fS[n]=!0,_i(!1,t))}A.memo(cP);function cP({routes:n,future:e,state:t,onError:r}){return XO(n,void 0,t,r,e)}function uP({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:o=!1,unstable_useTransitions:c}){Dn(!bh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),f=A.useMemo(()=>({basename:d,navigator:a,static:o,unstable_useTransitions:c,future:{}}),[d,a,o,c]);typeof t=="string"&&(t=iu(t));let{pathname:m="/",search:v="",hash:y="",state:E=null,key:I="default"}=t,L=A.useMemo(()=>{let O=Ws(m,d);return O==null?null:{location:{pathname:O,search:v,hash:y,state:E,key:I},navigationType:r}},[d,m,v,y,E,I,r]);return _i(L!=null,`<Router basename="${d}"> is not able to match the URL "${m}${v}${y}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:A.createElement(Ei.Provider,{value:f},A.createElement(Bm.Provider,{children:e,value:L}))}var Dp="get",Np="application/x-www-form-urlencoded";function jm(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function dP(n){return jm(n)&&n.tagName.toLowerCase()==="button"}function hP(n){return jm(n)&&n.tagName.toLowerCase()==="form"}function fP(n){return jm(n)&&n.tagName.toLowerCase()==="input"}function pP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function mP(n,e){return n.button===0&&(!e||e==="_self")&&!pP(n)}function bb(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(a=>[t,a]):[[t,r]])},[]))}function gP(n,e){let t=bb(n);return e&&e.forEach((r,a)=>{t.has(a)||e.getAll(a).forEach(o=>{t.append(a,o)})}),t}var lp=null;function vP(){if(lp===null)try{new FormData(document.createElement("form"),0),lp=!1}catch{lp=!0}return lp}var yP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function My(n){return n!=null&&!yP.has(n)?(_i(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Np}"`),null):n}function bP(n,e){let t,r,a,o,c;if(hP(n)){let d=n.getAttribute("action");r=d?Ws(d,e):null,t=n.getAttribute("method")||Dp,a=My(n.getAttribute("enctype"))||Np,o=new FormData(n)}else if(dP(n)||fP(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||d.getAttribute("action");if(r=f?Ws(f,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Dp,a=My(n.getAttribute("formenctype"))||My(d.getAttribute("enctype"))||Np,o=new FormData(d,n),!vP()){let{name:m,type:v,value:y}=n;if(v==="image"){let E=m?`${m}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else m&&o.append(m,y)}}else{if(jm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Dp,r=null,a=Np,c=n}return o&&a==="text/plain"&&(c=o,o=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function z_(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function _P(n,e,t,r){let a=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:e&&Ws(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function wP(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function EP(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function xP(n,e,t){let r=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await wP(o,t);return c.links?c.links():[]}return[]}));return IP(r.flat(1).filter(EP).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function pS(n,e,t,r,a,o){let c=(f,m)=>t[m]?f.route.id!==t[m].route.id:!0,d=(f,m)=>t[m].pathname!==f.pathname||t[m].route.path?.endsWith("*")&&t[m].params["*"]!==f.params["*"];return o==="assets"?e.filter((f,m)=>c(f,m)||d(f,m)):o==="data"?e.filter((f,m)=>{let v=r.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(c(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function TP(n,e,{includeHydrateFallback:t}={}){return SP(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function SP(n){return[...new Set(n)]}function AP(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function IP(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let o=JSON.stringify(AP(a));return t.has(o)||(t.add(o),r.push({key:o,link:a})),r},[])}function M1(){let n=A.useContext(su);return z_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function CP(){let n=A.useContext(zm);return z_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var B_=A.createContext(void 0);B_.displayName="FrameworkContext";function V1(){let n=A.useContext(B_);return z_(n,"You must render this element inside a <HydratedRouter> element"),n}function RP(n,e){let t=A.useContext(B_),[r,a]=A.useState(!1),[o,c]=A.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:v,onTouchStart:y}=e,E=A.useRef(null);A.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let O=K=>{K.forEach(F=>{c(F.isIntersecting)})},M=new IntersectionObserver(O,{threshold:.5});return E.current&&M.observe(E.current),()=>{M.disconnect()}}},[n]),A.useEffect(()=>{if(r){let O=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(O)}}},[r]);let I=()=>{a(!0)},L=()=>{a(!1),c(!1)};return t?n!=="intent"?[o,E,{}]:[o,E,{onFocus:pd(d,I),onBlur:pd(f,L),onMouseEnter:pd(m,I),onMouseLeave:pd(v,L),onTouchStart:pd(y,I)}]:[!1,E,{}]}function pd(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function DP({page:n,...e}){let{router:t}=M1(),r=A.useMemo(()=>_1(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?A.createElement(kP,{page:n,matches:r,...e}):null}function NP(n){let{manifest:e,routeModules:t}=V1(),[r,a]=A.useState([]);return A.useEffect(()=>{let o=!1;return xP(n,e,t).then(c=>{o||a(c)}),()=>{o=!0}},[n,e,t]),r}function kP({page:n,matches:e,...t}){let r=fo(),{future:a,manifest:o,routeModules:c}=V1(),{basename:d}=M1(),{loaderData:f,matches:m}=CP(),v=A.useMemo(()=>pS(n,e,m,o,r,"data"),[n,e,m,o,r]),y=A.useMemo(()=>pS(n,e,m,o,r,"assets"),[n,e,m,o,r]),E=A.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let O=new Set,M=!1;if(e.forEach(F=>{let G=o.routes[F.route.id];!G||!G.hasLoader||(!v.some(le=>le.route.id===F.route.id)&&F.route.id in f&&c[F.route.id]?.shouldRevalidate||G.hasClientLoader?M=!0:O.add(F.route.id))}),O.size===0)return[];let K=_P(n,d,a.unstable_trailingSlashAwareDataRequests,"data");return M&&O.size>0&&K.searchParams.set("_routes",e.filter(F=>O.has(F.route.id)).map(F=>F.route.id).join(",")),[K.pathname+K.search]},[d,a.unstable_trailingSlashAwareDataRequests,f,r,o,v,e,n,c]),I=A.useMemo(()=>TP(y,o),[y,o]),L=NP(y);return A.createElement(A.Fragment,null,E.map(O=>A.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),I.map(O=>A.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),L.map(({key:O,link:M})=>A.createElement("link",{key:O,nonce:t.nonce,...M,crossOrigin:M.crossOrigin??t.crossOrigin})))}function OP(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var PP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{PP&&(window.__reactRouterVersion="7.13.0")}catch{}function MP({basename:n,children:e,unstable_useTransitions:t,window:r}){let a=A.useRef();a.current==null&&(a.current=mO({window:r,v5Compat:!0}));let o=a.current,[c,d]=A.useState({action:o.action,location:o.location}),f=A.useCallback(m=>{t===!1?d(m):A.startTransition(()=>d(m))},[t]);return A.useLayoutEffect(()=>o.listen(f),[o,f]),A.createElement(uP,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:t})}var L1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,U1=A.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:o,replace:c,state:d,target:f,to:m,preventScrollReset:v,viewTransition:y,unstable_defaultShouldRevalidate:E,...I},L){let{basename:O,unstable_useTransitions:M}=A.useContext(Ei),K=typeof m=="string"&&L1.test(m),F=A1(m,O);m=F.to;let G=QO(m,{relative:a}),[le,se,ue]=RP(r,I),R=zP(m,{replace:c,state:d,target:f,preventScrollReset:v,relative:a,viewTransition:y,unstable_defaultShouldRevalidate:E,unstable_useTransitions:M});function x(P){e&&e(P),P.defaultPrevented||R(P)}let D=A.createElement("a",{...I,...ue,href:F.absoluteURL||G,onClick:F.isExternal||o?e:x,ref:OP(L,se),target:f,"data-discover":!K&&t==="render"?"true":void 0});return le&&!K?A.createElement(A.Fragment,null,D,A.createElement(DP,{page:G})):D});U1.displayName="Link";var VP=A.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:o,to:c,viewTransition:d,children:f,...m},v){let y=_h(c,{relative:m.relative}),E=fo(),I=A.useContext(zm),{navigator:L,basename:O}=A.useContext(Ei),M=I!=null&&HP(y)&&d===!0,K=L.encodeLocation?L.encodeLocation(y).pathname:y.pathname,F=E.pathname,G=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(F=F.toLowerCase(),G=G?G.toLowerCase():null,K=K.toLowerCase()),G&&O&&(G=Ws(G,O)||G);const le=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let se=F===K||!a&&F.startsWith(K)&&F.charAt(le)==="/",ue=G!=null&&(G===K||!a&&G.startsWith(K)&&G.charAt(K.length)==="/"),R={isActive:se,isPending:ue,isTransitioning:M},x=se?e:void 0,D;typeof r=="function"?D=r(R):D=[r,se?"active":null,ue?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(R):o;return A.createElement(U1,{...m,"aria-current":x,className:D,ref:v,style:P,to:c,viewTransition:d},typeof f=="function"?f(R):f)});VP.displayName="NavLink";var LP=A.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:o,method:c=Dp,action:d,onSubmit:f,relative:m,preventScrollReset:v,viewTransition:y,unstable_defaultShouldRevalidate:E,...I},L)=>{let{unstable_useTransitions:O}=A.useContext(Ei),M=FP(),K=qP(d,{relative:m}),F=c.toLowerCase()==="get"?"get":"post",G=typeof d=="string"&&L1.test(d),le=se=>{if(f&&f(se),se.defaultPrevented)return;se.preventDefault();let ue=se.nativeEvent.submitter,R=ue?.getAttribute("formmethod")||c,x=()=>M(ue||se.currentTarget,{fetcherKey:e,method:R,navigate:t,replace:a,state:o,relative:m,preventScrollReset:v,viewTransition:y,unstable_defaultShouldRevalidate:E});O&&t!==!1?A.startTransition(()=>x()):x()};return A.createElement("form",{ref:L,method:F,action:K,onSubmit:r?f:le,...I,"data-discover":!G&&n==="render"?"true":void 0})});LP.displayName="Form";function UP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z1(n){let e=A.useContext(su);return Dn(e,UP(n)),e}function zP(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:f}={}){let m=k1(),v=fo(),y=_h(n,{relative:o});return A.useCallback(E=>{if(mP(E,e)){E.preventDefault();let I=t!==void 0?t:Qd(v)===Qd(y),L=()=>m(n,{replace:I,state:r,preventScrollReset:a,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:d});f?A.startTransition(()=>L()):L()}},[v,m,y,t,r,e,n,a,o,c,d,f])}function BP(n){_i(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=A.useRef(bb(n)),t=A.useRef(!1),r=fo(),a=A.useMemo(()=>gP(r.search,t.current?null:e.current),[r.search]),o=k1(),c=A.useCallback((d,f)=>{const m=bb(typeof d=="function"?d(new URLSearchParams(a)):d);t.current=!0,o("?"+m,f)},[o,a]);return[a,c]}var jP=0,$P=()=>`__${String(++jP)}__`;function FP(){let{router:n}=z1("useSubmit"),{basename:e}=A.useContext(Ei),t=aP(),r=n.fetch,a=n.navigate;return A.useCallback(async(o,c={})=>{let{action:d,method:f,encType:m,formData:v,body:y}=bP(o,e);if(c.navigate===!1){let E=c.fetcherKey||$P();await r(E,t,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:y,formMethod:c.method||f,formEncType:c.encType||m,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:y,formMethod:c.method||f,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,a,e,t])}function qP(n,{relative:e}={}){let{basename:t}=A.useContext(Ei),r=A.useContext(ra);Dn(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={..._h(n||".",{relative:e})},c=fo();if(n==null){o.search=c.search;let d=new URLSearchParams(o.search),f=d.getAll("index");if(f.some(v=>v==="")){d.delete("index"),f.filter(y=>y).forEach(y=>d.append("index",y));let v=d.toString();o.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Ks([t,o.pathname])),Qd(o)}function HP(n,{relative:e}={}){let t=A.useContext(C1);Dn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=z1("useViewTransitionState"),a=_h(n,{relative:e});if(!t.isTransitioning)return!1;let o=Ws(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=Ws(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Zp(a.pathname,c)!=null||Zp(a.pathname,o)!=null}var Ad=b1();const GP=()=>{};var mS={};const B1=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},KP=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],c=n[t++],d=n[t++],f=((a&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],c=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},j1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],c=a+1<n.length,d=c?n[a+1]:0,f=a+2<n.length,m=f?n[a+2]:0,v=o>>2,y=(o&3)<<4|d>>4;let E=(d&15)<<2|m>>6,I=m&63;f||(I=64,c||(E=64)),r.push(t[v],t[y],t[E],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(B1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):KP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const m=a<n.length?t[n.charAt(a)]:64;++a;const y=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||d==null||m==null||y==null)throw new YP;const E=o<<2|d>>4;if(r.push(E),m!==64){const I=d<<4&240|m>>2;if(r.push(I),y!==64){const L=m<<6&192|y;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class YP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QP=function(n){const e=B1(n);return j1.encodeByteArray(e,!0)},$1=function(n){return QP(n).replace(/\./g,"")},F1=function(n){try{return j1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function q1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const WP=()=>q1().__FIREBASE_DEFAULTS__,XP=()=>{if(typeof process>"u"||typeof mS>"u")return;const n=mS.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},JP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&F1(n[1]);return e&&JSON.parse(e)},$m=()=>{try{return GP()||WP()||XP()||JP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ZP=n=>$m()?.emulatorHosts?.[n],H1=()=>$m()?.config,G1=n=>$m()?.[`_${n}`];class eM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function au(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function K1(n){return(await fetch(n,{credentials:"include"})).ok}const Pd={};function tM(){const n={prod:[],emulator:[]};for(const e of Object.keys(Pd))Pd[e]?n.emulator.push(e):n.prod.push(e);return n}function nM(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let gS=!1;function rM(n,e){if(typeof window>"u"||typeof document>"u"||!au(window.location.host)||Pd[n]===e||Pd[n]||gS)return;Pd[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",o=tM().prod.length>0;function c(){const E=document.getElementById(r);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,I){E.setAttribute("width","24"),E.setAttribute("id",I),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{gS=!0,c()},E}function v(E,I){E.setAttribute("id",I),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function y(){const E=nM(r),I=t("text"),L=document.getElementById(I)||document.createElement("span"),O=t("learnmore"),M=document.getElementById(O)||document.createElement("a"),K=t("preprendIcon"),F=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const G=E.element;d(G),v(M,O);const le=m();f(F,K),G.append(F,L,M,le),document.body.appendChild(G)}o?(L.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}function Nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nn())}function Y1(){const n=$m()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aM(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function oM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lM(){const n=Nn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Q1(){return!Y1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W1(){return!Y1()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function j_(){try{return typeof indexedDB=="object"}catch{return!1}}function X1(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}function cM(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const uM="FirebaseError";class fs extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=uM,Object.setPrototypeOf(this,fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Il.prototype.create)}}class Il{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?dM(o,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new fs(a,d,r)}}function dM(n,e){return n.replace(hM,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const hM=/\{\$([^}]+)}/g;function fM(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function so(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const o=n[a],c=e[a];if(vS(o)&&vS(c)){if(!so(o,c))return!1}else if(o!==c)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function vS(n){return n!==null&&typeof n=="object"}function wh(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Id(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function Cd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function pM(n,e){const t=new mM(n,e);return t.subscribe.bind(t)}class mM{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");gM(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Vy),a.error===void 0&&(a.error=Vy),a.complete===void 0&&(a.complete=Vy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gM(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Vy(){}function Ht(n){return n&&n._delegate?n._delegate:n}class zi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xo="[DEFAULT]";class vM{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new eM;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bM(e))try{this.getOrInitializeService({instanceIdentifier:Xo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=Xo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xo){return this.instances.has(e)}getOptions(e=Xo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&c.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yM(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xo){return this.component?this.component.multipleInstances?e:Xo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yM(n){return n===Xo?void 0:n}function bM(n){return n.instantiationMode==="EAGER"}class _M{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new vM(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var rt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(rt||(rt={}));const wM={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},EM=rt.INFO,xM={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},TM=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=xM[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $_{constructor(e){this.name=e,this._logLevel=EM,this._logHandler=TM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const SM=(n,e)=>e.some(t=>n instanceof t);let yS,bS;function AM(){return yS||(yS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IM(){return bS||(bS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const J1=new WeakMap,_b=new WeakMap,Z1=new WeakMap,Ly=new WeakMap,F_=new WeakMap;function CM(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(Ys(n.result)),a()},c=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&J1.set(t,n)}).catch(()=>{}),F_.set(e,n),e}function RM(n){if(_b.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),a()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});_b.set(n,e)}let wb={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return _b.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Z1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ys(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function DM(n){wb=n(wb)}function NM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Uy(this),e,...t);return Z1.set(r,e.sort?e.sort():[e]),Ys(r)}:IM().includes(n)?function(...e){return n.apply(Uy(this),e),Ys(J1.get(this))}:function(...e){return Ys(n.apply(Uy(this),e))}}function kM(n){return typeof n=="function"?NM(n):(n instanceof IDBTransaction&&RM(n),SM(n,AM())?new Proxy(n,wb):n)}function Ys(n){if(n instanceof IDBRequest)return CM(n);if(Ly.has(n))return Ly.get(n);const e=kM(n);return e!==n&&(Ly.set(n,e),F_.set(e,n)),e}const Uy=n=>F_.get(n);function Fm(n,e,{blocked:t,upgrade:r,blocking:a,terminated:o}={}){const c=indexedDB.open(n,e),d=Ys(c);return r&&c.addEventListener("upgradeneeded",f=>{r(Ys(c.result),f.oldVersion,f.newVersion,Ys(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}function zy(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",r=>e(r.oldVersion,r)),Ys(t).then(()=>{})}const OM=["get","getKey","getAll","getAllKeys","count"],PM=["put","add","delete","clear"],By=new Map;function _S(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(By.get(e))return By.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=PM.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||OM.includes(t)))return;const o=async function(c,...d){const f=this.transaction(c,a?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),a&&f.done]))[0]};return By.set(e,o),o}DM(n=>({...n,get:(e,t,r)=>_S(e,t)||n.get(e,t,r),has:(e,t)=>!!_S(e,t)||n.has(e,t)}));class MM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(VM(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function VM(n){return n.getComponent()?.type==="VERSION"}const Eb="@firebase/app",wS="0.14.8";const Xs=new $_("@firebase/app"),LM="@firebase/app-compat",UM="@firebase/analytics-compat",zM="@firebase/analytics",BM="@firebase/app-check-compat",jM="@firebase/app-check",$M="@firebase/auth",FM="@firebase/auth-compat",qM="@firebase/database",HM="@firebase/data-connect",GM="@firebase/database-compat",KM="@firebase/functions",YM="@firebase/functions-compat",QM="@firebase/installations",WM="@firebase/installations-compat",XM="@firebase/messaging",JM="@firebase/messaging-compat",ZM="@firebase/performance",e4="@firebase/performance-compat",t4="@firebase/remote-config",n4="@firebase/remote-config-compat",r4="@firebase/storage",i4="@firebase/storage-compat",s4="@firebase/firestore",a4="@firebase/ai",o4="@firebase/firestore-compat",l4="firebase",c4="12.9.0";const xb="[DEFAULT]",u4={[Eb]:"fire-core",[LM]:"fire-core-compat",[zM]:"fire-analytics",[UM]:"fire-analytics-compat",[jM]:"fire-app-check",[BM]:"fire-app-check-compat",[$M]:"fire-auth",[FM]:"fire-auth-compat",[qM]:"fire-rtdb",[HM]:"fire-data-connect",[GM]:"fire-rtdb-compat",[KM]:"fire-fn",[YM]:"fire-fn-compat",[QM]:"fire-iid",[WM]:"fire-iid-compat",[XM]:"fire-fcm",[JM]:"fire-fcm-compat",[ZM]:"fire-perf",[e4]:"fire-perf-compat",[t4]:"fire-rc",[n4]:"fire-rc-compat",[r4]:"fire-gcs",[i4]:"fire-gcs-compat",[s4]:"fire-fst",[o4]:"fire-fst-compat",[a4]:"fire-vertex","fire-js":"fire-js",[l4]:"fire-js-all"};const em=new Map,d4=new Map,Tb=new Map;function ES(n,e){try{n.container.addComponent(e)}catch(t){Xs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ds(n){const e=n.name;if(Tb.has(e))return Xs.debug(`There were multiple attempts to register component ${e}.`),!1;Tb.set(e,n);for(const t of em.values())ES(t,n);for(const t of d4.values())ES(t,n);return!0}function ou(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Kr(n){return n==null?!1:n.settings!==void 0}const h4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},to=new Il("app","Firebase",h4);class f4{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw to.create("app-deleted",{appName:this._name})}}const lu=c4;function eC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:xb,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw to.create("bad-app-name",{appName:String(a)});if(t||(t=H1()),!t)throw to.create("no-options");const o=em.get(a);if(o){if(so(t,o.options)&&so(r,o.config))return o;throw to.create("duplicate-app",{appName:a})}const c=new _M(a);for(const f of Tb.values())c.addComponent(f);const d=new f4(t,r,c);return em.set(a,d),d}function tC(n=xb){const e=em.get(n);if(!e&&n===xb&&H1())return eC();if(!e)throw to.create("no-app",{appName:n});return e}function bi(n,e,t){let r=u4[n]??n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xs.warn(c.join(" "));return}ds(new zi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const p4="firebase-heartbeat-database",m4=1,Wd="firebase-heartbeat-store";let jy=null;function nC(){return jy||(jy=Fm(p4,m4,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Wd)}catch(t){console.warn(t)}}}}).catch(n=>{throw to.create("idb-open",{originalErrorMessage:n.message})})),jy}async function g4(n){try{const t=(await nC()).transaction(Wd),r=await t.objectStore(Wd).get(rC(n));return await t.done,r}catch(e){if(e instanceof fs)Xs.warn(e.message);else{const t=to.create("idb-get",{originalErrorMessage:e?.message});Xs.warn(t.message)}}}async function xS(n,e){try{const r=(await nC()).transaction(Wd,"readwrite");await r.objectStore(Wd).put(e,rC(n)),await r.done}catch(t){if(t instanceof fs)Xs.warn(t.message);else{const r=to.create("idb-set",{originalErrorMessage:t?.message});Xs.warn(r.message)}}}function rC(n){return`${n.name}!${n.options.appId}`}const v4=1024,y4=30;class b4{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new w4(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=TS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>y4){const a=E4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Xs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=TS(),{heartbeatsToSend:t,unsentEntries:r}=_4(this._heartbeatsCache.heartbeats),a=$1(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Xs.warn(e),""}}}function TS(){return new Date().toISOString().substring(0,10)}function _4(n,e=v4){const t=[];let r=n.slice();for(const a of n){const o=t.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),SS(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),SS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class w4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return j_()?X1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await g4(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return xS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return xS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function SS(n){return $1(JSON.stringify({version:2,heartbeats:n})).length}function E4(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function x4(n){ds(new zi("platform-logger",e=>new MM(e),"PRIVATE")),ds(new zi("heartbeat",e=>new b4(e),"PRIVATE")),bi(Eb,wS,n),bi(Eb,wS,"esm2020"),bi("fire-js","")}x4("");function iC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const T4=iC,sC=new Il("auth","Firebase",iC());const tm=new $_("@firebase/auth");function S4(n,...e){tm.logLevel<=rt.WARN&&tm.warn(`Auth (${lu}): ${n}`,...e)}function kp(n,...e){tm.logLevel<=rt.ERROR&&tm.error(`Auth (${lu}): ${n}`,...e)}function wi(n,...e){throw H_(n,...e)}function Li(n,...e){return H_(n,...e)}function q_(n,e,t){const r={...T4(),[e]:t};return new Il("auth","Firebase",r).create(e,{appName:n.name})}function Qs(n){return q_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function A4(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&wi(n,"argument-error"),q_(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function H_(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return sC.create(n,...e)}function Pe(n,e,...t){if(!n)throw H_(e,...t)}function qs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw kp(e),new Error(e)}function Js(n,e){n||qs(e)}function Sb(){return typeof self<"u"&&self.location?.href||""}function I4(){return AS()==="http:"||AS()==="https:"}function AS(){return typeof self<"u"&&self.location?.protocol||null}function C4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(I4()||aM()||"connection"in navigator)?navigator.onLine:!0}function R4(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Eh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Js(t>e,"Short delay should be less than long delay!"),this.isMobile=iM()||oM()}get(){return C4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function G_(n,e){Js(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class aC{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const D4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const N4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],k4=new Eh(3e4,6e4);function po(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function mo(n,e,t,r,a={}){return oC(n,a,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const d=wh({key:n.config.apiKey,...c}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:f,...o};return sM()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&au(n.emulatorConfig.host)&&(m.credentials="include"),aC.fetch()(await lC(n,n.config.apiHost,t,d),m)})}async function oC(n,e,t){n._canInitEmulator=!1;const r={...D4,...e};try{const a=new P4(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw cp(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const d=o.ok?c.errorMessage:c.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw cp(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw cp(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw cp(n,"user-disabled",c);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw q_(n,v,m);wi(n,v)}}catch(a){if(a instanceof fs)throw a;wi(n,"network-request-failed",{message:String(a)})}}async function xh(n,e,t,r,a={}){const o=await mo(n,e,t,r,a);return"mfaPendingCredential"in o&&wi(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function lC(n,e,t,r){const a=`${e}${t}?${r}`,o=n,c=o.config.emulator?G_(n.config,a):`${n.config.apiScheme}://${a}`;return N4.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function O4(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class P4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Li(this.auth,"network-request-failed")),k4.get())})}}function cp(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=Li(n,e,r);return a.customData._tokenResponse=t,a}function IS(n){return n!==void 0&&n.enterprise!==void 0}class M4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return O4(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function V4(n,e){return mo(n,"GET","/v2/recaptchaConfig",po(n,e))}async function L4(n,e){return mo(n,"POST","/v1/accounts:delete",e)}async function nm(n,e){return mo(n,"POST","/v1/accounts:lookup",e)}function Md(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function U4(n,e=!1){const t=Ht(n),r=await t.getIdToken(e),a=K_(r);Pe(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:r,authTime:Md($y(a.auth_time)),issuedAtTime:Md($y(a.iat)),expirationTime:Md($y(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function $y(n){return Number(n)*1e3}function K_(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return kp("JWT malformed, contained fewer than 3 sections"),null;try{const a=F1(t);return a?JSON.parse(a):(kp("Failed to decode base64 JWT payload"),null)}catch(a){return kp("Caught error parsing JWT payload as JSON",a?.toString()),null}}function CS(n){const e=K_(n);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Xd(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof fs&&z4(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function z4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class B4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ab{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Md(this.lastLoginAt),this.creationTime=Md(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function rm(n){const e=n.auth,t=await n.getIdToken(),r=await Xd(n,nm(e,{idToken:t}));Pe(r?.users.length,e,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const o=a.providerUserInfo?.length?cC(a.providerUserInfo):[],c=$4(n.providerData,o),d=n.isAnonymous,f=!(n.email&&a.passwordHash)&&!c?.length,m=d?f:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Ab(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(n,v)}async function j4(n){const e=Ht(n);await rm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $4(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function cC(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function F4(n,e){const t=await oC(n,{},async()=>{const r=wh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,c=await lC(n,a,"/v1/token",`key=${o}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return n.emulatorConfig&&au(n.emulatorConfig.host)&&(f.credentials="include"),aC.fetch()(c,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function q4(n,e){return mo(n,"POST","/v2/accounts:revokeToken",po(n,e))}class Dc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const t=CS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:o}=await F4(e,t);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:o}=t,c=new Dc;return r&&(Pe(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Pe(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&(Pe(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dc,this.toJSON())}_performRefresh(){return qs("not implemented")}}function Fa(n,e){Pe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Vi{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new B4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Ab(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Xd(this,this.stsTokenManager.getToken(this.auth,e));return Pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return U4(this,e)}reload(){return j4(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Vi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await rm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kr(this.auth.app))return Promise.reject(Qs(this.auth));const e=await this.getIdToken();return await Xd(this,L4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,o=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,f=t._redirectEventId??void 0,m=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:y,emailVerified:E,isAnonymous:I,providerData:L,stsTokenManager:O}=t;Pe(y&&O,e,"internal-error");const M=Dc.fromJSON(this.name,O);Pe(typeof y=="string",e,"internal-error"),Fa(r,e.name),Fa(a,e.name),Pe(typeof E=="boolean",e,"internal-error"),Pe(typeof I=="boolean",e,"internal-error"),Fa(o,e.name),Fa(c,e.name),Fa(d,e.name),Fa(f,e.name),Fa(m,e.name),Fa(v,e.name);const K=new Vi({uid:y,auth:e,email:a,emailVerified:E,displayName:r,isAnonymous:I,photoURL:c,phoneNumber:o,tenantId:d,stsTokenManager:M,createdAt:m,lastLoginAt:v});return L&&Array.isArray(L)&&(K.providerData=L.map(F=>({...F}))),f&&(K._redirectEventId=f),K}static async _fromIdTokenResponse(e,t,r=!1){const a=new Dc;a.updateFromServerResponse(t);const o=new Vi({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await rm(o),o}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];Pe(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?cC(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,d=new Dc;d.updateFromIdToken(r);const f=new Vi({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Ab(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(f,m),f}}const RS=new Map;function Hs(n){Js(n instanceof Function,"Expected a class definition");let e=RS.get(n);return e?(Js(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,RS.set(n,e),e)}class uC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}uC.type="NONE";const DS=uC;function Op(n,e,t){return`firebase:${n}:${e}:${t}`}class Nc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=Op(this.userKey,a.apiKey,o),this.fullPersistenceKey=Op("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await nm(this.auth,{idToken:e}).catch(()=>{});return t?Vi._fromGetAccountInfoResponse(this.auth,t,e):null}return Vi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Nc(Hs(DS),e,r);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=a[0]||Hs(DS);const c=Op(r,e.config.apiKey,e.name);let d=null;for(const m of t)try{const v=await m._get(c);if(v){let y;if(typeof v=="string"){const E=await nm(e,{idToken:v}).catch(()=>{});if(!E)break;y=await Vi._fromGetAccountInfoResponse(e,E,v)}else y=Vi._fromJSON(e,v);m!==o&&(d=y),o=m;break}}catch{}const f=a.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Nc(o,e,r):(o=f[0],d&&await o._set(c,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new Nc(o,e,r))}}function NS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gC(e))return"Blackberry";if(vC(e))return"Webos";if(hC(e))return"Safari";if((e.includes("chrome/")||fC(e))&&!e.includes("edge/"))return"Chrome";if(mC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function dC(n=Nn()){return/firefox\//i.test(n)}function hC(n=Nn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fC(n=Nn()){return/crios\//i.test(n)}function pC(n=Nn()){return/iemobile/i.test(n)}function mC(n=Nn()){return/android/i.test(n)}function gC(n=Nn()){return/blackberry/i.test(n)}function vC(n=Nn()){return/webos/i.test(n)}function Y_(n=Nn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function H4(n=Nn()){return Y_(n)&&!!window.navigator?.standalone}function G4(){return lM()&&document.documentMode===10}function yC(n=Nn()){return Y_(n)||mC(n)||vC(n)||gC(n)||/windows phone/i.test(n)||pC(n)}function bC(n,e=[]){let t;switch(n){case"Browser":t=NS(Nn());break;case"Worker":t=`${NS(Nn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${lu}/${r}`}class K4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((c,d)=>{try{const f=e(o);c(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Y4(n,e={}){return mo(n,"GET","/v2/passwordPolicy",po(n,e))}const Q4=6;class W4{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Q4,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class X4{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kS(this),this.idTokenSubscription=new kS(this),this.beforeStateQueue=new K4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Hs(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Nc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await nm(this,{idToken:e}),r=await Vi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Kr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===c)&&d?.user&&(r=d.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await rm(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=R4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kr(this.app))return Promise.reject(Qs(this));const t=e?Ht(e):null;return t&&Pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kr(this.app)?Promise.reject(Qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kr(this.app)?Promise.reject(Qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Y4(this),t=new W4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Il("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await q4(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Hs(e)||this._popupRedirectResolver;Pe(t,this,"argument-error"),this.redirectPersistenceManager=await Nc.create(this,[Hs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(d,this,"internal-error"),d.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,a);return()=>{c=!0,f()}}else{const f=e.addObserver(t);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Kr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&S4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function go(n){return Ht(n)}class kS{constructor(e){this.auth=e,this.observer=null,this.addObserver=pM(t=>this.observer=t)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let qm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function J4(n){qm=n}function _C(n){return qm.loadJS(n)}function Z4(){return qm.recaptchaEnterpriseScript}function eV(){return qm.gapiScript}function tV(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class nV{constructor(){this.enterprise=new rV}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class rV{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const iV="recaptcha-enterprise",wC="NO_RECAPTCHA";class sV{constructor(e){this.type=iV,this.auth=go(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,d)=>{V4(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new M4(f);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,c(m.siteKey)}}).catch(f=>{d(f)})})}function a(o,c,d){const f=window.grecaptcha;IS(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(m=>{c(m)}).catch(()=>{c(wC)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new nV().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{r(this.auth).then(d=>{if(!t&&IS(window.grecaptcha))a(d,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=Z4();f.length!==0&&(f+=d),_C(f).then(()=>{a(d,o,c)}).catch(m=>{c(m)})}}).catch(d=>{c(d)})})}}async function OS(n,e,t,r=!1,a=!1){const o=new sV(n);let c;if(a)c=wC;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Ib(n,e,t,r,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await OS(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await OS(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(o)})}function aV(n,e){const t=ou(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(so(o,e??{}))return a;wi(a,"already-initialized")}return t.initialize({options:e})}function oV(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Hs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function lV(n,e,t){const r=go(n);Pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=EC(e),{host:c,port:d}=cV(e),f=d===null?"":`:${d}`,m={url:`${o}//${c}${f}/`},v=Object.freeze({host:c,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Pe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Pe(so(m,r.config.emulator)&&so(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,au(c)?(K1(`${o}//${c}${f}`),rM("Auth",!0)):uV()}function EC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function cV(n){const e=EC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:PS(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:PS(c)}}}function PS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function uV(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Q_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return qs("not implemented")}_getIdTokenResponse(e){return qs("not implemented")}_linkToIdToken(e,t){return qs("not implemented")}_getReauthenticationResolver(e){return qs("not implemented")}}async function dV(n,e){return mo(n,"POST","/v1/accounts:signUp",e)}async function hV(n,e){return xh(n,"POST","/v1/accounts:signInWithPassword",po(n,e))}async function fV(n,e){return xh(n,"POST","/v1/accounts:signInWithEmailLink",po(n,e))}async function pV(n,e){return xh(n,"POST","/v1/accounts:signInWithEmailLink",po(n,e))}class Jd extends Q_{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Jd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Jd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ib(e,t,"signInWithPassword",hV);case"emailLink":return fV(e,{email:this._email,oobCode:this._password});default:wi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ib(e,r,"signUpPassword",dV);case"emailLink":return pV(e,{idToken:t,email:this._email,oobCode:this._password});default:wi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function kc(n,e){return xh(n,"POST","/v1/accounts:signInWithIdp",po(n,e))}const mV="http://localhost";class Zs extends Q_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):wi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...o}=t;if(!r||!a)return null;const c=new Zs(r,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return kc(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,kc(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,kc(e,t)}buildRequest(){const e={requestUri:mV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=wh(t)}return e}}function gV(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vV(n){const e=Id(Cd(n)).link,t=e?Id(Cd(e)).deep_link_id:null,r=Id(Cd(n)).deep_link_id;return(r?Id(Cd(r)).link:null)||r||t||e||n}class W_{constructor(e){const t=Id(Cd(e)),r=t.apiKey??null,a=t.oobCode??null,o=gV(t.mode??null);Pe(r&&a&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=vV(e);try{return new W_(t)}catch{return null}}}class cu{constructor(){this.providerId=cu.PROVIDER_ID}static credential(e,t){return Jd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=W_.parseLink(t);return Pe(r,"argument-error"),Jd._fromEmailAndCode(e,r.code,r.tenantId)}}cu.PROVIDER_ID="password";cu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class X_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class uu extends X_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Vd extends uu{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return Pe("providerId"in t&&"signInMethod"in t,"argument-error"),Zs._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return Pe(e.idToken||e.accessToken,"argument-error"),Zs._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Vd.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Vd.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:a,pendingToken:o,nonce:c,providerId:d}=e;if(!r&&!a&&!t&&!o||!d)return null;try{return new Vd(d)._credential({idToken:t,accessToken:r,nonce:c,pendingToken:o})}catch{return null}}}class Qa extends uu{constructor(){super("facebook.com")}static credential(e){return Zs._fromParams({providerId:Qa.PROVIDER_ID,signInMethod:Qa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qa.credentialFromTaggedObject(e)}static credentialFromError(e){return Qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qa.credential(e.oauthAccessToken)}catch{return null}}}Qa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qa.PROVIDER_ID="facebook.com";class Fs extends uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Zs._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Fs.credential(t,r)}catch{return null}}}Fs.GOOGLE_SIGN_IN_METHOD="google.com";Fs.PROVIDER_ID="google.com";class Wa extends uu{constructor(){super("github.com")}static credential(e){return Zs._fromParams({providerId:Wa.PROVIDER_ID,signInMethod:Wa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wa.credentialFromTaggedObject(e)}static credentialFromError(e){return Wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wa.credential(e.oauthAccessToken)}catch{return null}}}Wa.GITHUB_SIGN_IN_METHOD="github.com";Wa.PROVIDER_ID="github.com";class Xa extends uu{constructor(){super("twitter.com")}static credential(e,t){return Zs._fromParams({providerId:Xa.PROVIDER_ID,signInMethod:Xa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Xa.credentialFromTaggedObject(e)}static credentialFromError(e){return Xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Xa.credential(t,r)}catch{return null}}}Xa.TWITTER_SIGN_IN_METHOD="twitter.com";Xa.PROVIDER_ID="twitter.com";async function yV(n,e){return xh(n,"POST","/v1/accounts:signUp",po(n,e))}class fl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const o=await Vi._fromIdTokenResponse(e,r,a),c=MS(r);return new fl({user:o,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=MS(r);return new fl({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function MS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class im extends fs{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,im.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new im(e,t,r,a)}}function xC(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?im._fromErrorAndOperation(n,o,e,r):o})}async function bV(n,e,t=!1){const r=await Xd(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return fl._forOperation(n,"link",r)}async function _V(n,e,t=!1){const{auth:r}=n;if(Kr(r.app))return Promise.reject(Qs(r));const a="reauthenticate";try{const o=await Xd(n,xC(r,a,e,n),t);Pe(o.idToken,r,"internal-error");const c=K_(o.idToken);Pe(c,r,"internal-error");const{sub:d}=c;return Pe(n.uid===d,r,"user-mismatch"),fl._forOperation(n,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&wi(r,"user-mismatch"),o}}async function TC(n,e,t=!1){if(Kr(n.app))return Promise.reject(Qs(n));const r="signIn",a=await xC(n,r,e),o=await fl._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(o.user),o}async function wV(n,e){return TC(go(n),e)}async function SC(n){const e=go(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function EV(n,e,t){if(Kr(n.app))return Promise.reject(Qs(n));const r=go(n),c=await Ib(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yV).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&SC(n),f}),d=await fl._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(d.user),d}function xV(n,e,t){return Kr(n.app)?Promise.reject(Qs(n)):wV(Ht(n),cu.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&SC(n),r})}function TV(n,e,t,r){return Ht(n).onIdTokenChanged(e,t,r)}function SV(n,e,t){return Ht(n).beforeAuthStateChanged(e,t)}function AV(n,e,t,r){return Ht(n).onAuthStateChanged(e,t,r)}function md(n){return Ht(n).signOut()}async function IV(n){return Ht(n).delete()}const sm="__sak";class AC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(sm,"1"),this.storage.removeItem(sm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const CV=1e3,RV=10;class IC extends AC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,f)=>{this.notifyListeners(c,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);G4()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,RV):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},CV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}IC.type="LOCAL";const DV=IC;class CC extends AC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}CC.type="SESSION";const RC=CC;function NV(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Hm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new Hm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:o}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(c).map(async m=>m(t.origin,o)),f=await NV(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hm.receivers=[];function J_(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class kV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((d,f)=>{const m=J_("",20);a.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(y){const E=y;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(E.data.response);break;default:clearTimeout(v),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function os(){return window}function OV(n){os().location.href=n}function DC(){return typeof os().WorkerGlobalScope<"u"&&typeof os().importScripts=="function"}async function PV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MV(){return navigator?.serviceWorker?.controller||null}function VV(){return DC()?self:null}const NC="firebaseLocalStorageDb",LV=1,am="firebaseLocalStorage",kC="fbase_key";class Th{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Gm(n,e){return n.transaction([am],e?"readwrite":"readonly").objectStore(am)}function UV(){const n=indexedDB.deleteDatabase(NC);return new Th(n).toPromise()}function Cb(){const n=indexedDB.open(NC,LV);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(am,{keyPath:kC})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(am)?e(r):(r.close(),await UV(),e(await Cb()))})})}async function VS(n,e,t){const r=Gm(n,!0).put({[kC]:e,value:t});return new Th(r).toPromise()}async function zV(n,e){const t=Gm(n,!1).get(e),r=await new Th(t).toPromise();return r===void 0?null:r.value}function LS(n,e){const t=Gm(n,!0).delete(e);return new Th(t).toPromise()}const BV=800,jV=3;class OC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cb(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>jV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hm._getInstance(VV()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await PV(),!this.activeServiceWorker)return;this.sender=new kV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cb();return await VS(e,sm,"1"),await LS(e,sm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>VS(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>zV(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>LS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Gm(a,!1).getAll();return new Th(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OC.type="LOCAL";const $V=OC;new Eh(3e4,6e4);function PC(n,e){return e?Hs(e):(Pe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Z_ extends Q_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return kc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return kc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return kc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function FV(n){return TC(n.auth,new Z_(n),n.bypassAuthState)}function qV(n){const{auth:e,user:t}=n;return Pe(t,e,"internal-error"),_V(t,new Z_(n),n.bypassAuthState)}async function HV(n){const{auth:e,user:t}=n;return Pe(t,e,"internal-error"),bV(t,new Z_(n),n.bypassAuthState)}class MC{constructor(e,t,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:o,error:c,type:d}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FV;case"linkViaPopup":case"linkViaRedirect":return HV;case"reauthViaPopup":case"reauthViaRedirect":return qV;default:wi(this.auth,"internal-error")}}resolve(e){Js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const GV=new Eh(2e3,1e4);async function KV(n,e,t){if(Kr(n.app))return Promise.reject(Li(n,"operation-not-supported-in-this-environment"));const r=go(n);A4(n,e,X_);const a=PC(r,t);return new il(r,"signInViaPopup",e,a).executeNotNull()}class il extends MC{constructor(e,t,r,a,o){super(e,t,a,o),this.provider=r,this.authWindow=null,this.pollId=null,il.currentPopupAction&&il.currentPopupAction.cancel(),il.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){Js(this.filter.length===1,"Popup operations only handle one event");const e=J_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,il.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GV.get())};e()}}il.currentPopupAction=null;const YV="pendingRedirect",Pp=new Map;class QV extends MC{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Pp.get(this.auth._key());if(!e){try{const r=await WV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Pp.set(this.auth._key(),e)}return this.bypassAuthState||Pp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WV(n,e){const t=ZV(e),r=JV(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function XV(n,e){Pp.set(n._key(),e)}function JV(n){return Hs(n._redirectPersistence)}function ZV(n){return Op(YV,n.config.apiKey,n.name)}async function eL(n,e,t=!1){if(Kr(n.app))return Promise.reject(Qs(n));const r=go(n),a=PC(r,e),c=await new QV(r,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const tL=600*1e3;class nL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rL(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!VC(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Li(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tL&&this.cachedEventUids.clear(),this.cachedEventUids.has(US(e))}saveEventToCache(e){this.cachedEventUids.add(US(e)),this.lastProcessedEventTime=Date.now()}}function US(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function VC({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function rL(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VC(n);default:return!1}}async function iL(n,e={}){return mo(n,"GET","/v1/projects",e)}const sL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aL=/^https?/;async function oL(n){if(n.config.emulator)return;const{authorizedDomains:e}=await iL(n);for(const t of e)try{if(lL(t))return}catch{}wi(n,"unauthorized-domain")}function lL(n){const e=Sb(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!aL.test(t))return!1;if(sL.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const cL=new Eh(3e4,6e4);function zS(){const n=os().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function uL(n){return new Promise((e,t)=>{function r(){zS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zS(),t(Li(n,"network-request-failed"))},timeout:cL.get()})}if(os().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(os().gapi?.load)r();else{const a=tV("iframefcb");return os()[a]=()=>{gapi.load?r():t(Li(n,"network-request-failed"))},_C(`${eV()}?onload=${a}`).catch(o=>t(o))}}).catch(e=>{throw Mp=null,e})}let Mp=null;function dL(n){return Mp=Mp||uL(n),Mp}const hL=new Eh(5e3,15e3),fL="__/auth/iframe",pL="emulator/auth/iframe",mL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vL(n){const e=n.config;Pe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?G_(e,pL):`https://${n.config.authDomain}/${fL}`,r={apiKey:e.apiKey,appName:n.name,v:lu},a=gL.get(n.config.apiHost);a&&(r.eid=a);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${wh(r).slice(1)}`}async function yL(n){const e=await dL(n),t=os().gapi;return Pe(t,n,"internal-error"),e.open({where:document.body,url:vL(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mL,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const c=Li(n,"network-request-failed"),d=os().setTimeout(()=>{o(c)},hL.get());function f(){os().clearTimeout(d),a(r)}r.ping(f).then(f,()=>{o(c)})}))}const bL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_L=500,wL=600,EL="_blank",xL="http://localhost";class BS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TL(n,e,t,r=_L,a=wL){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...bL,width:r.toString(),height:a.toString(),top:o,left:c},m=Nn().toLowerCase();t&&(d=fC(m)?EL:t),dC(m)&&(e=e||xL,f.scrollbars="yes");const v=Object.entries(f).reduce((E,[I,L])=>`${E}${I}=${L},`,"");if(H4(m)&&d!=="_self")return SL(e||"",d),new BS(null);const y=window.open(e||"",d,v);Pe(y,n,"popup-blocked");try{y.focus()}catch{}return new BS(y)}function SL(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const AL="__/auth/handler",IL="emulator/auth/handler",CL=encodeURIComponent("fac");async function jS(n,e,t,r,a,o){Pe(n.config.authDomain,n,"auth-domain-config-required"),Pe(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:lu,eventId:a};if(e instanceof X_){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",fM(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,y]of Object.entries({}))c[v]=y}if(e instanceof uu){const v=e.getScopes().filter(y=>y!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const f=await n._getAppCheckToken(),m=f?`#${CL}=${encodeURIComponent(f)}`:"";return`${RL(n)}?${wh(d).slice(1)}${m}`}function RL({config:n}){return n.emulator?G_(n,IL):`https://${n.authDomain}/${AL}`}const Fy="webStorageSupport";class DL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RC,this._completeRedirectFn=eL,this._overrideRedirectResult=XV}async _openPopup(e,t,r,a){Js(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await jS(e,t,r,Sb(),a);return TL(e,o,J_())}async _openRedirect(e,t,r,a){await this._originValidation(e);const o=await jS(e,t,r,Sb(),a);return OV(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Js(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await yL(e),r=new nL(e);return t.register("authEvent",a=>(Pe(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Fy,{type:Fy},a=>{const o=a?.[0]?.[Fy];o!==void 0&&t(!!o),wi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=oL(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return yC()||hC()||Y_()}}const NL=DL;var $S="@firebase/auth",FS="1.12.0";class kL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function OL(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PL(n){ds(new zi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Pe(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bC(n)},m=new X4(r,a,o,f);return oV(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ds(new zi("auth-internal",e=>{const t=go(e.getProvider("auth").getImmediate());return(r=>new kL(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),bi($S,FS,OL(n)),bi($S,FS,"esm2020")}const ML=300,VL=G1("authIdTokenMaxAge")||ML;let qS=null;const LL=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>VL)return;const a=t?.token;qS!==a&&(qS=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function UL(n=tC()){const e=ou(n,"auth");if(e.isInitialized())return e.getImmediate();const t=aV(n,{popupRedirectResolver:NL,persistence:[$V,DV,RC]}),r=G1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=LL(o.toString());SV(t,c,()=>c(t.currentUser)),TV(t,d=>c(d))}}const a=ZP("auth");return a&&lV(t,`http://${a}`),t}function zL(){return document.getElementsByTagName("head")?.[0]??document}J4({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const o=Li("internal-error");o.customData=a,t(o)},r.type="text/javascript",r.charset="UTF-8",zL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PL("Browser");var HS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var no,LC;(function(){var n;function e(R,x){function D(){}D.prototype=x.prototype,R.F=x.prototype,R.prototype=new D,R.prototype.constructor=R,R.D=function(P,k,z){for(var N=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)N[Re-2]=arguments[Re];return x.prototype[k].apply(P,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,x,D){D||(D=0);const P=Array(16);if(typeof x=="string")for(var k=0;k<16;++k)P[k]=x.charCodeAt(D++)|x.charCodeAt(D++)<<8|x.charCodeAt(D++)<<16|x.charCodeAt(D++)<<24;else for(k=0;k<16;++k)P[k]=x[D++]|x[D++]<<8|x[D++]<<16|x[D++]<<24;x=R.g[0],D=R.g[1],k=R.g[2];let z=R.g[3],N;N=x+(z^D&(k^z))+P[0]+3614090360&4294967295,x=D+(N<<7&4294967295|N>>>25),N=z+(k^x&(D^k))+P[1]+3905402710&4294967295,z=x+(N<<12&4294967295|N>>>20),N=k+(D^z&(x^D))+P[2]+606105819&4294967295,k=z+(N<<17&4294967295|N>>>15),N=D+(x^k&(z^x))+P[3]+3250441966&4294967295,D=k+(N<<22&4294967295|N>>>10),N=x+(z^D&(k^z))+P[4]+4118548399&4294967295,x=D+(N<<7&4294967295|N>>>25),N=z+(k^x&(D^k))+P[5]+1200080426&4294967295,z=x+(N<<12&4294967295|N>>>20),N=k+(D^z&(x^D))+P[6]+2821735955&4294967295,k=z+(N<<17&4294967295|N>>>15),N=D+(x^k&(z^x))+P[7]+4249261313&4294967295,D=k+(N<<22&4294967295|N>>>10),N=x+(z^D&(k^z))+P[8]+1770035416&4294967295,x=D+(N<<7&4294967295|N>>>25),N=z+(k^x&(D^k))+P[9]+2336552879&4294967295,z=x+(N<<12&4294967295|N>>>20),N=k+(D^z&(x^D))+P[10]+4294925233&4294967295,k=z+(N<<17&4294967295|N>>>15),N=D+(x^k&(z^x))+P[11]+2304563134&4294967295,D=k+(N<<22&4294967295|N>>>10),N=x+(z^D&(k^z))+P[12]+1804603682&4294967295,x=D+(N<<7&4294967295|N>>>25),N=z+(k^x&(D^k))+P[13]+4254626195&4294967295,z=x+(N<<12&4294967295|N>>>20),N=k+(D^z&(x^D))+P[14]+2792965006&4294967295,k=z+(N<<17&4294967295|N>>>15),N=D+(x^k&(z^x))+P[15]+1236535329&4294967295,D=k+(N<<22&4294967295|N>>>10),N=x+(k^z&(D^k))+P[1]+4129170786&4294967295,x=D+(N<<5&4294967295|N>>>27),N=z+(D^k&(x^D))+P[6]+3225465664&4294967295,z=x+(N<<9&4294967295|N>>>23),N=k+(x^D&(z^x))+P[11]+643717713&4294967295,k=z+(N<<14&4294967295|N>>>18),N=D+(z^x&(k^z))+P[0]+3921069994&4294967295,D=k+(N<<20&4294967295|N>>>12),N=x+(k^z&(D^k))+P[5]+3593408605&4294967295,x=D+(N<<5&4294967295|N>>>27),N=z+(D^k&(x^D))+P[10]+38016083&4294967295,z=x+(N<<9&4294967295|N>>>23),N=k+(x^D&(z^x))+P[15]+3634488961&4294967295,k=z+(N<<14&4294967295|N>>>18),N=D+(z^x&(k^z))+P[4]+3889429448&4294967295,D=k+(N<<20&4294967295|N>>>12),N=x+(k^z&(D^k))+P[9]+568446438&4294967295,x=D+(N<<5&4294967295|N>>>27),N=z+(D^k&(x^D))+P[14]+3275163606&4294967295,z=x+(N<<9&4294967295|N>>>23),N=k+(x^D&(z^x))+P[3]+4107603335&4294967295,k=z+(N<<14&4294967295|N>>>18),N=D+(z^x&(k^z))+P[8]+1163531501&4294967295,D=k+(N<<20&4294967295|N>>>12),N=x+(k^z&(D^k))+P[13]+2850285829&4294967295,x=D+(N<<5&4294967295|N>>>27),N=z+(D^k&(x^D))+P[2]+4243563512&4294967295,z=x+(N<<9&4294967295|N>>>23),N=k+(x^D&(z^x))+P[7]+1735328473&4294967295,k=z+(N<<14&4294967295|N>>>18),N=D+(z^x&(k^z))+P[12]+2368359562&4294967295,D=k+(N<<20&4294967295|N>>>12),N=x+(D^k^z)+P[5]+4294588738&4294967295,x=D+(N<<4&4294967295|N>>>28),N=z+(x^D^k)+P[8]+2272392833&4294967295,z=x+(N<<11&4294967295|N>>>21),N=k+(z^x^D)+P[11]+1839030562&4294967295,k=z+(N<<16&4294967295|N>>>16),N=D+(k^z^x)+P[14]+4259657740&4294967295,D=k+(N<<23&4294967295|N>>>9),N=x+(D^k^z)+P[1]+2763975236&4294967295,x=D+(N<<4&4294967295|N>>>28),N=z+(x^D^k)+P[4]+1272893353&4294967295,z=x+(N<<11&4294967295|N>>>21),N=k+(z^x^D)+P[7]+4139469664&4294967295,k=z+(N<<16&4294967295|N>>>16),N=D+(k^z^x)+P[10]+3200236656&4294967295,D=k+(N<<23&4294967295|N>>>9),N=x+(D^k^z)+P[13]+681279174&4294967295,x=D+(N<<4&4294967295|N>>>28),N=z+(x^D^k)+P[0]+3936430074&4294967295,z=x+(N<<11&4294967295|N>>>21),N=k+(z^x^D)+P[3]+3572445317&4294967295,k=z+(N<<16&4294967295|N>>>16),N=D+(k^z^x)+P[6]+76029189&4294967295,D=k+(N<<23&4294967295|N>>>9),N=x+(D^k^z)+P[9]+3654602809&4294967295,x=D+(N<<4&4294967295|N>>>28),N=z+(x^D^k)+P[12]+3873151461&4294967295,z=x+(N<<11&4294967295|N>>>21),N=k+(z^x^D)+P[15]+530742520&4294967295,k=z+(N<<16&4294967295|N>>>16),N=D+(k^z^x)+P[2]+3299628645&4294967295,D=k+(N<<23&4294967295|N>>>9),N=x+(k^(D|~z))+P[0]+4096336452&4294967295,x=D+(N<<6&4294967295|N>>>26),N=z+(D^(x|~k))+P[7]+1126891415&4294967295,z=x+(N<<10&4294967295|N>>>22),N=k+(x^(z|~D))+P[14]+2878612391&4294967295,k=z+(N<<15&4294967295|N>>>17),N=D+(z^(k|~x))+P[5]+4237533241&4294967295,D=k+(N<<21&4294967295|N>>>11),N=x+(k^(D|~z))+P[12]+1700485571&4294967295,x=D+(N<<6&4294967295|N>>>26),N=z+(D^(x|~k))+P[3]+2399980690&4294967295,z=x+(N<<10&4294967295|N>>>22),N=k+(x^(z|~D))+P[10]+4293915773&4294967295,k=z+(N<<15&4294967295|N>>>17),N=D+(z^(k|~x))+P[1]+2240044497&4294967295,D=k+(N<<21&4294967295|N>>>11),N=x+(k^(D|~z))+P[8]+1873313359&4294967295,x=D+(N<<6&4294967295|N>>>26),N=z+(D^(x|~k))+P[15]+4264355552&4294967295,z=x+(N<<10&4294967295|N>>>22),N=k+(x^(z|~D))+P[6]+2734768916&4294967295,k=z+(N<<15&4294967295|N>>>17),N=D+(z^(k|~x))+P[13]+1309151649&4294967295,D=k+(N<<21&4294967295|N>>>11),N=x+(k^(D|~z))+P[4]+4149444226&4294967295,x=D+(N<<6&4294967295|N>>>26),N=z+(D^(x|~k))+P[11]+3174756917&4294967295,z=x+(N<<10&4294967295|N>>>22),N=k+(x^(z|~D))+P[2]+718787259&4294967295,k=z+(N<<15&4294967295|N>>>17),N=D+(z^(k|~x))+P[9]+3951481745&4294967295,R.g[0]=R.g[0]+x&4294967295,R.g[1]=R.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+k&4294967295,R.g[3]=R.g[3]+z&4294967295}r.prototype.v=function(R,x){x===void 0&&(x=R.length);const D=x-this.blockSize,P=this.C;let k=this.h,z=0;for(;z<x;){if(k==0)for(;z<=D;)a(this,R,z),z+=this.blockSize;if(typeof R=="string"){for(;z<x;)if(P[k++]=R.charCodeAt(z++),k==this.blockSize){a(this,P),k=0;break}}else for(;z<x;)if(P[k++]=R[z++],k==this.blockSize){a(this,P),k=0;break}}this.h=k,this.o+=x},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var x=1;x<R.length-8;++x)R[x]=0;x=this.o*8;for(var D=R.length-8;D<R.length;++D)R[D]=x&255,x/=256;for(this.v(R),R=Array(16),x=0,D=0;D<4;++D)for(let P=0;P<32;P+=8)R[x++]=this.g[D]>>>P&255;return R};function o(R,x){var D=d;return Object.prototype.hasOwnProperty.call(D,R)?D[R]:D[R]=x(R)}function c(R,x){this.h=x;const D=[];let P=!0;for(let k=R.length-1;k>=0;k--){const z=R[k]|0;P&&z==x||(D[k]=z,P=!1)}this.g=D}var d={};function f(R){return-128<=R&&R<128?o(R,function(x){return new c([x|0],x<0?-1:0)}):new c([R|0],R<0?-1:0)}function m(R){if(isNaN(R)||!isFinite(R))return y;if(R<0)return M(m(-R));const x=[];let D=1;for(let P=0;R>=D;P++)x[P]=R/D|0,D*=4294967296;return new c(x,0)}function v(R,x){if(R.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(R.charAt(0)=="-")return M(v(R.substring(1),x));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=m(Math.pow(x,8));let P=y;for(let z=0;z<R.length;z+=8){var k=Math.min(8,R.length-z);const N=parseInt(R.substring(z,z+k),x);k<8?(k=m(Math.pow(x,k)),P=P.j(k).add(m(N))):(P=P.j(D),P=P.add(m(N)))}return P}var y=f(0),E=f(1),I=f(16777216);n=c.prototype,n.m=function(){if(O(this))return-M(this).m();let R=0,x=1;for(let D=0;D<this.g.length;D++){const P=this.i(D);R+=(P>=0?P:4294967296+P)*x,x*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(L(this))return"0";if(O(this))return"-"+M(this).toString(R);const x=m(Math.pow(R,6));var D=this;let P="";for(;;){const k=le(D,x).g;D=K(D,k.j(x));let z=((D.g.length>0?D.g[0]:D.h)>>>0).toString(R);if(D=k,L(D))return z+P;for(;z.length<6;)z="0"+z;P=z+P}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function L(R){if(R.h!=0)return!1;for(let x=0;x<R.g.length;x++)if(R.g[x]!=0)return!1;return!0}function O(R){return R.h==-1}n.l=function(R){return R=K(this,R),O(R)?-1:L(R)?0:1};function M(R){const x=R.g.length,D=[];for(let P=0;P<x;P++)D[P]=~R.g[P];return new c(D,~R.h).add(E)}n.abs=function(){return O(this)?M(this):this},n.add=function(R){const x=Math.max(this.g.length,R.g.length),D=[];let P=0;for(let k=0;k<=x;k++){let z=P+(this.i(k)&65535)+(R.i(k)&65535),N=(z>>>16)+(this.i(k)>>>16)+(R.i(k)>>>16);P=N>>>16,z&=65535,N&=65535,D[k]=N<<16|z}return new c(D,D[D.length-1]&-2147483648?-1:0)};function K(R,x){return R.add(M(x))}n.j=function(R){if(L(this)||L(R))return y;if(O(this))return O(R)?M(this).j(M(R)):M(M(this).j(R));if(O(R))return M(this.j(M(R)));if(this.l(I)<0&&R.l(I)<0)return m(this.m()*R.m());const x=this.g.length+R.g.length,D=[];for(var P=0;P<2*x;P++)D[P]=0;for(P=0;P<this.g.length;P++)for(let k=0;k<R.g.length;k++){const z=this.i(P)>>>16,N=this.i(P)&65535,Re=R.i(k)>>>16,je=R.i(k)&65535;D[2*P+2*k]+=N*je,F(D,2*P+2*k),D[2*P+2*k+1]+=z*je,F(D,2*P+2*k+1),D[2*P+2*k+1]+=N*Re,F(D,2*P+2*k+1),D[2*P+2*k+2]+=z*Re,F(D,2*P+2*k+2)}for(R=0;R<x;R++)D[R]=D[2*R+1]<<16|D[2*R];for(R=x;R<2*x;R++)D[R]=0;return new c(D,0)};function F(R,x){for(;(R[x]&65535)!=R[x];)R[x+1]+=R[x]>>>16,R[x]&=65535,x++}function G(R,x){this.g=R,this.h=x}function le(R,x){if(L(x))throw Error("division by zero");if(L(R))return new G(y,y);if(O(R))return x=le(M(R),x),new G(M(x.g),M(x.h));if(O(x))return x=le(R,M(x)),new G(M(x.g),x.h);if(R.g.length>30){if(O(R)||O(x))throw Error("slowDivide_ only works with positive integers.");for(var D=E,P=x;P.l(R)<=0;)D=se(D),P=se(P);var k=ue(D,1),z=ue(P,1);for(P=ue(P,2),D=ue(D,2);!L(P);){var N=z.add(P);N.l(R)<=0&&(k=k.add(D),z=N),P=ue(P,1),D=ue(D,1)}return x=K(R,k.j(x)),new G(k,x)}for(k=y;R.l(x)>=0;){for(D=Math.max(1,Math.floor(R.m()/x.m())),P=Math.ceil(Math.log(D)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),z=m(D),N=z.j(x);O(N)||N.l(R)>0;)D-=P,z=m(D),N=z.j(x);L(z)&&(z=E),k=k.add(z),R=K(R,N)}return new G(k,R)}n.B=function(R){return le(this,R).h},n.and=function(R){const x=Math.max(this.g.length,R.g.length),D=[];for(let P=0;P<x;P++)D[P]=this.i(P)&R.i(P);return new c(D,this.h&R.h)},n.or=function(R){const x=Math.max(this.g.length,R.g.length),D=[];for(let P=0;P<x;P++)D[P]=this.i(P)|R.i(P);return new c(D,this.h|R.h)},n.xor=function(R){const x=Math.max(this.g.length,R.g.length),D=[];for(let P=0;P<x;P++)D[P]=this.i(P)^R.i(P);return new c(D,this.h^R.h)};function se(R){const x=R.g.length+1,D=[];for(let P=0;P<x;P++)D[P]=R.i(P)<<1|R.i(P-1)>>>31;return new c(D,R.h)}function ue(R,x){const D=x>>5;x%=32;const P=R.g.length-D,k=[];for(let z=0;z<P;z++)k[z]=x>0?R.i(z+D)>>>x|R.i(z+D+1)<<32-x:R.i(z+D);return new c(k,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,LC=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=v,no=c}).apply(typeof HS<"u"?HS:typeof self<"u"?self:typeof window<"u"?window:{});var up=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var UC,Rd,zC,Vp,Rb,BC,jC,$C;(function(){var n,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof up=="object"&&up];for(var b=0;b<h.length;++b){var w=h[b];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function a(h,b){if(b)e:{var w=r;h=h.split(".");for(var C=0;C<h.length-1;C++){var Y=h[C];if(!(Y in w))break e;w=w[Y]}h=h[h.length-1],C=w[h],b=b(C),b!=C&&b!=null&&e(w,h,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(b){var w=[],C;for(C in b)Object.prototype.hasOwnProperty.call(b,C)&&w.push([C,b[C]]);return w}});var o=o||{},c=this||self;function d(h){var b=typeof h;return b=="object"&&h!=null||b=="function"}function f(h,b,w){return h.call.apply(h.bind,arguments)}function m(h,b,w){return m=f,m.apply(null,arguments)}function v(h,b){var w=Array.prototype.slice.call(arguments,1);return function(){var C=w.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function y(h,b){function w(){}w.prototype=b.prototype,h.Z=b.prototype,h.prototype=new w,h.prototype.constructor=h,h.Ob=function(C,Y,J){for(var ve=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)ve[ze-2]=arguments[ze];return b.prototype[Y].apply(C,ve)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function I(h){const b=h.length;if(b>0){const w=Array(b);for(let C=0;C<b;C++)w[C]=h[C];return w}return[]}function L(h,b){for(let C=1;C<arguments.length;C++){const Y=arguments[C];var w=typeof Y;if(w=w!="object"?w:Y?Array.isArray(Y)?"array":w:"null",w=="array"||w=="object"&&typeof Y.length=="number"){w=h.length||0;const J=Y.length||0;h.length=w+J;for(let ve=0;ve<J;ve++)h[w+ve]=Y[ve]}else h.push(Y)}}class O{constructor(b,w){this.i=b,this.j=w,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function M(h){c.setTimeout(()=>{throw h},0)}function K(){var h=R;let b=null;return h.g&&(b=h.g,h.g=h.g.next,h.g||(h.h=null),b.next=null),b}class F{constructor(){this.h=this.g=null}add(b,w){const C=G.get();C.set(b,w),this.h?this.h.next=C:this.g=C,this.h=C}}var G=new O(()=>new le,h=>h.reset());class le{constructor(){this.next=this.g=this.h=null}set(b,w){this.h=b,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ue=!1,R=new F,x=()=>{const h=Promise.resolve(void 0);se=()=>{h.then(D)}};function D(){for(var h;h=K();){try{h.h.call(h.g)}catch(w){M(w)}var b=G;b.j(h),b.h<100&&(b.h++,h.next=b.g,b.g=h)}ue=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(h,b){this.type=h,this.g=this.target=b,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,b=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};c.addEventListener("test",w,b),c.removeEventListener("test",w,b)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function Re(h,b){k.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,b)}y(Re,k),Re.prototype.init=function(h,b){const w=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=b,b=h.relatedTarget,b||(w=="mouseover"?b=h.fromElement:w=="mouseout"&&(b=h.toElement)),this.relatedTarget=b,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Re.Z.h.call(this)},Re.prototype.h=function(){Re.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var je="closure_listenable_"+(Math.random()*1e6|0),Z=0;function de(h,b,w,C,Y){this.listener=h,this.proxy=null,this.src=b,this.type=w,this.capture=!!C,this.ha=Y,this.key=++Z,this.da=this.fa=!1}function _e(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ve(h,b,w){for(const C in h)b.call(w,h[C],C,h)}function We(h,b){for(const w in h)b.call(void 0,h[w],w,h)}function B(h){const b={};for(const w in h)b[w]=h[w];return b}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(h,b){let w,C;for(let Y=1;Y<arguments.length;Y++){C=arguments[Y];for(w in C)h[w]=C[w];for(let J=0;J<ne.length;J++)w=ne[J],Object.prototype.hasOwnProperty.call(C,w)&&(h[w]=C[w])}}function ye(h){this.src=h,this.g={},this.h=0}ye.prototype.add=function(h,b,w,C,Y){const J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);const ve=Ce(h,b,C,Y);return ve>-1?(b=h[ve],w||(b.fa=!1)):(b=new de(b,this.src,J,!!C,Y),b.fa=w,h.push(b)),b};function De(h,b){const w=b.type;if(w in h.g){var C=h.g[w],Y=Array.prototype.indexOf.call(C,b,void 0),J;(J=Y>=0)&&Array.prototype.splice.call(C,Y,1),J&&(_e(b),h.g[w].length==0&&(delete h.g[w],h.h--))}}function Ce(h,b,w,C){for(let Y=0;Y<h.length;++Y){const J=h[Y];if(!J.da&&J.listener==b&&J.capture==!!w&&J.ha==C)return Y}return-1}var $e="closure_lm_"+(Math.random()*1e6|0),He={};function Me(h,b,w,C,Y){if(Array.isArray(b)){for(let J=0;J<b.length;J++)Me(h,b[J],w,C,Y);return null}return w=Fi(w),h&&h[je]?h.J(b,w,d(C)?!!C.capture:!1,Y):Fe(h,b,w,!1,C,Y)}function Fe(h,b,w,C,Y,J){if(!b)throw Error("Invalid event type");const ve=d(Y)?!!Y.capture:!!Y;let ze=Zn(h);if(ze||(h[$e]=ze=new ye(h)),w=ze.add(b,w,C,ve,J),w.proxy)return w;if(C=Tn(),w.proxy=C,C.src=h,C.listener=w,h.addEventListener)z||(Y=ve),Y===void 0&&(Y=!1),h.addEventListener(b.toString(),C,Y);else if(h.attachEvent)h.attachEvent(Pt(b.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Tn(){function h(w){return b.call(h.src,h.listener,w)}const b=pr;return h}function at(h,b,w,C,Y){if(Array.isArray(b))for(var J=0;J<b.length;J++)at(h,b[J],w,C,Y);else C=d(C)?!!C.capture:!!C,w=Fi(w),h&&h[je]?(h=h.i,J=String(b).toString(),J in h.g&&(b=h.g[J],w=Ce(b,w,C,Y),w>-1&&(_e(b[w]),Array.prototype.splice.call(b,w,1),b.length==0&&(delete h.g[J],h.h--)))):h&&(h=Zn(h))&&(b=h.g[b.toString()],h=-1,b&&(h=Ce(b,w,C,Y)),(w=h>-1?b[h]:null)&&Ot(w))}function Ot(h){if(typeof h!="number"&&h&&!h.da){var b=h.src;if(b&&b[je])De(b.i,h);else{var w=h.type,C=h.proxy;b.removeEventListener?b.removeEventListener(w,C,h.capture):b.detachEvent?b.detachEvent(Pt(w),C):b.addListener&&b.removeListener&&b.removeListener(C),(w=Zn(b))?(De(w,h),w.h==0&&(w.src=null,b[$e]=null)):_e(h)}}}function Pt(h){return h in He?He[h]:He[h]="on"+h}function pr(h,b){if(h.da)h=!0;else{b=new Re(b,this);const w=h.listener,C=h.ha||h.src;h.fa&&Ot(h),h=w.call(C,b)}return h}function Zn(h){return h=h[$e],h instanceof ye?h:null}var Mr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fi(h){return typeof h=="function"?h:(h[Mr]||(h[Mr]=function(b){return h.handleEvent(b)}),h[Mr])}function Ct(){P.call(this),this.i=new ye(this),this.M=this,this.G=null}y(Ct,P),Ct.prototype[je]=!0,Ct.prototype.removeEventListener=function(h,b,w,C){at(this,h,b,w,C)};function mt(h,b){var w,C=h.G;if(C)for(w=[];C;C=C.G)w.push(C);if(h=h.M,C=b.type||b,typeof b=="string")b=new k(b,h);else if(b instanceof k)b.target=b.target||h;else{var Y=b;b=new k(C,h),me(b,Y)}Y=!0;let J,ve;if(w)for(ve=w.length-1;ve>=0;ve--)J=b.g=w[ve],Y=On(J,C,!0,b)&&Y;if(J=b.g=h,Y=On(J,C,!0,b)&&Y,Y=On(J,C,!1,b)&&Y,w)for(ve=0;ve<w.length;ve++)J=b.g=w[ve],Y=On(J,C,!1,b)&&Y}Ct.prototype.N=function(){if(Ct.Z.N.call(this),this.i){var h=this.i;for(const b in h.g){const w=h.g[b];for(let C=0;C<w.length;C++)_e(w[C]);delete h.g[b],h.h--}}this.G=null},Ct.prototype.J=function(h,b,w,C){return this.i.add(String(h),b,!1,w,C)},Ct.prototype.K=function(h,b,w,C){return this.i.add(String(h),b,!0,w,C)};function On(h,b,w,C){if(b=h.i.g[String(b)],!b)return!0;b=b.concat();let Y=!0;for(let J=0;J<b.length;++J){const ve=b[J];if(ve&&!ve.da&&ve.capture==w){const ze=ve.listener,on=ve.ha||ve.src;ve.fa&&De(h.i,ve),Y=ze.call(on,C)!==!1&&Y}}return Y&&!C.defaultPrevented}function qi(h,b){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=m(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:c.setTimeout(h,b||0)}function mr(h){h.g=qi(()=>{h.g=null,h.i&&(h.i=!1,mr(h))},h.l);const b=h.h;h.h=null,h.m.apply(null,b)}class Xt extends P{constructor(b,w){super(),this.m=b,this.l=w,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:mr(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zr(h){P.call(this),this.h=h,this.g={}}y(Zr,P);var Vr=[];function Sr(h){Ve(h.g,function(b,w){this.g.hasOwnProperty(w)&&Ot(b)},h),h.g={}}Zr.prototype.N=function(){Zr.Z.N.call(this),Sr(this)},Zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sn=c.JSON.stringify,xi=c.JSON.parse,ps=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Pn(){}function Hi(){}var er={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Jt(){k.call(this,"d")}y(Jt,k);function An(){k.call(this,"c")}y(An,k);var gt={},ms=null;function ei(){return ms=ms||new Ct}gt.Ia="serverreachability";function gs(h){k.call(this,gt.Ia,h)}y(gs,k);function gr(h){const b=ei();mt(b,new gs(b))}gt.STAT_EVENT="statevent";function Ti(h,b){k.call(this,gt.STAT_EVENT,h),this.stat=b}y(Ti,k);function Ge(h){const b=ei();mt(b,new Ti(b,h))}gt.Ja="timingevent";function Rt(h,b){k.call(this,gt.Ja,h),this.size=b}y(Rt,k);function Et(h,b){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},b)}function Dt(){this.g=!0}Dt.prototype.ua=function(){this.g=!1};function Mn(h,b,w,C,Y,J){h.info(function(){if(h.g)if(J){var ve="",ze=J.split("&");for(let ht=0;ht<ze.length;ht++){var on=ze[ht].split("=");if(on.length>1){const $t=on[0];on=on[1];const oi=$t.split("_");ve=oi.length>=2&&oi[1]=="type"?ve+($t+"="+on+"&"):ve+($t+"=redacted&")}}}else ve=null;else ve=J;return"XMLHTTP REQ ("+C+") [attempt "+Y+"]: "+b+`
`+w+`
`+ve})}function pn(h,b,w,C,Y,J,ve){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+Y+"]: "+b+`
`+w+`
`+J+" "+ve})}function Gt(h,b,w,C){h.info(function(){return"XMLHTTP TEXT ("+b+"): "+Kt(h,w)+(C?" "+C:"")})}function tr(h,b){h.info(function(){return"TIMEOUT: "+b})}Dt.prototype.info=function(){};function Kt(h,b){if(!h.g)return b;if(!b)return null;try{const J=JSON.parse(b);if(J){for(h=0;h<J.length;h++)if(Array.isArray(J[h])){var w=J[h];if(!(w.length<2)){var C=w[1];if(Array.isArray(C)&&!(C.length<1)){var Y=C[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let ve=1;ve<C.length;ve++)C[ve]=""}}}}return Sn(J)}catch{return b}}var Vn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},In={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Fn;function nr(){}y(nr,Pn),nr.prototype.g=function(){return new XMLHttpRequest},Fn=new nr;function Ln(h){return encodeURIComponent(String(h))}function rr(h){var b=1;h=h.split(":");const w=[];for(;b>0&&h.length;)w.push(h.shift()),b--;return h.length&&w.push(h.join(":")),w}function mn(h,b,w,C){this.j=h,this.i=b,this.l=w,this.S=C||1,this.V=new Zr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Un}function Un(){this.i=null,this.g="",this.h=!1}var Zt={},gn={};function qn(h,b,w){h.M=1,h.A=Si(ge(b)),h.u=w,h.R=!0,ca(h,null)}function ca(h,b){h.F=Date.now(),ti(h),h.B=ge(h.A);var w=h.B,C=h.S;Array.isArray(C)||(C=[String(C)]),Ol(w.i,"t",C),h.C=0,w=h.j.L,h.h=new Un,h.g=ef(h.j,w?b:null,!h.u),h.P>0&&(h.O=new Xt(m(h.Y,h,h.g),h.P)),b=h.V,w=h.g,C=h.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(Vr[0]=Y.toString()),Y=Vr);for(let J=0;J<Y.length;J++){const ve=Me(w,Y[J],C||b.handleEvent,!1,b.h||b);if(!ve)break;b.g[ve.key]=ve}b=h.J?B(h.J):{},h.u?(h.v||(h.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,b)):(h.v="GET",h.g.ea(h.B,h.v,null,b)),gr(),Mn(h.i,h.v,h.B,h.l,h.S,h.u)}mn.prototype.ba=function(h){h=h.target;const b=this.O;b&&Ci(h)==3?b.j():this.Y(h)},mn.prototype.Y=function(h){try{if(h==this.g)e:{const ze=Ci(this.g),on=this.g.ya(),ht=this.g.ca();if(!(ze<3)&&(ze!=3||this.g&&(this.h.h||this.g.la()||Hn(this.g)))){this.K||ze!=4||on==7||(on==8||ht<=0?gr(3):gr(2)),ni(this);var b=this.g.ca();this.X=b;var w=wu(this);if(this.o=b==200,pn(this.i,this.v,this.B,this.l,this.S,ze,b),this.o){if(this.U&&!this.L){t:{if(this.g){var C,Y=this.g;if((C=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(C)){var J=C;break t}}J=null}if(h=J)Gt(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ri(this,h);else{this.o=!1,this.m=3,Ge(12),vr(this),Ar(this);break e}}if(this.R){h=!0;let $t;for(;!this.K&&this.C<w.length;)if($t=Nl(this,w),$t==gn){ze==4&&(this.m=4,Ge(14),h=!1),Gt(this.i,this.l,null,"[Incomplete Response]");break}else if($t==Zt){this.m=4,Ge(15),Gt(this.i,this.l,w,"[Invalid Chunk]"),h=!1;break}else Gt(this.i,this.l,$t,null),ri(this,$t);if(Dl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ze!=4||w.length!=0||this.h.h||(this.m=1,Ge(16),h=!1),this.o=this.o&&h,!h)Gt(this.i,this.l,w,"[Invalid Chunked Response]"),vr(this),Ar(this);else if(w.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Ru(ve),ve.P=!0,Ge(11))}}else Gt(this.i,this.l,w,null),ri(this,w);ze==4&&vr(this),this.o&&!this.K&&(ze==4?Wh(this.j,this):(this.o=!1,ti(this)))}else ws(this.g),b==400&&w.indexOf("Unknown SID")>0?(this.m=3,Ge(12)):(this.m=0,Ge(13)),vr(this),Ar(this)}}}catch{}};function wu(h){if(!Dl(h))return h.g.la();const b=Hn(h.g);if(b==="")return"";let w="";const C=b.length,Y=Ci(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return vr(h),Ar(h),"";h.h.i=new c.TextDecoder}for(let J=0;J<C;J++)h.h.h=!0,w+=h.h.i.decode(b[J],{stream:!(Y&&J==C-1)});return b.length=0,h.h.g+=w,h.C=0,h.h.g}function Dl(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Nl(h,b){var w=h.C,C=b.indexOf(`
`,w);return C==-1?gn:(w=Number(b.substring(w,C)),isNaN(w)?Zt:(C+=1,C+w>b.length?gn:(b=b.slice(C,C+w),h.C=C+w,b)))}mn.prototype.cancel=function(){this.K=!0,vr(this)};function ti(h){h.T=Date.now()+h.H,ua(h,h.H)}function ua(h,b){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Et(m(h.aa,h),b)}function ni(h){h.D&&(c.clearTimeout(h.D),h.D=null)}mn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(tr(this.i,this.B),this.M!=2&&(gr(),Ge(17)),vr(this),this.m=2,Ar(this)):ua(this,this.T-h)};function Ar(h){h.j.I==0||h.K||Wh(h.j,h)}function vr(h){ni(h);var b=h.O;b&&typeof b.dispose=="function"&&b.dispose(),h.O=null,Sr(h.V),h.g&&(b=h.g,h.g=null,b.abort(),b.dispose())}function ri(h,b){try{var w=h.j;if(w.I!=0&&(w.g==h||yr(w.h,h))){if(!h.L&&yr(w.h,h)&&w.I==3){try{var C=w.Ba.g.parse(b)}catch{C=null}if(Array.isArray(C)&&C.length==3){var Y=C;if(Y[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<h.F)Ul(w),ba(w);else break e;No(w),Ge(18)}}else w.xa=Y[1],0<w.xa-w.K&&Y[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Et(m(w.Va,w),6e3));ii(w.h)<=1&&w.ta&&(w.ta=void 0)}else Wi(w,11)}else if((h.L||w.g==h)&&Ul(w),!N(b))for(Y=w.Ba.g.parse(b),b=0;b<Y.length;b++){let ht=Y[b];const $t=ht[0];if(!($t<=w.K))if(w.K=$t,ht=ht[1],w.I==2)if(ht[0]=="c"){w.M=ht[1],w.ba=ht[2];const oi=ht[3];oi!=null&&(w.ka=oi,w.j.info("VER="+w.ka));const Xi=ht[4];Xi!=null&&(w.za=Xi,w.j.info("SVER="+w.za));const Ri=ht[5];Ri!=null&&typeof Ri=="number"&&Ri>0&&(C=1.5*Ri,w.O=C,w.j.info("backChannelRequestTimeoutMs_="+C)),C=w;const Di=h.g;if(Di){const ko=Di.g?Di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ko){var J=C.h;J.g||ko.indexOf("spdy")==-1&&ko.indexOf("quic")==-1&&ko.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(ha(J,J.h),J.h=null))}if(C.G){const zl=Di.g?Di.g.getResponseHeader("X-HTTP-Session-Id"):null;zl&&(C.wa=zl,Xe(C.J,C.G,zl))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-h.F,w.j.info("Handshake RTT: "+w.T+"ms")),C=w;var ve=h;if(C.na=Zh(C,C.L?C.ba:null,C.W),ve.L){ys(C.h,ve);var ze=ve,on=C.O;on&&(ze.H=on),ze.D&&(ni(ze),ti(ze)),C.g=ve}else Yh(C);w.i.length>0&&Qi(w)}else ht[0]!="stop"&&ht[0]!="close"||Wi(w,7);else w.I==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?Wi(w,7):Iu(w):ht[0]!="noop"&&w.l&&w.l.qa(ht),w.A=0)}}gr(4)}catch{}}var jt=class{constructor(h,b){this.g=h,this.map=b}};function vs(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function da(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ii(h){return h.h?1:h.g?h.g.size:0}function yr(h,b){return h.h?h.h==b:h.g?h.g.has(b):!1}function ha(h,b){h.g?h.g.add(b):h.h=b}function ys(h,b){h.h&&h.h==b?h.h=null:h.g&&h.g.has(b)&&h.g.delete(b)}vs.prototype.cancel=function(){if(this.i=fa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function fa(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let b=h.i;for(const w of h.g.values())b=b.concat(w.G);return b}return I(h.i)}var kl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function U(h,b){if(h){h=h.split("&");for(let w=0;w<h.length;w++){const C=h[w].indexOf("=");let Y,J=null;C>=0?(Y=h[w].substring(0,C),J=h[w].substring(C+1)):Y=h[w],b(Y,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function ce(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;h instanceof ce?(this.l=h.l,Ee(this,h.j),this.o=h.o,this.g=h.g,Ke(this,h.u),this.h=h.h,Nt(this,Gh(h.i)),this.m=h.m):h&&(b=String(h).match(kl))?(this.l=!1,Ee(this,b[1]||"",!0),this.o=vn(b[2]||""),this.g=vn(b[3]||"",!0),Ke(this,b[4]),this.h=vn(b[5]||"",!0),Nt(this,b[6]||"",!0),this.m=vn(b[7]||"")):(this.l=!1,this.i=new pa(null,this.l))}ce.prototype.toString=function(){const h=[];var b=this.j;b&&h.push(bs(b,Ye,!0),":");var w=this.g;return(w||b=="file")&&(h.push("//"),(b=this.o)&&h.push(bs(b,Ye,!0),"@"),h.push(Ln(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&h.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(bs(w,w.charAt(0)=="/"?So:Lr,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",bs(w,qh)),h.join("")},ce.prototype.resolve=function(h){const b=ge(this);let w=!!h.j;w?Ee(b,h.j):w=!!h.o,w?b.o=h.o:w=!!h.g,w?b.g=h.g:w=h.u!=null;var C=h.h;if(w)Ke(b,h.u);else if(w=!!h.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var Y=b.h.lastIndexOf("/");Y!=-1&&(C=b.h.slice(0,Y+1)+C)}if(Y=C,Y==".."||Y==".")C="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){C=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const J=[];for(let ve=0;ve<Y.length;){const ze=Y[ve++];ze=="."?C&&ve==Y.length&&J.push(""):ze==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),C&&ve==Y.length&&J.push("")):(J.push(ze),C=!0)}C=J.join("/")}else C=Y}return w?b.h=C:w=h.i.toString()!=="",w?Nt(b,Gh(h.i)):w=!!h.m,w&&(b.m=h.m),b};function ge(h){return new ce(h)}function Ee(h,b,w){h.j=w?vn(b,!0):b,h.j&&(h.j=h.j.replace(/:$/,""))}function Ke(h,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);h.u=b}else h.u=null}function Nt(h,b,w){b instanceof pa?(h.i=b,Pl(h.i,h.l)):(w||(b=bs(b,Ur)),h.i=new pa(b,h.l))}function Xe(h,b,w){h.i.set(b,w)}function Si(h){return Xe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function vn(h,b){return h?b?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function bs(h,b,w){return typeof h=="string"?(h=encodeURI(h).replace(b,Mt),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Mt(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ye=/[#\/\?@]/g,Lr=/[#\?:]/g,So=/[#\?]/g,Ur=/[#\?@]/g,qh=/#/g;function pa(h,b){this.h=this.g=null,this.i=h||null,this.j=!!b}function Ir(h){h.g||(h.g=new Map,h.h=0,h.i&&U(h.i,function(b,w){h.add(decodeURIComponent(b.replace(/\+/g," ")),w)}))}n=pa.prototype,n.add=function(h,b){Ir(this),this.i=null,h=ma(this,h);let w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(b),this.h+=1,this};function Hh(h,b){Ir(h),b=ma(h,b),h.g.has(b)&&(h.i=null,h.h-=h.g.get(b).length,h.g.delete(b))}function Eu(h,b){return Ir(h),b=ma(h,b),h.g.has(b)}n.forEach=function(h,b){Ir(this),this.g.forEach(function(w,C){w.forEach(function(Y){h.call(b,Y,C,this)},this)},this)};function xu(h,b){Ir(h);let w=[];if(typeof b=="string")Eu(h,b)&&(w=w.concat(h.g.get(ma(h,b))));else for(h=Array.from(h.g.values()),b=0;b<h.length;b++)w=w.concat(h[b]);return w}n.set=function(h,b){return Ir(this),this.i=null,h=ma(this,h),Eu(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[b]),this.h+=1,this},n.get=function(h,b){return h?(h=xu(this,h),h.length>0?String(h[0]):b):b};function Ol(h,b,w){Hh(h,b),w.length>0&&(h.i=null,h.g.set(ma(h,b),I(w)),h.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],b=Array.from(this.g.keys());for(let C=0;C<b.length;C++){var w=b[C];const Y=Ln(w);w=xu(this,w);for(let J=0;J<w.length;J++){let ve=Y;w[J]!==""&&(ve+="="+Ln(w[J])),h.push(ve)}}return this.i=h.join("&")};function Gh(h){const b=new pa;return b.i=h.i,h.g&&(b.g=new Map(h.g),b.h=h.h),b}function ma(h,b){return b=String(b),h.j&&(b=b.toLowerCase()),b}function Pl(h,b){b&&!h.j&&(Ir(h),h.i=null,h.g.forEach(function(w,C){const Y=C.toLowerCase();C!=Y&&(Hh(this,C),Ol(this,Y,w))},h)),h.j=b}function Ai(h,b){const w=new Dt;if(c.Image){const C=new Image;C.onload=v(si,w,"TestLoadImage: loaded",!0,b,C),C.onerror=v(si,w,"TestLoadImage: error",!1,b,C),C.onabort=v(si,w,"TestLoadImage: abort",!1,b,C),C.ontimeout=v(si,w,"TestLoadImage: timeout",!1,b,C),c.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else b(!1)}function Tu(h,b){const w=new Dt,C=new AbortController,Y=setTimeout(()=>{C.abort(),si(w,"TestPingServer: timeout",!1,b)},1e4);fetch(h,{signal:C.signal}).then(J=>{clearTimeout(Y),J.ok?si(w,"TestPingServer: ok",!0,b):si(w,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Y),si(w,"TestPingServer: error",!1,b)})}function si(h,b,w,C,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),C(w)}catch{}}function ga(){this.g=new ps}function Gi(h){this.i=h.Sb||null,this.h=h.ab||!1}y(Gi,Pn),Gi.prototype.g=function(){return new Ao(this.i,this.h)};function Ao(h,b){Ct.call(this),this.H=h,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(Ao,Ct),n=Ao.prototype,n.open=function(h,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=b,this.readyState=1,Ii(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(b.body=h),(this.H||c).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,va(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ii(this)),this.g&&(this.readyState=3,Ii(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ml(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ml(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var b=h.value?h.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!h.done}))&&(this.response=this.responseText+=b)}h.done?va(this):Ii(this),this.readyState==3&&Ml(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,va(this))},n.Na=function(h){this.g&&(this.response=h,va(this))},n.ga=function(){this.g&&va(this)};function va(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Ii(h)}n.setRequestHeader=function(h,b){this.A.append(h,b)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],b=this.h.entries();for(var w=b.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=b.next();return h.join(`\r
`)};function Ii(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ao.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ai(h){let b="";return Ve(h,function(w,C){b+=C,b+=":",b+=w,b+=`\r
`}),b}function Io(h,b,w){e:{for(C in w){var C=!1;break e}C=!0}C||(w=ai(w),typeof h=="string"?w!=null&&Ln(w):Xe(h,b,w))}function xt(h){Ct.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(xt,Ct);var Ki=/^https?$/i,Su=["POST","PUT"];n=xt.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,b,w,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);b=b?b.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Fn.g(),this.g.onreadystatechange=E(m(this.Ca,this));try{this.B=!0,this.g.open(b,String(h),!0),this.B=!1}catch(J){Co(this,J);return}if(h=w||"",w=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var Y in C)w.set(Y,C[Y]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const J of C.keys())w.set(J,C.get(J));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(w.keys()).find(J=>J.toLowerCase()=="content-type"),Y=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Su,b,void 0)>=0)||C||Y||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ve]of w)this.g.setRequestHeader(J,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(J){Co(this,J)}};function Co(h,b){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=b,h.o=5,Au(h),_s(h)}function Au(h){h.A||(h.A=!0,mt(h,"complete"),mt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,mt(this,"complete"),mt(this,"abort"),_s(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_s(this,!0)),xt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Ro(this):this.Xa())},n.Xa=function(){Ro(this)};function Ro(h){if(h.h&&typeof o<"u"){if(h.v&&Ci(h)==4)setTimeout(h.Ca.bind(h),0);else if(mt(h,"readystatechange"),Ci(h)==4){h.h=!1;try{const J=h.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var w;if(!(w=b)){var C;if(C=J===0){let ve=String(h.D).match(kl)[1]||null;!ve&&c.self&&c.self.location&&(ve=c.self.location.protocol.slice(0,-1)),C=!Ki.test(ve?ve.toLowerCase():"")}w=C}if(w)mt(h,"complete"),mt(h,"success");else{h.o=6;try{var Y=Ci(h)>2?h.g.statusText:""}catch{Y=""}h.l=Y+" ["+h.ca()+"]",Au(h)}}finally{_s(h)}}}}function _s(h,b){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const w=h.g;h.g=null,b||mt(h,"ready");try{w.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Ci(h){return h.g?h.g.readyState:0}n.ca=function(){try{return Ci(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var b=this.g.responseText;return h&&b.indexOf(h)==0&&(b=b.substring(h.length)),xi(b)}};function Hn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ws(h){const b={};h=(h.g&&Ci(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(N(h[C]))continue;var w=rr(h[C]);const Y=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const J=b[Y]||[];b[Y]=J,J.push(w)}We(b,function(C){return C.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yi(h,b,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||b}function ya(h){this.za=0,this.i=[],this.j=new Dt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Yi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Yi("baseRetryDelayMs",5e3,h),this.Za=Yi("retryDelaySeedMs",1e4,h),this.Ta=Yi("forwardChannelMaxRetries",2,h),this.va=Yi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new vs(h&&h.concurrentRequestLimit),this.Ba=new ga,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ya.prototype,n.ka=8,n.I=1,n.connect=function(h,b,w,C){Ge(0),this.W=h,this.H=b||{},w&&C!==void 0&&(this.H.OSID=w,this.H.OAID=C),this.F=this.X,this.J=Zh(this,null,this.W),Qi(this)};function Iu(h){if(Vl(h),h.I==3){var b=h.V++,w=ge(h.J);if(Xe(w,"SID",h.M),Xe(w,"RID",b),Xe(w,"TYPE","terminate"),Do(h,w),b=new mn(h,h.j,b),b.M=2,b.A=Si(ge(w)),w=!1,c.navigator&&c.navigator.sendBeacon)try{w=c.navigator.sendBeacon(b.A.toString(),"")}catch{}!w&&c.Image&&(new Image().src=b.A,w=!0),w||(b.g=ef(b.j,null),b.g.ea(b.A)),b.F=Date.now(),ti(b)}Jh(h)}function ba(h){h.g&&(Ru(h),h.g.cancel(),h.g=null)}function Vl(h){ba(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ul(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Qi(h){if(!da(h.h)&&!h.m){h.m=!0;var b=h.Ea;se||x(),ue||(se(),ue=!0),R.add(b,h),h.D=0}}function Ll(h,b){return ii(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=b.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Et(m(h.Ea,h,b),Xh(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const Y=new mn(this,this.j,h);let J=this.o;if(this.U&&(J?(J=B(J),me(J,this.U)):J=this.U),this.u!==null||this.R||(Y.J=J,J=null),this.S)e:{for(var b=0,w=0;w<this.i.length;w++){t:{var C=this.i[w];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(b+=C,b>4096){b=w;break e}if(b===4096||w===this.i.length-1){b=w+1;break e}}b=1e3}else b=1e3;b=Kh(this,Y,b),w=ge(this.J),Xe(w,"RID",h),Xe(w,"CVER",22),this.G&&Xe(w,"X-HTTP-Session-Id",this.G),Do(this,w),J&&(this.R?b="headers="+Ln(ai(J))+"&"+b:this.u&&Io(w,this.u,J)),ha(this.h,Y),this.Ra&&Xe(w,"TYPE","init"),this.S?(Xe(w,"$req",b),Xe(w,"SID","null"),Y.U=!0,qn(Y,w,null)):qn(Y,w,b),this.I=2}}else this.I==3&&(h?Cu(this,h):this.i.length==0||da(this.h)||Cu(this))};function Cu(h,b){var w;b?w=b.l:w=h.V++;const C=ge(h.J);Xe(C,"SID",h.M),Xe(C,"RID",w),Xe(C,"AID",h.K),Do(h,C),h.u&&h.o&&Io(C,h.u,h.o),w=new mn(h,h.j,w,h.D+1),h.u===null&&(w.J=h.o),b&&(h.i=b.G.concat(h.i)),b=Kh(h,w,1e3),w.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),ha(h.h,w),qn(w,C,b)}function Do(h,b){h.H&&Ve(h.H,function(w,C){Xe(b,C,w)}),h.l&&Ve({},function(w,C){Xe(b,C,w)})}function Kh(h,b,w){w=Math.min(h.i.length,w);const C=h.l?m(h.l.Ka,h.l,h):null;e:{var Y=h.i;let ze=-1;for(;;){const on=["count="+w];ze==-1?w>0?(ze=Y[0].g,on.push("ofs="+ze)):ze=0:on.push("ofs="+ze);let ht=!0;for(let $t=0;$t<w;$t++){var J=Y[$t].g;const oi=Y[$t].map;if(J-=ze,J<0)ze=Math.max(0,Y[$t].g-100),ht=!1;else try{J="req"+J+"_"||"";try{var ve=oi instanceof Map?oi:Object.entries(oi);for(const[Xi,Ri]of ve){let Di=Ri;d(Ri)&&(Di=Sn(Ri)),on.push(J+Xi+"="+encodeURIComponent(Di))}}catch(Xi){throw on.push(J+"type="+encodeURIComponent("_badmap")),Xi}}catch{C&&C(oi)}}if(ht){ve=on.join("&");break e}}ve=void 0}return h=h.i.splice(0,w),b.G=h,ve}function Yh(h){if(!h.g&&!h.v){h.Y=1;var b=h.Da;se||x(),ue||(se(),ue=!0),R.add(b,h),h.A=0}}function No(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Et(m(h.Da,h),Xh(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,Qh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Et(m(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ge(10),ba(this),Qh(this))};function Ru(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Qh(h){h.g=new mn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var b=ge(h.na);Xe(b,"RID","rpc"),Xe(b,"SID",h.M),Xe(b,"AID",h.K),Xe(b,"CI",h.F?"0":"1"),!h.F&&h.ia&&Xe(b,"TO",h.ia),Xe(b,"TYPE","xmlhttp"),Do(h,b),h.u&&h.o&&Io(b,h.u,h.o),h.O&&(h.g.H=h.O);var w=h.g;h=h.ba,w.M=1,w.A=Si(ge(b)),w.u=null,w.R=!0,ca(w,h)}n.Va=function(){this.C!=null&&(this.C=null,ba(this),No(this),Ge(19))};function Ul(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Wh(h,b){var w=null;if(h.g==b){Ul(h),Ru(h),h.g=null;var C=2}else if(yr(h.h,b))w=b.G,ys(h.h,b),C=1;else return;if(h.I!=0){if(b.o)if(C==1){w=b.u?b.u.length:0,b=Date.now()-b.F;var Y=h.D;C=ei(),mt(C,new Rt(C,w)),Qi(h)}else Yh(h);else if(Y=b.m,Y==3||Y==0&&b.X>0||!(C==1&&Ll(h,b)||C==2&&No(h)))switch(w&&w.length>0&&(b=h.h,b.i=b.i.concat(w)),Y){case 1:Wi(h,5);break;case 4:Wi(h,10);break;case 3:Wi(h,6);break;default:Wi(h,2)}}}function Xh(h,b){let w=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(w*=2),w*b}function Wi(h,b){if(h.j.info("Error code "+b),b==2){var w=m(h.bb,h),C=h.Ua;const Y=!C;C=new ce(C||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ee(C,"https"),Si(C),Y?Ai(C.toString(),w):Tu(C.toString(),w)}else Ge(2);h.I=0,h.l&&h.l.pa(b),Jh(h),Vl(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ge(2)):(this.j.info("Failed to ping google.com"),Ge(1))};function Jh(h){if(h.I=0,h.ja=[],h.l){const b=fa(h.h);(b.length!=0||h.i.length!=0)&&(L(h.ja,b),L(h.ja,h.i),h.h.i.length=0,I(h.i),h.i.length=0),h.l.oa()}}function Zh(h,b,w){var C=w instanceof ce?ge(w):new ce(w);if(C.g!="")b&&(C.g=b+"."+C.g),Ke(C,C.u);else{var Y=c.location;C=Y.protocol,b=b?b+"."+Y.hostname:Y.hostname,Y=+Y.port;const J=new ce(null);C&&Ee(J,C),b&&(J.g=b),Y&&Ke(J,Y),w&&(J.h=w),C=J}return w=h.G,b=h.wa,w&&b&&Xe(C,w,b),Xe(C,"VER",h.ka),Do(h,C),C}function ef(h,b,w){if(b&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=h.Aa&&!h.ma?new xt(new Gi({ab:w})):new xt(h.ma),b.Fa(h.L),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function tf(){}n=tf.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function _a(){}_a.prototype.g=function(h,b){return new br(h,b)};function br(h,b){Ct.call(this),this.g=new ya(b),this.l=h,this.h=b&&b.messageUrlParams||null,h=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(h?h["X-WebChannel-Content-Type"]=b.messageContentType:h={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(h?h["X-WebChannel-Client-Profile"]=b.sa:h={"X-WebChannel-Client-Profile":b.sa}),this.g.U=h,(h=b&&b.Qb)&&!N(h)&&(this.g.u=h),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!N(b)&&(this.g.G=b,h=this.h,h!==null&&b in h&&(h=this.h,b in h&&delete h[b])),this.j=new Es(this)}y(br,Ct),br.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},br.prototype.close=function(){Iu(this.g)},br.prototype.o=function(h){var b=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.v&&(w={},w.__data__=Sn(h),h=w);b.i.push(new jt(b.Ya++,h)),b.I==3&&Qi(b)},br.prototype.N=function(){this.g.l=null,delete this.j,Iu(this.g),delete this.g,br.Z.N.call(this)};function nf(h){Jt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var b=h.__sm__;if(b){e:{for(const w in b){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,b=b!==null&&h in b?b[h]:void 0),this.data=b}else this.data=h}y(nf,Jt);function rf(){An.call(this),this.status=1}y(rf,An);function Es(h){this.g=h}y(Es,tf),Es.prototype.ra=function(){mt(this.g,"a")},Es.prototype.qa=function(h){mt(this.g,new nf(h))},Es.prototype.pa=function(h){mt(this.g,new rf)},Es.prototype.oa=function(){mt(this.g,"b")},_a.prototype.createWebChannel=_a.prototype.g,br.prototype.send=br.prototype.o,br.prototype.open=br.prototype.m,br.prototype.close=br.prototype.close,$C=function(){return new _a},jC=function(){return ei()},BC=gt,Rb={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vn.NO_ERROR=0,Vn.TIMEOUT=8,Vn.HTTP_ERROR=6,Vp=Vn,In.COMPLETE="complete",zC=In,Hi.EventType=er,er.OPEN="a",er.CLOSE="b",er.ERROR="c",er.MESSAGE="d",Ct.prototype.listen=Ct.prototype.J,Rd=Hi,xt.prototype.listenOnce=xt.prototype.K,xt.prototype.getLastError=xt.prototype.Ha,xt.prototype.getLastErrorCode=xt.prototype.ya,xt.prototype.getStatus=xt.prototype.ca,xt.prototype.getResponseJson=xt.prototype.La,xt.prototype.getResponseText=xt.prototype.la,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Fa,UC=xt}).apply(typeof up<"u"?up:typeof self<"u"?self:typeof window<"u"?window:{});class ar{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ar.UNAUTHENTICATED=new ar(null),ar.GOOGLE_CREDENTIALS=new ar("google-credentials-uid"),ar.FIRST_PARTY=new ar("first-party-uid"),ar.MOCK_USER=new ar("mock-user");let du="12.9.0";function BL(n){du=n}const pl=new $_("@firebase/firestore");function xc(){return pl.logLevel}function he(n,...e){if(pl.logLevel<=rt.DEBUG){const t=e.map(e0);pl.debug(`Firestore (${du}): ${n}`,...t)}}function dn(n,...e){if(pl.logLevel<=rt.ERROR){const t=e.map(e0);pl.error(`Firestore (${du}): ${n}`,...t)}}function Uc(n,...e){if(pl.logLevel<=rt.WARN){const t=e.map(e0);pl.warn(`Firestore (${du}): ${n}`,...t)}}function e0(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function xe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,FC(n,r,t)}function FC(n,e,t){let r=`FIRESTORE (${du}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw dn(r),new Error(r)}function Ie(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||FC(e,a,r)}function Se(n,e){return n}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends fs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ls{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class jL{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $L{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ar.UNAUTHENTICATED)))}shutdown(){}}class FL{constructor(e){this.t=e,this.currentUser=ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ie(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new ls;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ls,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},d=f=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ls)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string",31837,{l:r}),new jL(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string",2055,{h:e}),new ar(e)}}class qL{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ar.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class HL{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new qL(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(ar.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class GS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GL{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ie(this.o===void 0,3512);const r=o=>{o.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,he("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const a=o=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new GS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ie(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new GS(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function KL(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class t0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=KL(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<t&&(r+=e.charAt(a[o]%62))}return r}}function Le(n,e){return n<e?-1:n>e?1:0}function Db(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const a=n.charAt(r),o=e.charAt(r);if(a!==o)return qy(a)===qy(o)?Le(a,o):qy(a)?1:-1}return Le(n.length,e.length)}const YL=55296,QL=57343;function qy(n){const e=n.charCodeAt(0);return e>=YL&&e<=QL}function zc(n,e,t){return n.length===e.length&&n.every(((r,a)=>t(r,e[a])))}function qC(n){return n+"\0"}const KS="__name__";class ns{constructor(e,t,r){t===void 0?t=0:t>e.length&&xe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&xe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ns.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ns?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const o=ns.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return Le(e.length,t.length)}static compareSegments(e,t){const r=ns.isNumericId(e),a=ns.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?ns.extractNumericId(e).compare(ns.extractNumericId(t)):Db(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return no.fromString(e.substring(4,e.length-2))}}class ut extends ns{construct(e,t,r){return new ut(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new ut(t)}static emptyPath(){return new ut([])}}const WL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends ns{construct(e,t,r){return new Qt(e,t,r)}static isValidIdentifier(e){return WL.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===KS}static keyField(){return new Qt([KS])}static fromServerFormat(e){const t=[];let r="",a=0;const o=()=>{if(r.length===0)throw new pe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new pe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new pe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(o(),a++)}if(o(),c)throw new pe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(t)}static emptyPath(){return new Qt([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(ut.fromString(e))}static fromName(e){return new be(ut.fromString(e).popFirst(5))}static empty(){return new be(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ut(e.slice()))}}function HC(n,e,t){if(!t)throw new pe(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function XL(n,e,t,r){if(e===!0&&r===!0)throw new pe(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function YS(n){if(!be.isDocumentKey(n))throw new pe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function QS(n){if(be.isDocumentKey(n))throw new pe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function GC(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Km(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":xe(12329,{type:typeof n})}function Qr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Km(n);throw new pe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function JL(n,e){if(e<=0)throw new pe(te.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}function xn(n,e){const t={typeString:n};return e&&(t.value=e),t}function Sh(n,e){if(!GC(n))throw new pe(te.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const c=n[r];if(a&&typeof c!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new pe(te.INVALID_ARGUMENT,t);return!0}const WS=-62135596800,XS=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*XS);return new bt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<WS)throw new pe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/XS}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Sh(e,bt._jsonSchema))return new bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-WS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bt._jsonSchemaVersion="firestore/timestamp/1.0",bt._jsonSchema={type:xn("string",bt._jsonSchemaVersion),seconds:xn("number"),nanoseconds:xn("number")};class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new bt(0,0))}static max(){return new ke(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Bc=-1;class om{constructor(e,t,r,a){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=a}}function Nb(n){return n.fields.find((e=>e.kind===2))}function Jo(n){return n.fields.filter((e=>e.kind!==2))}om.UNKNOWN_ID=-1;class Lp{constructor(e,t){this.fieldPath=e,this.kind=t}}class Zd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Zd(0,Xr.min())}}function KC(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=ke.fromTimestamp(r===1e9?new bt(t+1,0):new bt(t,r));return new Xr(a,be.empty(),e)}function YC(n){return new Xr(n.readTime,n.key,Bc)}class Xr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Xr(ke.min(),be.empty(),Bc)}static max(){return new Xr(ke.max(),be.empty(),Bc)}}function n0(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=be.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}const QC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function vo(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==QC)throw n;he("LocalStore","Unexpectedly lost primary lease")}class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new H(((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof H?t:H.resolve(t)}catch(t){return H.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):H.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):H.reject(t)}static resolve(e){return new H(((t,r)=>{t(e)}))}static reject(e){return new H(((t,r)=>{r(e)}))}static waitFor(e){return new H(((t,r)=>{let a=0,o=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++o,c&&o===a&&t()}),(f=>r(f)))})),c=!0,o===a&&t()}))}static or(e){let t=H.resolve(!1);for(const r of e)t=t.next((a=>a?H.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,o)=>{r.push(t.call(this,a,o))})),this.waitFor(r)}static mapArray(e,t){return new H(((r,a)=>{const o=e.length,c=new Array(o);let d=0;for(let f=0;f<o;f++){const m=f;t(e[m]).next((v=>{c[m]=v,++d,d===o&&r(c)}),(v=>a(v)))}}))}static doWhile(e,t){return new H(((r,a)=>{const o=()=>{e()===!0?t().next((()=>{o()}),a):r()};o()}))}}const Gr="SimpleDb";class Ym{static open(e,t,r,a){try{return new Ym(t,e.transaction(a,r))}catch(o){throw new Ld(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new ls,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Ld(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const a=r0(r.target.error);this.S.reject(new Ld(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(he(Gr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new e6(t)}}class ro{static delete(e){return he(Gr,"Removing database:",e),el(q1().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!j_())return!1;if(ro.F())return!0;const e=Nn(),t=ro.M(e),r=0<t&&t<10,a=XC(e),o=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,ro.M(Nn())===12.2&&dn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(he(Gr,"Opening database:",this.name),this.db=await new Promise(((t,r)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=o=>{const c=o.target.result;t(c)},a.onblocked=()=>{r(new Ld(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=o=>{const c=o.target.error;c.name==="VersionError"?r(new pe(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?r(new pe(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):r(new Ld(e,c))},a.onupgradeneeded=o=>{he(Gr,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const c=o.target.result;this.N.k(c,a.transaction,o.oldVersion,this.version).next((()=>{he(Gr,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=t=>this.K(t)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,a){const o=t==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(e);const d=Ym.open(this.db,e,o?"readonly":"readwrite",r),f=a(d).next((m=>(d.C(),m))).catch((m=>(d.abort(m),H.reject(m)))).toPromise();return f.catch((()=>{})),await d.D,f}catch(d){const f=d,m=f.name!=="FirebaseError"&&c<3;if(he(Gr,"Transaction failed with error:",f.message,"Retrying:",m),this.close(),!m)return Promise.reject(f)}}}close(){this.db&&this.db.close(),this.db=void 0}}function XC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class ZL{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return el(this.U.delete())}}class Ld extends pe{constructor(e,t){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function yo(n){return n.name==="IndexedDbTransactionError"}class e6{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(he(Gr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(he(Gr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),el(r)}add(e){return he(Gr,"ADD",this.store.name,e,e),el(this.store.add(e))}get(e){return el(this.store.get(e)).next((t=>(t===void 0&&(t=null),he(Gr,"GET",this.store.name,e,t),t)))}delete(e){return he(Gr,"DELETE",this.store.name,e),el(this.store.delete(e))}count(){return he(Gr,"COUNT",this.store.name),el(this.store.count())}H(e,t){const r=this.options(e,t),a=r.index?this.store.index(r.index):this.store;if(typeof a.getAll=="function"){const o=a.getAll(r.range);return new H(((c,d)=>{o.onerror=f=>{d(f.target.error)},o.onsuccess=f=>{c(f.target.result)}}))}{const o=this.cursor(r),c=[];return this.J(o,((d,f)=>{c.push(f)})).next((()=>c))}}Z(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new H(((a,o)=>{r.onerror=c=>{o(c.target.error)},r.onsuccess=c=>{a(c.target.result)}}))}X(e,t){he(Gr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const a=this.cursor(r);return this.J(a,((o,c,d)=>d.delete()))}ee(e,t){let r;t?r=e:(r={},t=e);const a=this.cursor(r);return this.J(a,t)}te(e){const t=this.cursor({});return new H(((r,a)=>{t.onerror=o=>{const c=r0(o.target.error);a(c)},t.onsuccess=o=>{const c=o.target.result;c?e(c.primaryKey,c.value).next((d=>{d?c.continue():r()})):r()}}))}J(e,t){const r=[];return new H(((a,o)=>{e.onerror=c=>{o(c.target.error)},e.onsuccess=c=>{const d=c.target.result;if(!d)return void a();const f=new ZL(d),m=t(d.primaryKey,d.value,f);if(m instanceof H){const v=m.catch((y=>(f.done(),H.reject(y))));r.push(v)}f.isDone?a():f.G===null?d.continue():d.continue(f.G)}})).next((()=>H.waitFor(r)))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function el(n){return new H(((e,t)=>{n.onsuccess=r=>{const a=r.target.result;e(a)},n.onerror=r=>{const a=r0(r.target.error);t(a)}}))}let JS=!1;function r0(n){const e=ro.M(Nn());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new pe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return JS||(JS=!0,setTimeout((()=>{throw r}),0)),r}}return n}const Ud="IndexBackfiller";class t6{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){he(Ud,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();he(Ud,`Documents written: ${t}`)}catch(t){yo(t)?he(Ud,"Ignoring IndexedDB error during index backfill: ",t):await vo(t)}await this.re(6e4)}))}}class n6{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const r=new Set;let a=t,o=!0;return H.doWhile((()=>o===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((c=>{if(c!==null&&!r.has(c))return he(Ud,`Processing collection: ${c}`),this.oe(e,c,a).next((d=>{a-=d,r.add(c)}));o=!1})))).next((()=>t-a))}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((a=>this.localStore.localDocuments.getNextDocuments(e,t,a,r).next((o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next((()=>this._e(a,o))).next((d=>(he(Ud,`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,t,d)))).next((()=>c.size))}))))}_e(e,t){let r=e;return t.changes.forEach(((a,o)=>{const c=YC(o);n0(c,r)>0&&(r=c)})),new Xr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Or{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Or.ce=-1;const ll=-1;function Qm(n){return n==null}function eh(n){return n===0&&1/n==-1/0}function JC(n){return typeof n=="number"&&Number.isInteger(n)&&!eh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const lm="";function ur(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ZS(e)),e=r6(n.get(t),e);return ZS(e)}function r6(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case lm:t+="";break;default:t+=o}}return t}function ZS(n){return n+lm+""}function is(n){const e=n.length;if(Ie(e>=2,64408,{path:n}),e===2)return Ie(n.charAt(0)===lm&&n.charAt(1)==="",56145,{path:n}),ut.emptyPath();const t=e-2,r=[];let a="";for(let o=0;o<e;){const c=n.indexOf(lm,o);switch((c<0||c>t)&&xe(50515,{path:n}),n.charAt(c+1)){case"":const d=n.substring(o,c);let f;a.length===0?f=d:(a+=d,f=a,a=""),r.push(f);break;case"":a+=n.substring(o,c),a+="\0";break;case"":a+=n.substring(o,c+1);break;default:xe(61167,{path:n})}o=c+2}return new ut(r)}const Zo="remoteDocuments",Ah="owner",mc="owner",th="mutationQueues",i6="userId",Mi="mutations",eA="batchId",sl="userMutationsIndex",tA=["userId","batchId"];function Up(n,e){return[n,ur(e)]}function ZC(n,e,t){return[n,ur(e),t]}const s6={},jc="documentMutations",cm="remoteDocumentsV14",a6=["prefixPath","collectionGroup","readTime","documentId"],zp="documentKeyIndex",o6=["prefixPath","collectionGroup","documentId"],eR="collectionGroupIndex",l6=["collectionGroup","readTime","prefixPath","documentId"],nh="remoteDocumentGlobal",kb="remoteDocumentGlobalKey",$c="targets",tR="queryTargetsIndex",c6=["canonicalId","targetId"],Fc="targetDocuments",u6=["targetId","path"],i0="documentTargetsIndex",d6=["path","targetId"],um="targetGlobalKey",cl="targetGlobal",rh="collectionParents",h6=["collectionId","parent"],qc="clientMetadata",f6="clientId",Wm="bundles",p6="bundleId",Xm="namedQueries",m6="name",s0="indexConfiguration",g6="indexId",Ob="collectionGroupIndex",v6="collectionGroup",zd="indexState",y6=["indexId","uid"],nR="sequenceNumberIndex",b6=["uid","sequenceNumber"],Bd="indexEntries",_6=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],rR="documentKeyIndex",w6=["indexId","uid","orderedDocumentKey"],Jm="documentOverlays",E6=["userId","collectionPath","documentId"],Pb="collectionPathOverlayIndex",x6=["userId","collectionPath","largestBatchId"],iR="collectionGroupOverlayIndex",T6=["userId","collectionGroup","largestBatchId"],a0="globals",S6="name",sR=[th,Mi,jc,Zo,$c,Ah,cl,Fc,qc,nh,rh,Wm,Xm],A6=[...sR,Jm],aR=[th,Mi,jc,cm,$c,Ah,cl,Fc,qc,nh,rh,Wm,Xm,Jm],oR=aR,o0=[...oR,s0,zd,Bd],I6=o0,lR=[...o0,a0],C6=lR;class Mb extends WC{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function kn(n,e){const t=Se(n);return ro.O(t.le,e)}function nA(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function bo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function cR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Lt{constructor(e,t){this.comparator=e,this.root=t||Wn.EMPTY}insert(e,t){return new Lt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wn.BLACK,null,null))}remove(e){return new Lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dp(this.root,e,this.comparator,!1)}getReverseIterator(){return new dp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dp(this.root,e,this.comparator,!0)}}class dp{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wn{constructor(e,t,r,a,o){this.key=e,this.value=t,this.color=r??Wn.RED,this.left=a??Wn.EMPTY,this.right=o??Wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,o){return new Wn(e??this.key,t??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,r),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Wn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}Wn.EMPTY=null,Wn.RED=!0,Wn.BLACK=!1;Wn.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,t,r,a,o){return this}insert(e,t,r){return new Wn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wt{constructor(e){this.comparator=e,this.data=new Lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rA(this.data.getIterator())}getIteratorFrom(e){return new rA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new wt(this.comparator);return t.data=e,t}}class rA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function gc(n){return n.hasNext()?n.getNext():void 0}class Pr{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Pr([])}unionWith(e){let t=new wt(Qt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Pr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zc(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class uR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new uR("Invalid base64 string: "+o):o}})(e);return new hn(t)}static fromUint8Array(e){const t=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(e);return new hn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const R6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ea(n){if(Ie(!!n,39018),typeof n=="string"){let e=0;const t=R6.exec(n);if(Ie(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qt(n.seconds),nanos:qt(n.nanos)}}function qt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ta(n){return typeof n=="string"?hn.fromBase64String(n):hn.fromUint8Array(n)}const dR="server_timestamp",hR="__type__",fR="__previous_value__",pR="__local_write_time__";function Zm(n){return(n?.mapValue?.fields||{})[hR]?.stringValue===dR}function eg(n){const e=n.mapValue.fields[fR];return Zm(e)?eg(e):e}function ih(n){const e=ea(n.mapValue.fields[pR].timestampValue);return new bt(e.seconds,e.nanos)}class D6{constructor(e,t,r,a,o,c,d,f,m,v,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=v,this.apiKey=y}}const dm="(default)";class ml{constructor(e,t){this.projectId=e,this.database=t||dm}static empty(){return new ml("","")}get isDefaultDatabase(){return this.database===dm}isEqual(e){return e instanceof ml&&e.projectId===this.projectId&&e.database===this.database}}function N6(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new pe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ml(n.options.projectId,e)}const l0="__type__",mR="__max__",eo={mapValue:{fields:{__type__:{stringValue:mR}}}},c0="__vector__",Hc="value",Bp={nullValue:"NULL_VALUE"};function ao(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Zm(n)?4:gR(n)?9007199254740991:tg(n)?10:11:xe(28295,{value:n})}function hs(n,e){if(n===e)return!0;const t=ao(n);if(t!==ao(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ih(n).isEqual(ih(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=ea(a.timestampValue),d=ea(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,o){return ta(a.bytesValue).isEqual(ta(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,o){return qt(a.geoPointValue.latitude)===qt(o.geoPointValue.latitude)&&qt(a.geoPointValue.longitude)===qt(o.geoPointValue.longitude)})(n,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return qt(a.integerValue)===qt(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=qt(a.doubleValue),d=qt(o.doubleValue);return c===d?eh(c)===eh(d):isNaN(c)&&isNaN(d)}return!1})(n,e);case 9:return zc(n.arrayValue.values||[],e.arrayValue.values||[],hs);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},d=o.mapValue.fields||{};if(nA(c)!==nA(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!hs(c[f],d[f])))return!1;return!0})(n,e);default:return xe(52216,{left:n})}}function sh(n,e){return(n.values||[]).find((t=>hs(t,e)))!==void 0}function oo(n,e){if(n===e)return 0;const t=ao(n),r=ao(e);if(t!==r)return Le(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return(function(o,c){const d=qt(o.integerValue||o.doubleValue),f=qt(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(n,e);case 3:return iA(n.timestampValue,e.timestampValue);case 4:return iA(ih(n),ih(e));case 5:return Db(n.stringValue,e.stringValue);case 6:return(function(o,c){const d=ta(o),f=ta(c);return d.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(o,c){const d=o.split("/"),f=c.split("/");for(let m=0;m<d.length&&m<f.length;m++){const v=Le(d[m],f[m]);if(v!==0)return v}return Le(d.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,c){const d=Le(qt(o.latitude),qt(c.latitude));return d!==0?d:Le(qt(o.longitude),qt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return sA(n.arrayValue,e.arrayValue);case 10:return(function(o,c){const d=o.fields||{},f=c.fields||{},m=d[Hc]?.arrayValue,v=f[Hc]?.arrayValue,y=Le(m?.values?.length||0,v?.values?.length||0);return y!==0?y:sA(m,v)})(n.mapValue,e.mapValue);case 11:return(function(o,c){if(o===eo.mapValue&&c===eo.mapValue)return 0;if(o===eo.mapValue)return 1;if(c===eo.mapValue)return-1;const d=o.fields||{},f=Object.keys(d),m=c.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let y=0;y<f.length&&y<v.length;++y){const E=Db(f[y],v[y]);if(E!==0)return E;const I=oo(d[f[y]],m[v[y]]);if(I!==0)return I}return Le(f.length,v.length)})(n.mapValue,e.mapValue);default:throw xe(23264,{he:t})}}function iA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);const t=ea(n),r=ea(e),a=Le(t.seconds,r.seconds);return a!==0?a:Le(t.nanos,r.nanos)}function sA(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const o=oo(t[a],r[a]);if(o)return o}return Le(t.length,r.length)}function Gc(n){return Vb(n)}function Vb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=ea(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ta(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return be.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",a=!0;for(const o of t.values||[])a?a=!1:r+=",",r+=Vb(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const c of r)o?o=!1:a+=",",a+=`${c}:${Vb(t.fields[c])}`;return a+"}"})(n.mapValue):xe(61005,{value:n})}function jp(n){switch(ao(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=eg(n);return e?16+jp(e):16;case 5:return 2*n.stringValue.length;case 6:return ta(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,o)=>a+jp(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return bo(r.fields,((o,c)=>{a+=o.length+jp(c)})),a})(n.mapValue);default:throw xe(13486,{value:n})}}function gl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Lb(n){return!!n&&"integerValue"in n}function ah(n){return!!n&&"arrayValue"in n}function aA(n){return!!n&&"nullValue"in n}function oA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $p(n){return!!n&&"mapValue"in n}function tg(n){return(n?.mapValue?.fields||{})[l0]?.stringValue===c0}function jd(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return bo(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=jd(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=jd(n.arrayValue.values[t]);return e}return{...n}}function gR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===mR}const vR={mapValue:{fields:{[l0]:{stringValue:c0},[Hc]:{arrayValue:{}}}}};function k6(n){return"nullValue"in n?Bp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?gl(ml.empty(),be.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?tg(n)?vR:{mapValue:{}}:xe(35942,{value:n})}function O6(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?gl(ml.empty(),be.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?vR:"mapValue"in n?tg(n)?{mapValue:{}}:eo:xe(61959,{value:n})}function lA(n,e){const t=oo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function cA(n,e){const t=oo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class lr{constructor(e){this.value=e}static empty(){return new lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!$p(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jd(t)}setAll(e){let t=Qt.emptyPath(),r={},a=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,a),r={},a=[],t=d.popLast()}c?r[d.lastSegment()]=jd(c):a.push(d.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,a)}delete(e){const t=this.field(e.popLast());$p(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return hs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];$p(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){bo(t,((a,o)=>e[a]=o));for(const a of r)delete e[a]}clone(){return new lr(jd(this.value))}}function yR(n){const e=[];return bo(n.fields,((t,r)=>{const a=new Qt([t]);if($p(r)){const o=yR(r.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)})),new Pr(e)}class nn{constructor(e,t,r,a,o,c,d){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new nn(e,0,ke.min(),ke.min(),ke.min(),lr.empty(),0)}static newFoundDocument(e,t,r,a){return new nn(e,1,t,ke.min(),r,a,0)}static newNoDocument(e,t){return new nn(e,2,t,ke.min(),ke.min(),lr.empty(),0)}static newUnknownDocument(e,t){return new nn(e,3,t,ke.min(),ke.min(),lr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lo{constructor(e,t){this.position=e,this.inclusive=t}}function uA(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const o=e[a],c=n.position[a];if(o.field.isKeyField()?r=be.comparator(be.fromName(c.referenceValue),t.key):r=oo(c,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function dA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!hs(n.position[t],e.position[t]))return!1;return!0}class oh{constructor(e,t="asc"){this.field=e,this.dir=t}}function P6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class bR{}class it extends bR{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new M6(e,t,r):t==="array-contains"?new U6(e,r):t==="in"?new SR(e,r):t==="not-in"?new z6(e,r):t==="array-contains-any"?new B6(e,r):new it(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new V6(e,r):new L6(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(oo(t,this.value)):t!==null&&ao(this.value)===ao(t)&&this.matchesComparison(oo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _t extends bR{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new _t(e,t)}matches(e){return Kc(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Kc(n){return n.op==="and"}function Ub(n){return n.op==="or"}function u0(n){return _R(n)&&Kc(n)}function _R(n){for(const e of n.filters)if(e instanceof _t)return!1;return!0}function zb(n){if(n instanceof it)return n.field.canonicalString()+n.op.toString()+Gc(n.value);if(u0(n))return n.filters.map((e=>zb(e))).join(",");{const e=n.filters.map((t=>zb(t))).join(",");return`${n.op}(${e})`}}function wR(n,e){return n instanceof it?(function(r,a){return a instanceof it&&r.op===a.op&&r.field.isEqual(a.field)&&hs(r.value,a.value)})(n,e):n instanceof _t?(function(r,a){return a instanceof _t&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((o,c,d)=>o&&wR(c,a.filters[d])),!0):!1})(n,e):void xe(19439)}function ER(n,e){const t=n.filters.concat(e);return _t.create(t,n.op)}function xR(n){return n instanceof it?(function(t){return`${t.field.canonicalString()} ${t.op} ${Gc(t.value)}`})(n):n instanceof _t?(function(t){return t.op.toString()+" {"+t.getFilters().map(xR).join(" ,")+"}"})(n):"Filter"}class M6 extends it{constructor(e,t,r){super(e,t,r),this.key=be.fromName(r.referenceValue)}matches(e){const t=be.comparator(e.key,this.key);return this.matchesComparison(t)}}class V6 extends it{constructor(e,t){super(e,"in",t),this.keys=TR("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class L6 extends it{constructor(e,t){super(e,"not-in",t),this.keys=TR("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function TR(n,e){return(e.arrayValue?.values||[]).map((t=>be.fromName(t.referenceValue)))}class U6 extends it{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ah(t)&&sh(t.arrayValue,this.value)}}class SR extends it{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&sh(this.value.arrayValue,t)}}class z6 extends it{constructor(e,t){super(e,"not-in",t)}matches(e){if(sh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!sh(this.value.arrayValue,t)}}class B6 extends it{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ah(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>sh(this.value.arrayValue,r)))}}class j6{constructor(e,t=null,r=[],a=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=c,this.endAt=d,this.Te=null}}function Bb(n,e=null,t=[],r=[],a=null,o=null,c=null){return new j6(n,e,t,r,a,o,c)}function vl(n){const e=Se(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>zb(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Qm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Gc(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Gc(r))).join(",")),e.Te=t}return e.Te}function Ih(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!P6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!wR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!dA(n.startAt,e.startAt)&&dA(n.endAt,e.endAt)}function hm(n){return be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function fm(n,e){return n.filters.filter((t=>t instanceof it&&t.field.isEqual(e)))}function hA(n,e,t){let r=Bp,a=!0;for(const o of fm(n,e)){let c=Bp,d=!0;switch(o.op){case"<":case"<=":c=k6(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,d=!1;break;case"!=":case"not-in":c=Bp}lA({value:r,inclusive:a},{value:c,inclusive:d})<0&&(r=c,a=d)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];lA({value:r,inclusive:a},{value:c,inclusive:t.inclusive})<0&&(r=c,a=t.inclusive);break}}return{value:r,inclusive:a}}function fA(n,e,t){let r=eo,a=!0;for(const o of fm(n,e)){let c=eo,d=!0;switch(o.op){case">=":case">":c=O6(o.value),d=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,d=!1;break;case"!=":case"not-in":c=eo}cA({value:r,inclusive:a},{value:c,inclusive:d})>0&&(r=c,a=d)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];cA({value:r,inclusive:a},{value:c,inclusive:t.inclusive})>0&&(r=c,a=t.inclusive);break}}return{value:r,inclusive:a}}class _o{constructor(e,t=null,r=[],a=[],o=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function AR(n,e,t,r,a,o,c,d){return new _o(n,e,t,r,a,o,c,d)}function Ch(n){return new _o(n)}function pA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function $6(n){return be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function d0(n){return n.collectionGroup!==null}function Oc(n){const e=Se(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new wt(Qt.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new oh(o,r))})),t.has(Qt.keyField().canonicalString())||e.Ie.push(new oh(Qt.keyField(),r))}return e.Ie}function Wr(n){const e=Se(n);return e.Ee||(e.Ee=F6(e,Oc(n))),e.Ee}function F6(n,e){if(n.limitType==="F")return Bb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new oh(a.field,o)}));const t=n.endAt?new lo(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new lo(n.startAt.position,n.startAt.inclusive):null;return Bb(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function jb(n,e){const t=n.filters.concat([e]);return new _o(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function q6(n,e){const t=n.explicitOrderBy.concat([e]);return new _o(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function pm(n,e,t){return new _o(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function H6(n,e){return new _o(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,e,n.endAt)}function G6(n,e){return new _o(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,e)}function ng(n,e){return Ih(Wr(n),Wr(e))&&n.limitType===e.limitType}function IR(n){return`${vl(Wr(n))}|lt:${n.limitType}`}function Tc(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>xR(a))).join(", ")}]`),Qm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>Gc(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>Gc(a))).join(",")),`Target(${r})`})(Wr(n))}; limitType=${n.limitType})`}function Rh(n,e){return e.isFoundDocument()&&(function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):be.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,a){for(const o of Oc(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(c,d,f){const m=uA(c,d,f);return c.inclusive?m<=0:m<0})(r.startAt,Oc(r),a)||r.endAt&&!(function(c,d,f){const m=uA(c,d,f);return c.inclusive?m>=0:m>0})(r.endAt,Oc(r),a))})(n,e)}function CR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function RR(n){return(e,t)=>{let r=!1;for(const a of Oc(n)){const o=K6(a,e,t);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function K6(n,e,t){const r=n.field.isKeyField()?be.comparator(e.key,t.key):(function(o,c,d){const f=c.data.field(o),m=d.data.field(o);return f!==null&&m!==null?oo(f,m):xe(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return xe(19790,{direction:n.dir})}}class ia{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){bo(this.inner,((t,r)=>{for(const[a,o]of r)e(a,o)}))}isEmpty(){return cR(this.inner)}size(){return this.innerSize}}const Y6=new Lt(be.comparator);function Yr(){return Y6}const DR=new Lt(be.comparator);function Dd(...n){let e=DR;for(const t of n)e=e.insert(t.key,t);return e}function NR(n){let e=DR;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function ss(){return $d()}function kR(){return $d()}function $d(){return new ia((n=>n.toString()),((n,e)=>n.isEqual(e)))}const Q6=new Lt(be.comparator),W6=new wt(be.comparator);function Qe(...n){let e=W6;for(const t of n)e=e.add(t);return e}const X6=new wt(Le);function h0(){return X6}function f0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eh(e)?"-0":e}}function OR(n){return{integerValue:""+n}}function PR(n,e){return JC(e)?OR(e):f0(n,e)}class rg{constructor(){this._=void 0}}function J6(n,e,t){return n instanceof Yc?(function(a,o){const c={fields:{[hR]:{stringValue:dR},[pR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Zm(o)&&(o=eg(o)),o&&(c.fields[fR]=o),{mapValue:c}})(t,e):n instanceof yl?VR(n,e):n instanceof Qc?LR(n,e):(function(a,o){const c=MR(a,o),d=mA(c)+mA(a.Ae);return Lb(c)&&Lb(a.Ae)?OR(d):f0(a.serializer,d)})(n,e)}function Z6(n,e,t){return n instanceof yl?VR(n,e):n instanceof Qc?LR(n,e):t}function MR(n,e){return n instanceof Wc?(function(r){return Lb(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Yc extends rg{}class yl extends rg{constructor(e){super(),this.elements=e}}function VR(n,e){const t=UR(e);for(const r of n.elements)t.some((a=>hs(a,r)))||t.push(r);return{arrayValue:{values:t}}}class Qc extends rg{constructor(e){super(),this.elements=e}}function LR(n,e){let t=UR(e);for(const r of n.elements)t=t.filter((a=>!hs(a,r)));return{arrayValue:{values:t}}}class Wc extends rg{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function mA(n){return qt(n.integerValue||n.doubleValue)}function UR(n){return ah(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ig{constructor(e,t){this.field=e,this.transform=t}}function e5(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof yl&&a instanceof yl||r instanceof Qc&&a instanceof Qc?zc(r.elements,a.elements,hs):r instanceof Wc&&a instanceof Wc?hs(r.Ae,a.Ae):r instanceof Yc&&a instanceof Yc})(n.transform,e.transform)}class t5{constructor(e,t){this.version=e,this.transformResults=t}}class cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class sg{}function zR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ag(n.key,cr.none()):new hu(n.key,n.data,cr.none());{const t=n.data,r=lr.empty();let a=new wt(Qt.comparator);for(let o of e.fields)if(!a.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?r.delete(o):r.set(o,c),a=a.add(o)}return new sa(n.key,r,new Pr(a.toArray()),cr.none())}}function n5(n,e,t){n instanceof hu?(function(a,o,c){const d=a.value.clone(),f=vA(a.fieldTransforms,o,c.transformResults);d.setAll(f),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,e,t):n instanceof sa?(function(a,o,c){if(!Fp(a.precondition,o))return void o.convertToUnknownDocument(c.version);const d=vA(a.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(BR(a)),f.setAll(d),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Fd(n,e,t,r){return n instanceof hu?(function(o,c,d,f){if(!Fp(o.precondition,c))return d;const m=o.value.clone(),v=yA(o.fieldTransforms,f,c);return m.setAll(v),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(n,e,t,r):n instanceof sa?(function(o,c,d,f){if(!Fp(o.precondition,c))return d;const m=yA(o.fieldTransforms,f,c),v=c.data;return v.setAll(BR(o)),v.setAll(m),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((y=>y.field)))})(n,e,t,r):(function(o,c,d){return Fp(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,e,t)}function r5(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),o=MR(r.transform,a||null);o!=null&&(t===null&&(t=lr.empty()),t.set(r.field,o))}return t||null}function gA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&zc(r,a,((o,c)=>e5(o,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class hu extends sg{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class sa extends sg{constructor(e,t,r,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function BR(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function vA(n,e,t){const r=new Map;Ie(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let a=0;a<t.length;a++){const o=n[a],c=o.transform,d=e.data.field(o.field);r.set(o.field,Z6(c,d,t[a]))}return r}function yA(n,e,t){const r=new Map;for(const a of n){const o=a.transform,c=t.data.field(a.field);r.set(a.field,J6(o,c,e))}return r}class ag extends sg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jR extends sg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class p0{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&n5(o,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Fd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Fd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=kR();return this.mutations.forEach((a=>{const o=e.get(a.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=t.has(a.key)?null:d;const f=zR(c,d);f!==null&&r.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(ke.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Qe())}isEqual(e){return this.batchId===e.batchId&&zc(this.mutations,e.mutations,((t,r)=>gA(t,r)))&&zc(this.baseMutations,e.baseMutations,((t,r)=>gA(t,r)))}}class m0{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Ie(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return Q6})();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,r[c].version);return new m0(e,t,r,a)}}class g0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class i5{constructor(e,t){this.count=e,this.unchangedNames=t}}var En,ot;function s5(n){switch(n){case te.OK:return xe(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return xe(15467,{code:n})}}function $R(n){if(n===void 0)return dn("GRPC error has no .code"),te.UNKNOWN;switch(n){case En.OK:return te.OK;case En.CANCELLED:return te.CANCELLED;case En.UNKNOWN:return te.UNKNOWN;case En.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case En.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case En.INTERNAL:return te.INTERNAL;case En.UNAVAILABLE:return te.UNAVAILABLE;case En.UNAUTHENTICATED:return te.UNAUTHENTICATED;case En.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case En.NOT_FOUND:return te.NOT_FOUND;case En.ALREADY_EXISTS:return te.ALREADY_EXISTS;case En.PERMISSION_DENIED:return te.PERMISSION_DENIED;case En.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case En.ABORTED:return te.ABORTED;case En.OUT_OF_RANGE:return te.OUT_OF_RANGE;case En.UNIMPLEMENTED:return te.UNIMPLEMENTED;case En.DATA_LOSS:return te.DATA_LOSS;default:return xe(39323,{code:n})}}(ot=En||(En={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";function a5(){return new TextEncoder}const o5=new no([4294967295,4294967295],0);function bA(n){const e=a5().encode(n),t=new LC;return t.update(e),new Uint8Array(t.digest())}function _A(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new no([t,r],0),new no([a,o],0)]}class v0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Nd(`Invalid padding: ${t}`);if(r<0)throw new Nd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nd(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Nd(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=no.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(no.fromNumber(r)));return a.compare(o5)===1&&(a=new no([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=bA(e),[r,a]=_A(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);if(!this.we(c))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new v0(o,a,t);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=bA(e),[r,a]=_A(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,a,o);this.be(c)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Nd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dh{constructor(e,t,r,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Nh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Dh(ke.min(),a,new Lt(Le),Yr(),Qe())}}class Nh{constructor(e,t,r,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Nh(r,t,Qe(),Qe(),Qe())}}class qp{constructor(e,t,r,a){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=a}}class FR{constructor(e,t){this.targetId=e,this.Ce=t}}class qR{constructor(e,t,r=hn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class wA{constructor(){this.ve=0,this.Fe=EA(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qe(),t=Qe(),r=Qe();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:xe(38017,{changeType:o})}})),new Nh(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=EA()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ie(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class l5{constructor(e){this.Ge=e,this.ze=new Map,this.je=Yr(),this.He=hp(),this.Je=hp(),this.Ze=new Lt(Le)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const o=a.target;if(hm(o))if(r===0){const c=new be(o.path);this.et(t,c,nn.newNoDocument(c,ke.min()))}else Ie(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const d=this.ut(e),f=d?this.ct(d,e,c):1;if(f!==0){this.it(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=t;let c,d;try{c=ta(r).toUint8Array()}catch(f){if(f instanceof uR)return Uc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new v0(c,a,o)}catch(f){return Uc(f instanceof Nd?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((o=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.et(t,o,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((o,c)=>{const d=this.ot(c);if(d){if(o.current&&hm(d.target)){const f=new be(d.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,nn.newNoDocument(f,e))}o.Be&&(t.set(c,o.ke()),o.Ke())}}));let r=Qe();this.Je.forEach(((o,c)=>{let d=!0;c.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const a=new Dh(e,t,this.Ze,this.je,r);return this.je=Yr(),this.He=hp(),this.Je=hp(),this.Ze=new Lt(Le),a}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.qe(t,1):a.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new wA,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new wt(Le),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new wt(Le),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new wA),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function hp(){return new Lt(be.comparator)}function EA(){return new Lt(be.comparator)}const c5={asc:"ASCENDING",desc:"DESCENDING"},u5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},d5={and:"AND",or:"OR"};class h5{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $b(n,e){return n.useProto3Json||Qm(e)?e:{value:e}}function Xc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function f5(n,e){return Xc(n,e.toTimestamp())}function Er(n){return Ie(!!n,49232),ke.fromTimestamp((function(t){const r=ea(t);return new bt(r.seconds,r.nanos)})(n))}function y0(n,e){return Fb(n,e).canonicalString()}function Fb(n,e){const t=(function(a){return new ut(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function GR(n){const e=ut.fromString(n);return Ie(tD(e),10190,{key:e.toString()}),e}function mm(n,e){return y0(n.databaseId,e.path)}function ul(n,e){const t=GR(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new be(QR(t))}function KR(n,e){return y0(n.databaseId,e)}function YR(n){const e=GR(n);return e.length===4?ut.emptyPath():QR(e)}function qb(n){return new ut(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function QR(n){return Ie(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function xA(n,e,t){return{name:mm(n,e),fields:t.value.mapValue.fields}}function p5(n,e,t){const r=ul(n,e.name),a=Er(e.updateTime),o=e.createTime?Er(e.createTime):ke.min(),c=new lr({mapValue:{fields:e.fields}}),d=nn.newFoundDocument(r,a,o,c);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function m5(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:xe(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(m,v){return m.useProto3Json?(Ie(v===void 0||typeof v=="string",58123),hn.fromBase64String(v||"")):(Ie(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),hn.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(m){const v=m.code===void 0?te.UNKNOWN:$R(m.code);return new pe(v,m.message||"")})(c);t=new qR(r,a,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=ul(n,r.document.name),o=Er(r.document.updateTime),c=r.document.createTime?Er(r.document.createTime):ke.min(),d=new lr({mapValue:{fields:r.document.fields}}),f=nn.newFoundDocument(a,o,c,d),m=r.targetIds||[],v=r.removedTargetIds||[];t=new qp(m,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=ul(n,r.document),o=r.readTime?Er(r.readTime):ke.min(),c=nn.newNoDocument(a,o),d=r.removedTargetIds||[];t=new qp([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=ul(n,r.document),o=r.removedTargetIds||[];t=new qp([],o,a,null)}else{if(!("filter"in e))return xe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,c=new i5(a,o),d=r.targetId;t=new FR(d,c)}}return t}function gm(n,e){let t;if(e instanceof hu)t={update:xA(n,e.key,e.value)};else if(e instanceof ag)t={delete:mm(n,e.key)};else if(e instanceof sa)t={update:xA(n,e.key,e.data),updateMask:w5(e.fieldMask)};else{if(!(e instanceof jR))return xe(16599,{dt:e.type});t={verify:mm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,c){const d=c.transform;if(d instanceof Yc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof yl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Qc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Wc)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw xe(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:f5(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:xe(27497)})(n,e.precondition)),t}function Hb(n,e){const t=e.currentDocument?(function(o){return o.updateTime!==void 0?cr.updateTime(Er(o.updateTime)):o.exists!==void 0?cr.exists(o.exists):cr.none()})(e.currentDocument):cr.none(),r=e.updateTransforms?e.updateTransforms.map((a=>(function(c,d){let f=null;if("setToServerValue"in d)Ie(d.setToServerValue==="REQUEST_TIME",16630,{proto:d}),f=new Yc;else if("appendMissingElements"in d){const v=d.appendMissingElements.values||[];f=new yl(v)}else if("removeAllFromArray"in d){const v=d.removeAllFromArray.values||[];f=new Qc(v)}else"increment"in d?f=new Wc(c,d.increment):xe(16584,{proto:d});const m=Qt.fromServerFormat(d.fieldPath);return new ig(m,f)})(n,a))):[];if(e.update){e.update.name;const a=ul(n,e.update.name),o=new lr({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=(function(f){const m=f.fieldPaths||[];return new Pr(m.map((v=>Qt.fromServerFormat(v))))})(e.updateMask);return new sa(a,o,c,t,r)}return new hu(a,o,t,r)}if(e.delete){const a=ul(n,e.delete);return new ag(a,t)}if(e.verify){const a=ul(n,e.verify);return new jR(a,t)}return xe(1463,{proto:e})}function g5(n,e){return n&&n.length>0?(Ie(e!==void 0,14353),n.map((t=>(function(a,o){let c=a.updateTime?Er(a.updateTime):Er(o);return c.isEqual(ke.min())&&(c=Er(o)),new t5(c,a.transformResults||[])})(t,e)))):[]}function WR(n,e){return{documents:[KR(n,e.path)]}}function XR(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=KR(n,a);const o=(function(m){if(m.length!==0)return eD(_t.create(m,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const c=(function(m){if(m.length!==0)return m.map((v=>(function(E){return{field:Sc(E.field),direction:y5(E.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=$b(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:a}}function JR(n){let e=YR(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Ie(r===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let o=[];t.where&&(o=(function(y){const E=ZR(y);return E instanceof _t&&u0(E)?E.getFilters():[E]})(t.where));let c=[];t.orderBy&&(c=(function(y){return y.map((E=>(function(L){return new oh(Ac(L.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(E)))})(t.orderBy));let d=null;t.limit&&(d=(function(y){let E;return E=typeof y=="object"?y.value:y,Qm(E)?null:E})(t.limit));let f=null;t.startAt&&(f=(function(y){const E=!!y.before,I=y.values||[];return new lo(I,E)})(t.startAt));let m=null;return t.endAt&&(m=(function(y){const E=!y.before,I=y.values||[];return new lo(I,E)})(t.endAt)),AR(e,a,c,o,d,"F",f,m)}function v5(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ZR(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ac(t.unaryFilter.field);return it.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Ac(t.unaryFilter.field);return it.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ac(t.unaryFilter.field);return it.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ac(t.unaryFilter.field);return it.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(n):n.fieldFilter!==void 0?(function(t){return it.create(Ac(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return _t.create(t.compositeFilter.filters.map((r=>ZR(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(t.compositeFilter.op))})(n):xe(30097,{filter:n})}function y5(n){return c5[n]}function b5(n){return u5[n]}function _5(n){return d5[n]}function Sc(n){return{fieldPath:n.canonicalString()}}function Ac(n){return Qt.fromServerFormat(n.fieldPath)}function eD(n){return n instanceof it?(function(t){if(t.op==="=="){if(oA(t.value))return{unaryFilter:{field:Sc(t.field),op:"IS_NAN"}};if(aA(t.value))return{unaryFilter:{field:Sc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(oA(t.value))return{unaryFilter:{field:Sc(t.field),op:"IS_NOT_NAN"}};if(aA(t.value))return{unaryFilter:{field:Sc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sc(t.field),op:b5(t.op),value:t.value}}})(n):n instanceof _t?(function(t){const r=t.getFilters().map((a=>eD(a)));return r.length===1?r[0]:{compositeFilter:{op:_5(t.op),filters:r}}})(n):xe(54877,{filter:n})}function w5(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function tD(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function nD(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class Gs{constructor(e,t,r,a,o=ke.min(),c=ke.min(),d=hn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class rD{constructor(e){this.yt=e}}function E5(n,e){let t;if(e.document)t=p5(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=be.fromSegments(e.noDocument.path),a=_l(e.noDocument.readTime);t=nn.newNoDocument(r,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return xe(56709);{const r=be.fromSegments(e.unknownDocument.path),a=_l(e.unknownDocument.version);t=nn.newUnknownDocument(r,a)}}return e.readTime&&t.setReadTime((function(a){const o=new bt(a[0],a[1]);return ke.fromTimestamp(o)})(e.readTime)),t}function TA(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:vm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(o,c){return{name:mm(o,c.key),fields:c.data.value.mapValue.fields,updateTime:Xc(o,c.version.toTimestamp()),createTime:Xc(o,c.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:bl(e.version)};else{if(!e.isUnknownDocument())return xe(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:bl(e.version)}}return r}function vm(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function bl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function _l(n){const e=new bt(n.seconds,n.nanoseconds);return ke.fromTimestamp(e)}function tl(n,e){const t=(e.baseMutations||[]).map((o=>Hb(n.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const c=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const d=e.mutations[o+1];c.updateTransforms=d.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map((o=>Hb(n.yt,o))),a=bt.fromMillis(e.localWriteTimeMs);return new p0(e.batchId,a,t,r)}function kd(n){const e=_l(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?_l(n.lastLimboFreeSnapshotVersion):ke.min();let r;return r=(function(o){return o.documents!==void 0})(n.query)?(function(o){const c=o.documents.length;return Ie(c===1,1966,{count:c}),Wr(Ch(YR(o.documents[0])))})(n.query):(function(o){return Wr(JR(o))})(n.query),new Gs(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,hn.fromBase64String(n.resumeToken))}function iD(n,e){const t=bl(e.snapshotVersion),r=bl(e.lastLimboFreeSnapshotVersion);let a;a=hm(e.target)?WR(n.yt,e.target):XR(n.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:vl(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:a}}function sD(n){const e=JR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?pm(e,e.limit,"L"):e}function Hy(n,e){return new g0(e.largestBatchId,Hb(n.yt,e.overlayMutation))}function SA(n,e){const t=e.path.lastSegment();return[n,ur(e.path.popLast()),t]}function AA(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:bl(r.readTime),documentKey:ur(r.documentKey.path),largestBatchId:r.largestBatchId}}class x5{getBundleMetadata(e,t){return IA(e).get(t).next((r=>{if(r)return(function(o){return{id:o.bundleId,createTime:_l(o.createTime),version:o.version}})(r)}))}saveBundleMetadata(e,t){return IA(e).put((function(a){return{bundleId:a.id,createTime:bl(Er(a.createTime)),version:a.version}})(t))}getNamedQuery(e,t){return CA(e).get(t).next((r=>{if(r)return(function(o){return{name:o.name,query:sD(o.bundledQuery),readTime:_l(o.readTime)}})(r)}))}saveNamedQuery(e,t){return CA(e).put((function(a){return{name:a.name,readTime:bl(Er(a.readTime)),bundledQuery:a.bundledQuery}})(t))}}function IA(n){return kn(n,Wm)}function CA(n){return kn(n,Xm)}class og{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new og(e,r)}getOverlay(e,t){return gd(e).get(SA(this.userId,t)).next((r=>r?Hy(this.serializer,r):null))}getOverlays(e,t){const r=ss();return H.forEach(t,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,t,r){const a=[];return r.forEach(((o,c)=>{const d=new g0(t,c);a.push(this.bt(e,d))})),H.waitFor(a)}removeOverlaysForBatchId(e,t,r){const a=new Set;t.forEach((c=>a.add(ur(c.getCollectionPath()))));const o=[];return a.forEach((c=>{const d=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);o.push(gd(e).X(Pb,d))})),H.waitFor(o)}getOverlaysForCollection(e,t,r){const a=ss(),o=ur(t),c=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return gd(e).H(Pb,c).next((d=>{for(const f of d){const m=Hy(this.serializer,f);a.set(m.getKey(),m)}return a}))}getOverlaysForCollectionGroup(e,t,r,a){const o=ss();let c;const d=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return gd(e).ee({index:iR,range:d},((f,m,v)=>{const y=Hy(this.serializer,m);o.size()<a||y.largestBatchId===c?(o.set(y.getKey(),y),c=y.largestBatchId):v.done()})).next((()=>o))}bt(e,t){return gd(e).put((function(a,o,c){const[d,f,m]=SA(o,c.mutation.key);return{userId:o,collectionPath:f,documentId:m,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:gm(a.yt,c.mutation)}})(this.serializer,this.userId,t))}}function gd(n){return kn(n,Jm)}class T5{St(e){return kn(e,a0)}getSessionToken(e){return this.St(e).get("sessionToken").next((t=>{const r=t?.value;return r?hn.fromUint8Array(r):hn.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.St(e).put({name:"sessionToken",value:t.toUint8Array()})}}class nl{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(qt(e.integerValue));else if("doubleValue"in e){const r=qt(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),eh(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=ea(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(ta(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?gR(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):tg(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):xe(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){const r=e.fields||{};this.Ft(t,55);for(const a of Object.keys(r))this.Ot(a,t),this.Ct(r[a],t)}kt(e,t){const r=e.fields||{};this.Ft(t,53);const a=Hc,o=r[a].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(qt(o)),this.Ot(a,t),this.Ct(r[a],t)}qt(e,t){const r=e.values||[];this.Ft(t,50);for(const a of r)this.Ct(a,t)}Lt(e,t){this.Ft(t,37),be.fromName(e).path.forEach((r=>{this.Ft(t,60),this.$t(r,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}nl.Wt=new nl;const vc=255;function S5(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function RA(n){const e=64-(function(r){let a=0;for(let o=0;o<8;++o){const c=S5(255&r[o]);if(a+=c,c!==8)break}return a})(n);return Math.ceil(e/8)}class A5{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ht(r.value),r=t.next();this.Jt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const a=t.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ht(r);else if(r<2048)this.Ht(960|r>>>6),this.Ht(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ht(480|r>>>12),this.Ht(128|63&r>>>6),this.Ht(128|63&r);else{const a=t.codePointAt(0);this.Ht(240|a>>>18),this.Ht(128|63&a>>>12),this.Ht(128|63&a>>>6),this.Ht(128|63&a)}}this.Jt()}Yt(e){const t=this.en(e),r=RA(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let a=t.length-r;a<t.length;++a)this.buffer[this.position++]=255&t[a]}nn(e){const t=this.en(e),r=RA(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let a=t.length-r;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}rn(){this.sn(vc),this.sn(255)}_n(){this.an(vc),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(o){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,o,!1),new Uint8Array(c.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let a=1;a<t.length;++a)t[a]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===vc?(this.sn(vc),this.sn(0)):this.sn(t)}Ht(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===vc?(this.an(vc),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const a=new Uint8Array(r);a.set(this.buffer),this.buffer=a}}class I5{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class C5{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class vd{constructor(){this.cn=new A5,this.ascending=new I5(this.cn),this.descending=new C5(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class rl{constructor(e,t,r,a){this.hn=e,this.Pn=t,this.Tn=r,this.In=a}En(){const e=this.In.length,t=e===0||this.In[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.In,0),t!==e?r.set([0],this.In.length):++r[r.length-1],new rl(this.hn,this.Pn,this.Tn,r)}Rn(e,t,r){return{indexId:this.hn,uid:e,arrayValue:Hp(this.Tn),directionalValue:Hp(this.In),orderedDocumentKey:Hp(t),documentKey:r.path.toArray()}}An(e,t,r){const a=this.Rn(e,t,r);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function qa(n,e){let t=n.hn-e.hn;return t!==0?t:(t=DA(n.Tn,e.Tn),t!==0?t:(t=DA(n.In,e.In),t!==0?t:be.comparator(n.Pn,e.Pn)))}function DA(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function Hp(n){return W1()?(function(t){let r="";for(let a=0;a<t.length;a++)r+=String.fromCharCode(t[a]);return r})(n):n}function NA(n){return typeof n!="string"?n:(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(n)}class kA{constructor(e){this.Vn=new wt(((t,r)=>Qt.comparator(t.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const t of e.filters){const r=t;r.isInequality()?this.Vn=this.Vn.add(r):this.mn.push(r)}}get fn(){return this.Vn.size>1}gn(e){if(Ie(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const t=Nb(e);if(t!==void 0&&!this.pn(t))return!1;const r=Jo(e);let a=new Set,o=0,c=0;for(;o<r.length&&this.pn(r[o]);++o)a=a.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Vn.size>0){const d=this.Vn.getIterator().getNext();if(!a.has(d.field.canonicalString())){const f=r[o];if(!this.yn(d,f)||!this.wn(this.dn[c++],f))return!1}++o}for(;o<r.length;++o){const d=r[o];if(c>=this.dn.length||!this.wn(this.dn[c++],d))return!1}return!0}bn(){if(this.fn)return null;let e=new wt(Qt.comparator);const t=[];for(const r of this.mn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new Lp(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Lp(r.field,0))}for(const r of this.dn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Lp(r.field,r.dir==="asc"?0:1)));return new om(om.UNKNOWN_ID,this.collectionId,t,Zd.empty())}pn(e){for(const t of this.mn)if(this.yn(t,e))return!0;return!1}yn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}wn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}function aD(n){if(Ie(n instanceof it||n instanceof _t,20012),n instanceof it){if(n instanceof SR){const t=n.value.arrayValue?.values?.map((r=>it.create(n.field,"==",r)))||[];return _t.create(t,"or")}return n}const e=n.filters.map((t=>aD(t)));return _t.create(e,n.op)}function R5(n){if(n.getFilters().length===0)return[];const e=Yb(aD(n));return Ie(oD(e),7391),Gb(e)||Kb(e)?[e]:e.getFilters()}function Gb(n){return n instanceof it}function Kb(n){return n instanceof _t&&u0(n)}function oD(n){return Gb(n)||Kb(n)||(function(t){if(t instanceof _t&&Ub(t)){for(const r of t.getFilters())if(!Gb(r)&&!Kb(r))return!1;return!0}return!1})(n)}function Yb(n){if(Ie(n instanceof it||n instanceof _t,34018),n instanceof it)return n;if(n.filters.length===1)return Yb(n.filters[0]);const e=n.filters.map((r=>Yb(r)));let t=_t.create(e,n.op);return t=ym(t),oD(t)?t:(Ie(t instanceof _t,64498),Ie(Kc(t),40251),Ie(t.filters.length>1,57927),t.filters.reduce(((r,a)=>b0(r,a))))}function b0(n,e){let t;return Ie(n instanceof it||n instanceof _t,38388),Ie(e instanceof it||e instanceof _t,25473),t=n instanceof it?e instanceof it?(function(a,o){return _t.create([a,o],"and")})(n,e):OA(n,e):e instanceof it?OA(e,n):(function(a,o){if(Ie(a.filters.length>0&&o.filters.length>0,48005),Kc(a)&&Kc(o))return ER(a,o.getFilters());const c=Ub(a)?a:o,d=Ub(a)?o:a,f=c.filters.map((m=>b0(m,d)));return _t.create(f,"or")})(n,e),ym(t)}function OA(n,e){if(Kc(e))return ER(e,n.getFilters());{const t=e.filters.map((r=>b0(n,r)));return _t.create(t,"or")}}function ym(n){if(Ie(n instanceof it||n instanceof _t,11850),n instanceof it)return n;const e=n.getFilters();if(e.length===1)return ym(e[0]);if(_R(n))return n;const t=e.map((a=>ym(a))),r=[];return t.forEach((a=>{a instanceof it?r.push(a):a instanceof _t&&(a.op===n.op?r.push(...a.filters):r.push(a))})),r.length===1?r[0]:_t.create(r,n.op)}class D5{constructor(){this.Sn=new _0}addToCollectionParentIndex(e,t){return this.Sn.add(t),H.resolve()}getCollectionParents(e,t){return H.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return H.resolve()}deleteFieldIndex(e,t){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,t){return H.resolve()}getDocumentsMatchingTarget(e,t){return H.resolve(null)}getIndexType(e,t){return H.resolve(0)}getFieldIndexes(e,t){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,t){return H.resolve(Xr.min())}getMinOffsetFromCollectionGroup(e,t){return H.resolve(Xr.min())}updateCollectionGroup(e,t,r){return H.resolve()}updateIndexEntries(e,t){return H.resolve()}}class _0{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new wt(ut.comparator),o=!a.has(r);return this.index[t]=a.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new wt(ut.comparator)).toArray()}}const PA="IndexedDbIndexManager",fp=new Uint8Array(0);class N5{constructor(e,t){this.databaseId=t,this.Dn=new _0,this.Cn=new ia((r=>vl(r)),((r,a)=>Ih(r,a))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Dn.has(t)){const r=t.lastSegment(),a=t.popLast();e.addOnCommittedListener((()=>{this.Dn.add(t)}));const o={collectionId:r,parent:ur(a)};return MA(e).put(o)}return H.resolve()}getCollectionParents(e,t){const r=[],a=IDBKeyRange.bound([t,""],[qC(t),""],!1,!0);return MA(e).H(a).next((o=>{for(const c of o){if(c.collectionId!==t)break;r.push(is(c.parent))}return r}))}addFieldIndex(e,t){const r=yd(e),a=(function(d){return{indexId:d.indexId,collectionGroup:d.collectionGroup,fields:d.fields.map((f=>[f.fieldPath.canonicalString(),f.kind]))}})(t);delete a.indexId;const o=r.add(a);if(t.indexState){const c=bc(e);return o.next((d=>{c.put(AA(d,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return o.next()}deleteFieldIndex(e,t){const r=yd(e),a=bc(e),o=yc(e);return r.delete(t.indexId).next((()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=yd(e),r=yc(e),a=bc(e);return t.X().next((()=>r.X())).next((()=>a.X()))}createTargetIndexes(e,t){return H.forEach(this.vn(t),(r=>this.getIndexType(e,r).next((a=>{if(a===0||a===1){const o=new kA(r).bn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,t){const r=yc(e);let a=!0;const o=new Map;return H.forEach(this.vn(t),(c=>this.Fn(e,c).next((d=>{a&&(a=!!d),o.set(c,d)})))).next((()=>{if(a){let c=Qe();const d=[];return H.forEach(o,((f,m)=>{he(PA,`Using index ${(function(G){return`id=${G.indexId}|cg=${G.collectionGroup}|f=${G.fields.map((le=>`${le.fieldPath}:${le.kind}`)).join(",")}`})(f)} to execute ${vl(t)}`);const v=(function(G,le){const se=Nb(le);if(se===void 0)return null;for(const ue of fm(G,se.fieldPath))switch(ue.op){case"array-contains-any":return ue.value.arrayValue.values||[];case"array-contains":return[ue.value]}return null})(m,f),y=(function(G,le){const se=new Map;for(const ue of Jo(le))for(const R of fm(G,ue.fieldPath))switch(R.op){case"==":case"in":se.set(ue.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return se.set(ue.fieldPath.canonicalString(),R.value),Array.from(se.values())}return null})(m,f),E=(function(G,le){const se=[];let ue=!0;for(const R of Jo(le)){const x=R.kind===0?hA(G,R.fieldPath,G.startAt):fA(G,R.fieldPath,G.startAt);se.push(x.value),ue&&(ue=x.inclusive)}return new lo(se,ue)})(m,f),I=(function(G,le){const se=[];let ue=!0;for(const R of Jo(le)){const x=R.kind===0?fA(G,R.fieldPath,G.endAt):hA(G,R.fieldPath,G.endAt);se.push(x.value),ue&&(ue=x.inclusive)}return new lo(se,ue)})(m,f),L=this.Mn(f,m,E),O=this.Mn(f,m,I),M=this.xn(f,m,y),K=this.On(f.indexId,v,L,E.inclusive,O,I.inclusive,M);return H.forEach(K,(F=>r.Z(F,t.limit).next((G=>{G.forEach((le=>{const se=be.fromSegments(le.documentKey);c.has(se)||(c=c.add(se),d.push(se))}))}))))})).next((()=>d))}return H.resolve(null)}))}vn(e){let t=this.Cn.get(e);return t||(e.filters.length===0?t=[e]:t=R5(_t.create(e.filters,"and")).map((r=>Bb(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,t),t)}On(e,t,r,a,o,c,d){const f=(t!=null?t.length:1)*Math.max(r.length,o.length),m=f/(t!=null?t.length:1),v=[];for(let y=0;y<f;++y){const E=t?this.Nn(t[y/m]):fp,I=this.Bn(e,E,r[y%m],a),L=this.Ln(e,E,o[y%m],c),O=d.map((M=>this.Bn(e,E,M,!0)));v.push(...this.createRange(I,L,O))}return v}Bn(e,t,r,a){const o=new rl(e,be.empty(),t,r);return a?o:o.En()}Ln(e,t,r,a){const o=new rl(e,be.empty(),t,r);return a?o.En():o}Fn(e,t){const r=new kA(t),a=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next((o=>{let c=null;for(const d of o)r.gn(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c}))}getIndexType(e,t){let r=2;const a=this.vn(t);return H.forEach(a,(o=>this.Fn(e,o).next((c=>{c?r!==0&&c.fields.length<(function(f){let m=new wt(Qt.comparator),v=!1;for(const y of f.filters)for(const E of y.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?v=!0:m=m.add(E.field));for(const y of f.orderBy)y.field.isKeyField()||(m=m.add(y.field));return m.size+(v?1:0)})(o)&&(r=1):r=0})))).next((()=>(function(c){return c.limit!==null})(t)&&a.length>1&&r===2?1:r))}kn(e,t){const r=new vd;for(const a of Jo(e)){const o=t.data.field(a.fieldPath);if(o==null)return null;const c=r.ln(a.kind);nl.Wt.Dt(o,c)}return r.un()}Nn(e){const t=new vd;return nl.Wt.Dt(e,t.ln(0)),t.un()}Kn(e,t){const r=new vd;return nl.Wt.Dt(gl(this.databaseId,t),r.ln((function(o){const c=Jo(o);return c.length===0?0:c[c.length-1].kind})(e))),r.un()}xn(e,t,r){if(r===null)return[];let a=[];a.push(new vd);let o=0;for(const c of Jo(e)){const d=r[o++];for(const f of a)if(this.qn(t,c.fieldPath)&&ah(d))a=this.Un(a,c,d);else{const m=f.ln(c.kind);nl.Wt.Dt(d,m)}}return this.$n(a)}Mn(e,t,r){return this.xn(e,t,r.position)}$n(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Un(e,t,r){const a=[...e],o=[];for(const c of r.arrayValue.values||[])for(const d of a){const f=new vd;f.seed(d.un()),nl.Wt.Dt(c,f.ln(t.kind)),o.push(f)}return o}qn(e,t){return!!e.filters.find((r=>r instanceof it&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,t){const r=yd(e),a=bc(e);return(t?r.H(Ob,IDBKeyRange.bound(t,t)):r.H()).next((o=>{const c=[];return H.forEach(o,(d=>a.get([d.indexId,this.uid]).next((f=>{c.push((function(v,y){const E=y?new Zd(y.sequenceNumber,new Xr(_l(y.readTime),new be(is(y.documentKey)),y.largestBatchId)):Zd.empty(),I=v.fields.map((([L,O])=>new Lp(Qt.fromServerFormat(L),O)));return new om(v.indexId,v.collectionGroup,I,E)})(d,f))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((r,a)=>{const o=r.indexState.sequenceNumber-a.indexState.sequenceNumber;return o!==0?o:Le(r.collectionGroup,a.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,r){const a=yd(e),o=bc(e);return this.Wn(e).next((c=>a.H(Ob,IDBKeyRange.bound(t,t)).next((d=>H.forEach(d,(f=>o.put(AA(f.indexId,this.uid,c,r))))))))}updateIndexEntries(e,t){const r=new Map;return H.forEach(t,((a,o)=>{const c=r.get(a.collectionGroup);return(c?H.resolve(c):this.getFieldIndexes(e,a.collectionGroup)).next((d=>(r.set(a.collectionGroup,d),H.forEach(d,(f=>this.Qn(e,a,f).next((m=>{const v=this.Gn(o,f);return m.isEqual(v)?H.resolve():this.zn(e,o,f,m,v)})))))))}))}jn(e,t,r,a){return yc(e).put(a.Rn(this.uid,this.Kn(r,t.key),t.key))}Hn(e,t,r,a){return yc(e).delete(a.An(this.uid,this.Kn(r,t.key),t.key))}Qn(e,t,r){const a=yc(e);let o=new wt(qa);return a.ee({index:rR,range:IDBKeyRange.only([r.indexId,this.uid,Hp(this.Kn(r,t))])},((c,d)=>{o=o.add(new rl(r.indexId,t,NA(d.arrayValue),NA(d.directionalValue)))})).next((()=>o))}Gn(e,t){let r=new wt(qa);const a=this.kn(t,e);if(a==null)return r;const o=Nb(t);if(o!=null){const c=e.data.field(o.fieldPath);if(ah(c))for(const d of c.arrayValue.values||[])r=r.add(new rl(t.indexId,e.key,this.Nn(d),a))}else r=r.add(new rl(t.indexId,e.key,fp,a));return r}zn(e,t,r,a,o){he(PA,"Updating index entries for document '%s'",t.key);const c=[];return(function(f,m,v,y,E){const I=f.getIterator(),L=m.getIterator();let O=gc(I),M=gc(L);for(;O||M;){let K=!1,F=!1;if(O&&M){const G=v(O,M);G<0?F=!0:G>0&&(K=!0)}else O!=null?F=!0:K=!0;K?(y(M),M=gc(L)):F?(E(O),O=gc(I)):(O=gc(I),M=gc(L))}})(a,o,qa,(d=>{c.push(this.jn(e,t,r,d))}),(d=>{c.push(this.Hn(e,t,r,d))})),H.waitFor(c)}Wn(e){let t=1;return bc(e).ee({index:nR,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,a,o)=>{o.done(),t=a.sequenceNumber+1})).next((()=>t))}createRange(e,t,r){r=r.sort(((c,d)=>qa(c,d))).filter(((c,d,f)=>!d||qa(c,f[d-1])!==0));const a=[];a.push(e);for(const c of r){const d=qa(c,e),f=qa(c,t);if(d===0)a[0]=e.En();else if(d>0&&f<0)a.push(c),a.push(c.En());else if(f>0)break}a.push(t);const o=[];for(let c=0;c<a.length;c+=2){if(this.Jn(a[c],a[c+1]))return[];const d=a[c].An(this.uid,fp,be.empty()),f=a[c+1].An(this.uid,fp,be.empty());o.push(IDBKeyRange.bound(d,f))}return o}Jn(e,t){return qa(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(VA)}getMinOffset(e,t){return H.mapArray(this.vn(t),(r=>this.Fn(e,r).next((a=>a||xe(44426))))).next(VA)}}function MA(n){return kn(n,rh)}function yc(n){return kn(n,Bd)}function yd(n){return kn(n,s0)}function bc(n){return kn(n,zd)}function VA(n){Ie(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const a=n[r].indexState.offset;n0(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new Xr(e.readTime,e.documentKey,t)}const LA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lD=41943040;class or{static withCacheSize(e){return new or(e,or.DEFAULT_COLLECTION_PERCENTILE,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}function cD(n,e,t){const r=n.store(Mi),a=n.store(jc),o=[],c=IDBKeyRange.only(t.batchId);let d=0;const f=r.ee({range:c},((v,y,E)=>(d++,E.delete())));o.push(f.next((()=>{Ie(d===1,47070,{batchId:t.batchId})})));const m=[];for(const v of t.mutations){const y=ZC(e,v.key.path,t.batchId);o.push(a.delete(y)),m.push(v.key)}return H.waitFor(o).next((()=>m))}function bm(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw xe(14731);e=n.noDocument}return JSON.stringify(e).length}or.DEFAULT_COLLECTION_PERCENTILE=10,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,or.DEFAULT=new or(lD,or.DEFAULT_COLLECTION_PERCENTILE,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),or.DISABLED=new or(-1,0,0);class lg{constructor(e,t,r,a){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=a,this.Zn={}}static wt(e,t,r,a){Ie(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new lg(o,t,r,a)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ha(e).ee({index:sl,range:r},((a,o,c)=>{t=!1,c.done()})).next((()=>t))}addMutationBatch(e,t,r,a){const o=Ic(e),c=Ha(e);return c.add({}).next((d=>{Ie(typeof d=="number",49019);const f=new p0(d,t,r,a),m=(function(I,L,O){const M=O.baseMutations.map((F=>gm(I.yt,F))),K=O.mutations.map((F=>gm(I.yt,F)));return{userId:L,batchId:O.batchId,localWriteTimeMs:O.localWriteTime.toMillis(),baseMutations:M,mutations:K}})(this.serializer,this.userId,f),v=[];let y=new wt(((E,I)=>Le(E.canonicalString(),I.canonicalString())));for(const E of a){const I=ZC(this.userId,E.key.path,d);y=y.add(E.key.path.popLast()),v.push(c.put(m)),v.push(o.put(I,s6))}return y.forEach((E=>{v.push(this.indexManager.addToCollectionParentIndex(e,E))})),e.addOnCommittedListener((()=>{this.Zn[d]=f.keys()})),H.waitFor(v).next((()=>f))}))}lookupMutationBatch(e,t){return Ha(e).get(t).next((r=>r?(Ie(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),tl(this.serializer,r)):null))}Xn(e,t){return this.Zn[t]?H.resolve(this.Zn[t]):this.lookupMutationBatch(e,t).next((r=>{if(r){const a=r.keys();return this.Zn[t]=a,a}return null}))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Ha(e).ee({index:sl,range:a},((c,d,f)=>{d.userId===this.userId&&(Ie(d.batchId>=r,47524,{Yn:r}),o=tl(this.serializer,d)),f.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=ll;return Ha(e).ee({index:sl,range:t,reverse:!0},((a,o,c)=>{r=o.batchId,c.done()})).next((()=>r))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,ll],[this.userId,Number.POSITIVE_INFINITY]);return Ha(e).H(sl,t).next((r=>r.map((a=>tl(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Up(this.userId,t.path),a=IDBKeyRange.lowerBound(r),o=[];return Ic(e).ee({range:a},((c,d,f)=>{const[m,v,y]=c,E=is(v);if(m===this.userId&&t.path.isEqual(E))return Ha(e).get(y).next((I=>{if(!I)throw xe(61480,{er:c,batchId:y});Ie(I.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:I.userId,batchId:y}),o.push(tl(this.serializer,I))}));f.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wt(Le);const a=[];return t.forEach((o=>{const c=Up(this.userId,o.path),d=IDBKeyRange.lowerBound(c),f=Ic(e).ee({range:d},((m,v,y)=>{const[E,I,L]=m,O=is(I);E===this.userId&&o.path.isEqual(O)?r=r.add(L):y.done()}));a.push(f)})),H.waitFor(a).next((()=>this.tr(e,r)))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1,o=Up(this.userId,r),c=IDBKeyRange.lowerBound(o);let d=new wt(Le);return Ic(e).ee({range:c},((f,m,v)=>{const[y,E,I]=f,L=is(E);y===this.userId&&r.isPrefixOf(L)?L.length===a&&(d=d.add(I)):v.done()})).next((()=>this.tr(e,d)))}tr(e,t){const r=[],a=[];return t.forEach((o=>{a.push(Ha(e).get(o).next((c=>{if(c===null)throw xe(35274,{batchId:o});Ie(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:o}),r.push(tl(this.serializer,c))})))})),H.waitFor(a).next((()=>r))}removeMutationBatch(e,t){return cD(e.le,this.userId,t).next((r=>(e.addOnCommittedListener((()=>{this.nr(t.batchId)})),H.forEach(r,(a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return H.resolve();const r=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),a=[];return Ic(e).ee({range:r},((o,c,d)=>{if(o[0]===this.userId){const f=is(o[1]);a.push(f)}else d.done()})).next((()=>{Ie(a.length===0,56720,{rr:a.map((o=>o.canonicalString()))})}))}))}containsKey(e,t){return uD(e,this.userId,t)}ir(e){return dD(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:ll,lastStreamToken:""}))}}function uD(n,e,t){const r=Up(e,t.path),a=r[1],o=IDBKeyRange.lowerBound(r);let c=!1;return Ic(n).ee({range:o,Y:!0},((d,f,m)=>{const[v,y,E]=d;v===e&&y===a&&(c=!0),m.done()})).next((()=>c))}function Ha(n){return kn(n,Mi)}function Ic(n){return kn(n,jc)}function dD(n){return kn(n,th)}class wl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new wl(0)}static ar(){return new wl(-1)}}class k5{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.ur(e).next((t=>{const r=new wl(t.highestTargetId);return t.highestTargetId=r.next(),this.cr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.ur(e).next((t=>ke.fromTimestamp(new bt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.ur(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,r){return this.ur(e).next((a=>(a.highestListenSequenceNumber=t,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.cr(e,a))))}addTargetData(e,t){return this.lr(e,t).next((()=>this.ur(e).next((r=>(r.targetCount+=1,this.hr(t,r),this.cr(e,r))))))}updateTargetData(e,t){return this.lr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>_c(e).delete(t.targetId))).next((()=>this.ur(e))).next((r=>(Ie(r.targetCount>0,8065),r.targetCount-=1,this.cr(e,r))))}removeTargets(e,t,r){let a=0;const o=[];return _c(e).ee(((c,d)=>{const f=kd(d);f.sequenceNumber<=t&&r.get(f.targetId)===null&&(a++,o.push(this.removeTargetData(e,f)))})).next((()=>H.waitFor(o))).next((()=>a))}forEachTarget(e,t){return _c(e).ee(((r,a)=>{const o=kd(a);t(o)}))}ur(e){return UA(e).get(um).next((t=>(Ie(t!==null,2888),t)))}cr(e,t){return UA(e).put(um,t)}lr(e,t){return _c(e).put(iD(this.serializer,t))}hr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.ur(e).next((t=>t.targetCount))}getTargetData(e,t){const r=vl(t),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return _c(e).ee({range:a,index:tR},((c,d,f)=>{const m=kd(d);Ih(t,m.target)&&(o=m,f.done())})).next((()=>o))}addMatchingKeys(e,t,r){const a=[],o=Ja(e);return t.forEach((c=>{const d=ur(c.path);a.push(o.put({targetId:r,path:d})),a.push(this.referenceDelegate.addReference(e,r,c))})),H.waitFor(a)}removeMatchingKeys(e,t,r){const a=Ja(e);return H.forEach(t,(o=>{const c=ur(o.path);return H.waitFor([a.delete([r,c]),this.referenceDelegate.removeReference(e,r,o)])}))}removeMatchingKeysForTargetId(e,t){const r=Ja(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),a=Ja(e);let o=Qe();return a.ee({range:r,Y:!0},((c,d,f)=>{const m=is(c[1]),v=new be(m);o=o.add(v)})).next((()=>o))}containsKey(e,t){const r=ur(t.path),a=IDBKeyRange.bound([r],[qC(r)],!1,!0);let o=0;return Ja(e).ee({index:i0,Y:!0,range:a},(([c,d],f,m)=>{c!==0&&(o++,m.done())})).next((()=>o>0))}At(e,t){return _c(e).get(t).next((r=>r?kd(r):null))}}function _c(n){return kn(n,$c)}function UA(n){return kn(n,cl)}function Ja(n){return kn(n,Fc)}const zA="LruGarbageCollector",hD=1048576;function BA([n,e],[t,r]){const a=Le(n,t);return a===0?Le(e,r):a}class O5{constructor(e){this.Pr=e,this.buffer=new wt(BA),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();BA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class fD{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){he(zA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){yo(t)?he(zA,"Ignoring IndexedDB error during garbage collection: ",t):await vo(t)}await this.Ar(3e5)}))}}class P5{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return H.resolve(Or.ce);const r=new O5(t);return this.Vr.forEachTarget(e,(a=>r.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>r.Er(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(LA)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LA):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,a,o,c,d,f,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),a=this.params.maximumSequenceNumbersToCollect):a=y,c=Date.now(),this.nthSequenceNumber(e,a)))).next((y=>(r=y,d=Date.now(),this.removeTargets(e,r,t)))).next((y=>(o=y,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(m=Date.now(),xc()<=rt.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${o} targets in `+(f-d)+`ms
	Removed ${y} documents in `+(m-f)+`ms
Total Duration: ${m-v}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:y}))))}}function pD(n,e){return new P5(n,e)}class M5{constructor(e,t){this.db=e,this.garbageCollector=pD(this,t)}dr(e){const t=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}mr(e,t){return this.yr(e,((r,a)=>t(a)))}addReference(e,t,r){return pp(e,r)}removeReference(e,t,r){return pp(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return pp(e,t)}wr(e,t){return(function(a,o){let c=!1;return dD(a).te((d=>uD(a,d,o).next((f=>(f&&(c=!0),H.resolve(!f)))))).next((()=>c))})(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let o=0;return this.yr(e,((c,d)=>{if(d<=t){const f=this.wr(e,c).next((m=>{if(!m)return o++,r.getEntry(e,c).next((()=>(r.removeEntry(c,ke.min()),Ja(e).delete((function(y){return[0,ur(y.path)]})(c)))))}));a.push(f)}})).next((()=>H.waitFor(a))).next((()=>r.apply(e))).next((()=>o))}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return pp(e,t)}yr(e,t){const r=Ja(e);let a,o=Or.ce;return r.ee({index:i0},(([c,d],{path:f,sequenceNumber:m})=>{c===0?(o!==Or.ce&&t(new be(is(a)),o),o=m,a=f):o=Or.ce})).next((()=>{o!==Or.ce&&t(new be(is(a)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function pp(n,e){return Ja(n).put((function(r,a){return{targetId:0,path:ur(r.path),sequenceNumber:a}})(e,n.currentSequenceNumber))}class mD{constructor(){this.changes=new ia((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?H.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class V5{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Yo(e).put(r)}removeEntry(e,t,r){return Yo(e).delete((function(o,c){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],vm(c),d[d.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next((r=>(r.byteSize+=t,this.br(e,r))))}getEntry(e,t){let r=nn.newInvalidDocument(t);return Yo(e).ee({index:zp,range:IDBKeyRange.only(bd(t))},((a,o)=>{r=this.Sr(t,o)})).next((()=>r))}Dr(e,t){let r={size:0,document:nn.newInvalidDocument(t)};return Yo(e).ee({index:zp,range:IDBKeyRange.only(bd(t))},((a,o)=>{r={document:this.Sr(t,o),size:bm(o)}})).next((()=>r))}getEntries(e,t){let r=Yr();return this.Cr(e,t,((a,o)=>{const c=this.Sr(a,o);r=r.insert(a,c)})).next((()=>r))}vr(e,t){let r=Yr(),a=new Lt(be.comparator);return this.Cr(e,t,((o,c)=>{const d=this.Sr(o,c);r=r.insert(o,d),a=a.insert(o,bm(c))})).next((()=>({documents:r,Fr:a})))}Cr(e,t,r){if(t.isEmpty())return H.resolve();let a=new wt(FA);t.forEach((f=>a=a.add(f)));const o=IDBKeyRange.bound(bd(a.first()),bd(a.last())),c=a.getIterator();let d=c.getNext();return Yo(e).ee({index:zp,range:o},((f,m,v)=>{const y=be.fromSegments([...m.prefixPath,m.collectionGroup,m.documentId]);for(;d&&FA(d,y)<0;)r(d,null),d=c.getNext();d&&d.isEqual(y)&&(r(d,m),d=c.hasNext()?c.getNext():null),d?v.j(bd(d)):v.done()})).next((()=>{for(;d;)r(d,null),d=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(e,t,r,a,o){const c=t.path,d=[c.popLast().toArray(),c.lastSegment(),vm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Yo(e).H(IDBKeyRange.bound(d,f,!0)).next((m=>{o?.incrementDocumentReadCount(m.length);let v=Yr();for(const y of m){const E=this.Sr(be.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);E.isFoundDocument()&&(Rh(t,E)||a.has(E.key))&&(v=v.insert(E.key,E))}return v}))}getAllFromCollectionGroup(e,t,r,a){let o=Yr();const c=$A(t,r),d=$A(t,Xr.max());return Yo(e).ee({index:eR,range:IDBKeyRange.bound(c,d,!0)},((f,m,v)=>{const y=this.Sr(be.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);o=o.insert(y.key,y),o.size===a&&v.done()})).next((()=>o))}newChangeBuffer(e){return new L5(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return jA(e).get(kb).next((t=>(Ie(!!t,20021),t)))}br(e,t){return jA(e).put(kb,t)}Sr(e,t){if(t){const r=E5(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(ke.min())))return r}return nn.newInvalidDocument(e)}}function gD(n){return new V5(n)}class L5 extends mD{constructor(e,t){super(),this.Mr=e,this.trackRemovals=t,this.Or=new ia((r=>r.toString()),((r,a)=>r.isEqual(a)))}applyChanges(e){const t=[];let r=0,a=new wt(((o,c)=>Le(o.canonicalString(),c.canonicalString())));return this.changes.forEach(((o,c)=>{const d=this.Or.get(o);if(t.push(this.Mr.removeEntry(e,o,d.readTime)),c.isValidDocument()){const f=TA(this.Mr.serializer,c);a=a.add(o.path.popLast());const m=bm(f);r+=m-d.size,t.push(this.Mr.addEntry(e,o,f))}else if(r-=d.size,this.trackRemovals){const f=TA(this.Mr.serializer,c.convertToNoDocument(ke.min()));t.push(this.Mr.addEntry(e,o,f))}})),a.forEach((o=>{t.push(this.Mr.indexManager.addToCollectionParentIndex(e,o))})),t.push(this.Mr.updateMetadata(e,r)),H.waitFor(t)}getFromCache(e,t){return this.Mr.Dr(e,t).next((r=>(this.Or.set(t,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,t){return this.Mr.vr(e,t).next((({documents:r,Fr:a})=>(a.forEach(((o,c)=>{this.Or.set(o,{size:c,readTime:r.get(o).readTime})})),r)))}}function jA(n){return kn(n,nh)}function Yo(n){return kn(n,cm)}function bd(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function $A(n,e){const t=e.documentKey.path.toArray();return[n,vm(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function FA(n,e){const t=n.path.toArray(),r=e.path.toArray();let a=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(a=Le(t[o],r[o]),a)return a;return a=Le(t.length,r.length),a||(a=Le(t[t.length-2],r[r.length-2]),a||Le(t[t.length-1],r[r.length-1]))}class U5{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class vD{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&Fd(r.mutation,a,Pr.empty(),bt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Qe()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Qe()){const a=ss();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((o=>{let c=Dd();return o.forEach(((d,f)=>{c=c.insert(d,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=ss();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Qe())))}populateOverlays(e,t,r){const a=[];return r.forEach((o=>{t.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,r,a){let o=Yr();const c=$d(),d=(function(){return $d()})();return t.forEach(((f,m)=>{const v=r.get(m.key);a.has(m.key)&&(v===void 0||v.mutation instanceof sa)?o=o.insert(m.key,m):v!==void 0?(c.set(m.key,v.mutation.getFieldMask()),Fd(v.mutation,m,v.mutation.getFieldMask(),bt.now())):c.set(m.key,Pr.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((m,v)=>c.set(m,v))),t.forEach(((m,v)=>d.set(m,new U5(v,c.get(m)??null)))),d)))}recalculateAndSaveOverlays(e,t){const r=$d();let a=new Lt(((c,d)=>c-d)),o=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((f=>{const m=t.get(f);if(m===null)return;let v=r.get(f)||Pr.empty();v=d.applyToLocalView(m,v),r.set(f,v);const y=(a.get(d.batchId)||Qe()).add(f);a=a.insert(d.batchId,y)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,v=f.value,y=kR();v.forEach((E=>{if(!o.has(E)){const I=zR(t.get(E),r.get(E));I!==null&&y.set(E,I),o=o.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,y))}return H.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return $6(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):d0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-o.size):H.resolve(ss());let d=Bc,f=o;return c.next((m=>H.forEach(m,((v,y)=>(d<y.largestBatchId&&(d=y.largestBatchId),o.get(v)?H.resolve():this.remoteDocumentCache.getEntry(e,v).next((E=>{f=f.insert(v,E)}))))).next((()=>this.populateOverlays(e,m,o))).next((()=>this.computeViews(e,f,m,Qe()))).next((v=>({batchId:d,changes:NR(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new be(t)).next((r=>{let a=Dd();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const o=t.collectionGroup;let c=Dd();return this.indexManager.getCollectionParents(e,o).next((d=>H.forEach(d,(f=>{const m=(function(y,E){return new _o(E,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,r,a).next((v=>{v.forEach(((y,E)=>{c=c.insert(y,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,a)))).next((c=>{o.forEach(((f,m)=>{const v=m.getKey();c.get(v)===null&&(c=c.insert(v,nn.newInvalidDocument(v)))}));let d=Dd();return c.forEach(((f,m)=>{const v=o.get(f);v!==void 0&&Fd(v.mutation,m,Pr.empty(),bt.now()),Rh(t,m)&&(d=d.insert(f,m))})),d}))}}class z5{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return H.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Er(a.createTime)}})(t)),H.resolve()}getNamedQuery(e,t){return H.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(a){return{name:a.name,query:sD(a.bundledQuery),readTime:Er(a.readTime)}})(t)),H.resolve()}}class B5{constructor(){this.overlays=new Lt(be.comparator),this.Lr=new Map}getOverlay(e,t){return H.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ss();return H.forEach(t,(a=>this.getOverlay(e,a).next((o=>{o!==null&&r.set(a,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,o)=>{this.bt(e,t,o)})),H.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Lr.get(r);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),H.resolve()}getOverlaysForCollection(e,t,r){const a=ss(),o=t.length+1,c=new be(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===o&&f.largestBatchId>r&&a.set(f.getKey(),f)}return H.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let o=new Lt(((m,v)=>m-v));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let v=o.get(m.largestBatchId);v===null&&(v=ss(),o=o.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const d=ss(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,v)=>d.set(m,v))),!(d.size()>=a)););return H.resolve(d)}bt(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(r.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new g0(t,r));let o=this.Lr.get(t);o===void 0&&(o=Qe(),this.Lr.set(t,o)),this.Lr.set(t,o.add(r.key))}}class j5{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,H.resolve()}}class w0{constructor(){this.kr=new wt(Bn.Kr),this.qr=new wt(Bn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new Bn(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new Bn(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new be(new ut([])),r=new Bn(t,e),a=new Bn(t,e+1),o=[];return this.qr.forEachInRange([r,a],(c=>{this.Wr(c),o.push(c.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new be(new ut([])),r=new Bn(t,e),a=new Bn(t,e+1);let o=Qe();return this.qr.forEachInRange([r,a],(c=>{o=o.add(c.key)})),o}containsKey(e){const t=new Bn(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Bn{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return be.comparator(e.key,t.key)||Le(e.Hr,t.Hr)}static Ur(e,t){return Le(e.Hr,t.Hr)||be.comparator(e.key,t.key)}}class $5{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new wt(Bn.Kr)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new p0(o,t,r,a);this.mutationQueue.push(c);for(const d of a)this.Jr=this.Jr.add(new Bn(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return H.resolve(c)}lookupMutationBatch(e,t){return H.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Xr(r),o=a<0?0:a;return H.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?ll:this.Yn-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Bn(t,0),a=new Bn(t,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,a],(c=>{const d=this.Zr(c.Hr);o.push(d)})),H.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wt(Le);return t.forEach((a=>{const o=new Bn(a,0),c=new Bn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,c],(d=>{r=r.add(d.Hr)}))})),H.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let o=r;be.isDocumentKey(o)||(o=o.child(""));const c=new Bn(new be(o),0);let d=new wt(Le);return this.Jr.forEachWhile((f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===a&&(d=d.add(f.Hr)),!0)}),c),H.resolve(this.Yr(d))}Yr(e){const t=[];return e.forEach((r=>{const a=this.Zr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Ie(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return H.forEach(t.mutations,(a=>{const o=new Bn(a.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new Bn(t,0),a=this.Jr.firstAfterOrEqual(r);return H.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class F5{constructor(e){this.ti=e,this.docs=(function(){return new Lt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),o=a?a.size:0,c=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return H.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(t))}getEntries(e,t){let r=Yr();return t.forEach((a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():nn.newInvalidDocument(a))})),H.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let o=Yr();const c=t.path,d=new be(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:v}}=f.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||n0(YC(v),r)<=0||(a.has(v.key)||Rh(t,v))&&(o=o.insert(v.key,v.mutableCopy()))}return H.resolve(o)}getAllFromCollectionGroup(e,t,r,a){xe(9500)}ni(e,t){return H.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new q5(this)}getSize(e){return H.resolve(this.size)}}class q5 extends mD{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(r)})),H.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class H5{constructor(e){this.persistence=e,this.ri=new ia((t=>vl(t)),Ih),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.ii=0,this.si=new w0,this.targetCount=0,this.oi=wl._r()}forEachTarget(e,t){return this.ri.forEach(((r,a)=>t(a))),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),H.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new wl(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,H.resolve()}updateTargetData(e,t){return this.lr(t),H.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,t,r){let a=0;const o=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.ri.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),H.waitFor(o).next((()=>a))}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return H.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),H.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach((c=>{o.push(a.markPotentiallyOrphaned(e,c))})),H.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),H.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return H.resolve(r)}containsKey(e,t){return H.resolve(this.si.containsKey(t))}}class E0{constructor(e,t){this._i={},this.overlays={},this.ai=new Or(0),this.ui=!1,this.ui=!0,this.ci=new j5,this.referenceDelegate=e(this),this.li=new H5(this),this.indexManager=new D5,this.remoteDocumentCache=(function(a){return new F5(a)})((r=>this.referenceDelegate.hi(r))),this.serializer=new rD(t),this.Pi=new z5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new B5,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new $5(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){he("MemoryPersistence","Starting transaction:",e);const a=new G5(this.ai.next());return this.referenceDelegate.Ti(),r(a).next((o=>this.referenceDelegate.Ii(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ei(e,t){return H.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class G5 extends WC{constructor(e){super(),this.currentSequenceNumber=e}}class cg{constructor(e){this.persistence=e,this.Ri=new w0,this.Ai=null}static Vi(e){return new cg(e)}get di(){if(this.Ai)return this.Ai;throw xe(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),H.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),H.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((a=>this.di.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.di,(r=>{const a=be.fromPath(r);return this.mi(e,a).next((o=>{o||t.removeEntry(a,ke.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return H.or([()=>H.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class _m{constructor(e,t){this.persistence=e,this.fi=new ia((r=>ur(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=pD(this,t)}static Vi(e,t){return new _m(e,t)}Ti(){}Ii(e){return H.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return H.forEach(this.fi,((r,a)=>this.wr(e,r,a).next((o=>o?H.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,t).next((d=>{d||(r++,o.removeEntry(c,ke.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),H.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),H.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=jp(e.data.value)),t}wr(e,t,r){return H.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.fi.get(t);return H.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class K5{constructor(e){this.serializer=e}k(e,t,r,a){const o=new Ym("createOrUpgrade",t);r<1&&a>=1&&((function(f){f.createObjectStore(Ah)})(e),(function(f){f.createObjectStore(th,{keyPath:i6}),f.createObjectStore(Mi,{keyPath:eA,autoIncrement:!0}).createIndex(sl,tA,{unique:!0}),f.createObjectStore(jc)})(e),qA(e),(function(f){f.createObjectStore(Zo)})(e));let c=H.resolve();return r<3&&a>=3&&(r!==0&&((function(f){f.deleteObjectStore(Fc),f.deleteObjectStore($c),f.deleteObjectStore(cl)})(e),qA(e)),c=c.next((()=>(function(f){const m=f.store(cl),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ke.min().toTimestamp(),targetCount:0};return m.put(um,v)})(o)))),r<4&&a>=4&&(r!==0&&(c=c.next((()=>(function(f,m){return m.store(Mi).H().next((y=>{f.deleteObjectStore(Mi),f.createObjectStore(Mi,{keyPath:eA,autoIncrement:!0}).createIndex(sl,tA,{unique:!0});const E=m.store(Mi),I=y.map((L=>E.put(L)));return H.waitFor(I)}))})(e,o)))),c=c.next((()=>{(function(f){f.createObjectStore(qc,{keyPath:f6})})(e)}))),r<5&&a>=5&&(c=c.next((()=>this.gi(o)))),r<6&&a>=6&&(c=c.next((()=>((function(f){f.createObjectStore(nh)})(e),this.pi(o))))),r<7&&a>=7&&(c=c.next((()=>this.yi(o)))),r<8&&a>=8&&(c=c.next((()=>this.wi(e,o)))),r<9&&a>=9&&(c=c.next((()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&a>=10&&(c=c.next((()=>this.bi(o)))),r<11&&a>=11&&(c=c.next((()=>{(function(f){f.createObjectStore(Wm,{keyPath:p6})})(e),(function(f){f.createObjectStore(Xm,{keyPath:m6})})(e)}))),r<12&&a>=12&&(c=c.next((()=>{(function(f){const m=f.createObjectStore(Jm,{keyPath:E6});m.createIndex(Pb,x6,{unique:!1}),m.createIndex(iR,T6,{unique:!1})})(e)}))),r<13&&a>=13&&(c=c.next((()=>(function(f){const m=f.createObjectStore(cm,{keyPath:a6});m.createIndex(zp,o6),m.createIndex(eR,l6)})(e))).next((()=>this.Si(e,o))).next((()=>e.deleteObjectStore(Zo)))),r<14&&a>=14&&(c=c.next((()=>this.Di(e,o)))),r<15&&a>=15&&(c=c.next((()=>(function(f){f.createObjectStore(s0,{keyPath:g6,autoIncrement:!0}).createIndex(Ob,v6,{unique:!1}),f.createObjectStore(zd,{keyPath:y6}).createIndex(nR,b6,{unique:!1}),f.createObjectStore(Bd,{keyPath:_6}).createIndex(rR,w6,{unique:!1})})(e)))),r<16&&a>=16&&(c=c.next((()=>{t.objectStore(zd).clear()})).next((()=>{t.objectStore(Bd).clear()}))),r<17&&a>=17&&(c=c.next((()=>{(function(f){f.createObjectStore(a0,{keyPath:S6})})(e)}))),r<18&&a>=18&&W1()&&(c=c.next((()=>{t.objectStore(zd).clear()})).next((()=>{t.objectStore(Bd).clear()}))),c}pi(e){let t=0;return e.store(Zo).ee(((r,a)=>{t+=bm(a)})).next((()=>{const r={byteSize:t};return e.store(nh).put(kb,r)}))}gi(e){const t=e.store(th),r=e.store(Mi);return t.H().next((a=>H.forEach(a,(o=>{const c=IDBKeyRange.bound([o.userId,ll],[o.userId,o.lastAcknowledgedBatchId]);return r.H(sl,c).next((d=>H.forEach(d,(f=>{Ie(f.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:f.batchId});const m=tl(this.serializer,f);return cD(e,o.userId,m).next((()=>{}))}))))}))))}yi(e){const t=e.store(Fc),r=e.store(Zo);return e.store(cl).get(um).next((a=>{const o=[];return r.ee(((c,d)=>{const f=new ut(c),m=(function(y){return[0,ur(y)]})(f);o.push(t.get(m).next((v=>v?H.resolve():(y=>t.put({targetId:0,path:ur(y),sequenceNumber:a.highestListenSequenceNumber}))(f))))})).next((()=>H.waitFor(o)))}))}wi(e,t){e.createObjectStore(rh,{keyPath:h6});const r=t.store(rh),a=new _0,o=c=>{if(a.add(c)){const d=c.lastSegment(),f=c.popLast();return r.put({collectionId:d,parent:ur(f)})}};return t.store(Zo).ee({Y:!0},((c,d)=>{const f=new ut(c);return o(f.popLast())})).next((()=>t.store(jc).ee({Y:!0},(([c,d,f],m)=>{const v=is(d);return o(v.popLast())}))))}bi(e){const t=e.store($c);return t.ee(((r,a)=>{const o=kd(a),c=iD(this.serializer,o);return t.put(c)}))}Si(e,t){const r=t.store(Zo),a=[];return r.ee(((o,c)=>{const d=t.store(cm),f=(function(y){return y.document?new be(ut.fromString(y.document.name).popFirst(5)):y.noDocument?be.fromSegments(y.noDocument.path):y.unknownDocument?be.fromSegments(y.unknownDocument.path):xe(36783)})(c).path.toArray(),m={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};a.push(d.put(m))})).next((()=>H.waitFor(a)))}Di(e,t){const r=t.store(Mi),a=gD(this.serializer),o=new E0(cg.Vi,this.serializer.yt);return r.H().next((c=>{const d=new Map;return c.forEach((f=>{let m=d.get(f.userId)??Qe();tl(this.serializer,f).keys().forEach((v=>m=m.add(v))),d.set(f.userId,m)})),H.forEach(d,((f,m)=>{const v=new ar(m),y=og.wt(this.serializer,v),E=o.getIndexManager(v),I=lg.wt(v,this.serializer,E,o.referenceDelegate);return new vD(a,I,y,E).recalculateAndSaveOverlaysForDocumentKeys(new Mb(t,Or.ce),f).next()}))}))}}function qA(n){n.createObjectStore(Fc,{keyPath:u6}).createIndex(i0,d6,{unique:!0}),n.createObjectStore($c,{keyPath:"targetId"}).createIndex(tR,c6,{unique:!0}),n.createObjectStore(cl)}const Ga="IndexedDbPersistence",Gy=18e5,Ky=5e3,Yy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Y5="main";class x0{constructor(e,t,r,a,o,c,d,f,m,v,y=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ci=o,this.window=c,this.document=d,this.Fi=m,this.Mi=v,this.xi=y,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=E=>Promise.resolve(),!x0.v())throw new pe(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new M5(this,a),this.Ki=t+Y5,this.serializer=new rD(f),this.qi=new ro(this.Ki,this.xi,new K5(this.serializer)),this.ci=new T5,this.li=new k5(this.referenceDelegate,this.serializer),this.remoteDocumentCache=gD(this.serializer),this.Pi=new x5,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,v===!1&&dn(Ga,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new pe(te.FAILED_PRECONDITION,Yy);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.li.getHighestSequenceNumber(e)))})).then((e=>{this.ai=new Or(e,this.Fi)})).then((()=>{this.ui=!0})).catch((e=>(this.qi&&this.qi.close(),Promise.reject(e))))}zi(e){return this.ki=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>mp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(e).next((t=>{t||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(e))).next((t=>this.isPrimary&&!t?this.Ji(e).next((()=>!1)):!!t&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(yo(e))return he(Ga,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return he(Ga,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable((()=>this.ki(e))),this.isPrimary=e}))}ji(e){return _d(e).get(mc).next((t=>H.resolve(this.Xi(t))))}Yi(e){return mp(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,Gy)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const r=kn(t,qc);return r.H().next((a=>{const o=this.ns(a,Gy),c=a.filter((d=>o.indexOf(d)===-1));return H.forEach(c,(d=>r.delete(d.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ui)for(const t of e)this.Ui.removeItem(this.rs(t.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?H.resolve(!0):_d(e).get(mc).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,Ky)&&!this.ss(t.ownerId)){if(this.Xi(t)&&this.networkEnabled)return!0;if(!this.Xi(t)){if(!t.allowTabSynchronization)throw new pe(te.FAILED_PRECONDITION,Yy);return!1}}return!(!this.networkEnabled||!this.inForeground)||mp(e).H().next((r=>this.ns(r,Ky).find((a=>{if(this.clientId!==a.clientId){const o=!this.networkEnabled&&a.networkEnabled,c=!this.inForeground&&a.inForeground,d=this.networkEnabled===a.networkEnabled;if(o||c&&d)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&he(Ga,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[Ah,qc],(e=>{const t=new Mb(e,Or.ce);return this.Ji(t).next((()=>this.Yi(t)))})),this.qi.close(),this.ls()}ns(e,t){return e.filter((r=>this.ts(r.updateTimeMs,t)&&!this.ss(r.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(e=>mp(e).H().next((t=>this.ns(t,Gy).map((r=>r.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,t){return lg.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new N5(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return og.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,t,r){he(Ga,"Starting transaction:",e);const a=t==="readonly"?"readonly":"readwrite",o=(function(f){return f===18?C6:f===17?lR:f===16?I6:f===15?o0:f===14?oR:f===13?aR:f===12?A6:f===11?sR:void xe(60245)})(this.xi);let c;return this.qi.runTransaction(e,a,o,(d=>(c=new Mb(d,this.ai?this.ai.next():Or.ce),t==="readwrite-primary"?this.ji(c).next((f=>!!f||this.Hi(c))).next((f=>{if(!f)throw dn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new pe(te.FAILED_PRECONDITION,QC);return r(c)})).next((f=>this.Zi(c).next((()=>f)))):this.Ps(c).next((()=>r(c)))))).then((d=>(c.raiseOnCommittedEvent(),d)))}Ps(e){return _d(e).get(mc).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,Ky)&&!this.ss(t.ownerId)&&!this.Xi(t)&&!(this.Mi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new pe(te.FAILED_PRECONDITION,Yy)}))}Zi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return _d(e).put(mc,t)}static v(){return ro.v()}Ji(e){const t=_d(e);return t.get(mc).next((r=>this.Xi(r)?(he(Ga,"Releasing primary lease."),t.delete(mc)):H.resolve()))}ts(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(dn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const e=/(?:Version|Mobile)\/1[456]/;Q1()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){try{const t=this.Ui?.getItem(this.rs(e))!==null;return he(Ga,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return dn(Ga,"Failed to get zombied client id.",t),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){dn("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function _d(n){return kn(n,Ah)}function mp(n){return kn(n,qc)}function yD(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class T0{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=a}static Es(e,t){let r=Qe(),a=Qe();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new T0(e,t.fromCache,r,a)}}class Q5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class bD{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Q1()?8:XC(Nn())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const o={result:null};return this.gs(e,t).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ps(e,t,a,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new Q5;return this.ys(e,t,c).next((d=>{if(o.result=d,this.As)return this.ws(e,t,c,d.size)}))})).next((()=>o.result))}ws(e,t,r,a){return r.documentReadCount<this.Vs?(xc()<=rt.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Tc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),H.resolve()):(xc()<=rt.DEBUG&&he("QueryEngine","Query:",Tc(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(xc()<=rt.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Tc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wr(t))):H.resolve())}gs(e,t){if(pA(t))return H.resolve(null);let r=Wr(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=pm(t,null,"F"),r=Wr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const c=Qe(...o);return this.fs.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const m=this.bs(t,d);return this.Ss(t,m,c,f.readTime)?this.gs(e,pm(t,null,"F")):this.Ds(e,m,t,f)}))))})))))}ps(e,t,r,a){return pA(t)||a.isEqual(ke.min())?H.resolve(null):this.fs.getDocuments(e,r).next((o=>{const c=this.bs(t,o);return this.Ss(t,c,r,a)?H.resolve(null):(xc()<=rt.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Tc(t)),this.Ds(e,c,t,KC(a,Bc)).next((d=>d)))}))}bs(e,t){let r=new wt(RR(e));return t.forEach(((a,o)=>{Rh(e,o)&&(r=r.add(o))})),r}Ss(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}ys(e,t,r){return xc()<=rt.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Tc(t)),this.fs.getDocumentsMatchingQuery(e,t,Xr.min(),r)}Ds(e,t,r,a){return this.fs.getDocumentsMatchingQuery(e,r,a).next((o=>(t.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const S0="LocalStore",W5=3e8;class X5{constructor(e,t,r,a){this.persistence=e,this.Cs=t,this.serializer=a,this.vs=new Lt(Le),this.Fs=new ia((o=>vl(o)),Ih),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vD(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function _D(n,e,t,r){return new X5(n,e,t,r)}async function wD(n,e){const t=Se(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((o=>(a=o,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],d=[];let f=Qe();for(const m of a){c.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of o){d.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(r,f).next((m=>({Ns:m,removedBatchIds:c,addedBatchIds:d})))}))}))}function J5(n,e){const t=Se(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),o=t.xs.newChangeBuffer({trackRemovals:!0});return(function(d,f,m,v){const y=m.batch,E=y.keys();let I=H.resolve();return E.forEach((L=>{I=I.next((()=>v.getEntry(f,L))).next((O=>{const M=m.docVersions.get(L);Ie(M!==null,48541),O.version.compareTo(M)<0&&(y.applyToRemoteDocument(O,m),O.isValidDocument()&&(O.setReadTime(m.commitVersion),v.addEntry(O)))}))})),I.next((()=>d.mutationQueue.removeMutationBatch(f,y)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=Qe();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function ED(n){const e=Se(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function Z5(n,e){const t=Se(n),r=e.snapshotVersion;let a=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=t.xs.newChangeBuffer({trackRemovals:!0});a=t.vs;const d=[];e.targetChanges.forEach(((v,y)=>{const E=a.get(y);if(!E)return;d.push(t.li.removeMatchingKeys(o,v.removedDocuments,y).next((()=>t.li.addMatchingKeys(o,v.addedDocuments,y))));let I=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?I=I.withResumeToken(hn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,r)),a=a.insert(y,I),(function(O,M,K){return O.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=W5?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(E,I,v)&&d.push(t.li.updateTargetData(o,I))}));let f=Yr(),m=Qe();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(o,v))})),d.push(e3(o,c,e.documentUpdates).next((v=>{f=v.Bs,m=v.Ls}))),!r.isEqual(ke.min())){const v=t.li.getLastRemoteSnapshotVersion(o).next((y=>t.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));d.push(v)}return H.waitFor(d).next((()=>c.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,f,m))).next((()=>f))})).then((o=>(t.vs=a,o)))}function e3(n,e,t){let r=Qe(),a=Qe();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let c=Yr();return t.forEach(((d,f)=>{const m=o.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(d)),f.isNoDocument()&&f.version.isEqual(ke.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):he(S0,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)})),{Bs:c,Ls:a}}))}function t3(n,e){const t=Se(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ll),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function wm(n,e){const t=Se(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.li.getTargetData(r,e).next((o=>o?(a=o,H.resolve(a)):t.li.allocateTargetId(r).next((c=>(a=new Gs(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.vs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function Jc(n,e,t){const r=Se(n),a=r.vs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!yo(c))throw c;he(S0,`Failed to update sequence numbers for target ${e}: ${c}`)}r.vs=r.vs.remove(e),r.Fs.delete(a.target)}function Qb(n,e,t){const r=Se(n);let a=ke.min(),o=Qe();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,m,v){const y=Se(f),E=y.Fs.get(v);return E!==void 0?H.resolve(y.vs.get(E)):y.li.getTargetData(m,v)})(r,c,Wr(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,d.targetId).next((f=>{o=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,e,t?a:ke.min(),t?o:Qe()))).next((d=>(SD(r,CR(e),d),{documents:d,ks:o})))))}function xD(n,e){const t=Se(n),r=Se(t.li),a=t.vs.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",(o=>r.At(o,e).next((c=>c?c.target:null))))}function TD(n,e){const t=Se(n),r=t.Ms.get(e)||ke.min();return t.persistence.runTransaction("Get new document changes","readonly",(a=>t.xs.getAllFromCollectionGroup(a,e,KC(r,Bc),Number.MAX_SAFE_INTEGER))).then((a=>(SD(t,e,a),a)))}function SD(n,e,t){let r=n.Ms.get(e)||ke.min();t.forEach(((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Ms.set(e,r)}const AD="firestore_clients";function HA(n,e){return`${AD}_${n}_${e}`}const ID="firestore_mutations";function GA(n,e,t){let r=`${ID}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const CD="firestore_targets";function Qy(n,e){return`${CD}_${n}_${e}`}const rs="SharedClientState";class Em{constructor(e,t,r,a){this.user=e,this.batchId=t,this.state=r,this.error=a}static $s(e,t,r){const a=JSON.parse(r);let o,c=typeof a=="object"&&["pending","acknowledged","rejected"].indexOf(a.state)!==-1&&(a.error===void 0||typeof a.error=="object");return c&&a.error&&(c=typeof a.error.message=="string"&&typeof a.error.code=="string",c&&(o=new pe(a.error.code,a.error.message))),c?new Em(e,t,a.state,o):(dn(rs,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class qd{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static $s(e,t){const r=JSON.parse(t);let a,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(a=new pe(r.error.code,r.error.message))),o?new qd(e,r.state,a):(dn(rs,`Failed to parse target state for ID '${e}': ${t}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class xm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const r=JSON.parse(t);let a=typeof r=="object"&&r.activeTargetIds instanceof Array,o=h0();for(let c=0;a&&c<r.activeTargetIds.length;++c)a=JC(r.activeTargetIds[c]),o=o.add(r.activeTargetIds[c]);return a?new xm(e,o):(dn(rs,`Failed to parse client data for instance '${e}': ${t}`),null)}}class A0{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new A0(t.clientId,t.onlineState):(dn(rs,`Failed to parse online state: ${e}`),null)}}class Wb{constructor(){this.activeTargetIds=h0()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wy{constructor(e,t,r,a,o){this.window=e,this.Ci=t,this.persistenceKey=r,this.zs=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.js=this.Hs.bind(this),this.Js=new Lt(Le),this.started=!1,this.Zs=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Xs=HA(this.persistenceKey,this.zs),this.Ys=(function(f){return`firestore_sequence_number_${f}`})(this.persistenceKey),this.Js=this.Js.insert(this.zs,new Wb),this.eo=new RegExp(`^${AD}_${c}_([^_]*)$`),this.no=new RegExp(`^${ID}_${c}_(\\d+)(?:_(.*))?$`),this.ro=new RegExp(`^${CD}_${c}_(\\d+)$`),this.io=(function(f){return`firestore_online_state_${f}`})(this.persistenceKey),this.so=(function(f){return`firestore_bundle_loaded_v2_${f}`})(this.persistenceKey),this.window.addEventListener("storage",this.js)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.hs();for(const r of e){if(r===this.zs)continue;const a=this.getItem(HA(this.persistenceKey,r));if(a){const o=xm.$s(r,a);o&&(this.Js=this.Js.insert(o.clientId,o))}}this.oo();const t=this.storage.getItem(this.io);if(t){const r=this._o(t);r&&this.ao(r)}for(const r of this.Zs)this.Hs(r);this.Zs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ys,JSON.stringify(e))}getAllActiveQueryTargets(){return this.uo(this.Js)}isActiveQueryTarget(e){let t=!1;return this.Js.forEach(((r,a)=>{a.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.co(e,"pending")}updateMutationState(e,t,r){this.co(e,t,r),this.lo(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(Qy(this.persistenceKey,e));if(a){const o=qd.$s(e,a);o&&(r=o.state)}}return t&&this.ho.Qs(e),this.oo(),r}removeLocalQueryTarget(e){this.ho.Gs(e),this.oo()}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Qy(this.persistenceKey,e))}updateQueryState(e,t,r){this.Po(e,t,r)}handleUserChange(e,t,r){t.forEach((a=>{this.lo(a)})),this.currentUser=e,r.forEach((a=>{this.addPendingMutation(a)}))}setOnlineState(e){this.To(e)}notifyBundleLoaded(e){this.Io(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.js),this.removeItem(this.Xs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return he(rs,"READ",e,t),t}setItem(e,t){he(rs,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){he(rs,"REMOVE",e),this.storage.removeItem(e)}Hs(e){const t=e;if(t.storageArea===this.storage){if(he(rs,"EVENT",t.key,t.newValue),t.key===this.Xs)return void dn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ci.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.eo.test(t.key)){if(t.newValue==null){const r=this.Eo(t.key);return this.Ro(r,null)}{const r=this.Ao(t.key,t.newValue);if(r)return this.Ro(r.clientId,r)}}else if(this.no.test(t.key)){if(t.newValue!==null){const r=this.Vo(t.key,t.newValue);if(r)return this.mo(r)}}else if(this.ro.test(t.key)){if(t.newValue!==null){const r=this.fo(t.key,t.newValue);if(r)return this.po(r)}}else if(t.key===this.io){if(t.newValue!==null){const r=this._o(t.newValue);if(r)return this.ao(r)}}else if(t.key===this.Ys){const r=(function(o){let c=Or.ce;if(o!=null)try{const d=JSON.parse(o);Ie(typeof d=="number",30636,{yo:o}),c=d}catch(d){dn(rs,"Failed to read sequence number from WebStorage",d)}return c})(t.newValue);r!==Or.ce&&this.sequenceNumberHandler(r)}else if(t.key===this.so){const r=this.wo(t.newValue);await Promise.all(r.map((a=>this.syncEngine.bo(a))))}}}else this.Zs.push(t)}))}}get ho(){return this.Js.get(this.zs)}oo(){this.setItem(this.Xs,this.ho.Ws())}co(e,t,r){const a=new Em(this.currentUser,e,t,r),o=GA(this.persistenceKey,this.currentUser,e);this.setItem(o,a.Ws())}lo(e){const t=GA(this.persistenceKey,this.currentUser,e);this.removeItem(t)}To(e){const t={clientId:this.zs,onlineState:e};this.storage.setItem(this.io,JSON.stringify(t))}Po(e,t,r){const a=Qy(this.persistenceKey,e),o=new qd(e,t,r);this.setItem(a,o.Ws())}Io(e){const t=JSON.stringify(Array.from(e));this.setItem(this.so,t)}Eo(e){const t=this.eo.exec(e);return t?t[1]:null}Ao(e,t){const r=this.Eo(e);return xm.$s(r,t)}Vo(e,t){const r=this.no.exec(e),a=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Em.$s(new ar(o),a,t)}fo(e,t){const r=this.ro.exec(e),a=Number(r[1]);return qd.$s(a,t)}_o(e){return A0.$s(e)}wo(e){return JSON.parse(e)}async mo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.So(e.batchId,e.state,e.error);he(rs,`Ignoring mutation for non-active user ${e.user.uid}`)}po(e){return this.syncEngine.Do(e.targetId,e.state,e.error)}Ro(e,t){const r=t?this.Js.insert(e,t):this.Js.remove(e),a=this.uo(this.Js),o=this.uo(r),c=[],d=[];return o.forEach((f=>{a.has(f)||c.push(f)})),a.forEach((f=>{o.has(f)||d.push(f)})),this.syncEngine.Co(c,d).then((()=>{this.Js=r}))}ao(e){this.Js.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}uo(e){let t=h0();return e.forEach(((r,a)=>{t=t.unionWith(a.activeTargetIds)})),t}}class RD{constructor(){this.vo=new Wb,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Wb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class n3{Mo(e){}shutdown(){}}const KA="ConnectivityMonitor";class YA{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){he(KA,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){he(KA,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let gp=null;function Xb(){return gp===null?gp=(function(){return 268435456+Math.round(2147483648*Math.random())})():gp++,"0x"+gp.toString(16)}const Xy="RestConnection",r3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class i3{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${a}`,this.$o=this.databaseId.database===dm?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Wo(e,t,r,a,o){const c=Xb(),d=this.Qo(e,t.toUriEncodedString());he(Xy,`Sending RPC '${e}' ${c}:`,d,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,a,o);const{host:m}=new URL(d),v=au(m);return this.zo(e,d,f,r,v).then((y=>(he(Xy,`Received RPC '${e}' ${c}: `,y),y)),(y=>{throw Uc(Xy,`RPC '${e}' ${c} failed with error: `,y,"url: ",d,"request:",r),y}))}jo(e,t,r,a,o,c){return this.Wo(e,t,r,a,o)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+du})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,o)=>e[o]=a)),r&&r.headers.forEach(((a,o)=>e[o]=a))}Qo(e,t){const r=r3[e];let a=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class s3{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const sr="WebChannelConnection",wd=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Pc extends i3{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Pc.c_){const e=jC();wd(e,BC.STAT_EVENT,(t=>{t.stat===Rb.PROXY?he(sr,"STAT_EVENT: detected buffering proxy"):t.stat===Rb.NOPROXY&&he(sr,"STAT_EVENT: detected no buffering proxy")})),Pc.c_=!0}}zo(e,t,r,a,o){const c=Xb();return new Promise(((d,f)=>{const m=new UC;m.setWithCredentials(!0),m.listenOnce(zC.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Vp.NO_ERROR:const y=m.getResponseJson();he(sr,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(y)),d(y);break;case Vp.TIMEOUT:he(sr,`RPC '${e}' ${c} timed out`),f(new pe(te.DEADLINE_EXCEEDED,"Request time out"));break;case Vp.HTTP_ERROR:const E=m.getStatus();if(he(sr,`RPC '${e}' ${c} failed with status:`,E,"response text:",m.getResponseText()),E>0){let I=m.getResponseJson();Array.isArray(I)&&(I=I[0]);const L=I?.error;if(L&&L.status&&L.message){const O=(function(K){const F=K.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(F)>=0?F:te.UNKNOWN})(L.status);f(new pe(O,L.message))}else f(new pe(te.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new pe(te.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{he(sr,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);he(sr,`RPC '${e}' ${c} sending request:`,a),m.send(t,"POST",v,r,15)}))}T_(e,t,r){const a=Xb(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const m=o.join("");he(sr,`Creating RPC '${e}' stream ${a}: ${m}`,d);const v=c.createWebChannel(m,d);this.I_(v);let y=!1,E=!1;const I=new s3({Ho:L=>{E?he(sr,`Not sending because RPC '${e}' stream ${a} is closed:`,L):(y||(he(sr,`Opening RPC '${e}' stream ${a} transport.`),v.open(),y=!0),he(sr,`RPC '${e}' stream ${a} sending:`,L),v.send(L))},Jo:()=>v.close()});return wd(v,Rd.EventType.OPEN,(()=>{E||(he(sr,`RPC '${e}' stream ${a} transport opened.`),I.i_())})),wd(v,Rd.EventType.CLOSE,(()=>{E||(E=!0,he(sr,`RPC '${e}' stream ${a} transport closed`),I.o_(),this.E_(v))})),wd(v,Rd.EventType.ERROR,(L=>{E||(E=!0,Uc(sr,`RPC '${e}' stream ${a} transport errored. Name:`,L.name,"Message:",L.message),I.o_(new pe(te.UNAVAILABLE,"The operation could not be completed")))})),wd(v,Rd.EventType.MESSAGE,(L=>{if(!E){const O=L.data[0];Ie(!!O,16349);const M=O,K=M?.error||M[0]?.error;if(K){he(sr,`RPC '${e}' stream ${a} received error:`,K);const F=K.status;let G=(function(ue){const R=En[ue];if(R!==void 0)return $R(R)})(F),le=K.message;F==="NOT_FOUND"&&le.includes("database")&&le.includes("does not exist")&&le.includes(this.databaseId.database)&&Uc(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),G===void 0&&(G=te.INTERNAL,le="Unknown error status: "+F+" with message "+K.message),E=!0,I.o_(new pe(G,le)),v.close()}else he(sr,`RPC '${e}' stream ${a} received:`,O),I.__(O)}})),Pc.u_(),setTimeout((()=>{I.s_()}),0),I}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return $C()}}function a3(n){return new Pc(n)}function DD(){return typeof window<"u"?window:null}function Gp(){return typeof document<"u"?document:null}function ug(n){return new h5(n,!0)}Pc.c_=!1;class ND{constructor(e,t,r=1e3,a=1.5,o=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=a,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&he("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const QA="PersistentStream";class kD{constructor(e,t,r,a,o,c,d,f){this.Ci=e,this.b_=r,this.S_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ND(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(dn(t.toString()),dn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new pe(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(QA,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(he(QA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class o3 extends kD{constructor(e,t,r,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,c),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=m5(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ke.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?ke.min():c.readTime?Er(c.readTime):ke.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=qb(this.serializer),t.addTarget=(function(o,c){let d;const f=c.target;if(d=hm(f)?{documents:WR(o,f)}:{query:XR(o,f).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=HR(o,c.resumeToken);const m=$b(o,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(ke.min())>0){d.readTime=Xc(o,c.snapshotVersion.toTimestamp());const m=$b(o,c.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const r=v5(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=qb(this.serializer),t.removeTarget=e,this.K_(t)}}class l3 extends kD{constructor(e,t,r,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,c),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return Ie(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ie(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=g5(e.writeResults,e.commitTime),r=Er(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=qb(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>gm(this.serializer,r)))};this.K_(t)}}class c3{}class u3 extends c3{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new pe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Wo(e,Fb(t,r),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pe(te.UNKNOWN,o.toString())}))}jo(e,t,r,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(e,Fb(t,r),a,c,d,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(te.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function d3(n,e,t,r){return new u3(n,e,t,r)}class h3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(dn(t),this.aa=!1):he("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const El="RemoteStore";class f3{constructor(e,t,r,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{Cl(this)&&(he(El,"Restarting streams for network reachability change."),await(async function(f){const m=Se(f);m.Ea.add(4),await kh(m),m.Va.set("Unknown"),m.Ea.delete(4),await dg(m)})(this))}))})),this.Va=new h3(r,a)}}async function dg(n){if(Cl(n))for(const e of n.Ra)await e(!0)}async function kh(n){for(const e of n.Ra)await e(!1)}function hg(n,e){const t=Se(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),R0(t)?C0(t):pu(t).O_()&&I0(t,e))}function Zc(n,e){const t=Se(n),r=pu(t);t.Ia.delete(e),r.O_()&&OD(t,e),t.Ia.size===0&&(r.O_()?r.L_():Cl(t)&&t.Va.set("Unknown"))}function I0(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}pu(n).Z_(e)}function OD(n,e){n.da.$e(e),pu(n).X_(e)}function C0(n){n.da=new l5({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),pu(n).start(),n.Va.ua()}function R0(n){return Cl(n)&&!pu(n).x_()&&n.Ia.size>0}function Cl(n){return Se(n).Ea.size===0}function PD(n){n.da=void 0}async function p3(n){n.Va.set("Online")}async function m3(n){n.Ia.forEach(((e,t)=>{I0(n,e)}))}async function g3(n,e){PD(n),R0(n)?(n.Va.ha(e),C0(n)):n.Va.set("Unknown")}async function v3(n,e,t){if(n.Va.set("Online"),e instanceof qR&&e.state===2&&e.cause)try{await(async function(a,o){const c=o.cause;for(const d of o.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.da.removeTarget(d))})(n,e)}catch(r){he(El,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Tm(n,r)}else if(e instanceof qp?n.da.Xe(e):e instanceof FR?n.da.st(e):n.da.tt(e),!t.isEqual(ke.min()))try{const r=await ED(n.localStore);t.compareTo(r)>=0&&await(function(o,c){const d=o.da.Tt(c);return d.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=o.Ia.get(m);v&&o.Ia.set(m,v.withResumeToken(f.resumeToken,c))}})),d.targetMismatches.forEach(((f,m)=>{const v=o.Ia.get(f);if(!v)return;o.Ia.set(f,v.withResumeToken(hn.EMPTY_BYTE_STRING,v.snapshotVersion)),OD(o,f);const y=new Gs(v.target,f,m,v.sequenceNumber);I0(o,y)})),o.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(r){he(El,"Failed to raise snapshot:",r),await Tm(n,r)}}async function Tm(n,e,t){if(!yo(e))throw e;n.Ea.add(1),await kh(n),n.Va.set("Offline"),t||(t=()=>ED(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{he(El,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await dg(n)}))}function MD(n,e){return e().catch((t=>Tm(n,t,e)))}async function fu(n){const e=Se(n),t=co(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ll;for(;y3(e);)try{const a=await t3(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,b3(e,a)}catch(a){await Tm(e,a)}VD(e)&&LD(e)}function y3(n){return Cl(n)&&n.Ta.length<10}function b3(n,e){n.Ta.push(e);const t=co(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function VD(n){return Cl(n)&&!co(n).x_()&&n.Ta.length>0}function LD(n){co(n).start()}async function _3(n){co(n).ra()}async function w3(n){const e=co(n);for(const t of n.Ta)e.ea(t.mutations)}async function E3(n,e,t){const r=n.Ta.shift(),a=m0.from(r,e,t);await MD(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await fu(n)}async function x3(n,e){e&&co(n).Y_&&await(async function(r,a){if((function(c){return s5(c)&&c!==te.ABORTED})(a.code)){const o=r.Ta.shift();co(r).B_(),await MD(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a))),await fu(r)}})(n,e),VD(n)&&LD(n)}async function WA(n,e){const t=Se(n);t.asyncQueue.verifyOperationInProgress(),he(El,"RemoteStore received new credentials");const r=Cl(t);t.Ea.add(3),await kh(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await dg(t)}async function Jb(n,e){const t=Se(n);e?(t.Ea.delete(2),await dg(t)):e||(t.Ea.add(2),await kh(t),t.Va.set("Unknown"))}function pu(n){return n.ma||(n.ma=(function(t,r,a){const o=Se(t);return o.sa(),new o3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Zo:p3.bind(null,n),Yo:m3.bind(null,n),t_:g3.bind(null,n),J_:v3.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),R0(n)?C0(n):n.Va.set("Unknown")):(await n.ma.stop(),PD(n))}))),n.ma}function co(n){return n.fa||(n.fa=(function(t,r,a){const o=Se(t);return o.sa(),new l3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:_3.bind(null,n),t_:x3.bind(null,n),ta:w3.bind(null,n),na:E3.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await fu(n)):(await n.fa.stop(),n.Ta.length>0&&(he(El,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class D0{constructor(e,t,r,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,o){const c=Date.now()+r,d=new D0(e,t,c,a,o);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function N0(n,e){if(dn("AsyncQueue",`${e}: ${n}`),yo(n))return new pe(te.UNAVAILABLE,`${e}: ${n}`);throw n}class Mc{static emptySet(e){return new Mc(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||be.comparator(t.key,r.key):(t,r)=>be.comparator(t.key,r.key),this.keyedMap=Dd(),this.sortedSet=new Lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Mc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Mc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class XA{constructor(){this.ga=new Lt(be.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):xe(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class eu{constructor(e,t,r,a,o,c,d,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,a,o){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new eu(e,t,Mc.emptySet(t),c,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ng(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class T3{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class S3{constructor(){this.queries=JA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=Se(t),o=a.queries;a.queries=JA(),o.forEach(((c,d)=>{for(const f of d.ba)f.onError(r)}))})(this,new pe(te.ABORTED,"Firestore shutting down"))}}function JA(){return new ia((n=>IR(n)),ng)}async function k0(n,e){const t=Se(n);let r=3;const a=e.query;let o=t.queries.get(a);o?!o.Sa()&&e.Da()&&(r=2):(o=new T3,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(a,!0);break;case 1:o.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=N0(c,`Initialization of query '${Tc(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,o),o.ba.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&P0(t)}async function O0(n,e){const t=Se(n),r=e.query;let a=3;const o=t.queries.get(r);if(o){const c=o.ba.indexOf(e);c>=0&&(o.ba.splice(c,1),o.ba.length===0?a=e.Da()?0:1:!o.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function A3(n,e){const t=Se(n);let r=!1;for(const a of e){const o=a.query,c=t.queries.get(o);if(c){for(const d of c.ba)d.Fa(a)&&(r=!0);c.wa=a}}r&&P0(t)}function I3(n,e,t){const r=Se(n),a=r.queries.get(e);if(a)for(const o of a.ba)o.onError(t);r.queries.delete(e)}function P0(n){n.Ca.forEach((e=>{e.next()}))}var Zb,ZA;(ZA=Zb||(Zb={})).Ma="default",ZA.Cache="cache";class M0{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new eu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=eu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Zb.Cache}}class UD{constructor(e){this.key=e}}class zD{constructor(e){this.key=e}}class C3{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Qe(),this.mutatedKeys=Qe(),this.eu=RR(e),this.tu=new Mc(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new XA,a=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,y)=>{const E=a.get(v),I=Rh(this.query,y)?y:null,L=!!E&&this.mutatedKeys.has(E.key),O=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let M=!1;E&&I?E.data.isEqual(I.data)?L!==O&&(r.track({type:3,doc:I}),M=!0):this.su(E,I)||(r.track({type:2,doc:I}),M=!0,(f&&this.eu(I,f)>0||m&&this.eu(I,m)<0)&&(d=!0)):!E&&I?(r.track({type:0,doc:I}),M=!0):E&&!I&&(r.track({type:1,doc:E}),M=!0,(f||m)&&(d=!0)),M&&(I?(c=c.add(I),o=O?o.add(v):o.delete(v)):(c=c.delete(v),o=o.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),o=o.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Ss:d,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,y)=>(function(I,L){const O=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Vt:M})}};return O(I)-O(L)})(v.type,y.type)||this.eu(v.doc,y.doc))),this.ou(r),a=a??!1;const d=t&&!a?this._u():[],f=this.Ya.size===0&&this.current&&!a?1:0,m=f!==this.Xa;return this.Xa=f,c.length!==0||m?{snapshot:new eu(this.query,e.tu,o,c,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new XA,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Qe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new zD(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new UD(r))})),t}cu(e){this.Za=e.ks,this.Ya=Qe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return eu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const mu="SyncEngine";class R3{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class D3{constructor(e){this.key=e,this.hu=!1}}class N3{constructor(e,t,r,a,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ia((d=>IR(d)),ng),this.Iu=new Map,this.Eu=new Set,this.Ru=new Lt(be.comparator),this.Au=new Map,this.Vu=new w0,this.du={},this.mu=new Map,this.fu=wl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function k3(n,e,t=!0){const r=fg(n);let a;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await BD(r,e,t,!0),a}async function O3(n,e){const t=fg(n);await BD(t,e,!0,!1)}async function BD(n,e,t,r){const a=await wm(n.localStore,Wr(e)),o=a.targetId,c=n.sharedClientState.addLocalQueryTarget(o,t);let d;return r&&(d=await V0(n,e,o,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&hg(n.remoteStore,a),d}async function V0(n,e,t,r,a){n.pu=(y,E,I)=>(async function(O,M,K,F){let G=M.view.ru(K);G.Ss&&(G=await Qb(O.localStore,M.query,!1).then((({documents:R})=>M.view.ru(R,G))));const le=F&&F.targetChanges.get(M.targetId),se=F&&F.targetMismatches.get(M.targetId)!=null,ue=M.view.applyChanges(G,O.isPrimaryClient,le,se);return e_(O,M.targetId,ue.au),ue.snapshot})(n,y,E,I);const o=await Qb(n.localStore,e,!0),c=new C3(e,o.ks),d=c.ru(o.documents),f=Nh.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),m=c.applyChanges(d,n.isPrimaryClient,f);e_(n,t,m.au);const v=new R3(e,t,c);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function P3(n,e,t){const r=Se(n),a=r.Tu.get(e),o=r.Iu.get(a.targetId);if(o.length>1)return r.Iu.set(a.targetId,o.filter((c=>!ng(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Jc(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&Zc(r.remoteStore,a.targetId),tu(r,a.targetId)})).catch(vo)):(tu(r,a.targetId),await Jc(r.localStore,a.targetId,!0))}async function M3(n,e){const t=Se(n),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Zc(t.remoteStore,r.targetId))}async function V3(n,e,t){const r=B0(n);try{const a=await(function(c,d){const f=Se(c),m=bt.now(),v=d.reduce(((I,L)=>I.add(L.key)),Qe());let y,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let L=Yr(),O=Qe();return f.xs.getEntries(I,v).next((M=>{L=M,L.forEach(((K,F)=>{F.isValidDocument()||(O=O.add(K))}))})).next((()=>f.localDocuments.getOverlayedDocuments(I,L))).next((M=>{y=M;const K=[];for(const F of d){const G=r5(F,y.get(F.key).overlayedDocument);G!=null&&K.push(new sa(F.key,G,yR(G.value.mapValue),cr.exists(!0)))}return f.mutationQueue.addMutationBatch(I,m,K,d)})).next((M=>{E=M;const K=M.applyToLocalDocumentSet(y,O);return f.documentOverlayCache.saveOverlays(I,M.batchId,K)}))})).then((()=>({batchId:E.batchId,changes:NR(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,d,f){let m=c.du[c.currentUser.toKey()];m||(m=new Lt(Le)),m=m.insert(d,f),c.du[c.currentUser.toKey()]=m})(r,a.batchId,t),await wo(r,a.changes),await fu(r.remoteStore)}catch(a){const o=N0(a,"Failed to persist write");t.reject(o)}}async function jD(n,e){const t=Se(n);try{const r=await Z5(t.localStore,e);e.targetChanges.forEach(((a,o)=>{const c=t.Au.get(o);c&&(Ie(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Ie(c.hu,14607):a.removedDocuments.size>0&&(Ie(c.hu,42227),c.hu=!1))})),await wo(t,r,e)}catch(r){await vo(r)}}function eI(n,e,t){const r=Se(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((o,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const f=Se(c);f.onlineState=d;let m=!1;f.queries.forEach(((v,y)=>{for(const E of y.ba)E.va(d)&&(m=!0)})),m&&P0(f)})(r.eventManager,e),a.length&&r.Pu.J_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function L3(n,e,t){const r=Se(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),o=a&&a.key;if(o){let c=new Lt(be.comparator);c=c.insert(o,nn.newNoDocument(o,ke.min()));const d=Qe().add(o),f=new Dh(ke.min(),new Map,new Lt(Le),c,d);await jD(r,f),r.Ru=r.Ru.remove(o),r.Au.delete(e),z0(r)}else await Jc(r.localStore,e,!1).then((()=>tu(r,e,t))).catch(vo)}async function U3(n,e){const t=Se(n),r=e.batch.batchId;try{const a=await J5(t.localStore,e);U0(t,r,null),L0(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await wo(t,a)}catch(a){await vo(a)}}async function z3(n,e,t){const r=Se(n);try{const a=await(function(c,d){const f=Se(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let v;return f.mutationQueue.lookupMutationBatch(m,d).next((y=>(Ie(y!==null,37113),v=y.keys(),f.mutationQueue.removeMutationBatch(m,y)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v))).next((()=>f.localDocuments.getDocuments(m,v)))}))})(r.localStore,e);U0(r,e,t),L0(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await wo(r,a)}catch(a){await vo(a)}}function L0(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function U0(n,e,t){const r=Se(n);let a=r.du[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),r.du[r.currentUser.toKey()]=a}}function tu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||$D(n,r)}))}function $D(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(Zc(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),z0(n))}function e_(n,e,t){for(const r of t)r instanceof UD?(n.Vu.addReference(r.key,e),B3(n,r)):r instanceof zD?(he(mu,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||$D(n,r.key)):xe(19791,{wu:r})}function B3(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(he(mu,"New document in limbo: "+t),n.Eu.add(r),z0(n))}function z0(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new be(ut.fromString(e)),r=n.fu.next();n.Au.set(r,new D3(t)),n.Ru=n.Ru.insert(t,r),hg(n.remoteStore,new Gs(Wr(Ch(t.path)),r,"TargetPurposeLimboResolution",Or.ce))}}async function wo(n,e,t){const r=Se(n),a=[],o=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,f)=>{c.push(r.pu(f,e,t).then((m=>{if((m||t)&&r.isPrimaryClient){const v=m?!m.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(m){a.push(m);const v=T0.Es(f.targetId,m);o.push(v)}})))})),await Promise.all(c),r.Pu.J_(a),await(async function(f,m){const v=Se(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>H.forEach(m,(E=>H.forEach(E.Ts,(I=>v.persistence.referenceDelegate.addReference(y,E.targetId,I))).next((()=>H.forEach(E.Is,(I=>v.persistence.referenceDelegate.removeReference(y,E.targetId,I)))))))))}catch(y){if(!yo(y))throw y;he(S0,"Failed to update sequence numbers: "+y)}for(const y of m){const E=y.targetId;if(!y.fromCache){const I=v.vs.get(E),L=I.snapshotVersion,O=I.withLastLimboFreeSnapshotVersion(L);v.vs=v.vs.insert(E,O)}}})(r.localStore,o))}async function j3(n,e){const t=Se(n);if(!t.currentUser.isEqual(e)){he(mu,"User change. New user:",e.toKey());const r=await wD(t.localStore,e);t.currentUser=e,(function(o,c){o.mu.forEach((d=>{d.forEach((f=>{f.reject(new pe(te.CANCELLED,c))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wo(t,r.Ns)}}function $3(n,e){const t=Se(n),r=t.Au.get(e);if(r&&r.hu)return Qe().add(r.key);{let a=Qe();const o=t.Iu.get(e);if(!o)return a;for(const c of o){const d=t.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}async function F3(n,e){const t=Se(n),r=await Qb(t.localStore,e.query,!0),a=e.view.cu(r);return t.isPrimaryClient&&e_(t,e.targetId,a.au),a}async function q3(n,e){const t=Se(n);return TD(t.localStore,e).then((r=>wo(t,r)))}async function H3(n,e,t,r){const a=Se(n),o=await(function(d,f){const m=Se(d),v=Se(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",(y=>v.Xn(y,f).next((E=>E?m.localDocuments.getDocuments(y,E):H.resolve(null)))))})(a.localStore,e);o!==null?(t==="pending"?await fu(a.remoteStore):t==="acknowledged"||t==="rejected"?(U0(a,e,r||null),L0(a,e),(function(d,f){Se(Se(d).mutationQueue).nr(f)})(a.localStore,e)):xe(6720,"Unknown batchState",{bu:t}),await wo(a,o)):he(mu,"Cannot apply mutation batch with id: "+e)}async function G3(n,e){const t=Se(n);if(fg(t),B0(t),e===!0&&t.gu!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),a=await tI(t,r.toArray());t.gu=!0,await Jb(t.remoteStore,!0);for(const o of a)hg(t.remoteStore,o)}else if(e===!1&&t.gu!==!1){const r=[];let a=Promise.resolve();t.Iu.forEach(((o,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):a=a.then((()=>(tu(t,c),Jc(t.localStore,c,!0)))),Zc(t.remoteStore,c)})),await a,await tI(t,r),(function(c){const d=Se(c);d.Au.forEach(((f,m)=>{Zc(d.remoteStore,m)})),d.Vu.zr(),d.Au=new Map,d.Ru=new Lt(be.comparator)})(t),t.gu=!1,await Jb(t.remoteStore,!1)}}async function tI(n,e,t){const r=Se(n),a=[],o=[];for(const c of e){let d;const f=r.Iu.get(c);if(f&&f.length!==0){d=await wm(r.localStore,Wr(f[0]));for(const m of f){const v=r.Tu.get(m),y=await F3(r,v);y.snapshot&&o.push(y.snapshot)}}else{const m=await xD(r.localStore,c);d=await wm(r.localStore,m),await V0(r,FD(m),c,!1,d.resumeToken)}a.push(d)}return r.Pu.J_(o),a}function FD(n){return AR(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function K3(n){return(function(t){return Se(Se(t).persistence).hs()})(Se(n).localStore)}async function Y3(n,e,t,r){const a=Se(n);if(a.gu)return void he(mu,"Ignoring unexpected query state notification.");const o=a.Iu.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const c=await TD(a.localStore,CR(o[0])),d=Dh.createSynthesizedRemoteEventForCurrentChange(e,t==="current",hn.EMPTY_BYTE_STRING);await wo(a,c,d);break}case"rejected":await Jc(a.localStore,e,!0),tu(a,e,r);break;default:xe(64155,t)}}async function Q3(n,e,t){const r=fg(n);if(r.gu){for(const a of e){if(r.Iu.has(a)&&r.sharedClientState.isActiveQueryTarget(a)){he(mu,"Adding an already active target "+a);continue}const o=await xD(r.localStore,a),c=await wm(r.localStore,o);await V0(r,FD(o),c.targetId,!1,c.resumeToken),hg(r.remoteStore,c)}for(const a of t)r.Iu.has(a)&&await Jc(r.localStore,a,!1).then((()=>{Zc(r.remoteStore,a),tu(r,a)})).catch(vo)}}function fg(n){const e=Se(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=jD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L3.bind(null,e),e.Pu.J_=A3.bind(null,e.eventManager),e.Pu.yu=I3.bind(null,e.eventManager),e}function B0(n){const e=Se(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=U3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=z3.bind(null,e),e}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ug(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return _D(this.persistence,new bD,e.initialUser,this.serializer)}Cu(e){return new E0(cg.Vi,this.serializer)}Du(e){return new RD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class W3 extends lh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ie(this.persistence.referenceDelegate instanceof _m,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new fD(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?or.withCacheSize(this.cacheSizeBytes):or.DEFAULT;return new E0((r=>_m.Vi(r,t)),this.serializer)}}class qD extends lh{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await B0(this.xu.syncEngine),await fu(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return _D(this.persistence,new bD,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new fD(r,e.asyncQueue,t)}Mu(e,t){const r=new n6(t,this.persistence);return new t6(e.asyncQueue,r)}Cu(e){const t=yD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?or.withCacheSize(this.cacheSizeBytes):or.DEFAULT;return new x0(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,DD(),Gp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new RD}}class X3 extends qD{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof Wy&&(this.sharedClientState.syncEngine={So:H3.bind(null,t),Do:Y3.bind(null,t),Co:Q3.bind(null,t),hs:K3.bind(null,t),bo:q3.bind(null,t)},await this.sharedClientState.start()),await this.persistence.zi((async r=>{await G3(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const t=DD();if(!Wy.v(t))throw new pe(te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=yD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Wy(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class ch{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>eI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=j3.bind(null,this.syncEngine),await Jb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new S3})()}createDatastore(e){const t=ug(e.databaseInfo.databaseId),r=a3(e.databaseInfo);return d3(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,o,c,d){return new f3(r,a,o,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>eI(this.syncEngine,t,0)),(function(){return YA.v()?new YA:new n3})())}createSyncEngine(e,t){return(function(a,o,c,d,f,m,v){const y=new N3(a,o,c,d,f,m);return v&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Se(t);he(El,"RemoteStore shutting down."),r.Ea.add(5),await kh(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ch.provider={build:()=>new ch};class j0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):dn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const uo="FirestoreClient";class J3{constructor(e,t,r,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=a,this.user=ar.UNAUTHENTICATED,this.clientId=t0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{he(uo,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(he(uo,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=N0(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Jy(n,e){n.asyncQueue.verifyOperationInProgress(),he(uo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await wD(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function nI(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Z3(n);he(uo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>WA(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>WA(e.remoteStore,a))),n._onlineComponents=e}async function Z3(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he(uo,"Using user provided OfflineComponentProvider");try{await Jy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===te.FAILED_PRECONDITION||a.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Uc("Error using user provided cache. Falling back to memory cache: "+t),await Jy(n,new lh)}}else he(uo,"Using default OfflineComponentProvider"),await Jy(n,new W3(void 0));return n._offlineComponents}async function HD(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he(uo,"Using user provided OnlineComponentProvider"),await nI(n,n._uninitializedComponentsProvider._online)):(he(uo,"Using default OnlineComponentProvider"),await nI(n,new ch))),n._onlineComponents}function e9(n){return HD(n).then((e=>e.syncEngine))}async function Sm(n){const e=await HD(n),t=e.eventManager;return t.onListen=k3.bind(null,e.syncEngine),t.onUnlisten=P3.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=O3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=M3.bind(null,e.syncEngine),t}function t9(n,e,t,r){const a=new j0(r),o=new M0(e,a,t);return n.asyncQueue.enqueueAndForget((async()=>k0(await Sm(n),o))),()=>{a.Nu(),n.asyncQueue.enqueueAndForget((async()=>O0(await Sm(n),o)))}}function n9(n,e,t={}){const r=new ls;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,f,m){const v=new j0({next:E=>{v.Nu(),c.enqueueAndForget((()=>O0(o,y)));const I=E.docs.has(d);!I&&E.fromCache?m.reject(new pe(te.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&E.fromCache&&f&&f.source==="server"?m.reject(new pe(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),y=new M0(Ch(d.path),v,{includeMetadataChanges:!0,Ka:!0});return k0(o,y)})(await Sm(n),n.asyncQueue,e,t,r))),r.promise}function r9(n,e,t={}){const r=new ls;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,d,f,m){const v=new j0({next:E=>{v.Nu(),c.enqueueAndForget((()=>O0(o,y))),E.fromCache&&f.source==="server"?m.reject(new pe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),y=new M0(d,v,{includeMetadataChanges:!0,Ka:!0});return k0(o,y)})(await Sm(n),n.asyncQueue,e,t,r))),r.promise}function i9(n,e){const t=new ls;return n.asyncQueue.enqueueAndForget((async()=>V3(await e9(n),e,t))),t.promise}function GD(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const s9="ComponentProvider",rI=new Map;function a9(n,e,t,r,a){return new D6(n,e,t,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,GD(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,r)}const o9="firestore.googleapis.com",iI=!0;class sI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=o9,this.ssl=iI}else this.host=e.host,this.ssl=e.ssl??iI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hD)throw new pe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GD(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $0{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new $L;switch(r.type){case"firstParty":return new HL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=rI.get(t);r&&(he(s9,"Removing Datastore"),rI.delete(t),r.terminate())})(this),Promise.resolve()}}class $i{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $i(this.firestore,e,this._query)}}class rn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new io(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}toJSON(){return{type:rn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Sh(t,rn._jsonSchema))return new rn(e,r||null,new be(ut.fromString(t.referencePath)))}}rn._jsonSchemaVersion="firestore/documentReference/1.0",rn._jsonSchema={type:xn("string",rn._jsonSchemaVersion),referencePath:xn("string")};class io extends $i{constructor(e,t,r){super(e,t,Ch(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new be(e))}withConverter(e){return new io(this.firestore,e,this._path)}}function Cc(n,e,...t){if(n=Ht(n),HC("collection","path",e),n instanceof $0){const r=ut.fromString(e,...t);return QS(r),new io(n,null,r)}{if(!(n instanceof rn||n instanceof io))throw new pe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ut.fromString(e,...t));return QS(r),new io(n.firestore,null,r)}}function un(n,e,...t){if(n=Ht(n),arguments.length===1&&(e=t0.newId()),HC("doc","path",e),n instanceof $0){const r=ut.fromString(e,...t);return YS(r),new rn(n,null,new be(r))}{if(!(n instanceof rn||n instanceof io))throw new pe(te.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ut.fromString(e,...t));return YS(r),new rn(n.firestore,n instanceof io?n.converter:null,new be(r))}}const aI="AsyncQueue";class oI{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ND(this,"async_queue_retry"),this._c=()=>{const r=Gp();r&&he(aI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Gp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Gp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ls;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!yo(e))throw e;he(aI,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,dn("INTERNAL UNHANDLED ERROR: ",lI(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=D0.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&xe(47125,{Pc:lI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function lI(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class na extends $0{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new oI,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new oI(e),this._firestoreClient=void 0,await e}}}function l9(n,e,t){t||(t=dm);const r=ou(n,"firestore");if(r.isInitialized(t)){const a=r.getImmediate({identifier:t}),o=r.getOptions(t);if(so(o,e))return a;throw new pe(te.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new pe(te.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hD)throw new pe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&au(e.host)&&K1(e.host),r.initialize({options:e,instanceIdentifier:t})}function pg(n){if(n._terminated)throw new pe(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||c9(n),n._firestoreClient}function c9(n){const e=n._freezeSettings(),t=a9(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new J3(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(n._componentsProvider))}class vi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vi(hn.fromBase64String(e))}catch(t){throw new pe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new vi(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Sh(e,vi._jsonSchema))return vi.fromBase64String(e.bytes)}}vi._jsonSchemaVersion="firestore/bytes/1.0",vi._jsonSchema={type:xn("string",vi._jsonSchemaVersion),bytes:xn("string")};class F0{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gu{constructor(e){this._methodName=e}}class cs{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:cs._jsonSchemaVersion}}static fromJSON(e){if(Sh(e,cs._jsonSchema))return new cs(e.latitude,e.longitude)}}cs._jsonSchemaVersion="firestore/geoPoint/1.0",cs._jsonSchema={type:xn("string",cs._jsonSchemaVersion),latitude:xn("number"),longitude:xn("number")};class Ui{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Sh(e,Ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ui(e.vectorValues);throw new pe(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ui._jsonSchemaVersion="firestore/vectorValue/1.0",Ui._jsonSchema={type:xn("string",Ui._jsonSchemaVersion),vectorValues:xn("object")};const u9=/^__.*__$/;class d9{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new sa(e,this.data,this.fieldMask,t,this.fieldTransforms):new hu(e,this.data,t,this.fieldTransforms)}}class KD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new sa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function YD(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{dataSource:n})}}class mg{constructor(e,t,r,a,o,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new mg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Am(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(YD(this.dataSource)&&u9.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class h9{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ug(e)}createContext(e,t,r,a=!1){return new mg({dataSource:e,methodName:t,targetDoc:r,path:Qt.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Oh(n){const e=n._freezeSettings(),t=ug(n._databaseId);return new h9(n._databaseId,!!e.ignoreUndefinedProperties,t)}function QD(n,e,t,r,a,o={}){const c=n.createContext(o.merge||o.mergeFields?2:0,e,t,a);K0("Data must be an object, but it was:",c,r);const d=XD(r,c);let f,m;if(o.merge)f=new Pr(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const v=[];for(const y of o.mergeFields){const E=xl(e,y,t);if(!c.contains(E))throw new pe(te.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);e2(v,E)||v.push(E)}f=new Pr(v),m=c.fieldTransforms.filter((y=>f.covers(y.field)))}else f=null,m=c.fieldTransforms;return new d9(new lr(d),f,m)}class gg extends gu{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gg}}function f9(n,e,t){return new mg({dataSource:3,targetDoc:e.settings.targetDoc,methodName:n._methodName,arrayElement:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class q0 extends gu{_toFieldTransform(e){return new ig(e.path,new Yc)}isEqual(e){return e instanceof q0}}class H0 extends gu{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=f9(this,e,!0),r=this.Ac.map((o=>vu(o,t))),a=new yl(r);return new ig(e.path,a)}isEqual(e){return e instanceof H0&&so(this.Ac,e.Ac)}}class G0 extends gu{constructor(e,t){super(e),this.Vc=t}_toFieldTransform(e){const t=new Wc(e.serializer,PR(e.serializer,this.Vc));return new ig(e.path,t)}isEqual(e){return e instanceof G0&&this.Vc===e.Vc}}function p9(n,e,t,r){const a=n.createContext(1,e,t);K0("Data must be an object, but it was:",a,r);const o=[],c=lr.empty();bo(r,((f,m)=>{const v=ZD(e,f,t);m=Ht(m);const y=a.childContextForFieldPath(v);if(m instanceof gg)o.push(v);else{const E=vu(m,y);E!=null&&(o.push(v),c.set(v,E))}}));const d=new Pr(o);return new KD(c,d,a.fieldTransforms)}function m9(n,e,t,r,a,o){const c=n.createContext(1,e,t),d=[xl(e,r,t)],f=[a];if(o.length%2!=0)throw new pe(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)d.push(xl(e,o[E])),f.push(o[E+1]);const m=[],v=lr.empty();for(let E=d.length-1;E>=0;--E)if(!e2(m,d[E])){const I=d[E];let L=f[E];L=Ht(L);const O=c.childContextForFieldPath(I);if(L instanceof gg)m.push(I);else{const M=vu(L,O);M!=null&&(m.push(I),v.set(I,M))}}const y=new Pr(m);return new KD(v,y,c.fieldTransforms)}function WD(n,e,t,r=!1){return vu(t,n.createContext(r?4:3,e))}function vu(n,e){if(JD(n=Ht(n)))return K0("Unsupported field value:",e,n),XD(n,e);if(n instanceof gu)return(function(r,a){if(!YD(a.dataSource))throw a.createError(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,a){const o=[];let c=0;for(const d of r){let f=vu(d,a.childContextForArray(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(n,e)}return(function(r,a){if((r=Ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return PR(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=bt.fromDate(r);return{timestampValue:Xc(a.serializer,o)}}if(r instanceof bt){const o=new bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xc(a.serializer,o)}}if(r instanceof cs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vi)return{bytesValue:HR(a.serializer,r._byteString)};if(r instanceof rn){const o=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:y0(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Ui)return(function(c,d){const f=c instanceof Ui?c.toArray():c;return{mapValue:{fields:{[l0]:{stringValue:c0},[Hc]:{arrayValue:{values:f.map((v=>{if(typeof v!="number")throw d.createError("VectorValues must only contain numeric values.");return f0(d.serializer,v)}))}}}}}})(r,a);if(nD(r))return r._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Km(r)}`)})(n,e)}function XD(n,e){const t={};return cR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bo(n,((r,a)=>{const o=vu(a,e.childContextForField(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function JD(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof bt||n instanceof cs||n instanceof vi||n instanceof rn||n instanceof gu||n instanceof Ui||nD(n))}function K0(n,e,t){if(!JD(t)||!GC(t)){const r=Km(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function xl(n,e,t){if((e=Ht(e))instanceof F0)return e._internalPath;if(typeof e=="string")return ZD(n,e);throw Am("Field path arguments must be of type string or ",n,!1,void 0,t)}const g9=new RegExp("[~\\*/\\[\\]]");function ZD(n,e,t){if(e.search(g9)>=0)throw Am(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new F0(...e.split("."))._internalPath}catch{throw Am(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Am(n,e,t,r,a){const o=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${r}`),c&&(f+=` in document ${a}`),f+=")"),new pe(te.INVALID_ARGUMENT,d+n+f)}function e2(n,e){return n.some((t=>t.isEqual(e)))}class v9{convertValue(e,t="none"){switch(ao(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return bo(e,((a,o)=>{r[a]=this.convertValue(o,t)})),r}convertVectorValue(e){const t=e.fields?.[Hc].arrayValue?.values?.map((r=>qt(r.doubleValue)));return new Ui(t)}convertGeoPoint(e){return new cs(qt(e.latitude),qt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=eg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ih(e));default:return null}}convertTimestamp(e){const t=ea(e);return new bt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ut.fromString(e);Ie(tD(r),9688,{name:e});const a=new ml(r.get(1),r.get(3)),o=new be(r.popFirst(5));return a.isEqual(t)||dn(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class Y0 extends v9{constructor(e){super(),this.firestore=e}convertBytes(e){return new vi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,t)}}function Us(){return new q0("serverTimestamp")}function Zy(...n){return new H0("arrayUnion",n)}function y9(n){return new G0("increment",n)}const cI="@firebase/firestore",uI="4.11.0";function dI(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1})(n,["next","error","complete"])}class Q0{constructor(e,t,r,a,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new b9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(xl("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class b9 extends Q0{data(){return super.data()}}function t2(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class W0{}class Ph extends W0{}function Kp(n,e,...t){let r=[];e instanceof W0&&r.push(e),r=r.concat(t),(function(o){const c=o.filter((f=>f instanceof X0)).length,d=o.filter((f=>f instanceof vg)).length;if(c>1||c>0&&d>0)throw new pe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class vg extends Ph{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new vg(e,t,r)}_apply(e){const t=this._parse(e);return r2(e._query,t),new $i(e.firestore,e.converter,jb(e._query,t))}_parse(e){const t=Oh(e.firestore);return(function(o,c,d,f,m,v,y){let E;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new pe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){fI(y,v);const L=[];for(const O of y)L.push(hI(f,o,O));E={arrayValue:{values:L}}}else E=hI(f,o,y)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||fI(y,v),E=WD(d,c,y,v==="in"||v==="not-in");return it.create(m,v,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function vp(n,e,t){const r=e,a=xl("where",n);return vg._create(a,r,t)}class X0 extends W0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new X0(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:_t.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,o){let c=a;const d=o.getFlattenedFilters();for(const f of d)r2(c,f),c=jb(c,f)})(e._query,t),new $i(e.firestore,e.converter,jb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class J0 extends Ph{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new J0(e,t)}_apply(e){const t=(function(a,o,c){if(a.startAt!==null)throw new pe(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new pe(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new oh(o,c)})(e._query,this._field,this._direction);return new $i(e.firestore,e.converter,q6(e._query,t))}}function t_(n,e="asc"){const t=e,r=xl("orderBy",n);return J0._create(r,t)}class Z0 extends Ph{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Z0(e,t,r)}_apply(e){return new $i(e.firestore,e.converter,pm(e._query,this._limit,this._limitType))}}function n_(n){return JL("limit",n),Z0._create("limit",n,"F")}class ew extends Ph{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new ew(e,t,r)}_apply(e){const t=n2(e,this.type,this._docOrFields,this._inclusive);return new $i(e.firestore,e.converter,H6(e._query,t))}}function _9(...n){return ew._create("startAt",n,!0)}class tw extends Ph{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new tw(e,t,r)}_apply(e){const t=n2(e,this.type,this._docOrFields,this._inclusive);return new $i(e.firestore,e.converter,G6(e._query,t))}}function w9(...n){return tw._create("endAt",n,!0)}function n2(n,e,t,r){if(t[0]=Ht(t[0]),t[0]instanceof Q0)return(function(o,c,d,f,m){if(!f)throw new pe(te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const v=[];for(const y of Oc(o))if(y.field.isKeyField())v.push(gl(c,f.key));else{const E=f.data.field(y.field);if(Zm(E))throw new pe(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(E===null){const I=y.field.canonicalString();throw new pe(te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${I}' (used as the orderBy) does not exist.`)}v.push(E)}return new lo(v,m)})(n._query,n.firestore._databaseId,e,t[0]._document,r);{const a=Oh(n.firestore);return(function(c,d,f,m,v,y){const E=c.explicitOrderBy;if(v.length>E.length)throw new pe(te.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const I=[];for(let L=0;L<v.length;L++){const O=v[L];if(E[L].field.isKeyField()){if(typeof O!="string")throw new pe(te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof O}`);if(!d0(c)&&O.indexOf("/")!==-1)throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${O}' contains a slash.`);const M=c.path.child(ut.fromString(O));if(!be.isDocumentKey(M))throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${M}' is not because it contains an odd number of segments.`);const K=new be(M);I.push(gl(d,K))}else{const M=WD(f,m,O);I.push(M)}}return new lo(I,y)})(n._query,n.firestore._databaseId,a,e,t,r)}}function hI(n,e,t){if(typeof(t=Ht(t))=="string"){if(t==="")throw new pe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!d0(e)&&t.indexOf("/")!==-1)throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ut.fromString(t));if(!be.isDocumentKey(r))throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gl(n,new be(r))}if(t instanceof rn)return gl(n,t._key);throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Km(t)}.`)}function fI(n,e){if(!Array.isArray(n)||n.length===0)throw new pe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function r2(n,e){const t=(function(a,o){for(const c of a)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new pe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function i2(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class E9{constructor(e){let t;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),t=e.tabManager):(t=A9(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function x9(n){return new E9(n)}class T9{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=ch.provider,this._offlineComponentProvider={build:t=>new qD(t,e?.cacheSizeBytes,this.forceOwnership)}}}class S9{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=ch.provider,this._offlineComponentProvider={build:t=>new X3(t,e?.cacheSizeBytes)}}}function A9(n){return new T9(n?.forceOwnership)}function I9(){return new S9}class Od{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dl extends Q0{constructor(e,t,r,a,o,c){super(e,t,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Yp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(xl("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=dl._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}dl._jsonSchemaVersion="firestore/documentSnapshot/1.0",dl._jsonSchema={type:xn("string",dl._jsonSchemaVersion),bundleSource:xn("string","DocumentSnapshot"),bundleName:xn("string"),bundle:xn("string")};class Yp extends dl{data(e={}){return super.data(e)}}class hl{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Od(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Yp(this._firestore,this._userDataWriter,r.key,r,new Od(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const f=new Yp(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Od(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>o||d.type!==3)).map((d=>{const f=new Yp(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Od(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,v=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:C9(d.type),doc:f,oldIndex:m,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=hl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=t0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function C9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:n})}}hl._jsonSchemaVersion="firestore/querySnapshot/1.0",hl._jsonSchema={type:xn("string",hl._jsonSchemaVersion),bundleSource:xn("string","QuerySnapshot"),bundleName:xn("string"),bundle:xn("string")};function R9(n){n=Qr(n,rn);const e=Qr(n.firestore,na),t=pg(e);return n9(t,n._key).then((r=>s2(e,n,r)))}function D9(n){n=Qr(n,$i);const e=Qr(n.firestore,na),t=pg(e),r=new Y0(e);return t2(n._query),r9(t,n._query).then((a=>new hl(e,r,n,a)))}function wc(n,e,t){n=Qr(n,rn);const r=Qr(n.firestore,na),a=i2(n.converter,e,t),o=Oh(r);return yg(r,[QD(o,"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,cr.none())])}function zs(n,e,t,...r){n=Qr(n,rn);const a=Qr(n.firestore,na),o=Oh(a);let c;return c=typeof(e=Ht(e))=="string"||e instanceof F0?m9(o,"updateDoc",n._key,e,t,r):p9(o,"updateDoc",n._key,e),yg(a,[c.toMutation(n._key,cr.exists(!0))])}function Ed(n){return yg(Qr(n.firestore,na),[new ag(n._key,cr.none())])}function pI(n,e){const t=Qr(n.firestore,na),r=un(n),a=i2(n.converter,e),o=Oh(n.firestore);return yg(t,[QD(o,"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,cr.exists(!1))]).then((()=>r))}function xd(n,...e){n=Ht(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||dI(e[r])||(t=e[r++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(dI(e[r])){const m=e[r];e[r]=m.next?.bind(m),e[r+1]=m.error?.bind(m),e[r+2]=m.complete?.bind(m)}let o,c,d;if(n instanceof rn)c=Qr(n.firestore,na),d=Ch(n._key.path),o={next:m=>{e[r]&&e[r](s2(c,n,m))},error:e[r+1],complete:e[r+2]};else{const m=Qr(n,$i);c=Qr(m.firestore,na),d=m._query;const v=new Y0(c);o={next:y=>{e[r]&&e[r](new hl(c,v,m,y))},error:e[r+1],complete:e[r+2]},t2(n._query)}const f=pg(c);return t9(f,d,a,o)}function yg(n,e){const t=pg(n);return i9(t,e)}function s2(n,e,t){const r=t.docs.get(e._key),a=new Y0(n);return new dl(n,a,e._key,r,new Od(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){BL(lu),ds(new zi("firestore",((r,{instanceIdentifier:a,options:o})=>{const c=r.getProvider("app").getImmediate(),d=new na(new FL(r.getProvider("auth-internal")),new GL(c,r.getProvider("app-check-internal")),N6(c,a),c);return o={useFetchStreams:t,...o},d._setSettings(o),d}),"PUBLIC").setMultipleInstances(!0)),bi(cI,uI,e),bi(cI,uI,"esm2020")})();var N9="firebase",k9="12.9.0";bi(N9,k9,"app");const a2="@firebase/installations",nw="0.6.19";const o2=1e4,l2=`w:${nw}`,c2="FIS_v2",O9="https://firebaseinstallations.googleapis.com/v1",P9=3600*1e3,M9="installations",V9="Installations";const L9={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Tl=new Il(M9,V9,L9);function u2(n){return n instanceof fs&&n.code.includes("request-failed")}function d2({projectId:n}){return`${O9}/projects/${n}/installations`}function h2(n){return{token:n.token,requestStatus:2,expiresIn:z9(n.expiresIn),creationTime:Date.now()}}async function f2(n,e){const r=(await e.json()).error;return Tl.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function p2({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function U9(n,{refreshToken:e}){const t=p2(n);return t.append("Authorization",B9(e)),t}async function m2(n){const e=await n();return e.status>=500&&e.status<600?n():e}function z9(n){return Number(n.replace("s","000"))}function B9(n){return`${c2} ${n}`}async function j9({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=d2(n),a=p2(n),o=e.getImmediate({optional:!0});if(o){const m=await o.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const c={fid:t,authVersion:c2,appId:n.appId,sdkVersion:l2},d={method:"POST",headers:a,body:JSON.stringify(c)},f=await m2(()=>fetch(r,d));if(f.ok){const m=await f.json();return{fid:m.fid||t,registrationStatus:2,refreshToken:m.refreshToken,authToken:h2(m.authToken)}}else throw await f2("Create Installation",f)}function g2(n){return new Promise(e=>{setTimeout(e,n)})}function $9(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}const F9=/^[cdef][\w-]{21}$/,r_="";function q9(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=H9(n);return F9.test(t)?t:r_}catch{return r_}}function H9(n){return $9(n).substr(0,22)}function bg(n){return`${n.appName}!${n.appId}`}const v2=new Map;function y2(n,e){const t=bg(n);b2(t,e),G9(t,e)}function b2(n,e){const t=v2.get(n);if(t)for(const r of t)r(e)}function G9(n,e){const t=K9();t&&t.postMessage({key:n,fid:e}),Y9()}let al=null;function K9(){return!al&&"BroadcastChannel"in self&&(al=new BroadcastChannel("[Firebase] FID Change"),al.onmessage=n=>{b2(n.data.key,n.data.fid)}),al}function Y9(){v2.size===0&&al&&(al.close(),al=null)}const Q9="firebase-installations-database",W9=1,Sl="firebase-installations-store";let eb=null;function rw(){return eb||(eb=Fm(Q9,W9,{upgrade:(n,e)=>{e===0&&n.createObjectStore(Sl)}})),eb}async function Im(n,e){const t=bg(n),a=(await rw()).transaction(Sl,"readwrite"),o=a.objectStore(Sl),c=await o.get(t);return await o.put(e,t),await a.done,(!c||c.fid!==e.fid)&&y2(n,e.fid),e}async function _2(n){const e=bg(n),r=(await rw()).transaction(Sl,"readwrite");await r.objectStore(Sl).delete(e),await r.done}async function _g(n,e){const t=bg(n),a=(await rw()).transaction(Sl,"readwrite"),o=a.objectStore(Sl),c=await o.get(t),d=e(c);return d===void 0?await o.delete(t):await o.put(d,t),await a.done,d&&(!c||c.fid!==d.fid)&&y2(n,d.fid),d}async function iw(n){let e;const t=await _g(n.appConfig,r=>{const a=X9(r),o=J9(n,a);return e=o.registrationPromise,o.installationEntry});return t.fid===r_?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function X9(n){const e=n||{fid:q9(),registrationStatus:0};return w2(e)}function J9(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Tl.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Z9(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:eU(n)}:{installationEntry:e}}async function Z9(n,e){try{const t=await j9(n,e);return Im(n.appConfig,t)}catch(t){throw u2(t)&&t.customData.serverCode===409?await _2(n.appConfig):await Im(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function eU(n){let e=await mI(n.appConfig);for(;e.registrationStatus===1;)await g2(100),e=await mI(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await iw(n);return r||t}return e}function mI(n){return _g(n,e=>{if(!e)throw Tl.create("installation-not-found");return w2(e)})}function w2(n){return tU(n)?{fid:n.fid,registrationStatus:0}:n}function tU(n){return n.registrationStatus===1&&n.registrationTime+o2<Date.now()}async function nU({appConfig:n,heartbeatServiceProvider:e},t){const r=rU(n,t),a=U9(n,t),o=e.getImmediate({optional:!0});if(o){const m=await o.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const c={installation:{sdkVersion:l2,appId:n.appId}},d={method:"POST",headers:a,body:JSON.stringify(c)},f=await m2(()=>fetch(r,d));if(f.ok){const m=await f.json();return h2(m)}else throw await f2("Generate Auth Token",f)}function rU(n,{fid:e}){return`${d2(n)}/${e}/authTokens:generate`}async function sw(n,e=!1){let t;const r=await _g(n.appConfig,o=>{if(!E2(o))throw Tl.create("not-registered");const c=o.authToken;if(!e&&aU(c))return o;if(c.requestStatus===1)return t=iU(n,e),o;{if(!navigator.onLine)throw Tl.create("app-offline");const d=lU(o);return t=sU(n,d),d}});return t?await t:r.authToken}async function iU(n,e){let t=await gI(n.appConfig);for(;t.authToken.requestStatus===1;)await g2(100),t=await gI(n.appConfig);const r=t.authToken;return r.requestStatus===0?sw(n,e):r}function gI(n){return _g(n,e=>{if(!E2(e))throw Tl.create("not-registered");const t=e.authToken;return cU(t)?{...e,authToken:{requestStatus:0}}:e})}async function sU(n,e){try{const t=await nU(n,e),r={...e,authToken:t};return await Im(n.appConfig,r),t}catch(t){if(u2(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await _2(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Im(n.appConfig,r)}throw t}}function E2(n){return n!==void 0&&n.registrationStatus===2}function aU(n){return n.requestStatus===2&&!oU(n)}function oU(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+P9}function lU(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function cU(n){return n.requestStatus===1&&n.requestTime+o2<Date.now()}async function uU(n){const e=n,{installationEntry:t,registrationPromise:r}=await iw(e);return r?r.catch(console.error):sw(e).catch(console.error),t.fid}async function dU(n,e=!1){const t=n;return await hU(t),(await sw(t,e)).token}async function hU(n){const{registrationPromise:e}=await iw(n);e&&await e}function fU(n){if(!n||!n.options)throw tb("App Configuration");if(!n.name)throw tb("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw tb(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function tb(n){return Tl.create("missing-app-config-values",{valueName:n})}const x2="installations",pU="installations-internal",mU=n=>{const e=n.getProvider("app").getImmediate(),t=fU(e),r=ou(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},gU=n=>{const e=n.getProvider("app").getImmediate(),t=ou(e,x2).getImmediate();return{getId:()=>uU(t),getToken:a=>dU(t,a)}};function vU(){ds(new zi(x2,mU,"PUBLIC")),ds(new zi(pU,gU,"PRIVATE"))}vU();bi(a2,nw);bi(a2,nw,"esm2020");const yU="/firebase-messaging-sw.js",bU="/firebase-cloud-messaging-push-scope",T2="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_U="https://fcmregistrations.googleapis.com/v1",S2="google.c.a.c_id",wU="google.c.a.c_l",EU="google.c.a.ts",xU="google.c.a.e",vI=1e4;var yI;(function(n){n[n.DATA_MESSAGE=1]="DATA_MESSAGE",n[n.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(yI||(yI={}));var uh;(function(n){n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked"})(uh||(uh={}));function $s(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function TU(n){const e="=".repeat((4-n.length%4)%4),t=(n+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),a=new Uint8Array(r.length);for(let o=0;o<r.length;++o)a[o]=r.charCodeAt(o);return a}const nb="fcm_token_details_db",SU=5,bI="fcm_token_object_Store";async function AU(n){if("databases"in indexedDB&&!(await indexedDB.databases()).map(o=>o.name).includes(nb))return null;let e=null;return(await Fm(nb,SU,{upgrade:async(r,a,o,c)=>{if(a<2||!r.objectStoreNames.contains(bI))return;const d=c.objectStore(bI),f=await d.index("fcmSenderId").get(n);if(await d.clear(),!!f){if(a===2){const m=f;if(!m.auth||!m.p256dh||!m.endpoint)return;e={token:m.fcmToken,createTime:m.createTime??Date.now(),subscriptionOptions:{auth:m.auth,p256dh:m.p256dh,endpoint:m.endpoint,swScope:m.swScope,vapidKey:typeof m.vapidKey=="string"?m.vapidKey:$s(m.vapidKey)}}}else if(a===3){const m=f;e={token:m.fcmToken,createTime:m.createTime,subscriptionOptions:{auth:$s(m.auth),p256dh:$s(m.p256dh),endpoint:m.endpoint,swScope:m.swScope,vapidKey:$s(m.vapidKey)}}}else if(a===4){const m=f;e={token:m.fcmToken,createTime:m.createTime,subscriptionOptions:{auth:$s(m.auth),p256dh:$s(m.p256dh),endpoint:m.endpoint,swScope:m.swScope,vapidKey:$s(m.vapidKey)}}}}}})).close(),await zy(nb),await zy("fcm_vapid_details_db"),await zy("undefined"),IU(e)?e:null}function IU(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return typeof n.createTime=="number"&&n.createTime>0&&typeof n.token=="string"&&n.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}const CU="firebase-messaging-database",RU=1,dh="firebase-messaging-store";let rb=null;function A2(){return rb||(rb=Fm(CU,RU,{upgrade:(n,e)=>{e===0&&n.createObjectStore(dh)}})),rb}async function DU(n){const e=I2(n),r=await(await A2()).transaction(dh).objectStore(dh).get(e);if(r)return r;{const a=await AU(n.appConfig.senderId);if(a)return await aw(n,a),a}}async function aw(n,e){const t=I2(n),a=(await A2()).transaction(dh,"readwrite");return await a.objectStore(dh).put(e,t),await a.done,e}function I2({appConfig:n}){return n.appId}const NU={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},dr=new Il("messaging","Messaging",NU);async function kU(n,e){const t=await lw(n),r=C2(e),a={method:"POST",headers:t,body:JSON.stringify(r)};let o;try{o=await(await fetch(ow(n.appConfig),a)).json()}catch(c){throw dr.create("token-subscribe-failed",{errorInfo:c?.toString()})}if(o.error){const c=o.error.message;throw dr.create("token-subscribe-failed",{errorInfo:c})}if(!o.token)throw dr.create("token-subscribe-no-token");return o.token}async function OU(n,e){const t=await lw(n),r=C2(e.subscriptionOptions),a={method:"PATCH",headers:t,body:JSON.stringify(r)};let o;try{o=await(await fetch(`${ow(n.appConfig)}/${e.token}`,a)).json()}catch(c){throw dr.create("token-update-failed",{errorInfo:c?.toString()})}if(o.error){const c=o.error.message;throw dr.create("token-update-failed",{errorInfo:c})}if(!o.token)throw dr.create("token-update-no-token");return o.token}async function PU(n,e){const r={method:"DELETE",headers:await lw(n)};try{const o=await(await fetch(`${ow(n.appConfig)}/${e}`,r)).json();if(o.error){const c=o.error.message;throw dr.create("token-unsubscribe-failed",{errorInfo:c})}}catch(a){throw dr.create("token-unsubscribe-failed",{errorInfo:a?.toString()})}}function ow({projectId:n}){return`${_U}/projects/${n}/registrations`}async function lw({appConfig:n,installations:e}){const t=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})}function C2({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const a={web:{endpoint:t,auth:e,p256dh:n}};return r!==T2&&(a.web.applicationPubKey=r),a}const MU=10080*60*1e3;async function VU(n){const e=await UU(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:$s(e.getKey("auth")),p256dh:$s(e.getKey("p256dh"))},r=await DU(n.firebaseDependencies);if(r){if(zU(r.subscriptionOptions,t))return Date.now()>=r.createTime+MU?LU(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{await PU(n.firebaseDependencies,r.token)}catch(a){console.warn(a)}return _I(n.firebaseDependencies,t)}else return _I(n.firebaseDependencies,t)}async function LU(n,e){try{const t=await OU(n.firebaseDependencies,e),r={...e,token:t,createTime:Date.now()};return await aw(n.firebaseDependencies,r),t}catch(t){throw t}}async function _I(n,e){const r={token:await kU(n,e),createTime:Date.now(),subscriptionOptions:e};return await aw(n,r),r.token}async function UU(n,e){const t=await n.pushManager.getSubscription();return t||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:TU(e)})}function zU(n,e){const t=e.vapidKey===n.vapidKey,r=e.endpoint===n.endpoint,a=e.auth===n.auth,o=e.p256dh===n.p256dh;return t&&r&&a&&o}function wI(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return BU(e,n),jU(e,n),$U(e,n),e}function BU(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const a=e.notification.image;a&&(n.notification.image=a);const o=e.notification.icon;o&&(n.notification.icon=o)}function jU(n,e){e.data&&(n.data=e.data)}function $U(n,e){if(!e.fcmOptions&&!e.notification?.click_action)return;n.fcmOptions={};const t=e.fcmOptions?.link??e.notification?.click_action;t&&(n.fcmOptions.link=t);const r=e.fcmOptions?.analytics_label;r&&(n.fcmOptions.analyticsLabel=r)}function FU(n){return typeof n=="object"&&!!n&&S2 in n}function qU(n){if(!n||!n.options)throw ib("App Configuration Object");if(!n.name)throw ib("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw ib(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}function ib(n){return dr.create("missing-app-config-values",{valueName:n})}class HU{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const a=qU(e);this.firebaseDependencies={app:e,appConfig:a,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}async function GU(n){try{n.swRegistration=await navigator.serviceWorker.register(yU,{scope:bU}),n.swRegistration.update().catch(()=>{}),await KU(n.swRegistration)}catch(e){throw dr.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}async function KU(n){return new Promise((e,t)=>{const r=setTimeout(()=>t(new Error(`Service worker not registered after ${vI} ms`)),vI),a=n.installing||n.waiting;n.active?(clearTimeout(r),e()):a?a.onstatechange=o=>{o.target?.state==="activated"&&(a.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),t(new Error("No incoming service worker found.")))})}async function YU(n,e){if(!e&&!n.swRegistration&&await GU(n),!(!e&&n.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw dr.create("invalid-sw-registration");n.swRegistration=e}}async function QU(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=T2)}async function R2(n,e){if(!navigator)throw dr.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw dr.create("permission-blocked");return await QU(n,e?.vapidKey),await YU(n,e?.serviceWorkerRegistration),VU(n)}async function WU(n,e,t){const r=XU(e);(await n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[S2],message_name:t[wU],message_time:t[EU],message_device_time:Math.floor(Date.now()/1e3)})}function XU(n){switch(n){case uh.NOTIFICATION_CLICKED:return"notification_open";case uh.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function JU(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===uh.PUSH_RECEIVED&&(typeof n.onMessageHandler=="function"?n.onMessageHandler(wI(t)):n.onMessageHandler.next(wI(t)));const r=t.data;FU(r)&&r[xU]==="1"&&await WU(n,t.messageType,r)}const EI="@firebase/messaging",xI="0.12.23";const ZU=n=>{const e=new HU(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>JU(e,t)),e},ez=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>R2(e,r)}};function tz(){ds(new zi("messaging",ZU,"PUBLIC")),ds(new zi("messaging-internal",ez,"PRIVATE")),bi(EI,xI),bi(EI,xI,"esm2020")}async function nz(){try{await X1()}catch{return!1}return typeof window<"u"&&j_()&&cM()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function rz(n,e){if(!navigator)throw dr.create("only-available-in-window");return n.onMessageHandler=e,()=>{n.onMessageHandler=null}}function iz(n=tC()){return nz().then(e=>{if(!e)throw dr.create("unsupported-browser")},e=>{throw dr.create("indexed-db-unsupported")}),ou(Ht(n),"messaging").getImmediate()}async function sz(n,e){return n=Ht(n),R2(n,e)}function az(n,e){return n=Ht(n),rz(n,e)}tz();const oz={apiKey:"AIzaSyCfkeRu4DVuSBBBa9bc0rrhtu-gCixFqIo",authDomain:"barbacker-6c683.firebaseapp.com",projectId:"barbacker-6c683",storageBucket:"barbacker-6c683.firebasestorage.app",messagingSenderId:"869145643734",appId:"1:869145643734:web:d902468d6942df6bc81777"},cw=eC(oz),Vt=l9(cw,{localCache:x9({tabManager:I9()})}),Bs=UL(cw),D2=iz(cw),N2=new Fs;N2.setCustomParameters({prompt:"select_account"});new Vd("apple.com");const TI=async()=>{try{if(await Notification.requestPermission()==="granted")return await sz(D2,{vapidKey:"G-H8717DGSJ8"})}catch(n){console.error("Notification permission denied",n)}return null},lz=()=>new Promise(n=>{az(D2,e=>{n(e)})});var nu;(function(n){n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE"})(nu||(nu={}));class sb extends Error{constructor(e,t,r){super(e),this.message=e,this.code=t,this.data=r}}const cz=n=>{var e,t;return n?.androidBridge?"android":!((t=(e=n?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||t===void 0)&&t.bridge?"ios":"web"},uz=n=>{const e=n.CapacitorCustomPlatform||null,t=n.Capacitor||{},r=t.Plugins=t.Plugins||{},a=()=>e!==null?e.name:cz(n),o=()=>a()!=="web",c=y=>{const E=m.get(y);return!!(E?.platforms.has(a())||d(y))},d=y=>{var E;return(E=t.PluginHeaders)===null||E===void 0?void 0:E.find(I=>I.name===y)},f=y=>n.console.error(y),m=new Map,v=(y,E={})=>{const I=m.get(y);if(I)return console.warn(`Capacitor plugin "${y}" already registered. Cannot register plugins twice.`),I.proxy;const L=a(),O=d(y);let M;const K=async()=>(!M&&L in E?M=typeof E[L]=="function"?M=await E[L]():M=E[L]:e!==null&&!M&&"web"in E&&(M=typeof E.web=="function"?M=await E.web():M=E.web),M),F=(x,D)=>{var P,k;if(O){const z=O?.methods.find(N=>D===N.name);if(z)return z.rtype==="promise"?N=>t.nativePromise(y,D.toString(),N):(N,Re)=>t.nativeCallback(y,D.toString(),N,Re);if(x)return(P=x[D])===null||P===void 0?void 0:P.bind(x)}else{if(x)return(k=x[D])===null||k===void 0?void 0:k.bind(x);throw new sb(`"${y}" plugin is not implemented on ${L}`,nu.Unimplemented)}},G=x=>{let D;const P=(...k)=>{const z=K().then(N=>{const Re=F(N,x);if(Re){const je=Re(...k);return D=je?.remove,je}else throw new sb(`"${y}.${x}()" is not implemented on ${L}`,nu.Unimplemented)});return x==="addListener"&&(z.remove=async()=>D()),z};return P.toString=()=>`${x.toString()}() { [capacitor code] }`,Object.defineProperty(P,"name",{value:x,writable:!1,configurable:!1}),P},le=G("addListener"),se=G("removeListener"),ue=(x,D)=>{const P=le({eventName:x},D),k=async()=>{const N=await P;se({eventName:x,callbackId:N},D)},z=new Promise(N=>P.then(()=>N({remove:k})));return z.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await k()},z},R=new Proxy({},{get(x,D){switch(D){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return O?ue:le;case"removeListener":return se;default:return G(D)}}});return r[y]=R,m.set(y,{name:y,proxy:R,platforms:new Set([...Object.keys(E),...O?[L]:[]])}),R};return t.convertFileSrc||(t.convertFileSrc=y=>y),t.getPlatform=a,t.handleError=f,t.isNativePlatform=o,t.isPluginAvailable=c,t.registerPlugin=v,t.Exception=sb,t.DEBUG=!!t.DEBUG,t.isLoggingEnabled=!!t.isLoggingEnabled,t},dz=n=>n.Capacitor=uz(n),Cm=dz(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),wg=Cm.registerPlugin;class uw{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(t);const o=this.windowListeners[e];o&&!o.registered&&this.addWindowListener(o),r&&this.sendRetainedArgumentsForEvent(e);const c=async()=>this.removeListener(e,t);return Promise.resolve({remove:c})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,r){const a=this.listeners[e];if(!a){if(r){let o=this.retainedEventArguments[e];o||(o=[]),o.push(t),this.retainedEventArguments[e]=o}return}a.forEach(o=>o(t))}hasListeners(e){var t;return!!(!((t=this.listeners[e])===null||t===void 0)&&t.length)}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:r=>{this.notifyListeners(t,r)}}}unimplemented(e="not implemented"){return new Cm.Exception(e,nu.Unimplemented)}unavailable(e="not available"){return new Cm.Exception(e,nu.Unavailable)}async removeListener(e,t){const r=this.listeners[e];if(!r)return;const a=r.indexOf(t);this.listeners[e].splice(a,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(r=>{this.notifyListeners(e,r)}))}}const SI=n=>encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),AI=n=>n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class hz extends uw{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[a,o]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=AI(a).trim(),o=AI(o).trim(),t[a]=o}),t}async setCookie(e){try{const t=SI(e.key),r=SI(e.value),a=`; expires=${(e.expires||"").replace("expires=","")}`,o=(e.path||"/").replace("path=",""),c=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${r||""}${a}; path=${o}; ${c};`}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}wg("CapacitorCookies",{web:()=>new hz});const fz=async n=>new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{const a=r.result;e(a.indexOf(",")>=0?a.split(",")[1]:a)},r.onerror=a=>t(a),r.readAsDataURL(n)}),pz=(n={})=>{const e=Object.keys(n);return Object.keys(n).map(a=>a.toLocaleLowerCase()).reduce((a,o,c)=>(a[o]=n[e[c]],a),{})},mz=(n,e=!0)=>n?Object.entries(n).reduce((r,a)=>{const[o,c]=a;let d,f;return Array.isArray(c)?(f="",c.forEach(m=>{d=e?encodeURIComponent(m):m,f+=`${o}=${d}&`}),f.slice(0,-1)):(d=e?encodeURIComponent(c):c,f=`${o}=${d}`),`${r}&${f}`},"").substr(1):null,gz=(n,e={})=>{const t=Object.assign({method:n.method||"GET",headers:n.headers},e),a=pz(n.headers)["content-type"]||"";if(typeof n.data=="string")t.body=n.data;else if(a.includes("application/x-www-form-urlencoded")){const o=new URLSearchParams;for(const[c,d]of Object.entries(n.data||{}))o.set(c,d);t.body=o.toString()}else if(a.includes("multipart/form-data")||n.data instanceof FormData){const o=new FormData;if(n.data instanceof FormData)n.data.forEach((d,f)=>{o.append(f,d)});else for(const d of Object.keys(n.data))o.append(d,n.data[d]);t.body=o;const c=new Headers(t.headers);c.delete("content-type"),t.headers=c}else(a.includes("application/json")||typeof n.data=="object")&&(t.body=JSON.stringify(n.data));return t};class vz extends uw{async request(e){const t=gz(e,e.webFetchExtra),r=mz(e.params,e.shouldEncodeUrlParams),a=r?`${e.url}?${r}`:e.url,o=await fetch(a,t),c=o.headers.get("content-type")||"";let{responseType:d="text"}=o.ok?e:{};c.includes("application/json")&&(d="json");let f,m;switch(d){case"arraybuffer":case"blob":m=await o.blob(),f=await fz(m);break;case"json":f=await o.json();break;default:f=await o.text()}const v={};return o.headers.forEach((y,E)=>{v[E]=y}),{data:f,headers:v,status:o.status,url:o.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}wg("CapacitorHttp",{web:()=>new vz});var II;(function(n){n.Dark="DARK",n.Light="LIGHT",n.Default="DEFAULT"})(II||(II={}));var CI;(function(n){n.StatusBar="StatusBar",n.NavigationBar="NavigationBar"})(CI||(CI={}));class yz extends uw{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}wg("SystemBars",{web:()=>new yz});const Qo=wg("PushNotifications",{});function bz(){const[n,e]=A.useState(null),[t,r]=A.useState(null),[a,o]=A.useState(!0),[c,d]=A.useState(null);return A.useEffect(()=>{(async()=>{try{const m=await fetch("https://api.github.com/repos/HereLiesAz/BarBacker/releases/latest");if(!m.ok)throw new Error(`GitHub API Error: ${m.statusText}`);const v=await m.json(),y=v.assets.find(E=>E.name.endsWith(".apk"));y?(e(y.browser_download_url),r(v.tag_name)):d("No APK found in latest release")}catch(m){console.error("Failed to fetch latest release:",m),d(m.message||"Unknown error")}finally{o(!1)}})()},[]),{downloadUrl:n,version:t,loading:a,error:c}}function $(n,e,t,r){var a=arguments.length,o=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var d=n.length-1;d>=0;d--)(c=n[d])&&(o=(a<3?c(o):a>3?c(e,t,o):c(e,t))||o);return a>3&&o&&Object.defineProperty(e,t,o),o}const Wt=n=>(e,t)=>{t!==void 0?t.addInitializer(()=>{customElements.define(n,e)}):customElements.define(n,e)};const Qp=globalThis,dw=Qp.ShadowRoot&&(Qp.ShadyCSS===void 0||Qp.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,hw=Symbol(),RI=new WeakMap;let k2=class{constructor(e,t,r){if(this._$cssResult$=!0,r!==hw)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(dw&&e===void 0){const r=t!==void 0&&t.length===1;r&&(e=RI.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&RI.set(t,e))}return e}toString(){return this.cssText}};const _z=n=>new k2(typeof n=="string"?n:n+"",void 0,hw),dt=(n,...e)=>{const t=n.length===1?n[0]:e.reduce((r,a,o)=>r+(c=>{if(c._$cssResult$===!0)return c.cssText;if(typeof c=="number")return c;throw Error("Value passed to 'css' function must be a 'css' function result: "+c+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(a)+n[o+1],n[0]);return new k2(t,n,hw)},wz=(n,e)=>{if(dw)n.adoptedStyleSheets=e.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet);else for(const t of e){const r=document.createElement("style"),a=Qp.litNonce;a!==void 0&&r.setAttribute("nonce",a),r.textContent=t.cssText,n.appendChild(r)}},DI=dw?n=>n:n=>n instanceof CSSStyleSheet?(e=>{let t="";for(const r of e.cssRules)t+=r.cssText;return _z(t)})(n):n;const{is:Ez,defineProperty:xz,getOwnPropertyDescriptor:Tz,getOwnPropertyNames:Sz,getOwnPropertySymbols:Az,getPrototypeOf:Iz}=Object,Eg=globalThis,NI=Eg.trustedTypes,Cz=NI?NI.emptyScript:"",Rz=Eg.reactiveElementPolyfillSupport,Hd=(n,e)=>n,Rm={toAttribute(n,e){switch(e){case Boolean:n=n?Cz:null;break;case Object:case Array:n=n==null?n:JSON.stringify(n)}return n},fromAttribute(n,e){let t=n;switch(e){case Boolean:t=n!==null;break;case Number:t=n===null?null:Number(n);break;case Object:case Array:try{t=JSON.parse(n)}catch{t=null}}return t}},fw=(n,e)=>!Ez(n,e),kI={attribute:!0,type:String,converter:Rm,reflect:!1,useDefault:!1,hasChanged:fw};Symbol.metadata??=Symbol("metadata"),Eg.litPropertyMetadata??=new WeakMap;let Rc=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=kI){if(t.state&&(t.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((t=Object.create(t)).wrapped=!0),this.elementProperties.set(e,t),!t.noAccessor){const r=Symbol(),a=this.getPropertyDescriptor(e,r,t);a!==void 0&&xz(this.prototype,e,a)}}static getPropertyDescriptor(e,t,r){const{get:a,set:o}=Tz(this.prototype,e)??{get(){return this[t]},set(c){this[t]=c}};return{get:a,set(c){const d=a?.call(this);o?.call(this,c),this.requestUpdate(e,d,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??kI}static _$Ei(){if(this.hasOwnProperty(Hd("elementProperties")))return;const e=Iz(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(Hd("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Hd("properties"))){const t=this.properties,r=[...Sz(t),...Az(t)];for(const a of r)this.createProperty(a,t[a])}const e=this[Symbol.metadata];if(e!==null){const t=litPropertyMetadata.get(e);if(t!==void 0)for(const[r,a]of t)this.elementProperties.set(r,a)}this._$Eh=new Map;for(const[t,r]of this.elementProperties){const a=this._$Eu(t,r);a!==void 0&&this._$Eh.set(a,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const a of r)t.unshift(DI(a))}else e!==void 0&&t.push(DI(e));return t}static _$Eu(e,t){const r=t.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(e=>e(this))}addController(e){(this._$EO??=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,t=this.constructor.elementProperties;for(const r of t.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return wz(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(e=>e.hostConnected?.())}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach(e=>e.hostDisconnected?.())}attributeChangedCallback(e,t,r){this._$AK(e,r)}_$ET(e,t){const r=this.constructor.elementProperties.get(e),a=this.constructor._$Eu(e,r);if(a!==void 0&&r.reflect===!0){const o=(r.converter?.toAttribute!==void 0?r.converter:Rm).toAttribute(t,r.type);this._$Em=e,o==null?this.removeAttribute(a):this.setAttribute(a,o),this._$Em=null}}_$AK(e,t){const r=this.constructor,a=r._$Eh.get(e);if(a!==void 0&&this._$Em!==a){const o=r.getPropertyOptions(a),c=typeof o.converter=="function"?{fromAttribute:o.converter}:o.converter?.fromAttribute!==void 0?o.converter:Rm;this._$Em=a;const d=c.fromAttribute(t,o.type);this[a]=d??this._$Ej?.get(a)??d,this._$Em=null}}requestUpdate(e,t,r,a=!1,o){if(e!==void 0){const c=this.constructor;if(a===!1&&(o=this[e]),r??=c.getPropertyOptions(e),!((r.hasChanged??fw)(o,t)||r.useDefault&&r.reflect&&o===this._$Ej?.get(e)&&!this.hasAttribute(c._$Eu(e,r))))return;this.C(e,t,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,t,{useDefault:r,reflect:a,wrapped:o},c){r&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,c??t??this[e]),o!==!0||c!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(t=void 0),this._$AL.set(e,t)),a===!0&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[a,o]of this._$Ep)this[a]=o;this._$Ep=void 0}const r=this.constructor.elementProperties;if(r.size>0)for(const[a,o]of r){const{wrapped:c}=o,d=this[a];c!==!0||this._$AL.has(a)||d===void 0||this.C(a,void 0,o,d)}}let e=!1;const t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),this._$EO?.forEach(r=>r.hostUpdate?.()),this.update(t)):this._$EM()}catch(r){throw e=!1,this._$EM(),r}e&&this._$AE(t)}willUpdate(e){}_$AE(e){this._$EO?.forEach(t=>t.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach(t=>this._$ET(t,this[t])),this._$EM()}updated(e){}firstUpdated(e){}};Rc.elementStyles=[],Rc.shadowRootOptions={mode:"open"},Rc[Hd("elementProperties")]=new Map,Rc[Hd("finalized")]=new Map,Rz?.({ReactiveElement:Rc}),(Eg.reactiveElementVersions??=[]).push("2.1.2");const Dz={attribute:!0,type:String,converter:Rm,reflect:!1,hasChanged:fw},Nz=(n=Dz,e,t)=>{const{kind:r,metadata:a}=t;let o=globalThis.litPropertyMetadata.get(a);if(o===void 0&&globalThis.litPropertyMetadata.set(a,o=new Map),r==="setter"&&((n=Object.create(n)).wrapped=!0),o.set(t.name,n),r==="accessor"){const{name:c}=t;return{set(d){const f=e.get.call(this);e.set.call(this,d),this.requestUpdate(c,f,n,!0,d)},init(d){return d!==void 0&&this.C(c,void 0,n,d),d}}}if(r==="setter"){const{name:c}=t;return function(d){const f=this[c];e.call(this,d),this.requestUpdate(c,f,n,!0,d)}}throw Error("Unsupported decorator location: "+r)};function re(n){return(e,t)=>typeof t=="object"?Nz(n,e,t):((r,a,o)=>{const c=a.hasOwnProperty(o);return a.constructor.createProperty(o,r),c?Object.getOwnPropertyDescriptor(a,o):void 0})(n,e,t)}function hr(n){return re({...n,state:!0,attribute:!1})}const xg=(n,e,t)=>(t.configurable=!0,t.enumerable=!0,Reflect.decorate&&typeof e!="object"&&Object.defineProperty(n,e,t),t);function Bt(n,e){return(t,r,a)=>{const o=c=>c.renderRoot?.querySelector(n)??null;return xg(t,r,{get(){return o(this)}})}}let kz;function Oz(n){return(e,t)=>xg(e,t,{get(){return(this.renderRoot??(kz??=document.createDocumentFragment())).querySelectorAll(n)}})}function aa(n){return(e,t)=>{const{slot:r,selector:a}=n??{},o="slot"+(r?`[name=${r}]`:":not([name])");return xg(e,t,{get(){const c=this.renderRoot?.querySelector(o),d=c?.assignedElements(n)??[];return a===void 0?d:d.filter(f=>f.matches(a))}})}}function Pz(n){return(e,t)=>{const{slot:r}=n??{},a="slot"+(r?`[name=${r}]`:":not([name])");return xg(e,t,{get(){return this.renderRoot?.querySelector(a)?.assignedNodes(n)??[]}})}}const pw=globalThis,OI=n=>n,Dm=pw.trustedTypes,PI=Dm?Dm.createPolicy("lit-html",{createHTML:n=>n}):void 0,O2="$lit$",Za=`lit$${Math.random().toFixed(9).slice(2)}$`,P2="?"+Za,Mz=`<${P2}>`,Al=document,hh=()=>Al.createComment(""),fh=n=>n===null||typeof n!="object"&&typeof n!="function",mw=Array.isArray,Vz=n=>mw(n)||typeof n?.[Symbol.iterator]=="function",ab=`[ 	
\f\r]`,Td=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,MI=/-->/g,VI=/>/g,Wo=RegExp(`>|${ab}(?:([^\\s"'>=/]+)(${ab}*=${ab}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),LI=/'/g,UI=/"/g,M2=/^(?:script|style|textarea|title)$/i,Lz=n=>(e,...t)=>({_$litType$:n,strings:e,values:t}),we=Lz(1),yi=Symbol.for("lit-noChange"),fe=Symbol.for("lit-nothing"),zI=new WeakMap,ol=Al.createTreeWalker(Al,129);function V2(n,e){if(!mw(n)||!n.hasOwnProperty("raw"))throw Error("invalid template strings array");return PI!==void 0?PI.createHTML(e):e}const Uz=(n,e)=>{const t=n.length-1,r=[];let a,o=e===2?"<svg>":e===3?"<math>":"",c=Td;for(let d=0;d<t;d++){const f=n[d];let m,v,y=-1,E=0;for(;E<f.length&&(c.lastIndex=E,v=c.exec(f),v!==null);)E=c.lastIndex,c===Td?v[1]==="!--"?c=MI:v[1]!==void 0?c=VI:v[2]!==void 0?(M2.test(v[2])&&(a=RegExp("</"+v[2],"g")),c=Wo):v[3]!==void 0&&(c=Wo):c===Wo?v[0]===">"?(c=a??Td,y=-1):v[1]===void 0?y=-2:(y=c.lastIndex-v[2].length,m=v[1],c=v[3]===void 0?Wo:v[3]==='"'?UI:LI):c===UI||c===LI?c=Wo:c===MI||c===VI?c=Td:(c=Wo,a=void 0);const I=c===Wo&&n[d+1].startsWith("/>")?" ":"";o+=c===Td?f+Mz:y>=0?(r.push(m),f.slice(0,y)+O2+f.slice(y)+Za+I):f+Za+(y===-2?d:I)}return[V2(n,o+(n[t]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};class ph{constructor({strings:e,_$litType$:t},r){let a;this.parts=[];let o=0,c=0;const d=e.length-1,f=this.parts,[m,v]=Uz(e,t);if(this.el=ph.createElement(m,r),ol.currentNode=this.el.content,t===2||t===3){const y=this.el.content.firstChild;y.replaceWith(...y.childNodes)}for(;(a=ol.nextNode())!==null&&f.length<d;){if(a.nodeType===1){if(a.hasAttributes())for(const y of a.getAttributeNames())if(y.endsWith(O2)){const E=v[c++],I=a.getAttribute(y).split(Za),L=/([.?@])?(.*)/.exec(E);f.push({type:1,index:o,name:L[2],strings:I,ctor:L[1]==="."?Bz:L[1]==="?"?jz:L[1]==="@"?$z:Tg}),a.removeAttribute(y)}else y.startsWith(Za)&&(f.push({type:6,index:o}),a.removeAttribute(y));if(M2.test(a.tagName)){const y=a.textContent.split(Za),E=y.length-1;if(E>0){a.textContent=Dm?Dm.emptyScript:"";for(let I=0;I<E;I++)a.append(y[I],hh()),ol.nextNode(),f.push({type:2,index:++o});a.append(y[E],hh())}}}else if(a.nodeType===8)if(a.data===P2)f.push({type:2,index:o});else{let y=-1;for(;(y=a.data.indexOf(Za,y+1))!==-1;)f.push({type:7,index:o}),y+=Za.length-1}o++}}static createElement(e,t){const r=Al.createElement("template");return r.innerHTML=e,r}}function ru(n,e,t=n,r){if(e===yi)return e;let a=r!==void 0?t._$Co?.[r]:t._$Cl;const o=fh(e)?void 0:e._$litDirective$;return a?.constructor!==o&&(a?._$AO?.(!1),o===void 0?a=void 0:(a=new o(n),a._$AT(n,t,r)),r!==void 0?(t._$Co??=[])[r]=a:t._$Cl=a),a!==void 0&&(e=ru(n,a._$AS(n,e.values),a,r)),e}class zz{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:t},parts:r}=this._$AD,a=(e?.creationScope??Al).importNode(t,!0);ol.currentNode=a;let o=ol.nextNode(),c=0,d=0,f=r[0];for(;f!==void 0;){if(c===f.index){let m;f.type===2?m=new Mh(o,o.nextSibling,this,e):f.type===1?m=new f.ctor(o,f.name,f.strings,this,e):f.type===6&&(m=new Fz(o,this,e)),this._$AV.push(m),f=r[++d]}c!==f?.index&&(o=ol.nextNode(),c++)}return ol.currentNode=Al,a}p(e){let t=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}}class Mh{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,t,r,a){this.type=2,this._$AH=fe,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=r,this.options=a,this._$Cv=a?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return t!==void 0&&e?.nodeType===11&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=ru(this,e,t),fh(e)?e===fe||e==null||e===""?(this._$AH!==fe&&this._$AR(),this._$AH=fe):e!==this._$AH&&e!==yi&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Vz(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==fe&&fh(this._$AH)?this._$AA.nextSibling.data=e:this.T(Al.createTextNode(e)),this._$AH=e}$(e){const{values:t,_$litType$:r}=e,a=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=ph.createElement(V2(r.h,r.h[0]),this.options)),r);if(this._$AH?._$AD===a)this._$AH.p(t);else{const o=new zz(a,this),c=o.u(this.options);o.p(t),this.T(c),this._$AH=o}}_$AC(e){let t=zI.get(e.strings);return t===void 0&&zI.set(e.strings,t=new ph(e)),t}k(e){mw(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let r,a=0;for(const o of e)a===t.length?t.push(r=new Mh(this.O(hh()),this.O(hh()),this,this.options)):r=t[a],r._$AI(o),a++;a<t.length&&(this._$AR(r&&r._$AB.nextSibling,a),t.length=a)}_$AR(e=this._$AA.nextSibling,t){for(this._$AP?.(!1,!0,t);e!==this._$AB;){const r=OI(e).nextSibling;OI(e).remove(),e=r}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}}class Tg{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,r,a,o){this.type=1,this._$AH=fe,this._$AN=void 0,this.element=e,this.name=t,this._$AM=a,this.options=o,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=fe}_$AI(e,t=this,r,a){const o=this.strings;let c=!1;if(o===void 0)e=ru(this,e,t,0),c=!fh(e)||e!==this._$AH&&e!==yi,c&&(this._$AH=e);else{const d=e;let f,m;for(e=o[0],f=0;f<o.length-1;f++)m=ru(this,d[r+f],t,f),m===yi&&(m=this._$AH[f]),c||=!fh(m)||m!==this._$AH[f],m===fe?e=fe:e!==fe&&(e+=(m??"")+o[f+1]),this._$AH[f]=m}c&&!a&&this.j(e)}j(e){e===fe?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class Bz extends Tg{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===fe?void 0:e}}class jz extends Tg{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==fe)}}class $z extends Tg{constructor(e,t,r,a,o){super(e,t,r,a,o),this.type=5}_$AI(e,t=this){if((e=ru(this,e,t,0)??fe)===yi)return;const r=this._$AH,a=e===fe&&r!==fe||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,o=e!==fe&&(r===fe||a);a&&this.element.removeEventListener(this.name,this,r),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class Fz{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){ru(this,e)}}const qz=pw.litHtmlPolyfillSupport;qz?.(ph,Mh),(pw.litHtmlVersions??=[]).push("3.3.2");const L2=(n,e,t)=>{const r=t?.renderBefore??e;let a=r._$litPart$;if(a===void 0){const o=t?.renderBefore??null;r._$litPart$=a=new Mh(e.insertBefore(hh(),o),o,void 0,t??{})}return a._$AI(n),a};const gw=globalThis;let It=class extends Rc{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=L2(t,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return yi}};It._$litElement$=!0,It.finalized=!0,gw.litElementHydrateSupport?.({LitElement:It});const Hz=gw.litElementPolyfillSupport;Hz?.({LitElement:It});(gw.litElementVersions??=[]).push("4.2.2");class Gz extends It{connectedCallback(){super.connectedCallback(),this.setAttribute("aria-hidden","true")}render(){return we`<span class="shadow"></span>`}}const Kz=dt`:host,.shadow,.shadow::before,.shadow::after{border-radius:inherit;inset:0;position:absolute;transition-duration:inherit;transition-property:inherit;transition-timing-function:inherit}:host{display:flex;pointer-events:none;transition-property:box-shadow,opacity}.shadow::before,.shadow::after{content:"";transition-property:box-shadow,opacity;--_level: var(--md-elevation-level, 0);--_shadow-color: var(--md-elevation-shadow-color, var(--md-sys-color-shadow, #000))}.shadow::before{box-shadow:0px calc(1px*(clamp(0,var(--_level),1) + clamp(0,var(--_level) - 3,1) + 2*clamp(0,var(--_level) - 4,1))) calc(1px*(2*clamp(0,var(--_level),1) + clamp(0,var(--_level) - 2,1) + clamp(0,var(--_level) - 4,1))) 0px var(--_shadow-color);opacity:.3}.shadow::after{box-shadow:0px calc(1px*(clamp(0,var(--_level),1) + clamp(0,var(--_level) - 1,1) + 2*clamp(0,var(--_level) - 2,3))) calc(1px*(3*clamp(0,var(--_level),2) + 2*clamp(0,var(--_level) - 2,3))) calc(1px*(clamp(0,var(--_level),4) + 2*clamp(0,var(--_level) - 4,1))) var(--_shadow-color);opacity:.15}
`;let i_=class extends Gz{};i_.styles=[Kz];i_=$([Wt("md-elevation")],i_);const U2=Symbol("attachableController");let z2;z2=new MutationObserver(n=>{for(const e of n)e.target[U2]?.hostConnected()});class B2{get htmlFor(){return this.host.getAttribute("for")}set htmlFor(e){e===null?this.host.removeAttribute("for"):this.host.setAttribute("for",e)}get control(){return this.host.hasAttribute("for")?!this.htmlFor||!this.host.isConnected?null:this.host.getRootNode().querySelector(`#${this.htmlFor}`):this.currentControl||this.host.parentElement}set control(e){e?this.attach(e):this.detach()}constructor(e,t){this.host=e,this.onControlChange=t,this.currentControl=null,e.addController(this),e[U2]=this,z2?.observe(e,{attributeFilter:["for"]})}attach(e){e!==this.currentControl&&(this.setCurrentControl(e),this.host.removeAttribute("for"))}detach(){this.setCurrentControl(null),this.host.setAttribute("for","")}hostConnected(){this.setCurrentControl(this.control)}hostDisconnected(){this.setCurrentControl(null)}setCurrentControl(e){this.onControlChange(this.currentControl,e),this.currentControl=e}}const Yz=["focusin","focusout","pointerdown"];class vw extends It{constructor(){super(...arguments),this.visible=!1,this.inward=!1,this.attachableController=new B2(this,this.onControlChange.bind(this))}get htmlFor(){return this.attachableController.htmlFor}set htmlFor(e){this.attachableController.htmlFor=e}get control(){return this.attachableController.control}set control(e){this.attachableController.control=e}attach(e){this.attachableController.attach(e)}detach(){this.attachableController.detach()}connectedCallback(){super.connectedCallback(),this.setAttribute("aria-hidden","true")}handleEvent(e){if(!e[BI]){switch(e.type){default:return;case"focusin":this.visible=this.control?.matches(":focus-visible")??!1;break;case"focusout":case"pointerdown":this.visible=!1;break}e[BI]=!0}}onControlChange(e,t){for(const r of Yz)e?.removeEventListener(r,this),t?.addEventListener(r,this)}update(e){e.has("visible")&&this.dispatchEvent(new Event("visibility-changed")),super.update(e)}}$([re({type:Boolean,reflect:!0})],vw.prototype,"visible",void 0);$([re({type:Boolean,reflect:!0})],vw.prototype,"inward",void 0);const BI=Symbol("handledByFocusRing");const Qz=dt`:host{animation-delay:0s,calc(var(--md-focus-ring-duration, 600ms)*.25);animation-duration:calc(var(--md-focus-ring-duration, 600ms)*.25),calc(var(--md-focus-ring-duration, 600ms)*.75);animation-timing-function:cubic-bezier(0.2, 0, 0, 1);box-sizing:border-box;color:var(--md-focus-ring-color, var(--md-sys-color-secondary, #625b71));display:none;pointer-events:none;position:absolute}:host([visible]){display:flex}:host(:not([inward])){animation-name:outward-grow,outward-shrink;border-end-end-radius:calc(var(--md-focus-ring-shape-end-end, var(--md-focus-ring-shape, var(--md-sys-shape-corner-full, 9999px))) + var(--md-focus-ring-outward-offset, 2px));border-end-start-radius:calc(var(--md-focus-ring-shape-end-start, var(--md-focus-ring-shape, var(--md-sys-shape-corner-full, 9999px))) + var(--md-focus-ring-outward-offset, 2px));border-start-end-radius:calc(var(--md-focus-ring-shape-start-end, var(--md-focus-ring-shape, var(--md-sys-shape-corner-full, 9999px))) + var(--md-focus-ring-outward-offset, 2px));border-start-start-radius:calc(var(--md-focus-ring-shape-start-start, var(--md-focus-ring-shape, var(--md-sys-shape-corner-full, 9999px))) + var(--md-focus-ring-outward-offset, 2px));inset:calc(-1*var(--md-focus-ring-outward-offset, 2px));outline:var(--md-focus-ring-width, 3px) solid currentColor}:host([inward]){animation-name:inward-grow,inward-shrink;border-end-end-radius:calc(var(--md-focus-ring-shape-end-end, var(--md-focus-ring-shape, var(--md-sys-shape-corner-full, 9999px))) - var(--md-focus-ring-inward-offset, 0px));border-end-start-radius:calc(var(--md-focus-ring-shape-end-start, var(--md-focus-ring-shape, var(--md-sys-shape-corner-full, 9999px))) - var(--md-focus-ring-inward-offset, 0px));border-start-end-radius:calc(var(--md-focus-ring-shape-start-end, var(--md-focus-ring-shape, var(--md-sys-shape-corner-full, 9999px))) - var(--md-focus-ring-inward-offset, 0px));border-start-start-radius:calc(var(--md-focus-ring-shape-start-start, var(--md-focus-ring-shape, var(--md-sys-shape-corner-full, 9999px))) - var(--md-focus-ring-inward-offset, 0px));border:var(--md-focus-ring-width, 3px) solid currentColor;inset:var(--md-focus-ring-inward-offset, 0px)}@keyframes outward-grow{from{outline-width:0}to{outline-width:var(--md-focus-ring-active-width, 8px)}}@keyframes outward-shrink{from{outline-width:var(--md-focus-ring-active-width, 8px)}}@keyframes inward-grow{from{border-width:0}to{border-width:var(--md-focus-ring-active-width, 8px)}}@keyframes inward-shrink{from{border-width:var(--md-focus-ring-active-width, 8px)}}@media(prefers-reduced-motion){:host{animation:none}}
`;let s_=class extends vw{};s_.styles=[Qz];s_=$([Wt("md-focus-ring")],s_);const Ka={ATTRIBUTE:1,PROPERTY:3,BOOLEAN_ATTRIBUTE:4},yw=n=>(...e)=>({_$litDirective$:n,values:e});let bw=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,r){this._$Ct=e,this._$AM=t,this._$Ci=r}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}};const xr=yw(class extends bw{constructor(n){if(super(n),n.type!==Ka.ATTRIBUTE||n.name!=="class"||n.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(n){return" "+Object.keys(n).filter(e=>n[e]).join(" ")+" "}update(n,[e]){if(this.st===void 0){this.st=new Set,n.strings!==void 0&&(this.nt=new Set(n.strings.join(" ").split(/\s/).filter(r=>r!=="")));for(const r in e)e[r]&&!this.nt?.has(r)&&this.st.add(r);return this.render(e)}const t=n.element.classList;for(const r of this.st)r in e||(t.remove(r),this.st.delete(r));for(const r in e){const a=!!e[r];a===this.st.has(r)||this.nt?.has(r)||(a?(t.add(r),this.st.add(r)):(t.remove(r),this.st.delete(r)))}return yi}});const as={STANDARD:"cubic-bezier(0.2, 0, 0, 1)",EMPHASIZED:"cubic-bezier(.3,0,0,1)",EMPHASIZED_ACCELERATE:"cubic-bezier(.3,0,.8,.15)"};function Wz(){let n=null;return{start(){return n?.abort(),n=new AbortController,n.signal},finish(){n=null}}}const Xz=450,jI=225,Jz=.2,Zz=10,eB=75,tB=.35,nB="::after",rB="forwards";var wr;(function(n){n[n.INACTIVE=0]="INACTIVE",n[n.TOUCH_DELAY=1]="TOUCH_DELAY",n[n.HOLDING=2]="HOLDING",n[n.WAITING_FOR_CLICK=3]="WAITING_FOR_CLICK"})(wr||(wr={}));const iB=["click","contextmenu","pointercancel","pointerdown","pointerenter","pointerleave","pointerup"],sB=150,aB=window.matchMedia("(forced-colors: active)");class Vh extends It{constructor(){super(...arguments),this.disabled=!1,this.hovered=!1,this.pressed=!1,this.rippleSize="",this.rippleScale="",this.initialSize=0,this.state=wr.INACTIVE,this.attachableController=new B2(this,this.onControlChange.bind(this))}get htmlFor(){return this.attachableController.htmlFor}set htmlFor(e){this.attachableController.htmlFor=e}get control(){return this.attachableController.control}set control(e){this.attachableController.control=e}attach(e){this.attachableController.attach(e)}detach(){this.attachableController.detach()}connectedCallback(){super.connectedCallback(),this.setAttribute("aria-hidden","true")}render(){const e={hovered:this.hovered,pressed:this.pressed};return we`<div class="surface ${xr(e)}"></div>`}update(e){e.has("disabled")&&this.disabled&&(this.hovered=!1,this.pressed=!1),super.update(e)}handlePointerenter(e){this.shouldReactToEvent(e)&&(this.hovered=!0)}handlePointerleave(e){this.shouldReactToEvent(e)&&(this.hovered=!1,this.state!==wr.INACTIVE&&this.endPressAnimation())}handlePointerup(e){if(this.shouldReactToEvent(e)){if(this.state===wr.HOLDING){this.state=wr.WAITING_FOR_CLICK;return}if(this.state===wr.TOUCH_DELAY){this.state=wr.WAITING_FOR_CLICK,this.startPressAnimation(this.rippleStartEvent);return}}}async handlePointerdown(e){if(this.shouldReactToEvent(e)){if(this.rippleStartEvent=e,!this.isTouch(e)){this.state=wr.WAITING_FOR_CLICK,this.startPressAnimation(e);return}this.state=wr.TOUCH_DELAY,await new Promise(t=>{setTimeout(t,sB)}),this.state===wr.TOUCH_DELAY&&(this.state=wr.HOLDING,this.startPressAnimation(e))}}handleClick(){if(!this.disabled){if(this.state===wr.WAITING_FOR_CLICK){this.endPressAnimation();return}this.state===wr.INACTIVE&&(this.startPressAnimation(),this.endPressAnimation())}}handlePointercancel(e){this.shouldReactToEvent(e)&&this.endPressAnimation()}handleContextmenu(){this.disabled||this.endPressAnimation()}determineRippleSize(){const{height:e,width:t}=this.getBoundingClientRect(),r=Math.max(e,t),a=Math.max(tB*r,eB),o=this.currentCSSZoom??1,c=Math.floor(r*Jz/o),f=Math.sqrt(t**2+e**2)+Zz;this.initialSize=c;const m=(f+a)/c;this.rippleScale=`${m/o}`,this.rippleSize=`${c}px`}getNormalizedPointerEventCoords(e){const{scrollX:t,scrollY:r}=window,{left:a,top:o}=this.getBoundingClientRect(),c=t+a,d=r+o,{pageX:f,pageY:m}=e,v=this.currentCSSZoom??1;return{x:(f-c)/v,y:(m-d)/v}}getTranslationCoordinates(e){const{height:t,width:r}=this.getBoundingClientRect(),a=this.currentCSSZoom??1,o={x:(r/a-this.initialSize)/2,y:(t/a-this.initialSize)/2};let c;return e instanceof PointerEvent?c=this.getNormalizedPointerEventCoords(e):c={x:r/a/2,y:t/a/2},c={x:c.x-this.initialSize/2,y:c.y-this.initialSize/2},{startPoint:c,endPoint:o}}startPressAnimation(e){if(!this.mdRoot)return;this.pressed=!0,this.growAnimation?.cancel(),this.determineRippleSize();const{startPoint:t,endPoint:r}=this.getTranslationCoordinates(e),a=`${t.x}px, ${t.y}px`,o=`${r.x}px, ${r.y}px`;this.growAnimation=this.mdRoot.animate({top:[0,0],left:[0,0],height:[this.rippleSize,this.rippleSize],width:[this.rippleSize,this.rippleSize],transform:[`translate(${a}) scale(1)`,`translate(${o}) scale(${this.rippleScale})`]},{pseudoElement:nB,duration:Xz,easing:as.STANDARD,fill:rB})}async endPressAnimation(){this.rippleStartEvent=void 0,this.state=wr.INACTIVE;const e=this.growAnimation;let t=1/0;if(typeof e?.currentTime=="number"?t=e.currentTime:e?.currentTime&&(t=e.currentTime.to("ms").value),t>=jI){this.pressed=!1;return}await new Promise(r=>{setTimeout(r,jI-t)}),this.growAnimation===e&&(this.pressed=!1)}shouldReactToEvent(e){if(this.disabled||!e.isPrimary||this.rippleStartEvent&&this.rippleStartEvent.pointerId!==e.pointerId)return!1;if(e.type==="pointerenter"||e.type==="pointerleave")return!this.isTouch(e);const t=e.buttons===1;return this.isTouch(e)||t}isTouch({pointerType:e}){return e==="touch"}async handleEvent(e){if(!aB?.matches)switch(e.type){case"click":this.handleClick();break;case"contextmenu":this.handleContextmenu();break;case"pointercancel":this.handlePointercancel(e);break;case"pointerdown":await this.handlePointerdown(e);break;case"pointerenter":this.handlePointerenter(e);break;case"pointerleave":this.handlePointerleave(e);break;case"pointerup":this.handlePointerup(e);break}}onControlChange(e,t){for(const r of iB)e?.removeEventListener(r,this),t?.addEventListener(r,this)}}$([re({type:Boolean,reflect:!0})],Vh.prototype,"disabled",void 0);$([hr()],Vh.prototype,"hovered",void 0);$([hr()],Vh.prototype,"pressed",void 0);$([Bt(".surface")],Vh.prototype,"mdRoot",void 0);const oB=dt`:host{display:flex;margin:auto;pointer-events:none}:host([disabled]){display:none}@media(forced-colors: active){:host{display:none}}:host,.surface{border-radius:inherit;position:absolute;inset:0;overflow:hidden}.surface{-webkit-tap-highlight-color:rgba(0,0,0,0)}.surface::before,.surface::after{content:"";opacity:0;position:absolute}.surface::before{background-color:var(--md-ripple-hover-color, var(--md-sys-color-on-surface, #1d1b20));inset:0;transition:opacity 15ms linear,background-color 15ms linear}.surface::after{background:radial-gradient(closest-side, var(--md-ripple-pressed-color, var(--md-sys-color-on-surface, #1d1b20)) max(100% - 70px, 65%), transparent 100%);transform-origin:center center;transition:opacity 375ms linear}.hovered::before{background-color:var(--md-ripple-hover-color, var(--md-sys-color-on-surface, #1d1b20));opacity:var(--md-ripple-hover-opacity, 0.08)}.pressed::after{opacity:var(--md-ripple-pressed-opacity, 0.12);transition-duration:105ms}
`;let a_=class extends Vh{};a_.styles=[oB];a_=$([Wt("md-ripple")],a_);const j2=["role","ariaAtomic","ariaAutoComplete","ariaBusy","ariaChecked","ariaColCount","ariaColIndex","ariaColSpan","ariaCurrent","ariaDisabled","ariaExpanded","ariaHasPopup","ariaHidden","ariaInvalid","ariaKeyShortcuts","ariaLabel","ariaLevel","ariaLive","ariaModal","ariaMultiLine","ariaMultiSelectable","ariaOrientation","ariaPlaceholder","ariaPosInSet","ariaPressed","ariaReadOnly","ariaRequired","ariaRoleDescription","ariaRowCount","ariaRowIndex","ariaRowSpan","ariaSelected","ariaSetSize","ariaSort","ariaValueMax","ariaValueMin","ariaValueNow","ariaValueText"],lB=j2.map($2);function ob(n){return lB.includes(n)}function $2(n){return n.replace("aria","aria-").replace(/Elements?/g,"").toLowerCase()}const yp=Symbol("privateIgnoreAttributeChangesFor");function oa(n){var e;class t extends n{constructor(){super(...arguments),this[e]=new Set}attributeChangedCallback(a,o,c){if(!ob(a)){super.attributeChangedCallback(a,o,c);return}if(this[yp].has(a))return;this[yp].add(a),this.removeAttribute(a),this[yp].delete(a);const d=l_(a);c===null?delete this.dataset[d]:this.dataset[d]=c,this.requestUpdate(l_(a),o)}getAttribute(a){return ob(a)?super.getAttribute(o_(a)):super.getAttribute(a)}removeAttribute(a){super.removeAttribute(a),ob(a)&&(super.removeAttribute(o_(a)),this.requestUpdate())}}return e=yp,cB(t),t}function cB(n){for(const e of j2){const t=$2(e),r=o_(t),a=l_(t);n.createProperty(e,{attribute:t,noAccessor:!0}),n.createProperty(Symbol(r),{attribute:r,noAccessor:!0}),Object.defineProperty(n.prototype,e,{configurable:!0,enumerable:!0,get(){return this.dataset[a]??null},set(o){const c=this.dataset[a]??null;o!==c&&(o===null?delete this.dataset[a]:this.dataset[a]=o,this.requestUpdate(e,c))}})}}function o_(n){return`data-${n}`}function l_(n){return n.replace(/-\w/,e=>e[1].toUpperCase())}const Jn=Symbol("internals"),lb=Symbol("privateInternals");function Lh(n){class e extends n{get[Jn](){return this[lb]||(this[lb]=this.attachInternals()),this[lb]}}return e}function F2(n){n.addInitializer(e=>{const t=e;t.addEventListener("click",async r=>{const{type:a,[Jn]:o}=t,{form:c}=o;if(!(!c||a==="button")&&(await new Promise(d=>{setTimeout(d)}),!r.defaultPrevented)){if(a==="reset"){c.reset();return}c.addEventListener("submit",d=>{Object.defineProperty(d,"submitter",{configurable:!0,enumerable:!0,get:()=>t})},{capture:!0,once:!0}),o.setFormValue(t.value),c.requestSubmit()}})})}function q2(n){const e=new MouseEvent("click",{bubbles:!0});return n.dispatchEvent(e),e}function _w(n){return n.currentTarget!==n.target||n.composedPath()[0]!==n.target||n.target.disabled?!1:!uB(n)}function uB(n){const e=c_;return e&&(n.preventDefault(),n.stopImmediatePropagation()),dB(),e}let c_=!1;async function dB(){c_=!0,await null,c_=!1}const hB=oa(Lh(It));class $n extends hB{get name(){return this.getAttribute("name")??""}set name(e){this.setAttribute("name",e)}get form(){return this[Jn].form}constructor(){super(),this.disabled=!1,this.softDisabled=!1,this.href="",this.download="",this.target="",this.trailingIcon=!1,this.hasIcon=!1,this.type="submit",this.value="",this.addEventListener("click",this.handleClick.bind(this))}focus(){this.buttonElement?.focus()}blur(){this.buttonElement?.blur()}render(){const e=this.disabled||this.softDisabled,t=this.href?this.renderLink():this.renderButton(),r=this.href?"link":"button";return we`
      ${this.renderElevationOrOutline?.()}
      <div class="background"></div>
      <md-focus-ring part="focus-ring" for=${r}></md-focus-ring>
      <md-ripple
        part="ripple"
        for=${r}
        ?disabled="${e}"></md-ripple>
      ${t}
    `}renderButton(){const{ariaLabel:e,ariaHasPopup:t,ariaExpanded:r}=this;return we`<button
      id="button"
      class="button"
      ?disabled=${this.disabled}
      aria-disabled=${this.softDisabled||fe}
      aria-label="${e||fe}"
      aria-haspopup="${t||fe}"
      aria-expanded="${r||fe}">
      ${this.renderContent()}
    </button>`}renderLink(){const{ariaLabel:e,ariaHasPopup:t,ariaExpanded:r}=this;return we`<a
      id="link"
      class="button"
      aria-label="${e||fe}"
      aria-haspopup="${t||fe}"
      aria-expanded="${r||fe}"
      aria-disabled=${this.disabled||this.softDisabled||fe}
      tabindex="${this.disabled&&!this.softDisabled?-1:fe}"
      href=${this.href}
      download=${this.download||fe}
      target=${this.target||fe}
      >${this.renderContent()}
    </a>`}renderContent(){const e=we`<slot
      name="icon"
      @slotchange="${this.handleSlotChange}"></slot>`;return we`
      <span class="touch"></span>
      ${this.trailingIcon?fe:e}
      <span class="label"><slot></slot></span>
      ${this.trailingIcon?e:fe}
    `}handleClick(e){if(this.softDisabled||this.disabled&&this.href){e.stopImmediatePropagation(),e.preventDefault();return}!_w(e)||!this.buttonElement||(this.focus(),q2(this.buttonElement))}handleSlotChange(){this.hasIcon=this.assignedIcons.length>0}}F2($n);$n.formAssociated=!0;$n.shadowRootOptions={mode:"open",delegatesFocus:!0};$([re({type:Boolean,reflect:!0})],$n.prototype,"disabled",void 0);$([re({type:Boolean,attribute:"soft-disabled",reflect:!0})],$n.prototype,"softDisabled",void 0);$([re()],$n.prototype,"href",void 0);$([re()],$n.prototype,"download",void 0);$([re()],$n.prototype,"target",void 0);$([re({type:Boolean,attribute:"trailing-icon",reflect:!0})],$n.prototype,"trailingIcon",void 0);$([re({type:Boolean,attribute:"has-icon",reflect:!0})],$n.prototype,"hasIcon",void 0);$([re()],$n.prototype,"type",void 0);$([re({reflect:!0})],$n.prototype,"value",void 0);$([Bt(".button")],$n.prototype,"buttonElement",void 0);$([aa({slot:"icon",flatten:!0})],$n.prototype,"assignedIcons",void 0);class fB extends $n{renderElevationOrOutline(){return we`<md-elevation part="elevation"></md-elevation>`}}const pB=dt`:host{--_container-color: var(--md-filled-button-container-color, var(--md-sys-color-primary, #6750a4));--_container-elevation: var(--md-filled-button-container-elevation, 0);--_container-height: var(--md-filled-button-container-height, 40px);--_container-shadow-color: var(--md-filled-button-container-shadow-color, var(--md-sys-color-shadow, #000));--_disabled-container-color: var(--md-filled-button-disabled-container-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-container-elevation: var(--md-filled-button-disabled-container-elevation, 0);--_disabled-container-opacity: var(--md-filled-button-disabled-container-opacity, 0.12);--_disabled-label-text-color: var(--md-filled-button-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-label-text-opacity: var(--md-filled-button-disabled-label-text-opacity, 0.38);--_focus-container-elevation: var(--md-filled-button-focus-container-elevation, 0);--_focus-label-text-color: var(--md-filled-button-focus-label-text-color, var(--md-sys-color-on-primary, #fff));--_hover-container-elevation: var(--md-filled-button-hover-container-elevation, 1);--_hover-label-text-color: var(--md-filled-button-hover-label-text-color, var(--md-sys-color-on-primary, #fff));--_hover-state-layer-color: var(--md-filled-button-hover-state-layer-color, var(--md-sys-color-on-primary, #fff));--_hover-state-layer-opacity: var(--md-filled-button-hover-state-layer-opacity, 0.08);--_label-text-color: var(--md-filled-button-label-text-color, var(--md-sys-color-on-primary, #fff));--_label-text-font: var(--md-filled-button-label-text-font, var(--md-sys-typescale-label-large-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-line-height: var(--md-filled-button-label-text-line-height, var(--md-sys-typescale-label-large-line-height, 1.25rem));--_label-text-size: var(--md-filled-button-label-text-size, var(--md-sys-typescale-label-large-size, 0.875rem));--_label-text-weight: var(--md-filled-button-label-text-weight, var(--md-sys-typescale-label-large-weight, var(--md-ref-typeface-weight-medium, 500)));--_pressed-container-elevation: var(--md-filled-button-pressed-container-elevation, 0);--_pressed-label-text-color: var(--md-filled-button-pressed-label-text-color, var(--md-sys-color-on-primary, #fff));--_pressed-state-layer-color: var(--md-filled-button-pressed-state-layer-color, var(--md-sys-color-on-primary, #fff));--_pressed-state-layer-opacity: var(--md-filled-button-pressed-state-layer-opacity, 0.12);--_disabled-icon-color: var(--md-filled-button-disabled-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-icon-opacity: var(--md-filled-button-disabled-icon-opacity, 0.38);--_focus-icon-color: var(--md-filled-button-focus-icon-color, var(--md-sys-color-on-primary, #fff));--_hover-icon-color: var(--md-filled-button-hover-icon-color, var(--md-sys-color-on-primary, #fff));--_icon-color: var(--md-filled-button-icon-color, var(--md-sys-color-on-primary, #fff));--_icon-size: var(--md-filled-button-icon-size, 18px);--_pressed-icon-color: var(--md-filled-button-pressed-icon-color, var(--md-sys-color-on-primary, #fff));--_container-shape-start-start: var(--md-filled-button-container-shape-start-start, var(--md-filled-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-start-end: var(--md-filled-button-container-shape-start-end, var(--md-filled-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-end-end: var(--md-filled-button-container-shape-end-end, var(--md-filled-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-end-start: var(--md-filled-button-container-shape-end-start, var(--md-filled-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_leading-space: var(--md-filled-button-leading-space, 24px);--_trailing-space: var(--md-filled-button-trailing-space, 24px);--_with-leading-icon-leading-space: var(--md-filled-button-with-leading-icon-leading-space, 16px);--_with-leading-icon-trailing-space: var(--md-filled-button-with-leading-icon-trailing-space, 24px);--_with-trailing-icon-leading-space: var(--md-filled-button-with-trailing-icon-leading-space, 24px);--_with-trailing-icon-trailing-space: var(--md-filled-button-with-trailing-icon-trailing-space, 16px)}
`;const H2=dt`md-elevation{transition-duration:280ms}:host(:is([disabled],[soft-disabled])) md-elevation{transition:none}md-elevation{--md-elevation-level: var(--_container-elevation);--md-elevation-shadow-color: var(--_container-shadow-color)}:host(:focus-within) md-elevation{--md-elevation-level: var(--_focus-container-elevation)}:host(:hover) md-elevation{--md-elevation-level: var(--_hover-container-elevation)}:host(:active) md-elevation{--md-elevation-level: var(--_pressed-container-elevation)}:host(:is([disabled],[soft-disabled])) md-elevation{--md-elevation-level: var(--_disabled-container-elevation)}
`;const Sg=dt`:host{border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-start-radius:var(--_container-shape-end-start);border-end-end-radius:var(--_container-shape-end-end);box-sizing:border-box;cursor:pointer;display:inline-flex;gap:8px;min-height:var(--_container-height);outline:none;padding-block:calc((var(--_container-height) - max(var(--_label-text-line-height),var(--_icon-size)))/2);padding-inline-start:var(--_leading-space);padding-inline-end:var(--_trailing-space);place-content:center;place-items:center;position:relative;font-family:var(--_label-text-font);font-size:var(--_label-text-size);line-height:var(--_label-text-line-height);font-weight:var(--_label-text-weight);text-overflow:ellipsis;text-wrap:nowrap;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0);vertical-align:top;--md-ripple-hover-color: var(--_hover-state-layer-color);--md-ripple-pressed-color: var(--_pressed-state-layer-color);--md-ripple-hover-opacity: var(--_hover-state-layer-opacity);--md-ripple-pressed-opacity: var(--_pressed-state-layer-opacity)}md-focus-ring{--md-focus-ring-shape-start-start: var(--_container-shape-start-start);--md-focus-ring-shape-start-end: var(--_container-shape-start-end);--md-focus-ring-shape-end-end: var(--_container-shape-end-end);--md-focus-ring-shape-end-start: var(--_container-shape-end-start)}:host(:is([disabled],[soft-disabled])){cursor:default;pointer-events:none}.button{border-radius:inherit;cursor:inherit;display:inline-flex;align-items:center;justify-content:center;border:none;outline:none;-webkit-appearance:none;vertical-align:middle;background:rgba(0,0,0,0);text-decoration:none;min-width:calc(64px - var(--_leading-space) - var(--_trailing-space));width:100%;z-index:0;height:100%;font:inherit;color:var(--_label-text-color);padding:0;gap:inherit;text-transform:inherit}.button::-moz-focus-inner{padding:0;border:0}:host(:hover) .button{color:var(--_hover-label-text-color)}:host(:focus-within) .button{color:var(--_focus-label-text-color)}:host(:active) .button{color:var(--_pressed-label-text-color)}.background{background:var(--_container-color);border-radius:inherit;inset:0;position:absolute}.label{overflow:hidden}:is(.button,.label,.label slot),.label ::slotted(*){text-overflow:inherit}:host(:is([disabled],[soft-disabled])) .label{color:var(--_disabled-label-text-color);opacity:var(--_disabled-label-text-opacity)}:host(:is([disabled],[soft-disabled])) .background{background:var(--_disabled-container-color);opacity:var(--_disabled-container-opacity)}@media(forced-colors: active){.background{border:1px solid CanvasText}:host(:is([disabled],[soft-disabled])){--_disabled-icon-color: GrayText;--_disabled-icon-opacity: 1;--_disabled-container-opacity: 1;--_disabled-label-text-color: GrayText;--_disabled-label-text-opacity: 1}}:host([has-icon]:not([trailing-icon])){padding-inline-start:var(--_with-leading-icon-leading-space);padding-inline-end:var(--_with-leading-icon-trailing-space)}:host([has-icon][trailing-icon]){padding-inline-start:var(--_with-trailing-icon-leading-space);padding-inline-end:var(--_with-trailing-icon-trailing-space)}::slotted([slot=icon]){display:inline-flex;position:relative;writing-mode:horizontal-tb;fill:currentColor;flex-shrink:0;color:var(--_icon-color);font-size:var(--_icon-size);inline-size:var(--_icon-size);block-size:var(--_icon-size)}:host(:hover) ::slotted([slot=icon]){color:var(--_hover-icon-color)}:host(:focus-within) ::slotted([slot=icon]){color:var(--_focus-icon-color)}:host(:active) ::slotted([slot=icon]){color:var(--_pressed-icon-color)}:host(:is([disabled],[soft-disabled])) ::slotted([slot=icon]){color:var(--_disabled-icon-color);opacity:var(--_disabled-icon-opacity)}.touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}:host([touch-target=wrapper]){margin:max(0px,(48px - var(--_container-height))/2) 0}:host([touch-target=none]) .touch{display:none}
`;let u_=class extends fB{};u_.styles=[Sg,H2,pB];u_=$([Wt("md-filled-button")],u_);class mB extends $n{renderElevationOrOutline(){return we`<md-elevation part="elevation"></md-elevation>`}}const gB=dt`:host{--_container-color: var(--md-filled-tonal-button-container-color, var(--md-sys-color-secondary-container, #e8def8));--_container-elevation: var(--md-filled-tonal-button-container-elevation, 0);--_container-height: var(--md-filled-tonal-button-container-height, 40px);--_container-shadow-color: var(--md-filled-tonal-button-container-shadow-color, var(--md-sys-color-shadow, #000));--_disabled-container-color: var(--md-filled-tonal-button-disabled-container-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-container-elevation: var(--md-filled-tonal-button-disabled-container-elevation, 0);--_disabled-container-opacity: var(--md-filled-tonal-button-disabled-container-opacity, 0.12);--_disabled-label-text-color: var(--md-filled-tonal-button-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-label-text-opacity: var(--md-filled-tonal-button-disabled-label-text-opacity, 0.38);--_focus-container-elevation: var(--md-filled-tonal-button-focus-container-elevation, 0);--_focus-label-text-color: var(--md-filled-tonal-button-focus-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_hover-container-elevation: var(--md-filled-tonal-button-hover-container-elevation, 1);--_hover-label-text-color: var(--md-filled-tonal-button-hover-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_hover-state-layer-color: var(--md-filled-tonal-button-hover-state-layer-color, var(--md-sys-color-on-secondary-container, #1d192b));--_hover-state-layer-opacity: var(--md-filled-tonal-button-hover-state-layer-opacity, 0.08);--_label-text-color: var(--md-filled-tonal-button-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_label-text-font: var(--md-filled-tonal-button-label-text-font, var(--md-sys-typescale-label-large-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-line-height: var(--md-filled-tonal-button-label-text-line-height, var(--md-sys-typescale-label-large-line-height, 1.25rem));--_label-text-size: var(--md-filled-tonal-button-label-text-size, var(--md-sys-typescale-label-large-size, 0.875rem));--_label-text-weight: var(--md-filled-tonal-button-label-text-weight, var(--md-sys-typescale-label-large-weight, var(--md-ref-typeface-weight-medium, 500)));--_pressed-container-elevation: var(--md-filled-tonal-button-pressed-container-elevation, 0);--_pressed-label-text-color: var(--md-filled-tonal-button-pressed-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_pressed-state-layer-color: var(--md-filled-tonal-button-pressed-state-layer-color, var(--md-sys-color-on-secondary-container, #1d192b));--_pressed-state-layer-opacity: var(--md-filled-tonal-button-pressed-state-layer-opacity, 0.12);--_disabled-icon-color: var(--md-filled-tonal-button-disabled-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-icon-opacity: var(--md-filled-tonal-button-disabled-icon-opacity, 0.38);--_focus-icon-color: var(--md-filled-tonal-button-focus-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_hover-icon-color: var(--md-filled-tonal-button-hover-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_icon-color: var(--md-filled-tonal-button-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_icon-size: var(--md-filled-tonal-button-icon-size, 18px);--_pressed-icon-color: var(--md-filled-tonal-button-pressed-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_container-shape-start-start: var(--md-filled-tonal-button-container-shape-start-start, var(--md-filled-tonal-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-start-end: var(--md-filled-tonal-button-container-shape-start-end, var(--md-filled-tonal-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-end-end: var(--md-filled-tonal-button-container-shape-end-end, var(--md-filled-tonal-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-end-start: var(--md-filled-tonal-button-container-shape-end-start, var(--md-filled-tonal-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_leading-space: var(--md-filled-tonal-button-leading-space, 24px);--_trailing-space: var(--md-filled-tonal-button-trailing-space, 24px);--_with-leading-icon-leading-space: var(--md-filled-tonal-button-with-leading-icon-leading-space, 16px);--_with-leading-icon-trailing-space: var(--md-filled-tonal-button-with-leading-icon-trailing-space, 24px);--_with-trailing-icon-leading-space: var(--md-filled-tonal-button-with-trailing-icon-leading-space, 24px);--_with-trailing-icon-trailing-space: var(--md-filled-tonal-button-with-trailing-icon-trailing-space, 16px)}
`;let d_=class extends mB{};d_.styles=[Sg,H2,gB];d_=$([Wt("md-filled-tonal-button")],d_);class vB extends $n{renderElevationOrOutline(){return we`<div class="outline"></div>`}}const yB=dt`:host{--_container-height: var(--md-outlined-button-container-height, 40px);--_disabled-label-text-color: var(--md-outlined-button-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-label-text-opacity: var(--md-outlined-button-disabled-label-text-opacity, 0.38);--_disabled-outline-color: var(--md-outlined-button-disabled-outline-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-outline-opacity: var(--md-outlined-button-disabled-outline-opacity, 0.12);--_focus-label-text-color: var(--md-outlined-button-focus-label-text-color, var(--md-sys-color-primary, #6750a4));--_hover-label-text-color: var(--md-outlined-button-hover-label-text-color, var(--md-sys-color-primary, #6750a4));--_hover-state-layer-color: var(--md-outlined-button-hover-state-layer-color, var(--md-sys-color-primary, #6750a4));--_hover-state-layer-opacity: var(--md-outlined-button-hover-state-layer-opacity, 0.08);--_label-text-color: var(--md-outlined-button-label-text-color, var(--md-sys-color-primary, #6750a4));--_label-text-font: var(--md-outlined-button-label-text-font, var(--md-sys-typescale-label-large-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-line-height: var(--md-outlined-button-label-text-line-height, var(--md-sys-typescale-label-large-line-height, 1.25rem));--_label-text-size: var(--md-outlined-button-label-text-size, var(--md-sys-typescale-label-large-size, 0.875rem));--_label-text-weight: var(--md-outlined-button-label-text-weight, var(--md-sys-typescale-label-large-weight, var(--md-ref-typeface-weight-medium, 500)));--_outline-color: var(--md-outlined-button-outline-color, var(--md-sys-color-outline, #79747e));--_outline-width: var(--md-outlined-button-outline-width, 1px);--_pressed-label-text-color: var(--md-outlined-button-pressed-label-text-color, var(--md-sys-color-primary, #6750a4));--_pressed-outline-color: var(--md-outlined-button-pressed-outline-color, var(--md-sys-color-outline, #79747e));--_pressed-state-layer-color: var(--md-outlined-button-pressed-state-layer-color, var(--md-sys-color-primary, #6750a4));--_pressed-state-layer-opacity: var(--md-outlined-button-pressed-state-layer-opacity, 0.12);--_disabled-icon-color: var(--md-outlined-button-disabled-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-icon-opacity: var(--md-outlined-button-disabled-icon-opacity, 0.38);--_focus-icon-color: var(--md-outlined-button-focus-icon-color, var(--md-sys-color-primary, #6750a4));--_hover-icon-color: var(--md-outlined-button-hover-icon-color, var(--md-sys-color-primary, #6750a4));--_icon-color: var(--md-outlined-button-icon-color, var(--md-sys-color-primary, #6750a4));--_icon-size: var(--md-outlined-button-icon-size, 18px);--_pressed-icon-color: var(--md-outlined-button-pressed-icon-color, var(--md-sys-color-primary, #6750a4));--_container-shape-start-start: var(--md-outlined-button-container-shape-start-start, var(--md-outlined-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-start-end: var(--md-outlined-button-container-shape-start-end, var(--md-outlined-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-end-end: var(--md-outlined-button-container-shape-end-end, var(--md-outlined-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-end-start: var(--md-outlined-button-container-shape-end-start, var(--md-outlined-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_leading-space: var(--md-outlined-button-leading-space, 24px);--_trailing-space: var(--md-outlined-button-trailing-space, 24px);--_with-leading-icon-leading-space: var(--md-outlined-button-with-leading-icon-leading-space, 16px);--_with-leading-icon-trailing-space: var(--md-outlined-button-with-leading-icon-trailing-space, 24px);--_with-trailing-icon-leading-space: var(--md-outlined-button-with-trailing-icon-leading-space, 24px);--_with-trailing-icon-trailing-space: var(--md-outlined-button-with-trailing-icon-trailing-space, 16px);--_container-color: none;--_disabled-container-color: none;--_disabled-container-opacity: 0}.outline{inset:0;border-style:solid;position:absolute;box-sizing:border-box;border-color:var(--_outline-color);border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-start-radius:var(--_container-shape-end-start);border-end-end-radius:var(--_container-shape-end-end)}:host(:active) .outline{border-color:var(--_pressed-outline-color)}:host(:is([disabled],[soft-disabled])) .outline{border-color:var(--_disabled-outline-color);opacity:var(--_disabled-outline-opacity)}@media(forced-colors: active){:host(:is([disabled],[soft-disabled])) .background{border-color:GrayText}:host(:is([disabled],[soft-disabled])) .outline{opacity:1}}.outline,md-ripple{border-width:var(--_outline-width)}md-ripple{inline-size:calc(100% - 2*var(--_outline-width));block-size:calc(100% - 2*var(--_outline-width));border-style:solid;border-color:rgba(0,0,0,0)}
`;let h_=class extends vB{};h_.styles=[Sg,yB];h_=$([Wt("md-outlined-button")],h_);class bB extends $n{}const _B=dt`:host{--_container-height: var(--md-text-button-container-height, 40px);--_disabled-label-text-color: var(--md-text-button-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-label-text-opacity: var(--md-text-button-disabled-label-text-opacity, 0.38);--_focus-label-text-color: var(--md-text-button-focus-label-text-color, var(--md-sys-color-primary, #6750a4));--_hover-label-text-color: var(--md-text-button-hover-label-text-color, var(--md-sys-color-primary, #6750a4));--_hover-state-layer-color: var(--md-text-button-hover-state-layer-color, var(--md-sys-color-primary, #6750a4));--_hover-state-layer-opacity: var(--md-text-button-hover-state-layer-opacity, 0.08);--_label-text-color: var(--md-text-button-label-text-color, var(--md-sys-color-primary, #6750a4));--_label-text-font: var(--md-text-button-label-text-font, var(--md-sys-typescale-label-large-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-line-height: var(--md-text-button-label-text-line-height, var(--md-sys-typescale-label-large-line-height, 1.25rem));--_label-text-size: var(--md-text-button-label-text-size, var(--md-sys-typescale-label-large-size, 0.875rem));--_label-text-weight: var(--md-text-button-label-text-weight, var(--md-sys-typescale-label-large-weight, var(--md-ref-typeface-weight-medium, 500)));--_pressed-label-text-color: var(--md-text-button-pressed-label-text-color, var(--md-sys-color-primary, #6750a4));--_pressed-state-layer-color: var(--md-text-button-pressed-state-layer-color, var(--md-sys-color-primary, #6750a4));--_pressed-state-layer-opacity: var(--md-text-button-pressed-state-layer-opacity, 0.12);--_disabled-icon-color: var(--md-text-button-disabled-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-icon-opacity: var(--md-text-button-disabled-icon-opacity, 0.38);--_focus-icon-color: var(--md-text-button-focus-icon-color, var(--md-sys-color-primary, #6750a4));--_hover-icon-color: var(--md-text-button-hover-icon-color, var(--md-sys-color-primary, #6750a4));--_icon-color: var(--md-text-button-icon-color, var(--md-sys-color-primary, #6750a4));--_icon-size: var(--md-text-button-icon-size, 18px);--_pressed-icon-color: var(--md-text-button-pressed-icon-color, var(--md-sys-color-primary, #6750a4));--_container-shape-start-start: var(--md-text-button-container-shape-start-start, var(--md-text-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-start-end: var(--md-text-button-container-shape-start-end, var(--md-text-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-end-end: var(--md-text-button-container-shape-end-end, var(--md-text-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-end-start: var(--md-text-button-container-shape-end-start, var(--md-text-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_leading-space: var(--md-text-button-leading-space, 12px);--_trailing-space: var(--md-text-button-trailing-space, 12px);--_with-leading-icon-leading-space: var(--md-text-button-with-leading-icon-leading-space, 12px);--_with-leading-icon-trailing-space: var(--md-text-button-with-leading-icon-trailing-space, 16px);--_with-trailing-icon-leading-space: var(--md-text-button-with-trailing-icon-leading-space, 16px);--_with-trailing-icon-trailing-space: var(--md-text-button-with-trailing-icon-trailing-space, 12px);--_container-color: none;--_disabled-container-color: none;--_disabled-container-opacity: 0}
`;let f_=class extends bB{};f_.styles=[Sg,_B];f_=$([Wt("md-text-button")],f_);class sn extends It{constructor(){super(...arguments),this.disabled=!1,this.error=!1,this.focused=!1,this.label="",this.noAsterisk=!1,this.populated=!1,this.required=!1,this.resizable=!1,this.supportingText="",this.errorText="",this.count=-1,this.max=-1,this.hasStart=!1,this.hasEnd=!1,this.isAnimating=!1,this.refreshErrorAlert=!1,this.disableTransitions=!1}get counterText(){const e=this.count??-1,t=this.max??-1;return e<0||t<=0?"":`${e} / ${t}`}get supportingOrErrorText(){return this.error&&this.errorText?this.errorText:this.supportingText}reannounceError(){this.refreshErrorAlert=!0}update(e){e.has("disabled")&&e.get("disabled")!==void 0&&(this.disableTransitions=!0),this.disabled&&this.focused&&(e.set("focused",!0),this.focused=!1),this.animateLabelIfNeeded({wasFocused:e.get("focused"),wasPopulated:e.get("populated")}),super.update(e)}render(){const e=this.renderLabel(!0),t=this.renderLabel(!1),r=this.renderOutline?.(e),a={disabled:this.disabled,"disable-transitions":this.disableTransitions,error:this.error&&!this.disabled,focused:this.focused,"with-start":this.hasStart,"with-end":this.hasEnd,populated:this.populated,resizable:this.resizable,required:this.required,"no-label":!this.label};return we`
      <div class="field ${xr(a)}">
        <div class="container-overflow">
          ${this.renderBackground?.()}
          <slot name="container"></slot>
          ${this.renderStateLayer?.()} ${this.renderIndicator?.()} ${r}
          <div class="container">
            <div class="start">
              <slot name="start"></slot>
            </div>
            <div class="middle">
              <div class="label-wrapper">
                ${t} ${r?fe:e}
              </div>
              <div class="content">
                <slot></slot>
              </div>
            </div>
            <div class="end">
              <slot name="end"></slot>
            </div>
          </div>
        </div>
        ${this.renderSupportingText()}
      </div>
    `}updated(e){(e.has("supportingText")||e.has("errorText")||e.has("count")||e.has("max"))&&this.updateSlottedAriaDescribedBy(),this.refreshErrorAlert&&requestAnimationFrame(()=>{this.refreshErrorAlert=!1}),this.disableTransitions&&requestAnimationFrame(()=>{this.disableTransitions=!1})}renderSupportingText(){const{supportingOrErrorText:e,counterText:t}=this;if(!e&&!t)return fe;const r=we`<span>${e}</span>`,a=t?we`<span class="counter">${t}</span>`:fe,c=this.error&&this.errorText&&!this.refreshErrorAlert?"alert":fe;return we`
      <div class="supporting-text" role=${c}>${r}${a}</div>
      <slot
        name="aria-describedby"
        @slotchange=${this.updateSlottedAriaDescribedBy}></slot>
    `}updateSlottedAriaDescribedBy(){for(const e of this.slottedAriaDescribedBy)L2(we`${this.supportingOrErrorText} ${this.counterText}`,e),e.setAttribute("hidden","")}renderLabel(e){if(!this.label)return fe;let t;e?t=this.focused||this.populated||this.isAnimating:t=!this.focused&&!this.populated&&!this.isAnimating;const r={hidden:!t,floating:e,resting:!e},a=`${this.label}${this.required&&!this.noAsterisk?"*":""}`;return we`
      <span class="label ${xr(r)}" aria-hidden=${!t}
        >${a}</span
      >
    `}animateLabelIfNeeded({wasFocused:e,wasPopulated:t}){if(!this.label)return;e??=this.focused,t??=this.populated;const r=e||t,a=this.focused||this.populated;r!==a&&(this.isAnimating=!0,this.labelAnimation?.cancel(),this.labelAnimation=this.floatingLabelEl?.animate(this.getLabelKeyframes(),{duration:150,easing:as.STANDARD}),this.labelAnimation?.addEventListener("finish",()=>{this.isAnimating=!1}))}getLabelKeyframes(){const{floatingLabelEl:e,restingLabelEl:t}=this;if(!e||!t)return[];const{x:r,y:a,height:o}=e.getBoundingClientRect(),{x:c,y:d,height:f}=t.getBoundingClientRect(),m=e.scrollWidth,v=t.scrollWidth,y=v/m,E=c-r,I=d-a+Math.round((f-o*y)/2),L=`translateX(${E}px) translateY(${I}px) scale(${y})`,O="translateX(0) translateY(0) scale(1)",M=t.clientWidth,F=v>M?`${M/y}px`:"";return this.focused||this.populated?[{transform:L,width:F},{transform:O,width:F}]:[{transform:O,width:F},{transform:L,width:F}]}getSurfacePositionClientRect(){return this.containerEl.getBoundingClientRect()}}$([re({type:Boolean})],sn.prototype,"disabled",void 0);$([re({type:Boolean})],sn.prototype,"error",void 0);$([re({type:Boolean})],sn.prototype,"focused",void 0);$([re()],sn.prototype,"label",void 0);$([re({type:Boolean,attribute:"no-asterisk"})],sn.prototype,"noAsterisk",void 0);$([re({type:Boolean})],sn.prototype,"populated",void 0);$([re({type:Boolean})],sn.prototype,"required",void 0);$([re({type:Boolean})],sn.prototype,"resizable",void 0);$([re({attribute:"supporting-text"})],sn.prototype,"supportingText",void 0);$([re({attribute:"error-text"})],sn.prototype,"errorText",void 0);$([re({type:Number})],sn.prototype,"count",void 0);$([re({type:Number})],sn.prototype,"max",void 0);$([re({type:Boolean,attribute:"has-start"})],sn.prototype,"hasStart",void 0);$([re({type:Boolean,attribute:"has-end"})],sn.prototype,"hasEnd",void 0);$([aa({slot:"aria-describedby"})],sn.prototype,"slottedAriaDescribedBy",void 0);$([hr()],sn.prototype,"isAnimating",void 0);$([hr()],sn.prototype,"refreshErrorAlert",void 0);$([hr()],sn.prototype,"disableTransitions",void 0);$([Bt(".label.floating")],sn.prototype,"floatingLabelEl",void 0);$([Bt(".label.resting")],sn.prototype,"restingLabelEl",void 0);$([Bt(".container")],sn.prototype,"containerEl",void 0);class wB extends sn{renderBackground(){return we` <div class="background"></div> `}renderStateLayer(){return we` <div class="state-layer"></div> `}renderIndicator(){return we`<div class="active-indicator"></div>`}}const EB=dt`@layer styles{:host{--_active-indicator-color: var(--md-filled-field-active-indicator-color, var(--md-sys-color-on-surface-variant, #49454f));--_active-indicator-height: var(--md-filled-field-active-indicator-height, 1px);--_bottom-space: var(--md-filled-field-bottom-space, 16px);--_container-color: var(--md-filled-field-container-color, var(--md-sys-color-surface-container-highest, #e6e0e9));--_content-color: var(--md-filled-field-content-color, var(--md-sys-color-on-surface, #1d1b20));--_content-font: var(--md-filled-field-content-font, var(--md-sys-typescale-body-large-font, var(--md-ref-typeface-plain, Roboto)));--_content-line-height: var(--md-filled-field-content-line-height, var(--md-sys-typescale-body-large-line-height, 1.5rem));--_content-size: var(--md-filled-field-content-size, var(--md-sys-typescale-body-large-size, 1rem));--_content-space: var(--md-filled-field-content-space, 16px);--_content-weight: var(--md-filled-field-content-weight, var(--md-sys-typescale-body-large-weight, var(--md-ref-typeface-weight-regular, 400)));--_disabled-active-indicator-color: var(--md-filled-field-disabled-active-indicator-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-active-indicator-height: var(--md-filled-field-disabled-active-indicator-height, 1px);--_disabled-active-indicator-opacity: var(--md-filled-field-disabled-active-indicator-opacity, 0.38);--_disabled-container-color: var(--md-filled-field-disabled-container-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-container-opacity: var(--md-filled-field-disabled-container-opacity, 0.04);--_disabled-content-color: var(--md-filled-field-disabled-content-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-content-opacity: var(--md-filled-field-disabled-content-opacity, 0.38);--_disabled-label-text-color: var(--md-filled-field-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-label-text-opacity: var(--md-filled-field-disabled-label-text-opacity, 0.38);--_disabled-leading-content-color: var(--md-filled-field-disabled-leading-content-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-leading-content-opacity: var(--md-filled-field-disabled-leading-content-opacity, 0.38);--_disabled-supporting-text-color: var(--md-filled-field-disabled-supporting-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-supporting-text-opacity: var(--md-filled-field-disabled-supporting-text-opacity, 0.38);--_disabled-trailing-content-color: var(--md-filled-field-disabled-trailing-content-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-trailing-content-opacity: var(--md-filled-field-disabled-trailing-content-opacity, 0.38);--_error-active-indicator-color: var(--md-filled-field-error-active-indicator-color, var(--md-sys-color-error, #b3261e));--_error-content-color: var(--md-filled-field-error-content-color, var(--md-sys-color-on-surface, #1d1b20));--_error-focus-active-indicator-color: var(--md-filled-field-error-focus-active-indicator-color, var(--md-sys-color-error, #b3261e));--_error-focus-content-color: var(--md-filled-field-error-focus-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_error-focus-label-text-color: var(--md-filled-field-error-focus-label-text-color, var(--md-sys-color-error, #b3261e));--_error-focus-leading-content-color: var(--md-filled-field-error-focus-leading-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_error-focus-supporting-text-color: var(--md-filled-field-error-focus-supporting-text-color, var(--md-sys-color-error, #b3261e));--_error-focus-trailing-content-color: var(--md-filled-field-error-focus-trailing-content-color, var(--md-sys-color-error, #b3261e));--_error-hover-active-indicator-color: var(--md-filled-field-error-hover-active-indicator-color, var(--md-sys-color-on-error-container, #410e0b));--_error-hover-content-color: var(--md-filled-field-error-hover-content-color, var(--md-sys-color-on-surface, #1d1b20));--_error-hover-label-text-color: var(--md-filled-field-error-hover-label-text-color, var(--md-sys-color-on-error-container, #410e0b));--_error-hover-leading-content-color: var(--md-filled-field-error-hover-leading-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_error-hover-state-layer-color: var(--md-filled-field-error-hover-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--_error-hover-state-layer-opacity: var(--md-filled-field-error-hover-state-layer-opacity, 0.08);--_error-hover-supporting-text-color: var(--md-filled-field-error-hover-supporting-text-color, var(--md-sys-color-error, #b3261e));--_error-hover-trailing-content-color: var(--md-filled-field-error-hover-trailing-content-color, var(--md-sys-color-on-error-container, #410e0b));--_error-label-text-color: var(--md-filled-field-error-label-text-color, var(--md-sys-color-error, #b3261e));--_error-leading-content-color: var(--md-filled-field-error-leading-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_error-supporting-text-color: var(--md-filled-field-error-supporting-text-color, var(--md-sys-color-error, #b3261e));--_error-trailing-content-color: var(--md-filled-field-error-trailing-content-color, var(--md-sys-color-error, #b3261e));--_focus-active-indicator-color: var(--md-filled-field-focus-active-indicator-color, var(--md-sys-color-primary, #6750a4));--_focus-active-indicator-height: var(--md-filled-field-focus-active-indicator-height, 3px);--_focus-content-color: var(--md-filled-field-focus-content-color, var(--md-sys-color-on-surface, #1d1b20));--_focus-label-text-color: var(--md-filled-field-focus-label-text-color, var(--md-sys-color-primary, #6750a4));--_focus-leading-content-color: var(--md-filled-field-focus-leading-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_focus-supporting-text-color: var(--md-filled-field-focus-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_focus-trailing-content-color: var(--md-filled-field-focus-trailing-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-active-indicator-color: var(--md-filled-field-hover-active-indicator-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-active-indicator-height: var(--md-filled-field-hover-active-indicator-height, 1px);--_hover-content-color: var(--md-filled-field-hover-content-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-label-text-color: var(--md-filled-field-hover-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-leading-content-color: var(--md-filled-field-hover-leading-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-state-layer-color: var(--md-filled-field-hover-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-state-layer-opacity: var(--md-filled-field-hover-state-layer-opacity, 0.08);--_hover-supporting-text-color: var(--md-filled-field-hover-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-trailing-content-color: var(--md-filled-field-hover-trailing-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_label-text-color: var(--md-filled-field-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_label-text-font: var(--md-filled-field-label-text-font, var(--md-sys-typescale-body-large-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-line-height: var(--md-filled-field-label-text-line-height, var(--md-sys-typescale-body-large-line-height, 1.5rem));--_label-text-populated-line-height: var(--md-filled-field-label-text-populated-line-height, var(--md-sys-typescale-body-small-line-height, 1rem));--_label-text-populated-size: var(--md-filled-field-label-text-populated-size, var(--md-sys-typescale-body-small-size, 0.75rem));--_label-text-size: var(--md-filled-field-label-text-size, var(--md-sys-typescale-body-large-size, 1rem));--_label-text-weight: var(--md-filled-field-label-text-weight, var(--md-sys-typescale-body-large-weight, var(--md-ref-typeface-weight-regular, 400)));--_leading-content-color: var(--md-filled-field-leading-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_leading-space: var(--md-filled-field-leading-space, 16px);--_supporting-text-color: var(--md-filled-field-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_supporting-text-font: var(--md-filled-field-supporting-text-font, var(--md-sys-typescale-body-small-font, var(--md-ref-typeface-plain, Roboto)));--_supporting-text-leading-space: var(--md-filled-field-supporting-text-leading-space, 16px);--_supporting-text-line-height: var(--md-filled-field-supporting-text-line-height, var(--md-sys-typescale-body-small-line-height, 1rem));--_supporting-text-size: var(--md-filled-field-supporting-text-size, var(--md-sys-typescale-body-small-size, 0.75rem));--_supporting-text-top-space: var(--md-filled-field-supporting-text-top-space, 4px);--_supporting-text-trailing-space: var(--md-filled-field-supporting-text-trailing-space, 16px);--_supporting-text-weight: var(--md-filled-field-supporting-text-weight, var(--md-sys-typescale-body-small-weight, var(--md-ref-typeface-weight-regular, 400)));--_top-space: var(--md-filled-field-top-space, 16px);--_trailing-content-color: var(--md-filled-field-trailing-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_trailing-space: var(--md-filled-field-trailing-space, 16px);--_with-label-bottom-space: var(--md-filled-field-with-label-bottom-space, 8px);--_with-label-top-space: var(--md-filled-field-with-label-top-space, 8px);--_with-leading-content-leading-space: var(--md-filled-field-with-leading-content-leading-space, 12px);--_with-trailing-content-trailing-space: var(--md-filled-field-with-trailing-content-trailing-space, 12px);--_container-shape-start-start: var(--md-filled-field-container-shape-start-start, var(--md-filled-field-container-shape, var(--md-sys-shape-corner-extra-small, 4px)));--_container-shape-start-end: var(--md-filled-field-container-shape-start-end, var(--md-filled-field-container-shape, var(--md-sys-shape-corner-extra-small, 4px)));--_container-shape-end-end: var(--md-filled-field-container-shape-end-end, var(--md-filled-field-container-shape, var(--md-sys-shape-corner-none, 0px)));--_container-shape-end-start: var(--md-filled-field-container-shape-end-start, var(--md-filled-field-container-shape, var(--md-sys-shape-corner-none, 0px)))}.background,.state-layer{border-radius:inherit;inset:0;pointer-events:none;position:absolute}.background{background:var(--_container-color)}.state-layer{visibility:hidden}.field:not(.disabled):hover .state-layer{visibility:visible}.label.floating{position:absolute;top:var(--_with-label-top-space)}.field:not(.with-start) .label-wrapper{margin-inline-start:var(--_leading-space)}.field:not(.with-end) .label-wrapper{margin-inline-end:var(--_trailing-space)}.active-indicator{inset:auto 0 0 0;pointer-events:none;position:absolute;width:100%;z-index:1}.active-indicator::before,.active-indicator::after{border-bottom:var(--_active-indicator-height) solid var(--_active-indicator-color);inset:auto 0 0 0;content:"";position:absolute;width:100%}.active-indicator::after{opacity:0;transition:opacity 150ms cubic-bezier(0.2, 0, 0, 1)}.focused .active-indicator::after{opacity:1}.field:not(.with-start) .content ::slotted(*){padding-inline-start:var(--_leading-space)}.field:not(.with-end) .content ::slotted(*){padding-inline-end:var(--_trailing-space)}.field:not(.no-label) .content ::slotted(:not(textarea)){padding-bottom:var(--_with-label-bottom-space);padding-top:calc(var(--_with-label-top-space) + var(--_label-text-populated-line-height))}.field:not(.no-label) .content ::slotted(textarea){margin-bottom:var(--_with-label-bottom-space);margin-top:calc(var(--_with-label-top-space) + var(--_label-text-populated-line-height))}:hover .active-indicator::before{border-bottom-color:var(--_hover-active-indicator-color);border-bottom-width:var(--_hover-active-indicator-height)}.active-indicator::after{border-bottom-color:var(--_focus-active-indicator-color);border-bottom-width:var(--_focus-active-indicator-height)}:hover .state-layer{background:var(--_hover-state-layer-color);opacity:var(--_hover-state-layer-opacity)}.disabled .active-indicator::before{border-bottom-color:var(--_disabled-active-indicator-color);border-bottom-width:var(--_disabled-active-indicator-height);opacity:var(--_disabled-active-indicator-opacity)}.disabled .background{background:var(--_disabled-container-color);opacity:var(--_disabled-container-opacity)}.error .active-indicator::before{border-bottom-color:var(--_error-active-indicator-color)}.error:hover .active-indicator::before{border-bottom-color:var(--_error-hover-active-indicator-color)}.error:hover .state-layer{background:var(--_error-hover-state-layer-color);opacity:var(--_error-hover-state-layer-opacity)}.error .active-indicator::after{border-bottom-color:var(--_error-focus-active-indicator-color)}.resizable .container{bottom:var(--_focus-active-indicator-height);clip-path:inset(var(--_focus-active-indicator-height) 0 0 0)}.resizable .container>*{top:var(--_focus-active-indicator-height)}}@layer hcm{@media(forced-colors: active){.disabled .active-indicator::before{border-color:GrayText;opacity:1}}}
`;const xB=dt`:host{display:inline-flex;resize:both}.field{display:flex;flex:1;flex-direction:column;writing-mode:horizontal-tb;max-width:100%}.container-overflow{border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-end-radius:var(--_container-shape-end-end);border-end-start-radius:var(--_container-shape-end-start);display:flex;height:100%;position:relative}.container{align-items:center;border-radius:inherit;display:flex;flex:1;max-height:100%;min-height:100%;min-width:min-content;position:relative}.field,.container-overflow{resize:inherit}.resizable:not(.disabled) .container{resize:inherit;overflow:hidden}.disabled{pointer-events:none}slot[name=container]{border-radius:inherit}slot[name=container]::slotted(*){border-radius:inherit;inset:0;pointer-events:none;position:absolute}@layer styles{.start,.middle,.end{display:flex;box-sizing:border-box;height:100%;position:relative}.start{color:var(--_leading-content-color)}.end{color:var(--_trailing-content-color)}.start,.end{align-items:center;justify-content:center}.with-start .start{margin-inline:var(--_with-leading-content-leading-space) var(--_content-space)}.with-end .end{margin-inline:var(--_content-space) var(--_with-trailing-content-trailing-space)}.middle{align-items:stretch;align-self:baseline;flex:1}.content{color:var(--_content-color);display:flex;flex:1;opacity:0;transition:opacity 83ms cubic-bezier(0.2, 0, 0, 1)}.no-label .content,.focused .content,.populated .content{opacity:1;transition-delay:67ms}:is(.disabled,.disable-transitions) .content{transition:none}.content ::slotted(*){all:unset;color:currentColor;font-family:var(--_content-font);font-size:var(--_content-size);line-height:var(--_content-line-height);font-weight:var(--_content-weight);width:100%;overflow-wrap:revert;white-space:revert}.content ::slotted(:not(textarea)){padding-top:var(--_top-space);padding-bottom:var(--_bottom-space)}.content ::slotted(textarea){margin-top:var(--_top-space);margin-bottom:var(--_bottom-space)}:hover .content{color:var(--_hover-content-color)}:hover .start{color:var(--_hover-leading-content-color)}:hover .end{color:var(--_hover-trailing-content-color)}.focused .content{color:var(--_focus-content-color)}.focused .start{color:var(--_focus-leading-content-color)}.focused .end{color:var(--_focus-trailing-content-color)}.disabled .content{color:var(--_disabled-content-color)}.disabled.no-label .content,.disabled.focused .content,.disabled.populated .content{opacity:var(--_disabled-content-opacity)}.disabled .start{color:var(--_disabled-leading-content-color);opacity:var(--_disabled-leading-content-opacity)}.disabled .end{color:var(--_disabled-trailing-content-color);opacity:var(--_disabled-trailing-content-opacity)}.error .content{color:var(--_error-content-color)}.error .start{color:var(--_error-leading-content-color)}.error .end{color:var(--_error-trailing-content-color)}.error:hover .content{color:var(--_error-hover-content-color)}.error:hover .start{color:var(--_error-hover-leading-content-color)}.error:hover .end{color:var(--_error-hover-trailing-content-color)}.error.focused .content{color:var(--_error-focus-content-color)}.error.focused .start{color:var(--_error-focus-leading-content-color)}.error.focused .end{color:var(--_error-focus-trailing-content-color)}}@layer hcm{@media(forced-colors: active){.disabled :is(.start,.content,.end){color:GrayText;opacity:1}}}@layer styles{.label{box-sizing:border-box;color:var(--_label-text-color);overflow:hidden;max-width:100%;text-overflow:ellipsis;white-space:nowrap;z-index:1;font-family:var(--_label-text-font);font-size:var(--_label-text-size);line-height:var(--_label-text-line-height);font-weight:var(--_label-text-weight);width:min-content}.label-wrapper{inset:0;pointer-events:none;position:absolute}.label.resting{position:absolute;top:var(--_top-space)}.label.floating{font-size:var(--_label-text-populated-size);line-height:var(--_label-text-populated-line-height);transform-origin:top left}.label.hidden{opacity:0}.no-label .label{display:none}.label-wrapper{inset:0;position:absolute;text-align:initial}:hover .label{color:var(--_hover-label-text-color)}.focused .label{color:var(--_focus-label-text-color)}.disabled .label{color:var(--_disabled-label-text-color)}.disabled .label:not(.hidden){opacity:var(--_disabled-label-text-opacity)}.error .label{color:var(--_error-label-text-color)}.error:hover .label{color:var(--_error-hover-label-text-color)}.error.focused .label{color:var(--_error-focus-label-text-color)}}@layer hcm{@media(forced-colors: active){.disabled .label:not(.hidden){color:GrayText;opacity:1}}}@layer styles{.supporting-text{color:var(--_supporting-text-color);display:flex;font-family:var(--_supporting-text-font);font-size:var(--_supporting-text-size);line-height:var(--_supporting-text-line-height);font-weight:var(--_supporting-text-weight);gap:16px;justify-content:space-between;padding-inline-start:var(--_supporting-text-leading-space);padding-inline-end:var(--_supporting-text-trailing-space);padding-top:var(--_supporting-text-top-space)}.supporting-text :nth-child(2){flex-shrink:0}:hover .supporting-text{color:var(--_hover-supporting-text-color)}.focus .supporting-text{color:var(--_focus-supporting-text-color)}.disabled .supporting-text{color:var(--_disabled-supporting-text-color);opacity:var(--_disabled-supporting-text-opacity)}.error .supporting-text{color:var(--_error-supporting-text-color)}.error:hover .supporting-text{color:var(--_error-hover-supporting-text-color)}.error.focus .supporting-text{color:var(--_error-focus-supporting-text-color)}}@layer hcm{@media(forced-colors: active){.disabled .supporting-text{color:GrayText;opacity:1}}}
`;let p_=class extends wB{};p_.styles=[xB,EB];p_=$([Wt("md-filled-field")],p_);const G2=Symbol.for(""),TB=n=>{if(n?.r===G2)return n?._$litStatic$},us=(n,...e)=>({_$litStatic$:e.reduce((t,r,a)=>t+(o=>{if(o._$litStatic$!==void 0)return o._$litStatic$;throw Error(`Value passed to 'literal' function must be a 'literal' result: ${o}. Use 'unsafeStatic' to pass non-literal values, but
            take care to ensure page security.`)})(r)+n[a+1],n[0]),r:G2}),$I=new Map,SB=n=>(e,...t)=>{const r=t.length;let a,o;const c=[],d=[];let f,m=0,v=!1;for(;m<r;){for(f=e[m];m<r&&(o=t[m],(a=TB(o))!==void 0);)f+=a+e[++m],v=!0;m!==r&&d.push(o),c.push(f),m++}if(m===r&&c.push(e[r]),v){const y=c.join("$$lit$$");(e=$I.get(y))===void 0&&(c.raw=c,$I.set(y,e=c)),t=d}return n(e,...t)},Ag=SB(we);const AB=dt`:host{--_active-indicator-color: var(--md-filled-text-field-active-indicator-color, var(--md-sys-color-on-surface-variant, #49454f));--_active-indicator-height: var(--md-filled-text-field-active-indicator-height, 1px);--_caret-color: var(--md-filled-text-field-caret-color, var(--md-sys-color-primary, #6750a4));--_container-color: var(--md-filled-text-field-container-color, var(--md-sys-color-surface-container-highest, #e6e0e9));--_disabled-active-indicator-color: var(--md-filled-text-field-disabled-active-indicator-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-active-indicator-height: var(--md-filled-text-field-disabled-active-indicator-height, 1px);--_disabled-active-indicator-opacity: var(--md-filled-text-field-disabled-active-indicator-opacity, 0.38);--_disabled-container-color: var(--md-filled-text-field-disabled-container-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-container-opacity: var(--md-filled-text-field-disabled-container-opacity, 0.04);--_disabled-input-text-color: var(--md-filled-text-field-disabled-input-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-input-text-opacity: var(--md-filled-text-field-disabled-input-text-opacity, 0.38);--_disabled-label-text-color: var(--md-filled-text-field-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-label-text-opacity: var(--md-filled-text-field-disabled-label-text-opacity, 0.38);--_disabled-leading-icon-color: var(--md-filled-text-field-disabled-leading-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-leading-icon-opacity: var(--md-filled-text-field-disabled-leading-icon-opacity, 0.38);--_disabled-supporting-text-color: var(--md-filled-text-field-disabled-supporting-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-supporting-text-opacity: var(--md-filled-text-field-disabled-supporting-text-opacity, 0.38);--_disabled-trailing-icon-color: var(--md-filled-text-field-disabled-trailing-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-trailing-icon-opacity: var(--md-filled-text-field-disabled-trailing-icon-opacity, 0.38);--_error-active-indicator-color: var(--md-filled-text-field-error-active-indicator-color, var(--md-sys-color-error, #b3261e));--_error-focus-active-indicator-color: var(--md-filled-text-field-error-focus-active-indicator-color, var(--md-sys-color-error, #b3261e));--_error-focus-caret-color: var(--md-filled-text-field-error-focus-caret-color, var(--md-sys-color-error, #b3261e));--_error-focus-input-text-color: var(--md-filled-text-field-error-focus-input-text-color, var(--md-sys-color-on-surface, #1d1b20));--_error-focus-label-text-color: var(--md-filled-text-field-error-focus-label-text-color, var(--md-sys-color-error, #b3261e));--_error-focus-leading-icon-color: var(--md-filled-text-field-error-focus-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_error-focus-supporting-text-color: var(--md-filled-text-field-error-focus-supporting-text-color, var(--md-sys-color-error, #b3261e));--_error-focus-trailing-icon-color: var(--md-filled-text-field-error-focus-trailing-icon-color, var(--md-sys-color-error, #b3261e));--_error-hover-active-indicator-color: var(--md-filled-text-field-error-hover-active-indicator-color, var(--md-sys-color-on-error-container, #410e0b));--_error-hover-input-text-color: var(--md-filled-text-field-error-hover-input-text-color, var(--md-sys-color-on-surface, #1d1b20));--_error-hover-label-text-color: var(--md-filled-text-field-error-hover-label-text-color, var(--md-sys-color-on-error-container, #410e0b));--_error-hover-leading-icon-color: var(--md-filled-text-field-error-hover-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_error-hover-state-layer-color: var(--md-filled-text-field-error-hover-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--_error-hover-state-layer-opacity: var(--md-filled-text-field-error-hover-state-layer-opacity, 0.08);--_error-hover-supporting-text-color: var(--md-filled-text-field-error-hover-supporting-text-color, var(--md-sys-color-error, #b3261e));--_error-hover-trailing-icon-color: var(--md-filled-text-field-error-hover-trailing-icon-color, var(--md-sys-color-on-error-container, #410e0b));--_error-input-text-color: var(--md-filled-text-field-error-input-text-color, var(--md-sys-color-on-surface, #1d1b20));--_error-label-text-color: var(--md-filled-text-field-error-label-text-color, var(--md-sys-color-error, #b3261e));--_error-leading-icon-color: var(--md-filled-text-field-error-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_error-supporting-text-color: var(--md-filled-text-field-error-supporting-text-color, var(--md-sys-color-error, #b3261e));--_error-trailing-icon-color: var(--md-filled-text-field-error-trailing-icon-color, var(--md-sys-color-error, #b3261e));--_focus-active-indicator-color: var(--md-filled-text-field-focus-active-indicator-color, var(--md-sys-color-primary, #6750a4));--_focus-active-indicator-height: var(--md-filled-text-field-focus-active-indicator-height, 3px);--_focus-input-text-color: var(--md-filled-text-field-focus-input-text-color, var(--md-sys-color-on-surface, #1d1b20));--_focus-label-text-color: var(--md-filled-text-field-focus-label-text-color, var(--md-sys-color-primary, #6750a4));--_focus-leading-icon-color: var(--md-filled-text-field-focus-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_focus-supporting-text-color: var(--md-filled-text-field-focus-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_focus-trailing-icon-color: var(--md-filled-text-field-focus-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-active-indicator-color: var(--md-filled-text-field-hover-active-indicator-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-active-indicator-height: var(--md-filled-text-field-hover-active-indicator-height, 1px);--_hover-input-text-color: var(--md-filled-text-field-hover-input-text-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-label-text-color: var(--md-filled-text-field-hover-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-leading-icon-color: var(--md-filled-text-field-hover-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-state-layer-color: var(--md-filled-text-field-hover-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-state-layer-opacity: var(--md-filled-text-field-hover-state-layer-opacity, 0.08);--_hover-supporting-text-color: var(--md-filled-text-field-hover-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-trailing-icon-color: var(--md-filled-text-field-hover-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_input-text-color: var(--md-filled-text-field-input-text-color, var(--md-sys-color-on-surface, #1d1b20));--_input-text-font: var(--md-filled-text-field-input-text-font, var(--md-sys-typescale-body-large-font, var(--md-ref-typeface-plain, Roboto)));--_input-text-line-height: var(--md-filled-text-field-input-text-line-height, var(--md-sys-typescale-body-large-line-height, 1.5rem));--_input-text-placeholder-color: var(--md-filled-text-field-input-text-placeholder-color, var(--md-sys-color-on-surface-variant, #49454f));--_input-text-prefix-color: var(--md-filled-text-field-input-text-prefix-color, var(--md-sys-color-on-surface-variant, #49454f));--_input-text-size: var(--md-filled-text-field-input-text-size, var(--md-sys-typescale-body-large-size, 1rem));--_input-text-suffix-color: var(--md-filled-text-field-input-text-suffix-color, var(--md-sys-color-on-surface-variant, #49454f));--_input-text-weight: var(--md-filled-text-field-input-text-weight, var(--md-sys-typescale-body-large-weight, var(--md-ref-typeface-weight-regular, 400)));--_label-text-color: var(--md-filled-text-field-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_label-text-font: var(--md-filled-text-field-label-text-font, var(--md-sys-typescale-body-large-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-line-height: var(--md-filled-text-field-label-text-line-height, var(--md-sys-typescale-body-large-line-height, 1.5rem));--_label-text-populated-line-height: var(--md-filled-text-field-label-text-populated-line-height, var(--md-sys-typescale-body-small-line-height, 1rem));--_label-text-populated-size: var(--md-filled-text-field-label-text-populated-size, var(--md-sys-typescale-body-small-size, 0.75rem));--_label-text-size: var(--md-filled-text-field-label-text-size, var(--md-sys-typescale-body-large-size, 1rem));--_label-text-weight: var(--md-filled-text-field-label-text-weight, var(--md-sys-typescale-body-large-weight, var(--md-ref-typeface-weight-regular, 400)));--_leading-icon-color: var(--md-filled-text-field-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_leading-icon-size: var(--md-filled-text-field-leading-icon-size, 24px);--_supporting-text-color: var(--md-filled-text-field-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_supporting-text-font: var(--md-filled-text-field-supporting-text-font, var(--md-sys-typescale-body-small-font, var(--md-ref-typeface-plain, Roboto)));--_supporting-text-line-height: var(--md-filled-text-field-supporting-text-line-height, var(--md-sys-typescale-body-small-line-height, 1rem));--_supporting-text-size: var(--md-filled-text-field-supporting-text-size, var(--md-sys-typescale-body-small-size, 0.75rem));--_supporting-text-weight: var(--md-filled-text-field-supporting-text-weight, var(--md-sys-typescale-body-small-weight, var(--md-ref-typeface-weight-regular, 400)));--_trailing-icon-color: var(--md-filled-text-field-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_trailing-icon-size: var(--md-filled-text-field-trailing-icon-size, 24px);--_container-shape-start-start: var(--md-filled-text-field-container-shape-start-start, var(--md-filled-text-field-container-shape, var(--md-sys-shape-corner-extra-small, 4px)));--_container-shape-start-end: var(--md-filled-text-field-container-shape-start-end, var(--md-filled-text-field-container-shape, var(--md-sys-shape-corner-extra-small, 4px)));--_container-shape-end-end: var(--md-filled-text-field-container-shape-end-end, var(--md-filled-text-field-container-shape, var(--md-sys-shape-corner-none, 0px)));--_container-shape-end-start: var(--md-filled-text-field-container-shape-end-start, var(--md-filled-text-field-container-shape, var(--md-sys-shape-corner-none, 0px)));--_icon-input-space: var(--md-filled-text-field-icon-input-space, 16px);--_leading-space: var(--md-filled-text-field-leading-space, 16px);--_trailing-space: var(--md-filled-text-field-trailing-space, 16px);--_top-space: var(--md-filled-text-field-top-space, 16px);--_bottom-space: var(--md-filled-text-field-bottom-space, 16px);--_input-text-prefix-trailing-space: var(--md-filled-text-field-input-text-prefix-trailing-space, 2px);--_input-text-suffix-leading-space: var(--md-filled-text-field-input-text-suffix-leading-space, 2px);--_with-label-top-space: var(--md-filled-text-field-with-label-top-space, 8px);--_with-label-bottom-space: var(--md-filled-text-field-with-label-bottom-space, 8px);--_focus-caret-color: var(--md-filled-text-field-focus-caret-color, var(--md-sys-color-primary, #6750a4));--_with-leading-icon-leading-space: var(--md-filled-text-field-with-leading-icon-leading-space, 12px);--_with-trailing-icon-trailing-space: var(--md-filled-text-field-with-trailing-icon-trailing-space, 12px);--md-filled-field-active-indicator-color: var(--_active-indicator-color);--md-filled-field-active-indicator-height: var(--_active-indicator-height);--md-filled-field-bottom-space: var(--_bottom-space);--md-filled-field-container-color: var(--_container-color);--md-filled-field-container-shape-end-end: var(--_container-shape-end-end);--md-filled-field-container-shape-end-start: var(--_container-shape-end-start);--md-filled-field-container-shape-start-end: var(--_container-shape-start-end);--md-filled-field-container-shape-start-start: var(--_container-shape-start-start);--md-filled-field-content-color: var(--_input-text-color);--md-filled-field-content-font: var(--_input-text-font);--md-filled-field-content-line-height: var(--_input-text-line-height);--md-filled-field-content-size: var(--_input-text-size);--md-filled-field-content-space: var(--_icon-input-space);--md-filled-field-content-weight: var(--_input-text-weight);--md-filled-field-disabled-active-indicator-color: var(--_disabled-active-indicator-color);--md-filled-field-disabled-active-indicator-height: var(--_disabled-active-indicator-height);--md-filled-field-disabled-active-indicator-opacity: var(--_disabled-active-indicator-opacity);--md-filled-field-disabled-container-color: var(--_disabled-container-color);--md-filled-field-disabled-container-opacity: var(--_disabled-container-opacity);--md-filled-field-disabled-content-color: var(--_disabled-input-text-color);--md-filled-field-disabled-content-opacity: var(--_disabled-input-text-opacity);--md-filled-field-disabled-label-text-color: var(--_disabled-label-text-color);--md-filled-field-disabled-label-text-opacity: var(--_disabled-label-text-opacity);--md-filled-field-disabled-leading-content-color: var(--_disabled-leading-icon-color);--md-filled-field-disabled-leading-content-opacity: var(--_disabled-leading-icon-opacity);--md-filled-field-disabled-supporting-text-color: var(--_disabled-supporting-text-color);--md-filled-field-disabled-supporting-text-opacity: var(--_disabled-supporting-text-opacity);--md-filled-field-disabled-trailing-content-color: var(--_disabled-trailing-icon-color);--md-filled-field-disabled-trailing-content-opacity: var(--_disabled-trailing-icon-opacity);--md-filled-field-error-active-indicator-color: var(--_error-active-indicator-color);--md-filled-field-error-content-color: var(--_error-input-text-color);--md-filled-field-error-focus-active-indicator-color: var(--_error-focus-active-indicator-color);--md-filled-field-error-focus-content-color: var(--_error-focus-input-text-color);--md-filled-field-error-focus-label-text-color: var(--_error-focus-label-text-color);--md-filled-field-error-focus-leading-content-color: var(--_error-focus-leading-icon-color);--md-filled-field-error-focus-supporting-text-color: var(--_error-focus-supporting-text-color);--md-filled-field-error-focus-trailing-content-color: var(--_error-focus-trailing-icon-color);--md-filled-field-error-hover-active-indicator-color: var(--_error-hover-active-indicator-color);--md-filled-field-error-hover-content-color: var(--_error-hover-input-text-color);--md-filled-field-error-hover-label-text-color: var(--_error-hover-label-text-color);--md-filled-field-error-hover-leading-content-color: var(--_error-hover-leading-icon-color);--md-filled-field-error-hover-state-layer-color: var(--_error-hover-state-layer-color);--md-filled-field-error-hover-state-layer-opacity: var(--_error-hover-state-layer-opacity);--md-filled-field-error-hover-supporting-text-color: var(--_error-hover-supporting-text-color);--md-filled-field-error-hover-trailing-content-color: var(--_error-hover-trailing-icon-color);--md-filled-field-error-label-text-color: var(--_error-label-text-color);--md-filled-field-error-leading-content-color: var(--_error-leading-icon-color);--md-filled-field-error-supporting-text-color: var(--_error-supporting-text-color);--md-filled-field-error-trailing-content-color: var(--_error-trailing-icon-color);--md-filled-field-focus-active-indicator-color: var(--_focus-active-indicator-color);--md-filled-field-focus-active-indicator-height: var(--_focus-active-indicator-height);--md-filled-field-focus-content-color: var(--_focus-input-text-color);--md-filled-field-focus-label-text-color: var(--_focus-label-text-color);--md-filled-field-focus-leading-content-color: var(--_focus-leading-icon-color);--md-filled-field-focus-supporting-text-color: var(--_focus-supporting-text-color);--md-filled-field-focus-trailing-content-color: var(--_focus-trailing-icon-color);--md-filled-field-hover-active-indicator-color: var(--_hover-active-indicator-color);--md-filled-field-hover-active-indicator-height: var(--_hover-active-indicator-height);--md-filled-field-hover-content-color: var(--_hover-input-text-color);--md-filled-field-hover-label-text-color: var(--_hover-label-text-color);--md-filled-field-hover-leading-content-color: var(--_hover-leading-icon-color);--md-filled-field-hover-state-layer-color: var(--_hover-state-layer-color);--md-filled-field-hover-state-layer-opacity: var(--_hover-state-layer-opacity);--md-filled-field-hover-supporting-text-color: var(--_hover-supporting-text-color);--md-filled-field-hover-trailing-content-color: var(--_hover-trailing-icon-color);--md-filled-field-label-text-color: var(--_label-text-color);--md-filled-field-label-text-font: var(--_label-text-font);--md-filled-field-label-text-line-height: var(--_label-text-line-height);--md-filled-field-label-text-populated-line-height: var(--_label-text-populated-line-height);--md-filled-field-label-text-populated-size: var(--_label-text-populated-size);--md-filled-field-label-text-size: var(--_label-text-size);--md-filled-field-label-text-weight: var(--_label-text-weight);--md-filled-field-leading-content-color: var(--_leading-icon-color);--md-filled-field-leading-space: var(--_leading-space);--md-filled-field-supporting-text-color: var(--_supporting-text-color);--md-filled-field-supporting-text-font: var(--_supporting-text-font);--md-filled-field-supporting-text-line-height: var(--_supporting-text-line-height);--md-filled-field-supporting-text-size: var(--_supporting-text-size);--md-filled-field-supporting-text-weight: var(--_supporting-text-weight);--md-filled-field-top-space: var(--_top-space);--md-filled-field-trailing-content-color: var(--_trailing-icon-color);--md-filled-field-trailing-space: var(--_trailing-space);--md-filled-field-with-label-bottom-space: var(--_with-label-bottom-space);--md-filled-field-with-label-top-space: var(--_with-label-top-space);--md-filled-field-with-leading-content-leading-space: var(--_with-leading-icon-leading-space);--md-filled-field-with-trailing-content-trailing-space: var(--_with-trailing-icon-trailing-space)}
`;const IB=n=>n.strings===void 0,CB={},RB=(n,e=CB)=>n._$AH=e;const FI=yw(class extends bw{constructor(n){if(super(n),n.type!==Ka.PROPERTY&&n.type!==Ka.ATTRIBUTE&&n.type!==Ka.BOOLEAN_ATTRIBUTE)throw Error("The `live` directive is not allowed on child or event bindings");if(!IB(n))throw Error("`live` bindings can only contain a single expression")}render(n){return n}update(n,[e]){if(e===yi||e===fe)return e;const t=n.element,r=n.name;if(n.type===Ka.PROPERTY){if(e===t[r])return yi}else if(n.type===Ka.BOOLEAN_ATTRIBUTE){if(!!e===t.hasAttribute(r))return yi}else if(n.type===Ka.ATTRIBUTE&&t.getAttribute(r)===e+"")return yi;return RB(n),e}});const K2="important",DB=" !"+K2,m_=yw(class extends bw{constructor(n){if(super(n),n.type!==Ka.ATTRIBUTE||n.name!=="style"||n.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(n){return Object.keys(n).reduce((e,t)=>{const r=n[t];return r==null?e:e+`${t=t.includes("-")?t:t.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`},"")}update(n,[e]){const{style:t}=n.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(e)),this.render(e);for(const r of this.ft)e[r]==null&&(this.ft.delete(r),r.includes("-")?t.removeProperty(r):t[r]=null);for(const r in e){const a=e[r];if(a!=null){this.ft.add(r);const o=typeof a=="string"&&a.endsWith(DB);r.includes("-")||o?t.setProperty(r,o?a.slice(0,-11):a,o?K2:""):t[r]=a}}return yi}});const NB={fromAttribute(n){return n??""},toAttribute(n){return n||null}};function Ig(n,e){e.bubbles&&(!n.shadowRoot||e.composed)&&e.stopPropagation();const t=Reflect.construct(e.constructor,[e.type,e]),r=n.dispatchEvent(t);return r||e.preventDefault(),r}const mh=Symbol("createValidator"),gh=Symbol("getValidityAnchor"),cb=Symbol("privateValidator"),js=Symbol("privateSyncValidity"),bp=Symbol("privateCustomValidationMessage");function ww(n){var e;class t extends n{constructor(){super(...arguments),this[e]=""}get validity(){return this[js](),this[Jn].validity}get validationMessage(){return this[js](),this[Jn].validationMessage}get willValidate(){return this[js](),this[Jn].willValidate}checkValidity(){return this[js](),this[Jn].checkValidity()}reportValidity(){return this[js](),this[Jn].reportValidity()}setCustomValidity(a){this[bp]=a,this[js]()}requestUpdate(a,o,c){super.requestUpdate(a,o,c),this[js]()}firstUpdated(a){super.firstUpdated(a),this[js]()}[(e=bp,js)](){this[cb]||(this[cb]=this[mh]());const{validity:a,validationMessage:o}=this[cb].getValidity(),c=!!this[bp],d=this[bp]||o;this[Jn].setValidity({...a,customError:c},d,this[gh]()??void 0)}[mh](){throw new Error("Implement [createValidator]")}[gh](){throw new Error("Implement [getValidityAnchor]")}}return t}const Vc=Symbol("getFormValue"),Nm=Symbol("getFormState");function Ew(n){class e extends n{get form(){return this[Jn].form}get labels(){return this[Jn].labels}get name(){return this.getAttribute("name")??""}set name(r){this.setAttribute("name",r)}get disabled(){return this.hasAttribute("disabled")}set disabled(r){this.toggleAttribute("disabled",r)}attributeChangedCallback(r,a,o){if(r==="name"||r==="disabled"){const c=r==="disabled"?a!==null:a;this.requestUpdate(r,c);return}super.attributeChangedCallback(r,a,o)}requestUpdate(r,a,o){super.requestUpdate(r,a,o),this[Jn].setFormValue(this[Vc](),this[Nm]())}[Vc](){throw new Error("Implement [getFormValue]")}[Nm](){return this[Vc]()}formDisabledCallback(r){this.disabled=r}}return e.formAssociated=!0,$([re({noAccessor:!0})],e.prototype,"name",null),$([re({type:Boolean,noAccessor:!0})],e.prototype,"disabled",null),e}const g_=Symbol("onReportValidity"),_p=Symbol("privateCleanupFormListeners"),wp=Symbol("privateDoNotReportInvalid"),Ep=Symbol("privateIsSelfReportingValidity"),xp=Symbol("privateCallOnReportValidity");function kB(n){var e,t,r;class a extends n{constructor(...c){super(...c),this[e]=new AbortController,this[t]=!1,this[r]=!1,this.addEventListener("invalid",d=>{this[wp]||!d.isTrusted||this.addEventListener("invalid",()=>{this[xp](d)},{once:!0})},{capture:!0})}checkValidity(){this[wp]=!0;const c=super.checkValidity();return this[wp]=!1,c}reportValidity(){this[Ep]=!0;const c=super.reportValidity();return c&&this[xp](null),this[Ep]=!1,c}[(e=_p,t=wp,r=Ep,xp)](c){const d=c?.defaultPrevented;d||(this[g_](c),!(!d&&c?.defaultPrevented))||(this[Ep]||MB(this[Jn].form,this))&&this.focus()}[g_](c){throw new Error("Implement [onReportValidity]")}formAssociatedCallback(c){super.formAssociatedCallback&&super.formAssociatedCallback(c),this[_p].abort(),c&&(this[_p]=new AbortController,OB(this,c,()=>{this[xp](null)},this[_p].signal))}}return a}function OB(n,e,t,r){const a=PB(e);let o=!1,c,d=!1;a.addEventListener("before",()=>{d=!0,c=new AbortController,o=!1,n.addEventListener("invalid",()=>{o=!0},{signal:c.signal})},{signal:r}),a.addEventListener("after",()=>{d=!1,c?.abort(),!o&&t()},{signal:r}),e.addEventListener("submit",()=>{d||t()},{signal:r})}const ub=new WeakMap;function PB(n){if(!ub.has(n)){const e=new EventTarget;ub.set(n,e);for(const t of["reportValidity","requestSubmit"]){const r=n[t];n[t]=function(){e.dispatchEvent(new Event("before"));const a=Reflect.apply(r,this,arguments);return e.dispatchEvent(new Event("after")),a}}}return ub.get(n)}function MB(n,e){if(!n)return!0;let t;for(const r of n.elements)if(r.matches(":invalid")){t=r;break}return t===e}class xw{constructor(e){this.getCurrentState=e,this.currentValidity={validity:{},validationMessage:""}}getValidity(){const e=this.getCurrentState();if(!(!this.prevState||!this.equals(this.prevState,e)))return this.currentValidity;const{validity:r,validationMessage:a}=this.computeValidity(e);return this.prevState=this.copy(e),this.currentValidity={validationMessage:a,validity:{badInput:r.badInput,customError:r.customError,patternMismatch:r.patternMismatch,rangeOverflow:r.rangeOverflow,rangeUnderflow:r.rangeUnderflow,stepMismatch:r.stepMismatch,tooLong:r.tooLong,tooShort:r.tooShort,typeMismatch:r.typeMismatch,valueMissing:r.valueMissing}},this.currentValidity}}class VB extends xw{computeValidity({state:e,renderedControl:t}){let r=t;Sd(e)&&!r?(r=this.inputControl||document.createElement("input"),this.inputControl=r):r||(r=this.textAreaControl||document.createElement("textarea"),this.textAreaControl=r);const a=Sd(e)?r:null;if(a&&(a.type=e.type),r.value!==e.value&&(r.value=e.value),r.required=e.required,a){const o=e;o.pattern?a.pattern=o.pattern:a.removeAttribute("pattern"),o.min?a.min=o.min:a.removeAttribute("min"),o.max?a.max=o.max:a.removeAttribute("max"),o.step?a.step=o.step:a.removeAttribute("step")}return(e.minLength??-1)>-1?r.setAttribute("minlength",String(e.minLength)):r.removeAttribute("minlength"),(e.maxLength??-1)>-1?r.setAttribute("maxlength",String(e.maxLength)):r.removeAttribute("maxlength"),{validity:r.validity,validationMessage:r.validationMessage}}equals({state:e},{state:t}){const r=e.type===t.type&&e.value===t.value&&e.required===t.required&&e.minLength===t.minLength&&e.maxLength===t.maxLength;return!Sd(e)||!Sd(t)?r:r&&e.pattern===t.pattern&&e.min===t.min&&e.max===t.max&&e.step===t.step}copy({state:e}){return{state:Sd(e)?this.copyInput(e):this.copyTextArea(e),renderedControl:null}}copyInput(e){const{type:t,pattern:r,min:a,max:o,step:c}=e;return{...this.copySharedState(e),type:t,pattern:r,min:a,max:o,step:c}}copyTextArea(e){return{...this.copySharedState(e),type:e.type}}copySharedState({value:e,required:t,minLength:r,maxLength:a}){return{value:e,required:t,minLength:r,maxLength:a}}}function Sd(n){return n.type!=="textarea"}const LB=oa(kB(ww(Ew(Lh(It)))));class et extends LB{constructor(){super(...arguments),this.error=!1,this.errorText="",this.label="",this.noAsterisk=!1,this.required=!1,this.value="",this.prefixText="",this.suffixText="",this.hasLeadingIcon=!1,this.hasTrailingIcon=!1,this.supportingText="",this.textDirection="",this.rows=2,this.cols=20,this.inputMode="",this.max="",this.maxLength=-1,this.min="",this.minLength=-1,this.noSpinner=!1,this.pattern="",this.placeholder="",this.readOnly=!1,this.multiple=!1,this.step="",this.type="text",this.autocomplete="",this.dirty=!1,this.focused=!1,this.nativeError=!1,this.nativeErrorText=""}get selectionDirection(){return this.getInputOrTextarea().selectionDirection}set selectionDirection(e){this.getInputOrTextarea().selectionDirection=e}get selectionEnd(){return this.getInputOrTextarea().selectionEnd}set selectionEnd(e){this.getInputOrTextarea().selectionEnd=e}get selectionStart(){return this.getInputOrTextarea().selectionStart}set selectionStart(e){this.getInputOrTextarea().selectionStart=e}get valueAsNumber(){const e=this.getInput();return e?e.valueAsNumber:NaN}set valueAsNumber(e){const t=this.getInput();t&&(t.valueAsNumber=e,this.value=t.value)}get valueAsDate(){const e=this.getInput();return e?e.valueAsDate:null}set valueAsDate(e){const t=this.getInput();t&&(t.valueAsDate=e,this.value=t.value)}get hasError(){return this.error||this.nativeError}select(){this.getInputOrTextarea().select()}setRangeText(...e){this.getInputOrTextarea().setRangeText(...e),this.value=this.getInputOrTextarea().value}setSelectionRange(e,t,r){this.getInputOrTextarea().setSelectionRange(e,t,r)}showPicker(){const e=this.getInput();e&&e.showPicker()}stepDown(e){const t=this.getInput();t&&(t.stepDown(e),this.value=t.value)}stepUp(e){const t=this.getInput();t&&(t.stepUp(e),this.value=t.value)}reset(){this.dirty=!1,this.value=this.getAttribute("value")??"",this.nativeError=!1,this.nativeErrorText=""}attributeChangedCallback(e,t,r){e==="value"&&this.dirty||super.attributeChangedCallback(e,t,r)}render(){const e={disabled:this.disabled,error:!this.disabled&&this.hasError,textarea:this.type==="textarea","no-spinner":this.noSpinner};return we`
      <span class="text-field ${xr(e)}">
        ${this.renderField()}
      </span>
    `}updated(e){const t=this.getInputOrTextarea().value;this.value!==t&&(this.value=t)}renderField(){return Ag`<${this.fieldTag}
      class="field"
      count=${this.value.length}
      ?disabled=${this.disabled}
      ?error=${this.hasError}
      error-text=${this.getErrorText()}
      ?focused=${this.focused}
      ?has-end=${this.hasTrailingIcon}
      ?has-start=${this.hasLeadingIcon}
      label=${this.label}
      ?no-asterisk=${this.noAsterisk}
      max=${this.maxLength}
      ?populated=${!!this.value}
      ?required=${this.required}
      ?resizable=${this.type==="textarea"}
      supporting-text=${this.supportingText}
    >
      ${this.renderLeadingIcon()}
      ${this.renderInputOrTextarea()}
      ${this.renderTrailingIcon()}
      <div id="description" slot="aria-describedby"></div>
      <slot name="container" slot="container"></slot>
    </${this.fieldTag}>`}renderLeadingIcon(){return we`
      <span class="icon leading" slot="start">
        <slot name="leading-icon" @slotchange=${this.handleIconChange}></slot>
      </span>
    `}renderTrailingIcon(){return we`
      <span class="icon trailing" slot="end">
        <slot name="trailing-icon" @slotchange=${this.handleIconChange}></slot>
      </span>
    `}renderInputOrTextarea(){const e={direction:this.textDirection},t=this.ariaLabel||this.label||fe,r=this.autocomplete,a=(this.maxLength??-1)>-1,o=(this.minLength??-1)>-1;if(this.type==="textarea")return we`
        <textarea
          class="input"
          style=${m_(e)}
          aria-describedby="description"
          aria-invalid=${this.hasError}
          aria-label=${t}
          autocomplete=${r||fe}
          name=${this.name||fe}
          ?disabled=${this.disabled}
          maxlength=${a?this.maxLength:fe}
          minlength=${o?this.minLength:fe}
          placeholder=${this.placeholder||fe}
          ?readonly=${this.readOnly}
          ?required=${this.required}
          rows=${this.rows}
          cols=${this.cols}
          .value=${FI(this.value)}
          @change=${this.redispatchEvent}
          @focus=${this.handleFocusChange}
          @blur=${this.handleFocusChange}
          @input=${this.handleInput}
          @select=${this.redispatchEvent}></textarea>
      `;const c=this.renderPrefix(),d=this.renderSuffix(),f=this.inputMode;return we`
      <div class="input-wrapper">
        ${c}
        <input
          class="input"
          style=${m_(e)}
          aria-describedby="description"
          aria-invalid=${this.hasError}
          aria-label=${t}
          autocomplete=${r||fe}
          name=${this.name||fe}
          ?disabled=${this.disabled}
          inputmode=${f||fe}
          max=${this.max||fe}
          maxlength=${a?this.maxLength:fe}
          min=${this.min||fe}
          minlength=${o?this.minLength:fe}
          pattern=${this.pattern||fe}
          placeholder=${this.placeholder||fe}
          ?readonly=${this.readOnly}
          ?required=${this.required}
          ?multiple=${this.multiple}
          step=${this.step||fe}
          type=${this.type}
          .value=${FI(this.value)}
          @change=${this.redispatchEvent}
          @focus=${this.handleFocusChange}
          @blur=${this.handleFocusChange}
          @input=${this.handleInput}
          @select=${this.redispatchEvent} />
        ${d}
      </div>
    `}renderPrefix(){return this.renderAffix(this.prefixText,!1)}renderSuffix(){return this.renderAffix(this.suffixText,!0)}renderAffix(e,t){return e?we`<span class="${xr({suffix:t,prefix:!t})}">${e}</span>`:fe}getErrorText(){return this.error?this.errorText:this.nativeErrorText}handleFocusChange(){this.focused=this.inputOrTextarea?.matches(":focus")??!1}handleInput(e){this.dirty=!0,this.value=e.target.value}redispatchEvent(e){Ig(this,e)}getInputOrTextarea(){return this.inputOrTextarea||(this.connectedCallback(),this.scheduleUpdate()),this.isUpdatePending&&this.scheduleUpdate(),this.inputOrTextarea}getInput(){return this.type==="textarea"?null:this.getInputOrTextarea()}handleIconChange(){this.hasLeadingIcon=this.leadingIcons.length>0,this.hasTrailingIcon=this.trailingIcons.length>0}[Vc](){return this.value}formResetCallback(){this.reset()}formStateRestoreCallback(e){this.value=e}focus(){this.getInputOrTextarea().focus()}[mh](){return new VB(()=>({state:this,renderedControl:this.inputOrTextarea}))}[gh](){return this.inputOrTextarea}[g_](e){e?.preventDefault();const t=this.getErrorText();this.nativeError=!!e,this.nativeErrorText=this.validationMessage,t===this.getErrorText()&&this.field?.reannounceError()}}et.shadowRootOptions={...It.shadowRootOptions,delegatesFocus:!0};$([re({type:Boolean,reflect:!0})],et.prototype,"error",void 0);$([re({attribute:"error-text"})],et.prototype,"errorText",void 0);$([re()],et.prototype,"label",void 0);$([re({type:Boolean,attribute:"no-asterisk"})],et.prototype,"noAsterisk",void 0);$([re({type:Boolean,reflect:!0})],et.prototype,"required",void 0);$([re()],et.prototype,"value",void 0);$([re({attribute:"prefix-text"})],et.prototype,"prefixText",void 0);$([re({attribute:"suffix-text"})],et.prototype,"suffixText",void 0);$([re({type:Boolean,attribute:"has-leading-icon"})],et.prototype,"hasLeadingIcon",void 0);$([re({type:Boolean,attribute:"has-trailing-icon"})],et.prototype,"hasTrailingIcon",void 0);$([re({attribute:"supporting-text"})],et.prototype,"supportingText",void 0);$([re({attribute:"text-direction"})],et.prototype,"textDirection",void 0);$([re({type:Number})],et.prototype,"rows",void 0);$([re({type:Number})],et.prototype,"cols",void 0);$([re({reflect:!0})],et.prototype,"inputMode",void 0);$([re()],et.prototype,"max",void 0);$([re({type:Number})],et.prototype,"maxLength",void 0);$([re()],et.prototype,"min",void 0);$([re({type:Number})],et.prototype,"minLength",void 0);$([re({type:Boolean,attribute:"no-spinner"})],et.prototype,"noSpinner",void 0);$([re()],et.prototype,"pattern",void 0);$([re({reflect:!0,converter:NB})],et.prototype,"placeholder",void 0);$([re({type:Boolean,reflect:!0})],et.prototype,"readOnly",void 0);$([re({type:Boolean,reflect:!0})],et.prototype,"multiple",void 0);$([re()],et.prototype,"step",void 0);$([re({reflect:!0})],et.prototype,"type",void 0);$([re({reflect:!0})],et.prototype,"autocomplete",void 0);$([hr()],et.prototype,"dirty",void 0);$([hr()],et.prototype,"focused",void 0);$([hr()],et.prototype,"nativeError",void 0);$([hr()],et.prototype,"nativeErrorText",void 0);$([Bt(".input")],et.prototype,"inputOrTextarea",void 0);$([Bt(".field")],et.prototype,"field",void 0);$([aa({slot:"leading-icon"})],et.prototype,"leadingIcons",void 0);$([aa({slot:"trailing-icon"})],et.prototype,"trailingIcons",void 0);class UB extends et{constructor(){super(...arguments),this.fieldTag=us`md-filled-field`}}const zB=dt`:host{display:inline-flex;outline:none;resize:both;text-align:start;-webkit-tap-highlight-color:rgba(0,0,0,0)}.text-field,.field{width:100%}.text-field{display:inline-flex}.field{cursor:text}.disabled .field{cursor:default}.text-field,.textarea .field{resize:inherit}slot[name=container]{border-radius:inherit}.icon{color:currentColor;display:flex;align-items:center;justify-content:center;fill:currentColor;position:relative}.icon ::slotted(*){display:flex;position:absolute}[has-start] .icon.leading{font-size:var(--_leading-icon-size);height:var(--_leading-icon-size);width:var(--_leading-icon-size)}[has-end] .icon.trailing{font-size:var(--_trailing-icon-size);height:var(--_trailing-icon-size);width:var(--_trailing-icon-size)}.input-wrapper{display:flex}.input-wrapper>*{all:inherit;padding:0}.input{caret-color:var(--_caret-color);overflow-x:hidden;text-align:inherit}.input::placeholder{color:currentColor;opacity:1}.input::-webkit-calendar-picker-indicator{display:none}.input::-webkit-search-decoration,.input::-webkit-search-cancel-button{display:none}@media(forced-colors: active){.input{background:none}}.no-spinner .input::-webkit-inner-spin-button,.no-spinner .input::-webkit-outer-spin-button{display:none}.no-spinner .input[type=number]{-moz-appearance:textfield}:focus-within .input{caret-color:var(--_focus-caret-color)}.error:focus-within .input{caret-color:var(--_error-focus-caret-color)}.text-field:not(.disabled) .prefix{color:var(--_input-text-prefix-color)}.text-field:not(.disabled) .suffix{color:var(--_input-text-suffix-color)}.text-field:not(.disabled) .input::placeholder{color:var(--_input-text-placeholder-color)}.prefix,.suffix{text-wrap:nowrap;width:min-content}.prefix{padding-inline-end:var(--_input-text-prefix-trailing-space)}.suffix{padding-inline-start:var(--_input-text-suffix-leading-space)}
`;let v_=class extends UB{constructor(){super(...arguments),this.fieldTag=us`md-filled-field`}};v_.styles=[zB,AB];v_=$([Wt("md-filled-text-field")],v_);class BB extends It{render(){return we`<slot></slot>`}connectedCallback(){if(super.connectedCallback(),this.getAttribute("aria-hidden")==="false"){this.removeAttribute("aria-hidden");return}this.setAttribute("aria-hidden","true")}}const jB=dt`:host{font-size:var(--md-icon-size, 24px);width:var(--md-icon-size, 24px);height:var(--md-icon-size, 24px);color:inherit;font-variation-settings:inherit;font-weight:400;font-family:var(--md-icon-font, Material Symbols Outlined);display:inline-flex;font-style:normal;place-items:center;place-content:center;line-height:1;overflow:hidden;letter-spacing:normal;text-transform:none;user-select:none;white-space:nowrap;word-wrap:normal;flex-shrink:0;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale}::slotted(svg){fill:currentColor}::slotted(*){height:100%;width:100%}
`;let y_=class extends BB{};y_.styles=[jB];y_=$([Wt("md-icon")],y_);function Y2(n,e=la){const t=Tw(n,e);return t&&(t.tabIndex=0,t.focus()),t}function Q2(n,e=la){const t=W2(n,e);return t&&(t.tabIndex=0,t.focus()),t}function Wp(n,e=la){for(let t=0;t<n.length;t++){const r=n[t];if(r.tabIndex===0&&e(r))return{item:r,index:t}}return null}function Tw(n,e=la){for(const t of n)if(e(t))return t;return null}function W2(n,e=la){for(let t=n.length-1;t>=0;t--){const r=n[t];if(e(r))return r}return null}function $B(n,e,t=la,r=!0){for(let a=1;a<n.length;a++){const o=(a+e)%n.length;if(o<e&&!r)return null;const c=n[o];if(t(c))return c}return n[e]?n[e]:null}function FB(n,e,t=la,r=!0){for(let a=1;a<n.length;a++){const o=(e-a+n.length)%n.length;if(o>e&&!r)return null;const c=n[o];if(t(c))return c}return n[e]?n[e]:null}function qI(n,e,t=la,r=!0){if(e){const a=$B(n,e.index,t,r);return a&&(a.tabIndex=0,a.focus()),a}else return Y2(n,t)}function HI(n,e,t=la,r=!0){if(e){const a=FB(n,e.index,t,r);return a&&(a.tabIndex=0,a.focus()),a}else return Q2(n,t)}function qB(){return new Event("request-activation",{bubbles:!0,composed:!0})}function la(n){return!n.disabled}const Xn={ArrowDown:"ArrowDown",ArrowLeft:"ArrowLeft",ArrowUp:"ArrowUp",ArrowRight:"ArrowRight",Home:"Home",End:"End"};class X2{constructor(e){this.handleKeydown=v=>{const y=v.key;if(v.defaultPrevented||!this.isNavigableKey(y))return;const E=this.items;if(!E.length)return;const I=Wp(E,this.isActivatable);v.preventDefault();const L=this.isRtl(),O=L?Xn.ArrowRight:Xn.ArrowLeft,M=L?Xn.ArrowLeft:Xn.ArrowRight;let K=null;switch(y){case Xn.ArrowDown:case M:K=qI(E,I,this.isActivatable,this.wrapNavigation());break;case Xn.ArrowUp:case O:K=HI(E,I,this.isActivatable,this.wrapNavigation());break;case Xn.Home:K=Y2(E,this.isActivatable);break;case Xn.End:K=Q2(E,this.isActivatable);break}K&&I&&I.item!==K&&(I.item.tabIndex=-1)},this.onDeactivateItems=()=>{const v=this.items;for(const y of v)this.deactivateItem(y)},this.onRequestActivation=v=>{this.onDeactivateItems();const y=v.target;this.activateItem(y),y.focus()},this.onSlotchange=()=>{const v=this.items;let y=!1;for(const I of v){if(!I.disabled&&I.tabIndex>-1&&!y){y=!0,I.tabIndex=0;continue}I.tabIndex=-1}if(y)return;const E=Tw(v,this.isActivatable);E&&(E.tabIndex=0)};const{isItem:t,getPossibleItems:r,isRtl:a,deactivateItem:o,activateItem:c,isNavigableKey:d,isActivatable:f,wrapNavigation:m}=e;this.isItem=t,this.getPossibleItems=r,this.isRtl=a,this.deactivateItem=o,this.activateItem=c,this.isNavigableKey=d,this.isActivatable=f,this.wrapNavigation=m??(()=>!0)}get items(){const e=this.getPossibleItems(),t=[];for(const r of e){if(this.isItem(r)){t.push(r);continue}const o=r.item;o&&this.isItem(o)&&t.push(o)}return t}activateNextItem(){const e=this.items,t=Wp(e,this.isActivatable);return t&&(t.item.tabIndex=-1),qI(e,t,this.isActivatable,this.wrapNavigation())}activatePreviousItem(){const e=this.items,t=Wp(e,this.isActivatable);return t&&(t.item.tabIndex=-1),HI(e,t,this.isActivatable,this.wrapNavigation())}}const HB=new Set(Object.values(Xn));class J2 extends It{get items(){return this.listController.items}constructor(){super(),this.listController=new X2({isItem:e=>e.hasAttribute("md-list-item"),getPossibleItems:()=>this.slotItems,isRtl:()=>getComputedStyle(this).direction==="rtl",deactivateItem:e=>{e.tabIndex=-1},activateItem:e=>{e.tabIndex=0},isNavigableKey:e=>HB.has(e),isActivatable:e=>!e.disabled&&e.type!=="text"}),this.internals=this.attachInternals(),this.internals.role="list",this.addEventListener("keydown",this.listController.handleKeydown)}render(){return we`
      <slot
        @deactivate-items=${this.listController.onDeactivateItems}
        @request-activation=${this.listController.onRequestActivation}
        @slotchange=${this.listController.onSlotchange}>
      </slot>
    `}activateNextItem(){return this.listController.activateNextItem()}activatePreviousItem(){return this.listController.activatePreviousItem()}}$([aa({flatten:!0})],J2.prototype,"slotItems",void 0);const GB=dt`:host{background:var(--md-list-container-color, var(--md-sys-color-surface, #fef7ff));color:unset;display:flex;flex-direction:column;outline:none;padding:8px 0;position:relative}
`;let b_=class extends J2{};b_.styles=[GB];b_=$([Wt("md-list")],b_);class Sw extends It{constructor(){super(...arguments),this.multiline=!1}render(){return we`
      <slot name="container"></slot>
      <slot class="non-text" name="start"></slot>
      <div class="text">
        <slot name="overline" @slotchange=${this.handleTextSlotChange}></slot>
        <slot
          class="default-slot"
          @slotchange=${this.handleTextSlotChange}></slot>
        <slot name="headline" @slotchange=${this.handleTextSlotChange}></slot>
        <slot
          name="supporting-text"
          @slotchange=${this.handleTextSlotChange}></slot>
      </div>
      <slot class="non-text" name="trailing-supporting-text"></slot>
      <slot class="non-text" name="end"></slot>
    `}handleTextSlotChange(){let e=!1,t=0;for(const r of this.textSlots)if(KB(r)&&(t+=1),t>1){e=!0;break}this.multiline=e}}$([re({type:Boolean,reflect:!0})],Sw.prototype,"multiline",void 0);$([Oz(".text slot")],Sw.prototype,"textSlots",void 0);function KB(n){for(const e of n.assignedNodes({flatten:!0})){const t=e.nodeType===Node.ELEMENT_NODE,r=e.nodeType===Node.TEXT_NODE&&e.textContent?.match(/\S/);if(t||r)return!0}return!1}const YB=dt`:host{color:var(--md-sys-color-on-surface, #1d1b20);font-family:var(--md-sys-typescale-body-large-font, var(--md-ref-typeface-plain, Roboto));font-size:var(--md-sys-typescale-body-large-size, 1rem);font-weight:var(--md-sys-typescale-body-large-weight, var(--md-ref-typeface-weight-regular, 400));line-height:var(--md-sys-typescale-body-large-line-height, 1.5rem);align-items:center;box-sizing:border-box;display:flex;gap:16px;min-height:56px;overflow:hidden;padding:12px 16px;position:relative;text-overflow:ellipsis}:host([multiline]){min-height:72px}[name=overline]{color:var(--md-sys-color-on-surface-variant, #49454f);font-family:var(--md-sys-typescale-label-small-font, var(--md-ref-typeface-plain, Roboto));font-size:var(--md-sys-typescale-label-small-size, 0.6875rem);font-weight:var(--md-sys-typescale-label-small-weight, var(--md-ref-typeface-weight-medium, 500));line-height:var(--md-sys-typescale-label-small-line-height, 1rem)}[name=supporting-text]{color:var(--md-sys-color-on-surface-variant, #49454f);font-family:var(--md-sys-typescale-body-medium-font, var(--md-ref-typeface-plain, Roboto));font-size:var(--md-sys-typescale-body-medium-size, 0.875rem);font-weight:var(--md-sys-typescale-body-medium-weight, var(--md-ref-typeface-weight-regular, 400));line-height:var(--md-sys-typescale-body-medium-line-height, 1.25rem)}[name=trailing-supporting-text]{color:var(--md-sys-color-on-surface-variant, #49454f);font-family:var(--md-sys-typescale-label-small-font, var(--md-ref-typeface-plain, Roboto));font-size:var(--md-sys-typescale-label-small-size, 0.6875rem);font-weight:var(--md-sys-typescale-label-small-weight, var(--md-ref-typeface-weight-medium, 500));line-height:var(--md-sys-typescale-label-small-line-height, 1rem)}[name=container]::slotted(*){inset:0;position:absolute}.default-slot{display:inline}.default-slot,.text ::slotted(*){overflow:hidden;text-overflow:ellipsis}.text{display:flex;flex:1;flex-direction:column;overflow:hidden}
`;let __=class extends Sw{};__.styles=[YB];__=$([Wt("md-item")],__);const QB=oa(It);class Eo extends QB{constructor(){super(...arguments),this.disabled=!1,this.type="text",this.isListItem=!0,this.href="",this.target=""}get isDisabled(){return this.disabled&&this.type!=="link"}willUpdate(e){this.href&&(this.type="link"),super.willUpdate(e)}render(){return this.renderListItem(we`
      <md-item>
        <div slot="container">
          ${this.renderRipple()} ${this.renderFocusRing()}
        </div>
        <slot name="start" slot="start"></slot>
        <slot name="end" slot="end"></slot>
        ${this.renderBody()}
      </md-item>
    `)}renderListItem(e){const t=this.type==="link";let r;switch(this.type){case"link":r=us`a`;break;case"button":r=us`button`;break;default:case"text":r=us`li`;break}const a=this.type!=="text",o=t&&this.target?this.target:fe;return Ag`
      <${r}
        id="item"
        tabindex="${this.isDisabled||!a?-1:0}"
        ?disabled=${this.isDisabled}
        role="listitem"
        aria-selected=${this.ariaSelected||fe}
        aria-checked=${this.ariaChecked||fe}
        aria-expanded=${this.ariaExpanded||fe}
        aria-haspopup=${this.ariaHasPopup||fe}
        class="list-item ${xr(this.getRenderClasses())}"
        href=${this.href||fe}
        target=${o}
        @focus=${this.onFocus}
      >${e}</${r}>
    `}renderRipple(){return this.type==="text"?fe:we` <md-ripple
      part="ripple"
      for="item"
      ?disabled=${this.isDisabled}></md-ripple>`}renderFocusRing(){return this.type==="text"?fe:we` <md-focus-ring
      @visibility-changed=${this.onFocusRingVisibilityChanged}
      part="focus-ring"
      for="item"
      inward></md-focus-ring>`}onFocusRingVisibilityChanged(e){}getRenderClasses(){return{disabled:this.isDisabled}}renderBody(){return we`
      <slot></slot>
      <slot name="overline" slot="overline"></slot>
      <slot name="headline" slot="headline"></slot>
      <slot name="supporting-text" slot="supporting-text"></slot>
      <slot
        name="trailing-supporting-text"
        slot="trailing-supporting-text"></slot>
    `}onFocus(){this.tabIndex===-1&&this.dispatchEvent(qB())}focus(){this.listItemRoot?.focus()}click(){if(!this.listItemRoot){super.click();return}this.listItemRoot.click()}}Eo.shadowRootOptions={...It.shadowRootOptions,delegatesFocus:!0};$([re({type:Boolean,reflect:!0})],Eo.prototype,"disabled",void 0);$([re({reflect:!0})],Eo.prototype,"type",void 0);$([re({type:Boolean,attribute:"md-list-item",reflect:!0})],Eo.prototype,"isListItem",void 0);$([re()],Eo.prototype,"href",void 0);$([re()],Eo.prototype,"target",void 0);$([Bt(".list-item")],Eo.prototype,"listItemRoot",void 0);const WB=dt`:host{display:flex;-webkit-tap-highlight-color:rgba(0,0,0,0);--md-ripple-hover-color: var(--md-list-item-hover-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--md-ripple-hover-opacity: var(--md-list-item-hover-state-layer-opacity, 0.08);--md-ripple-pressed-color: var(--md-list-item-pressed-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--md-ripple-pressed-opacity: var(--md-list-item-pressed-state-layer-opacity, 0.12)}:host(:is([type=button]:not([disabled]),[type=link])){cursor:pointer}md-focus-ring{z-index:1;--md-focus-ring-shape: 8px}a,button,li{background:none;border:none;cursor:inherit;padding:0;margin:0;text-align:unset;text-decoration:none}.list-item{border-radius:inherit;display:flex;flex:1;max-width:inherit;min-width:inherit;outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%}.list-item.interactive{cursor:pointer}.list-item.disabled{opacity:var(--md-list-item-disabled-opacity, 0.3);pointer-events:none}[slot=container]{pointer-events:none}md-ripple{border-radius:inherit}md-item{border-radius:inherit;flex:1;height:100%;color:var(--md-list-item-label-text-color, var(--md-sys-color-on-surface, #1d1b20));font-family:var(--md-list-item-label-text-font, var(--md-sys-typescale-body-large-font, var(--md-ref-typeface-plain, Roboto)));font-size:var(--md-list-item-label-text-size, var(--md-sys-typescale-body-large-size, 1rem));line-height:var(--md-list-item-label-text-line-height, var(--md-sys-typescale-body-large-line-height, 1.5rem));font-weight:var(--md-list-item-label-text-weight, var(--md-sys-typescale-body-large-weight, var(--md-ref-typeface-weight-regular, 400)));min-height:var(--md-list-item-one-line-container-height, 56px);padding-top:var(--md-list-item-top-space, 12px);padding-bottom:var(--md-list-item-bottom-space, 12px);padding-inline-start:var(--md-list-item-leading-space, 16px);padding-inline-end:var(--md-list-item-trailing-space, 16px)}md-item[multiline]{min-height:var(--md-list-item-two-line-container-height, 72px)}[slot=supporting-text]{color:var(--md-list-item-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));font-family:var(--md-list-item-supporting-text-font, var(--md-sys-typescale-body-medium-font, var(--md-ref-typeface-plain, Roboto)));font-size:var(--md-list-item-supporting-text-size, var(--md-sys-typescale-body-medium-size, 0.875rem));line-height:var(--md-list-item-supporting-text-line-height, var(--md-sys-typescale-body-medium-line-height, 1.25rem));font-weight:var(--md-list-item-supporting-text-weight, var(--md-sys-typescale-body-medium-weight, var(--md-ref-typeface-weight-regular, 400)))}[slot=trailing-supporting-text]{color:var(--md-list-item-trailing-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));font-family:var(--md-list-item-trailing-supporting-text-font, var(--md-sys-typescale-label-small-font, var(--md-ref-typeface-plain, Roboto)));font-size:var(--md-list-item-trailing-supporting-text-size, var(--md-sys-typescale-label-small-size, 0.6875rem));line-height:var(--md-list-item-trailing-supporting-text-line-height, var(--md-sys-typescale-label-small-line-height, 1rem));font-weight:var(--md-list-item-trailing-supporting-text-weight, var(--md-sys-typescale-label-small-weight, var(--md-ref-typeface-weight-medium, 500)))}:is([slot=start],[slot=end])::slotted(*){fill:currentColor}[slot=start]{color:var(--md-list-item-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f))}[slot=end]{color:var(--md-list-item-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f))}@media(forced-colors: active){.disabled slot{color:GrayText}.list-item.disabled{color:GrayText;opacity:1}}
`;let w_=class extends Eo{};w_.styles=[WB];w_=$([Wt("md-list-item")],w_);const XB=oa(It);class Uh extends XB{constructor(){super(...arguments),this.value=0,this.max=1,this.indeterminate=!1,this.fourColor=!1}render(){const{ariaLabel:e}=this;return we`
      <div
        class="progress ${xr(this.getRenderClasses())}"
        role="progressbar"
        aria-label="${e||fe}"
        aria-valuemin="0"
        aria-valuemax=${this.max}
        aria-valuenow=${this.indeterminate?fe:this.value}
        >${this.renderIndicator()}</div
      >
    `}getRenderClasses(){return{indeterminate:this.indeterminate,"four-color":this.fourColor}}}$([re({type:Number})],Uh.prototype,"value",void 0);$([re({type:Number})],Uh.prototype,"max",void 0);$([re({type:Boolean})],Uh.prototype,"indeterminate",void 0);$([re({type:Boolean,attribute:"four-color"})],Uh.prototype,"fourColor",void 0);class JB extends Uh{renderIndicator(){return this.indeterminate?this.renderIndeterminateContainer():this.renderDeterminateContainer()}renderDeterminateContainer(){const e=(1-this.value/this.max)*100;return we`
      <svg viewBox="0 0 4800 4800">
        <circle class="track" pathLength="100"></circle>
        <circle
          class="active-track"
          pathLength="100"
          stroke-dashoffset=${e}></circle>
      </svg>
    `}renderIndeterminateContainer(){return we` <div class="spinner">
      <div class="left">
        <div class="circle"></div>
      </div>
      <div class="right">
        <div class="circle"></div>
      </div>
    </div>`}}const ZB=dt`:host{--_active-indicator-color: var(--md-circular-progress-active-indicator-color, var(--md-sys-color-primary, #6750a4));--_active-indicator-width: var(--md-circular-progress-active-indicator-width, 10);--_four-color-active-indicator-four-color: var(--md-circular-progress-four-color-active-indicator-four-color, var(--md-sys-color-tertiary-container, #ffd8e4));--_four-color-active-indicator-one-color: var(--md-circular-progress-four-color-active-indicator-one-color, var(--md-sys-color-primary, #6750a4));--_four-color-active-indicator-three-color: var(--md-circular-progress-four-color-active-indicator-three-color, var(--md-sys-color-tertiary, #7d5260));--_four-color-active-indicator-two-color: var(--md-circular-progress-four-color-active-indicator-two-color, var(--md-sys-color-primary-container, #eaddff));--_size: var(--md-circular-progress-size, 48px);display:inline-flex;vertical-align:middle;width:var(--_size);height:var(--_size);position:relative;align-items:center;justify-content:center;contain:strict;content-visibility:auto}.progress{flex:1;align-self:stretch;margin:4px}.progress,.spinner,.left,.right,.circle,svg,.track,.active-track{position:absolute;inset:0}svg{transform:rotate(-90deg)}circle{cx:50%;cy:50%;r:calc(50%*(1 - var(--_active-indicator-width)/100));stroke-width:calc(var(--_active-indicator-width)*1%);stroke-dasharray:100;fill:rgba(0,0,0,0)}.active-track{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1);stroke:var(--_active-indicator-color)}.track{stroke:rgba(0,0,0,0)}.progress.indeterminate{animation:linear infinite linear-rotate;animation-duration:1568.2352941176ms}.spinner{animation:infinite both rotate-arc;animation-duration:5332ms;animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.left{overflow:hidden;inset:0 50% 0 0}.right{overflow:hidden;inset:0 0 0 50%}.circle{box-sizing:border-box;border-radius:50%;border:solid calc(var(--_active-indicator-width)/100*(var(--_size) - 8px));border-color:var(--_active-indicator-color) var(--_active-indicator-color) rgba(0,0,0,0) rgba(0,0,0,0);animation:expand-arc;animation-iteration-count:infinite;animation-fill-mode:both;animation-duration:1333ms,5332ms;animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.four-color .circle{animation-name:expand-arc,four-color}.left .circle{rotate:135deg;inset:0 -100% 0 0}.right .circle{rotate:100deg;inset:0 0 0 -100%;animation-delay:-666.5ms,0ms}@media(forced-colors: active){.active-track{stroke:CanvasText}.circle{border-color:CanvasText CanvasText Canvas Canvas}}@keyframes expand-arc{0%{transform:rotate(265deg)}50%{transform:rotate(130deg)}100%{transform:rotate(265deg)}}@keyframes rotate-arc{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes linear-rotate{to{transform:rotate(360deg)}}@keyframes four-color{0%{border-top-color:var(--_four-color-active-indicator-one-color);border-right-color:var(--_four-color-active-indicator-one-color)}15%{border-top-color:var(--_four-color-active-indicator-one-color);border-right-color:var(--_four-color-active-indicator-one-color)}25%{border-top-color:var(--_four-color-active-indicator-two-color);border-right-color:var(--_four-color-active-indicator-two-color)}40%{border-top-color:var(--_four-color-active-indicator-two-color);border-right-color:var(--_four-color-active-indicator-two-color)}50%{border-top-color:var(--_four-color-active-indicator-three-color);border-right-color:var(--_four-color-active-indicator-three-color)}65%{border-top-color:var(--_four-color-active-indicator-three-color);border-right-color:var(--_four-color-active-indicator-three-color)}75%{border-top-color:var(--_four-color-active-indicator-four-color);border-right-color:var(--_four-color-active-indicator-four-color)}90%{border-top-color:var(--_four-color-active-indicator-four-color);border-right-color:var(--_four-color-active-indicator-four-color)}100%{border-top-color:var(--_four-color-active-indicator-one-color);border-right-color:var(--_four-color-active-indicator-one-color)}}
`;let E_=class extends JB{};E_.styles=[ZB];E_=$([Wt("md-circular-progress")],E_);const ej=oa(It);class xo extends ej{get rippleDisabled(){return this.disabled||this.softDisabled}constructor(){super(),this.disabled=!1,this.softDisabled=!1,this.alwaysFocusable=!1,this.label="",this.hasIcon=!1,this.addEventListener("click",this.handleClick.bind(this))}focus(e){this.disabled&&!this.alwaysFocusable||super.focus(e)}render(){return we`
      <div class="container ${xr(this.getContainerClasses())}">
        ${this.renderContainerContent()}
      </div>
    `}updated(e){e.has("disabled")&&e.get("disabled")!==void 0&&this.dispatchEvent(new Event("update-focus",{bubbles:!0}))}getContainerClasses(){return{disabled:this.disabled||this.softDisabled,"has-icon":this.hasIcon}}renderContainerContent(){return we`
      ${this.renderOutline()}
      <md-focus-ring part="focus-ring" for=${this.primaryId}></md-focus-ring>
      <md-ripple
        for=${this.primaryId}
        ?disabled=${this.rippleDisabled}></md-ripple>
      ${this.renderPrimaryAction(this.renderPrimaryContent())}
    `}renderOutline(){return we`<span class="outline"></span>`}renderLeadingIcon(){return we`<slot name="icon" @slotchange=${this.handleIconChange}></slot>`}renderPrimaryContent(){return we`
      <span class="leading icon" aria-hidden="true">
        ${this.renderLeadingIcon()}
      </span>
      <span class="label">
        <span class="label-text" id="label">
          ${this.label?this.label:we`<slot></slot>`}
        </span>
      </span>
      <span class="touch"></span>
    `}handleIconChange(e){const t=e.target;this.hasIcon=t.assignedElements({flatten:!0}).length>0}handleClick(e){if(this.softDisabled||this.disabled&&this.alwaysFocusable){e.stopImmediatePropagation(),e.preventDefault();return}}}xo.shadowRootOptions={...It.shadowRootOptions,delegatesFocus:!0};$([re({type:Boolean,reflect:!0})],xo.prototype,"disabled",void 0);$([re({type:Boolean,attribute:"soft-disabled",reflect:!0})],xo.prototype,"softDisabled",void 0);$([re({type:Boolean,attribute:"always-focusable"})],xo.prototype,"alwaysFocusable",void 0);$([re()],xo.prototype,"label",void 0);$([re({type:Boolean,reflect:!0,attribute:"has-icon"})],xo.prototype,"hasIcon",void 0);class Z2 extends It{get chips(){return this.childElements.filter(e=>e instanceof xo)}constructor(){super(),this.internals=this.attachInternals(),this.addEventListener("focusin",this.updateTabIndices.bind(this)),this.addEventListener("update-focus",this.updateTabIndices.bind(this)),this.addEventListener("keydown",this.handleKeyDown.bind(this)),this.internals.role="toolbar"}render(){return we`<slot @slotchange=${this.updateTabIndices}></slot>`}handleKeyDown(e){const t=e.key==="ArrowLeft",r=e.key==="ArrowRight",a=e.key==="Home",o=e.key==="End";if(!t&&!r&&!a&&!o)return;const{chips:c}=this;if(c.length<2)return;if(e.preventDefault(),a||o){const E=a?0:c.length-1;c[E].focus({trailing:o}),this.updateTabIndices();return}const f=getComputedStyle(this).direction==="rtl"?t:r,m=c.find(E=>E.matches(":focus-within"));if(!m){(f?c[0]:c[c.length-1]).focus({trailing:!f}),this.updateTabIndices();return}const v=c.indexOf(m);let y=f?v+1:v-1;for(;y!==v;){y>=c.length?y=0:y<0&&(y=c.length-1);const E=c[y];if(E.disabled&&!E.alwaysFocusable){f?y++:y--;continue}E.focus({trailing:!f}),this.updateTabIndices();break}}updateTabIndices(){const{chips:e}=this;let t;for(const r of e){const a=r.alwaysFocusable||!r.disabled;if(r.matches(":focus-within")&&a){t=r;continue}a&&!t&&(t=r),r.tabIndex=-1}t&&(t.tabIndex=0)}}$([aa()],Z2.prototype,"childElements",void 0);const tj=dt`:host{display:flex;flex-wrap:wrap;gap:8px}
`;let x_=class extends Z2{};x_.styles=[tj];x_=$([Wt("md-chip-set")],x_);const nj=dt`.elevated{--md-elevation-level: var(--_elevated-container-elevation);--md-elevation-shadow-color: var(--_elevated-container-shadow-color)}.elevated::before{background:var(--_elevated-container-color)}.elevated:hover{--md-elevation-level: var(--_elevated-hover-container-elevation)}.elevated:focus-within{--md-elevation-level: var(--_elevated-focus-container-elevation)}.elevated:active{--md-elevation-level: var(--_elevated-pressed-container-elevation)}.elevated.disabled{--md-elevation-level: var(--_elevated-disabled-container-elevation)}.elevated.disabled::before{background:var(--_elevated-disabled-container-color);opacity:var(--_elevated-disabled-container-opacity)}@media(forced-colors: active){.elevated md-elevation{border:1px solid CanvasText}.elevated.disabled md-elevation{border-color:GrayText}}
`;const Tp="aria-label-remove";class rj extends xo{get ariaLabelRemove(){if(this.hasAttribute(Tp))return this.getAttribute(Tp);const{ariaLabel:e}=this;return e||this.label?`Remove ${e||this.label}`:null}set ariaLabelRemove(e){const t=this.ariaLabelRemove;e!==t&&(e===null?this.removeAttribute(Tp):this.setAttribute(Tp,e),this.requestUpdate())}constructor(){super(),this.handleTrailingActionFocus=this.handleTrailingActionFocus.bind(this),this.addEventListener("keydown",this.handleKeyDown.bind(this))}focus(e){if((this.alwaysFocusable||!this.disabled)&&e?.trailing&&this.trailingAction){this.trailingAction.focus(e);return}super.focus(e)}renderContainerContent(){return we`
      ${super.renderContainerContent()}
      ${this.renderTrailingAction(this.handleTrailingActionFocus)}
    `}handleKeyDown(e){const t=e.key==="ArrowLeft",r=e.key==="ArrowRight";if(!t&&!r||!this.primaryAction||!this.trailingAction)return;const o=getComputedStyle(this).direction==="rtl"?t:r,c=this.primaryAction?.matches(":focus-within"),d=this.trailingAction?.matches(":focus-within");if(o&&d||!o&&c)return;e.preventDefault(),e.stopPropagation(),(o?this.trailingAction:this.primaryAction).focus()}handleTrailingActionFocus(){const{primaryAction:e,trailingAction:t}=this;!e||!t||(e.tabIndex=-1,t.addEventListener("focusout",()=>{e.tabIndex=0},{once:!0}))}}function ij({ariaLabel:n,disabled:e,focusListener:t,tabbable:r=!1}){return we`
    <span id="remove-label" hidden aria-hidden="true">Remove</span>
    <button
      class="trailing action"
      aria-label=${n||fe}
      aria-labelledby=${n?fe:"remove-label label"}
      tabindex=${r?fe:-1}
      @click=${sj}
      @focus=${t}>
      <md-focus-ring part="trailing-focus-ring"></md-focus-ring>
      <md-ripple ?disabled=${e}></md-ripple>
      <span class="trailing icon" aria-hidden="true">
        <slot name="remove-trailing-icon">
          <svg viewBox="0 96 960 960">
            <path
              d="m249 849-42-42 231-231-231-231 42-42 231 231 231-231 42 42-231 231 231 231-42 42-231-231-231 231Z" />
          </svg>
        </slot>
      </span>
      <span class="touch"></span>
    </button>
  `}function sj(n){this.disabled||this.softDisabled||(n.stopPropagation(),!this.dispatchEvent(new Event("remove",{cancelable:!0})))||this.remove()}class Rl extends rj{constructor(){super(...arguments),this.elevated=!1,this.removable=!1,this.selected=!1,this.hasSelectedIcon=!1}get primaryId(){return"button"}getContainerClasses(){return{...super.getContainerClasses(),elevated:this.elevated,selected:this.selected,"has-trailing":this.removable,"has-icon":this.hasIcon||this.selected}}renderPrimaryAction(e){const{ariaLabel:t}=this;return we`
      <button
        class="primary action"
        id="button"
        aria-label=${t||fe}
        aria-pressed=${this.selected}
        aria-disabled=${this.softDisabled||fe}
        ?disabled=${this.disabled&&!this.alwaysFocusable}
        @click=${this.handleClickOnChild}
        >${e}</button
      >
    `}renderLeadingIcon(){return this.selected?we`
      <slot name="selected-icon">
        <svg class="checkmark" viewBox="0 0 18 18" aria-hidden="true">
          <path
            d="M6.75012 12.1274L3.62262 8.99988L2.55762 10.0574L6.75012 14.2499L15.7501 5.24988L14.6926 4.19238L6.75012 12.1274Z" />
        </svg>
      </slot>
    `:super.renderLeadingIcon()}renderTrailingAction(e){return this.removable?ij({focusListener:e,ariaLabel:this.ariaLabelRemove,disabled:this.disabled||this.softDisabled}):fe}renderOutline(){return this.elevated?we`<md-elevation part="elevation"></md-elevation>`:super.renderOutline()}handleClickOnChild(e){if(this.disabled||this.softDisabled)return;const t=this.selected;if(this.selected=!this.selected,!Ig(this,e)){this.selected=t;return}}}$([re({type:Boolean})],Rl.prototype,"elevated",void 0);$([re({type:Boolean})],Rl.prototype,"removable",void 0);$([re({type:Boolean,reflect:!0})],Rl.prototype,"selected",void 0);$([re({type:Boolean,reflect:!0,attribute:"has-selected-icon"})],Rl.prototype,"hasSelectedIcon",void 0);$([Bt(".primary.action")],Rl.prototype,"primaryAction",void 0);$([Bt(".trailing.action")],Rl.prototype,"trailingAction",void 0);const aj=dt`:host{--_container-height: var(--md-filter-chip-container-height, 32px);--_disabled-label-text-color: var(--md-filter-chip-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-label-text-opacity: var(--md-filter-chip-disabled-label-text-opacity, 0.38);--_elevated-container-elevation: var(--md-filter-chip-elevated-container-elevation, 1);--_elevated-container-shadow-color: var(--md-filter-chip-elevated-container-shadow-color, var(--md-sys-color-shadow, #000));--_elevated-disabled-container-color: var(--md-filter-chip-elevated-disabled-container-color, var(--md-sys-color-on-surface, #1d1b20));--_elevated-disabled-container-elevation: var(--md-filter-chip-elevated-disabled-container-elevation, 0);--_elevated-disabled-container-opacity: var(--md-filter-chip-elevated-disabled-container-opacity, 0.12);--_elevated-focus-container-elevation: var(--md-filter-chip-elevated-focus-container-elevation, 1);--_elevated-hover-container-elevation: var(--md-filter-chip-elevated-hover-container-elevation, 2);--_elevated-pressed-container-elevation: var(--md-filter-chip-elevated-pressed-container-elevation, 1);--_elevated-selected-container-color: var(--md-filter-chip-elevated-selected-container-color, var(--md-sys-color-secondary-container, #e8def8));--_label-text-font: var(--md-filter-chip-label-text-font, var(--md-sys-typescale-label-large-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-line-height: var(--md-filter-chip-label-text-line-height, var(--md-sys-typescale-label-large-line-height, 1.25rem));--_label-text-size: var(--md-filter-chip-label-text-size, var(--md-sys-typescale-label-large-size, 0.875rem));--_label-text-weight: var(--md-filter-chip-label-text-weight, var(--md-sys-typescale-label-large-weight, var(--md-ref-typeface-weight-medium, 500)));--_selected-focus-label-text-color: var(--md-filter-chip-selected-focus-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-hover-label-text-color: var(--md-filter-chip-selected-hover-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-hover-state-layer-color: var(--md-filter-chip-selected-hover-state-layer-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-hover-state-layer-opacity: var(--md-filter-chip-selected-hover-state-layer-opacity, 0.08);--_selected-label-text-color: var(--md-filter-chip-selected-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-pressed-label-text-color: var(--md-filter-chip-selected-pressed-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-pressed-state-layer-color: var(--md-filter-chip-selected-pressed-state-layer-color, var(--md-sys-color-on-surface-variant, #49454f));--_selected-pressed-state-layer-opacity: var(--md-filter-chip-selected-pressed-state-layer-opacity, 0.12);--_elevated-container-color: var(--md-filter-chip-elevated-container-color, var(--md-sys-color-surface-container-low, #f7f2fa));--_disabled-outline-color: var(--md-filter-chip-disabled-outline-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-outline-opacity: var(--md-filter-chip-disabled-outline-opacity, 0.12);--_disabled-selected-container-color: var(--md-filter-chip-disabled-selected-container-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-selected-container-opacity: var(--md-filter-chip-disabled-selected-container-opacity, 0.12);--_focus-outline-color: var(--md-filter-chip-focus-outline-color, var(--md-sys-color-on-surface-variant, #49454f));--_outline-color: var(--md-filter-chip-outline-color, var(--md-sys-color-outline, #79747e));--_outline-width: var(--md-filter-chip-outline-width, 1px);--_selected-container-color: var(--md-filter-chip-selected-container-color, var(--md-sys-color-secondary-container, #e8def8));--_selected-outline-width: var(--md-filter-chip-selected-outline-width, 0px);--_focus-label-text-color: var(--md-filter-chip-focus-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-label-text-color: var(--md-filter-chip-hover-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-state-layer-color: var(--md-filter-chip-hover-state-layer-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-state-layer-opacity: var(--md-filter-chip-hover-state-layer-opacity, 0.08);--_label-text-color: var(--md-filter-chip-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_pressed-label-text-color: var(--md-filter-chip-pressed-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_pressed-state-layer-color: var(--md-filter-chip-pressed-state-layer-color, var(--md-sys-color-on-secondary-container, #1d192b));--_pressed-state-layer-opacity: var(--md-filter-chip-pressed-state-layer-opacity, 0.12);--_icon-size: var(--md-filter-chip-icon-size, 18px);--_disabled-leading-icon-color: var(--md-filter-chip-disabled-leading-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-leading-icon-opacity: var(--md-filter-chip-disabled-leading-icon-opacity, 0.38);--_selected-focus-leading-icon-color: var(--md-filter-chip-selected-focus-leading-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-hover-leading-icon-color: var(--md-filter-chip-selected-hover-leading-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-leading-icon-color: var(--md-filter-chip-selected-leading-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-pressed-leading-icon-color: var(--md-filter-chip-selected-pressed-leading-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_focus-leading-icon-color: var(--md-filter-chip-focus-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_hover-leading-icon-color: var(--md-filter-chip-hover-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_leading-icon-color: var(--md-filter-chip-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_pressed-leading-icon-color: var(--md-filter-chip-pressed-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_disabled-trailing-icon-color: var(--md-filter-chip-disabled-trailing-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-trailing-icon-opacity: var(--md-filter-chip-disabled-trailing-icon-opacity, 0.38);--_selected-focus-trailing-icon-color: var(--md-filter-chip-selected-focus-trailing-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-hover-trailing-icon-color: var(--md-filter-chip-selected-hover-trailing-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-pressed-trailing-icon-color: var(--md-filter-chip-selected-pressed-trailing-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-trailing-icon-color: var(--md-filter-chip-selected-trailing-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_focus-trailing-icon-color: var(--md-filter-chip-focus-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-trailing-icon-color: var(--md-filter-chip-hover-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_pressed-trailing-icon-color: var(--md-filter-chip-pressed-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_trailing-icon-color: var(--md-filter-chip-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_container-shape-start-start: var(--md-filter-chip-container-shape-start-start, var(--md-filter-chip-container-shape, var(--md-sys-shape-corner-small, 8px)));--_container-shape-start-end: var(--md-filter-chip-container-shape-start-end, var(--md-filter-chip-container-shape, var(--md-sys-shape-corner-small, 8px)));--_container-shape-end-end: var(--md-filter-chip-container-shape-end-end, var(--md-filter-chip-container-shape, var(--md-sys-shape-corner-small, 8px)));--_container-shape-end-start: var(--md-filter-chip-container-shape-end-start, var(--md-filter-chip-container-shape, var(--md-sys-shape-corner-small, 8px)));--_leading-space: var(--md-filter-chip-leading-space, 16px);--_trailing-space: var(--md-filter-chip-trailing-space, 16px);--_icon-label-space: var(--md-filter-chip-icon-label-space, 8px);--_with-leading-icon-leading-space: var(--md-filter-chip-with-leading-icon-leading-space, 8px);--_with-trailing-icon-trailing-space: var(--md-filter-chip-with-trailing-icon-trailing-space, 8px)}.selected.elevated::before{background:var(--_elevated-selected-container-color)}.checkmark{height:var(--_icon-size);width:var(--_icon-size)}.disabled .checkmark{opacity:var(--_disabled-leading-icon-opacity)}@media(forced-colors: active){.disabled .checkmark{opacity:1}}
`;const oj=dt`.selected{--md-ripple-hover-color: var(--_selected-hover-state-layer-color);--md-ripple-hover-opacity: var(--_selected-hover-state-layer-opacity);--md-ripple-pressed-color: var(--_selected-pressed-state-layer-color);--md-ripple-pressed-opacity: var(--_selected-pressed-state-layer-opacity)}:where(.selected)::before{background:var(--_selected-container-color)}:where(.selected) .outline{border-width:var(--_selected-outline-width)}:where(.selected.disabled)::before{background:var(--_disabled-selected-container-color);opacity:var(--_disabled-selected-container-opacity)}:where(.selected) .label{color:var(--_selected-label-text-color)}:where(.selected:hover) .label{color:var(--_selected-hover-label-text-color)}:where(.selected:focus) .label{color:var(--_selected-focus-label-text-color)}:where(.selected:active) .label{color:var(--_selected-pressed-label-text-color)}:where(.selected) .leading.icon{color:var(--_selected-leading-icon-color)}:where(.selected:hover) .leading.icon{color:var(--_selected-hover-leading-icon-color)}:where(.selected:focus) .leading.icon{color:var(--_selected-focus-leading-icon-color)}:where(.selected:active) .leading.icon{color:var(--_selected-pressed-leading-icon-color)}@media(forced-colors: active){:where(.selected:not(.elevated))::before{border:1px solid CanvasText}:where(.selected) .outline{border-width:1px}}
`;const lj=dt`:host{border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-start-radius:var(--_container-shape-end-start);border-end-end-radius:var(--_container-shape-end-end);display:inline-flex;height:var(--_container-height);cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);--md-ripple-hover-color: var(--_hover-state-layer-color);--md-ripple-hover-opacity: var(--_hover-state-layer-opacity);--md-ripple-pressed-color: var(--_pressed-state-layer-color);--md-ripple-pressed-opacity: var(--_pressed-state-layer-opacity)}:host(:is([disabled],[soft-disabled])){pointer-events:none}:host([touch-target=wrapper]){margin:max(0px,(48px - var(--_container-height))/2) 0}md-focus-ring{--md-focus-ring-shape-start-start: var(--_container-shape-start-start);--md-focus-ring-shape-start-end: var(--_container-shape-start-end);--md-focus-ring-shape-end-end: var(--_container-shape-end-end);--md-focus-ring-shape-end-start: var(--_container-shape-end-start)}.container{border-radius:inherit;box-sizing:border-box;display:flex;height:100%;position:relative;width:100%}.container::before{border-radius:inherit;content:"";inset:0;pointer-events:none;position:absolute}.container:not(.disabled){cursor:pointer}.container.disabled{pointer-events:none}.cell{display:flex}.action{align-items:baseline;appearance:none;background:none;border:none;border-radius:inherit;display:flex;outline:none;padding:0;position:relative;text-decoration:none}.primary.action{min-width:0;padding-inline-start:var(--_leading-space);padding-inline-end:var(--_trailing-space)}.has-icon .primary.action{padding-inline-start:var(--_with-leading-icon-leading-space)}.touch{height:48px;inset:50% 0 0;position:absolute;transform:translateY(-50%);width:100%}:host([touch-target=none]) .touch{display:none}.outline{border:var(--_outline-width) solid var(--_outline-color);border-radius:inherit;inset:0;pointer-events:none;position:absolute}:where(:focus) .outline{border-color:var(--_focus-outline-color)}:where(.disabled) .outline{border-color:var(--_disabled-outline-color);opacity:var(--_disabled-outline-opacity)}md-ripple{border-radius:inherit}.label,.icon,.touch{z-index:1}.label{align-items:center;color:var(--_label-text-color);display:flex;font-family:var(--_label-text-font);font-size:var(--_label-text-size);font-weight:var(--_label-text-weight);height:100%;line-height:var(--_label-text-line-height);overflow:hidden;user-select:none}.label-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(:hover) .label{color:var(--_hover-label-text-color)}:where(:focus) .label{color:var(--_focus-label-text-color)}:where(:active) .label{color:var(--_pressed-label-text-color)}:where(.disabled) .label{color:var(--_disabled-label-text-color);opacity:var(--_disabled-label-text-opacity)}.icon{align-self:center;display:flex;fill:currentColor;position:relative}.icon ::slotted(:first-child){font-size:var(--_icon-size);height:var(--_icon-size);width:var(--_icon-size)}.leading.icon{color:var(--_leading-icon-color)}.leading.icon ::slotted(*),.leading.icon svg{margin-inline-end:var(--_icon-label-space)}:where(:hover) .leading.icon{color:var(--_hover-leading-icon-color)}:where(:focus) .leading.icon{color:var(--_focus-leading-icon-color)}:where(:active) .leading.icon{color:var(--_pressed-leading-icon-color)}:where(.disabled) .leading.icon{color:var(--_disabled-leading-icon-color);opacity:var(--_disabled-leading-icon-opacity)}@media(forced-colors: active){:where(.disabled) :is(.label,.outline,.leading.icon){color:GrayText;opacity:1}}a,button{text-transform:inherit}a,button:not(:disabled,[aria-disabled=true]){cursor:inherit}
`;const cj=dt`.trailing.action{align-items:center;justify-content:center;padding-inline-start:var(--_icon-label-space);padding-inline-end:var(--_with-trailing-icon-trailing-space)}.trailing.action :is(md-ripple,md-focus-ring){border-radius:50%;height:calc(1.3333333333*var(--_icon-size));width:calc(1.3333333333*var(--_icon-size))}.trailing.action md-focus-ring{inset:unset}.has-trailing .primary.action{padding-inline-end:0}.trailing.icon{color:var(--_trailing-icon-color);height:var(--_icon-size);width:var(--_icon-size)}:where(:hover) .trailing.icon{color:var(--_hover-trailing-icon-color)}:where(:focus) .trailing.icon{color:var(--_focus-trailing-icon-color)}:where(:active) .trailing.icon{color:var(--_pressed-trailing-icon-color)}:where(.disabled) .trailing.icon{color:var(--_disabled-trailing-icon-color);opacity:var(--_disabled-trailing-icon-opacity)}:where(.selected) .trailing.icon{color:var(--_selected-trailing-icon-color)}:where(.selected:hover) .trailing.icon{color:var(--_selected-hover-trailing-icon-color)}:where(.selected:focus) .trailing.icon{color:var(--_selected-focus-trailing-icon-color)}:where(.selected:active) .trailing.icon{color:var(--_selected-pressed-trailing-icon-color)}@media(forced-colors: active){.trailing.icon{color:ButtonText}:where(.disabled) .trailing.icon{color:GrayText;opacity:1}}
`;let T_=class extends Rl{};T_.styles=[lj,nj,cj,oj,aj];T_=$([Wt("md-filter-chip")],T_);const Sp=Symbol("isFocusable"),db=Symbol("privateIsFocusable"),Ap=Symbol("externalTabIndex"),Ip=Symbol("isUpdatingTabIndex"),Cp=Symbol("updateTabIndex");function uj(n){var e,t,r;class a extends n{constructor(){super(...arguments),this[e]=!0,this[t]=null,this[r]=!1}get[Sp](){return this[db]}set[Sp](c){this[Sp]!==c&&(this[db]=c,this[Cp]())}connectedCallback(){super.connectedCallback(),this[Cp]()}attributeChangedCallback(c,d,f){if(c!=="tabindex"){super.attributeChangedCallback(c,d,f);return}if(this.requestUpdate("tabIndex",Number(d??-1)),!this[Ip]){if(!this.hasAttribute("tabindex")){this[Ap]=null,this[Cp]();return}this[Ap]=this.tabIndex}}[(e=db,t=Ap,r=Ip,Cp)](){const c=this[Sp]?0:-1,d=this[Ap]??c;this[Ip]=!0,this.tabIndex=d,this[Ip]=!1}}return $([re({noAccessor:!0})],a.prototype,"tabIndex",void 0),a}class dj extends xw{computeValidity(e){this.radioElement||(this.radioElement=document.createElement("input"),this.radioElement.type="radio",this.radioElement.name="group");let t=!1,r=!1;for(const{checked:a,required:o}of e)o&&(t=!0),a&&(r=!0);return this.radioElement.checked=r,this.radioElement.required=t,{validity:{valueMissing:t&&!r},validationMessage:this.radioElement.validationMessage}}equals(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const a=e[r],o=t[r];if(a.checked!==o.checked||a.required!==o.required)return!1}return!0}copy(e){return e.map(({checked:t,required:r})=>({checked:t,required:r}))}}class hj{get controls(){const e=this.host.getAttribute("name");return!e||!this.root||!this.host.isConnected?[this.host]:Array.from(this.root.querySelectorAll(`[name="${e}"]`))}constructor(e){this.host=e,this.focused=!1,this.root=null,this.handleFocusIn=()=>{this.focused=!0,this.updateTabIndices()},this.handleFocusOut=()=>{this.focused=!1,this.updateTabIndices()},this.handleKeyDown=t=>{const r=t.key==="ArrowDown",a=t.key==="ArrowUp",o=t.key==="ArrowLeft",c=t.key==="ArrowRight";if(!o&&!c&&!r&&!a)return;const d=this.controls;if(!d.length)return;t.preventDefault();const m=getComputedStyle(this.host).direction==="rtl"?o||r:c||r,v=d.indexOf(this.host);let y=m?v+1:v-1;for(;y!==v;){y>=d.length?y=0:y<0&&(y=d.length-1);const E=d[y];if(E.hasAttribute("disabled")){m?y++:y--;continue}for(const I of d)I!==E&&(I.checked=!1,I.tabIndex=-1,I.blur());E.checked=!0,E.tabIndex=0,E.focus(),E.dispatchEvent(new Event("change",{bubbles:!0}));break}}}hostConnected(){this.host.addEventListener("keydown",this.handleKeyDown),this.host.addEventListener("focusin",this.handleFocusIn),this.host.addEventListener("focusout",this.handleFocusOut),queueMicrotask(()=>{this.root=this.host.getRootNode(),this.host.checked&&this.uncheckSiblings(),this.updateTabIndices()})}hostDisconnected(){this.host.removeEventListener("keydown",this.handleKeyDown),this.host.removeEventListener("focusin",this.handleFocusIn),this.host.removeEventListener("focusout",this.handleFocusOut),queueMicrotask(()=>{this.updateTabIndices(),this.root=null})}handleCheckedChange(){this.host.checked&&(this.uncheckSiblings(),this.updateTabIndices())}uncheckSiblings(){for(const e of this.controls)e!==this.host&&(e.checked=!1)}updateTabIndices(){const e=this.controls,t=e.find(r=>r.checked);if(t||this.focused){const r=t||this.host;r.tabIndex=0;for(const a of e)a!==r&&(a.tabIndex=-1);return}for(const r of e)r.tabIndex=0}}var GI;const hb=Symbol("checked");let fj=0;const pj=ww(Ew(Lh(uj(It))));class zh extends pj{get checked(){return this[hb]}set checked(e){const t=this.checked;t!==e&&(this[hb]=e,this.requestUpdate("checked",t),this.selectionController.handleCheckedChange())}constructor(){super(),this.maskId=`cutout${++fj}`,this[GI]=!1,this.required=!1,this.value="on",this.selectionController=new hj(this),this.addController(this.selectionController),this[Jn].role="radio",this.addEventListener("click",this.handleClick.bind(this)),this.addEventListener("keydown",this.handleKeydown.bind(this))}render(){const e={checked:this.checked};return we`
      <div class="container ${xr(e)}" aria-hidden="true">
        <md-ripple
          part="ripple"
          .control=${this}
          ?disabled=${this.disabled}></md-ripple>
        <md-focus-ring part="focus-ring" .control=${this}></md-focus-ring>
        <svg class="icon" viewBox="0 0 20 20">
          <mask id="${this.maskId}">
            <rect width="100%" height="100%" fill="white" />
            <circle cx="10" cy="10" r="8" fill="black" />
          </mask>
          <circle
            class="outer circle"
            cx="10"
            cy="10"
            r="10"
            mask="url(#${this.maskId})" />
          <circle class="inner circle" cx="10" cy="10" r="5" />
        </svg>

        <div class="touch-target"></div>
      </div>
    `}updated(){this[Jn].ariaChecked=String(this.checked)}async handleClick(e){this.disabled||(await 0,!e.defaultPrevented&&(_w(e)&&this.focus(),this.checked=!0,this.dispatchEvent(new Event("change",{bubbles:!0})),this.dispatchEvent(new InputEvent("input",{bubbles:!0,composed:!0}))))}async handleKeydown(e){await 0,!(e.key!==" "||e.defaultPrevented)&&this.click()}[(GI=hb,Vc)](){return this.checked?this.value:null}[Nm](){return String(this.checked)}formResetCallback(){this.checked=this.hasAttribute("checked")}formStateRestoreCallback(e){this.checked=e==="true"}[mh](){return new dj(()=>this.selectionController?this.selectionController.controls:[this])}[gh](){return this.container}}$([re({type:Boolean})],zh.prototype,"checked",null);$([re({type:Boolean})],zh.prototype,"required",void 0);$([re()],zh.prototype,"value",void 0);$([Bt(".container")],zh.prototype,"container",void 0);const mj=dt`@layer{:host{display:inline-flex;height:var(--md-radio-icon-size, 20px);outline:none;position:relative;vertical-align:top;width:var(--md-radio-icon-size, 20px);-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;--md-ripple-hover-color: var(--md-radio-hover-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--md-ripple-hover-opacity: var(--md-radio-hover-state-layer-opacity, 0.08);--md-ripple-pressed-color: var(--md-radio-pressed-state-layer-color, var(--md-sys-color-primary, #6750a4));--md-ripple-pressed-opacity: var(--md-radio-pressed-state-layer-opacity, 0.12)}:host([disabled]){cursor:default}:host([touch-target=wrapper]){margin:max(0px,(48px - var(--md-radio-icon-size, 20px))/2)}.container{display:flex;height:100%;place-content:center;place-items:center;width:100%}md-focus-ring{height:44px;inset:unset;width:44px}.checked{--md-ripple-hover-color: var(--md-radio-selected-hover-state-layer-color, var(--md-sys-color-primary, #6750a4));--md-ripple-hover-opacity: var(--md-radio-selected-hover-state-layer-opacity, 0.08);--md-ripple-pressed-color: var(--md-radio-selected-pressed-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--md-ripple-pressed-opacity: var(--md-radio-selected-pressed-state-layer-opacity, 0.12)}.touch-target{height:48px;position:absolute;width:48px}:host([touch-target=none]) .touch-target{display:none}md-ripple{border-radius:50%;height:var(--md-radio-state-layer-size, 40px);inset:unset;width:var(--md-radio-state-layer-size, 40px)}.icon{fill:var(--md-radio-icon-color, var(--md-sys-color-on-surface-variant, #49454f));inset:0;position:absolute}.outer.circle{transition:fill 50ms linear}.inner.circle{opacity:0;transform-origin:center;transition:opacity 50ms linear}.checked .icon{fill:var(--md-radio-selected-icon-color, var(--md-sys-color-primary, #6750a4))}.checked .inner.circle{animation:inner-circle-grow 300ms cubic-bezier(0.05, 0.7, 0.1, 1);opacity:1}@keyframes inner-circle-grow{from{transform:scale(0)}to{transform:scale(1)}}:host([disabled]) .circle{animation-duration:0s;transition-duration:0s}:host(:hover) .icon{fill:var(--md-radio-hover-icon-color, var(--md-sys-color-on-surface, #1d1b20))}:host(:focus-within) .icon{fill:var(--md-radio-focus-icon-color, var(--md-sys-color-on-surface, #1d1b20))}:host(:active) .icon{fill:var(--md-radio-pressed-icon-color, var(--md-sys-color-on-surface, #1d1b20))}:host([disabled]) .icon{fill:var(--md-radio-disabled-unselected-icon-color, var(--md-sys-color-on-surface, #1d1b20));opacity:var(--md-radio-disabled-unselected-icon-opacity, 0.38)}:host(:hover) .checked .icon{fill:var(--md-radio-selected-hover-icon-color, var(--md-sys-color-primary, #6750a4))}:host(:focus-within) .checked .icon{fill:var(--md-radio-selected-focus-icon-color, var(--md-sys-color-primary, #6750a4))}:host(:active) .checked .icon{fill:var(--md-radio-selected-pressed-icon-color, var(--md-sys-color-primary, #6750a4))}:host([disabled]) .checked .icon{fill:var(--md-radio-disabled-selected-icon-color, var(--md-sys-color-on-surface, #1d1b20));opacity:var(--md-radio-disabled-selected-icon-opacity, 0.38)}}@layer hcm{@media(forced-colors: active){.icon{fill:CanvasText}:host([disabled]) .icon{fill:GrayText;opacity:1}}}
`;let S_=class extends zh{};S_.styles=[mj];S_=$([Wt("md-radio")],S_);class Cg extends It{constructor(){super(...arguments),this.inset=!1,this.insetStart=!1,this.insetEnd=!1}}$([re({type:Boolean,reflect:!0})],Cg.prototype,"inset",void 0);$([re({type:Boolean,reflect:!0,attribute:"inset-start"})],Cg.prototype,"insetStart",void 0);$([re({type:Boolean,reflect:!0,attribute:"inset-end"})],Cg.prototype,"insetEnd",void 0);const gj=dt`:host{box-sizing:border-box;color:var(--md-divider-color, var(--md-sys-color-outline-variant, #cac4d0));display:flex;height:var(--md-divider-thickness, 1px);width:100%}:host([inset]),:host([inset-start]){padding-inline-start:16px}:host([inset]),:host([inset-end]){padding-inline-end:16px}:host::before{background:currentColor;content:"";height:100%;width:100%}@media(forced-colors: active){:host::before{background:CanvasText}}
`;let A_=class extends Cg{};A_.styles=[gj];A_=$([Wt("md-divider")],A_);const vj={dialog:[[[{transform:"translateY(-50px)"},{transform:"translateY(0)"}],{duration:500,easing:as.EMPHASIZED}]],scrim:[[[{opacity:0},{opacity:.32}],{duration:500,easing:"linear"}]],container:[[[{opacity:0},{opacity:1}],{duration:50,easing:"linear",pseudoElement:"::before"}],[[{height:"35%"},{height:"100%"}],{duration:500,easing:as.EMPHASIZED,pseudoElement:"::before"}]],headline:[[[{opacity:0},{opacity:0,offset:.2},{opacity:1}],{duration:250,easing:"linear",fill:"forwards"}]],content:[[[{opacity:0},{opacity:0,offset:.2},{opacity:1}],{duration:250,easing:"linear",fill:"forwards"}]],actions:[[[{opacity:0},{opacity:0,offset:.5},{opacity:1}],{duration:300,easing:"linear",fill:"forwards"}]]},yj={dialog:[[[{transform:"translateY(0)"},{transform:"translateY(-50px)"}],{duration:150,easing:as.EMPHASIZED_ACCELERATE}]],scrim:[[[{opacity:.32},{opacity:0}],{duration:150,easing:"linear"}]],container:[[[{height:"100%"},{height:"35%"}],{duration:150,easing:as.EMPHASIZED_ACCELERATE,pseudoElement:"::before"}],[[{opacity:"1"},{opacity:"0"}],{delay:100,duration:50,easing:"linear",pseudoElement:"::before"}]],headline:[[[{opacity:1},{opacity:0}],{duration:100,easing:"linear",fill:"forwards"}]],content:[[[{opacity:1},{opacity:0}],{duration:100,easing:"linear",fill:"forwards"}]],actions:[[[{opacity:1},{opacity:0}],{duration:100,easing:"linear",fill:"forwards"}]]};const bj=oa(It);class fn extends bj{get open(){return this.isOpen}set open(e){e!==this.isOpen&&(this.isOpen=e,e?(this.setAttribute("open",""),this.show()):(this.removeAttribute("open"),this.close()))}constructor(){super(),this.quick=!1,this.returnValue="",this.noFocusTrap=!1,this.getOpenAnimation=()=>vj,this.getCloseAnimation=()=>yj,this.isOpen=!1,this.isOpening=!1,this.isConnectedPromise=this.getIsConnectedPromise(),this.isAtScrollTop=!1,this.isAtScrollBottom=!1,this.nextClickIsFromContent=!1,this.hasHeadline=!1,this.hasActions=!1,this.hasIcon=!1,this.escapePressedWithoutCancel=!1,this.treewalker=document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT),this.addEventListener("submit",this.handleSubmit)}async show(){this.isOpening=!0,await this.isConnectedPromise,await this.updateComplete;const e=this.dialog;if(e.open||!this.isOpening){this.isOpening=!1;return}if(!this.dispatchEvent(new Event("open",{cancelable:!0}))){this.open=!1,this.isOpening=!1;return}e.showModal(),this.open=!0,this.scroller&&(this.scroller.scrollTop=0),this.querySelector("[autofocus]")?.focus(),await this.animateDialog(this.getOpenAnimation()),this.dispatchEvent(new Event("opened")),this.isOpening=!1}async close(e=this.returnValue){if(this.isOpening=!1,!this.isConnected){this.open=!1;return}await this.updateComplete;const t=this.dialog;if(!t.open||this.isOpening){this.open=!1;return}const r=this.returnValue;if(this.returnValue=e,!this.dispatchEvent(new Event("close",{cancelable:!0}))){this.returnValue=r;return}await this.animateDialog(this.getCloseAnimation()),t.close(e),this.open=!1,this.dispatchEvent(new Event("closed"))}connectedCallback(){super.connectedCallback(),this.isConnectedPromiseResolve()}disconnectedCallback(){super.disconnectedCallback(),this.isConnectedPromise=this.getIsConnectedPromise()}render(){const e=this.open&&!(this.isAtScrollTop&&this.isAtScrollBottom),t={"has-headline":this.hasHeadline,"has-actions":this.hasActions,"has-icon":this.hasIcon,scrollable:e,"show-top-divider":e&&!this.isAtScrollTop,"show-bottom-divider":e&&!this.isAtScrollBottom},r=this.open&&!this.noFocusTrap,a=we`
      <div
        class="focus-trap"
        tabindex="0"
        aria-hidden="true"
        @focus=${this.handleFocusTrapFocus}></div>
    `,{ariaLabel:o}=this;return we`
      <div class="scrim"></div>
      <dialog
        class=${xr(t)}
        aria-label=${o||fe}
        aria-labelledby=${this.hasHeadline?"headline":fe}
        role=${this.type==="alert"?"alertdialog":fe}
        @cancel=${this.handleCancel}
        @click=${this.handleDialogClick}
        @close=${this.handleClose}
        @keydown=${this.handleKeydown}
        .returnValue=${this.returnValue||fe}>
        ${r?a:fe}
        <div class="container" @click=${this.handleContentClick}>
          <div class="headline">
            <div class="icon" aria-hidden="true">
              <slot name="icon" @slotchange=${this.handleIconChange}></slot>
            </div>
            <h2 id="headline" aria-hidden=${!this.hasHeadline||fe}>
              <slot
                name="headline"
                @slotchange=${this.handleHeadlineChange}></slot>
            </h2>
            <md-divider></md-divider>
          </div>
          <div class="scroller">
            <div class="content">
              <div class="top anchor"></div>
              <slot name="content"></slot>
              <div class="bottom anchor"></div>
            </div>
          </div>
          <div class="actions">
            <md-divider></md-divider>
            <slot name="actions" @slotchange=${this.handleActionsChange}></slot>
          </div>
        </div>
        ${r?a:fe}
      </dialog>
    `}firstUpdated(){this.intersectionObserver=new IntersectionObserver(e=>{for(const t of e)this.handleAnchorIntersection(t)},{root:this.scroller}),this.intersectionObserver.observe(this.topAnchor),this.intersectionObserver.observe(this.bottomAnchor)}handleDialogClick(){if(this.nextClickIsFromContent){this.nextClickIsFromContent=!1;return}this.dispatchEvent(new Event("cancel",{cancelable:!0}))&&this.close()}handleContentClick(){this.nextClickIsFromContent=!0}handleSubmit(e){const t=e.target,{submitter:r}=e;t.getAttribute("method")!=="dialog"||!r||this.close(r.getAttribute("value")??this.returnValue)}handleCancel(e){if(e.target!==this.dialog)return;this.escapePressedWithoutCancel=!1;const t=!Ig(this,e);e.preventDefault(),!t&&this.close()}handleClose(){this.escapePressedWithoutCancel&&(this.escapePressedWithoutCancel=!1,this.dialog?.dispatchEvent(new Event("cancel",{cancelable:!0})))}handleKeydown(e){e.key==="Escape"&&(this.escapePressedWithoutCancel=!0,setTimeout(()=>{this.escapePressedWithoutCancel=!1}))}async animateDialog(e){if(this.cancelAnimations?.abort(),this.cancelAnimations=new AbortController,this.quick)return;const{dialog:t,scrim:r,container:a,headline:o,content:c,actions:d}=this;if(!t||!r||!a||!o||!c||!d)return;const{container:f,dialog:m,scrim:v,headline:y,content:E,actions:I}=e,L=[[t,m??[]],[r,v??[]],[a,f??[]],[o,y??[]],[c,E??[]],[d,I??[]]],O=[];for(const[M,K]of L)for(const F of K){const G=M.animate(...F);this.cancelAnimations.signal.addEventListener("abort",()=>{G.cancel()}),O.push(G)}await Promise.all(O.map(M=>M.finished.catch(()=>{})))}handleHeadlineChange(e){const t=e.target;this.hasHeadline=t.assignedElements().length>0}handleActionsChange(e){const t=e.target;this.hasActions=t.assignedElements().length>0}handleIconChange(e){const t=e.target;this.hasIcon=t.assignedElements().length>0}handleAnchorIntersection(e){const{target:t,isIntersecting:r}=e;t===this.topAnchor&&(this.isAtScrollTop=r),t===this.bottomAnchor&&(this.isAtScrollBottom=r)}getIsConnectedPromise(){return new Promise(e=>{this.isConnectedPromiseResolve=e})}handleFocusTrapFocus(e){const[t,r]=this.getFirstAndLastFocusableChildren();if(!t||!r){this.dialog?.focus();return}const a=e.target===this.firstFocusTrap,o=!a,c=e.relatedTarget===t,d=e.relatedTarget===r,f=!c&&!d;if(o&&d||a&&f){t.focus();return}if(a&&c||o&&f){r.focus();return}}getFirstAndLastFocusableChildren(){if(!this.treewalker)return[null,null];let e=null,t=null;for(this.treewalker.currentNode=this.treewalker.root;this.treewalker.nextNode();){const r=this.treewalker.currentNode;_j(r)&&(e||(e=r),t=r)}return[e,t]}}$([re({type:Boolean})],fn.prototype,"open",null);$([re({type:Boolean})],fn.prototype,"quick",void 0);$([re({attribute:!1})],fn.prototype,"returnValue",void 0);$([re()],fn.prototype,"type",void 0);$([re({type:Boolean,attribute:"no-focus-trap"})],fn.prototype,"noFocusTrap",void 0);$([Bt("dialog")],fn.prototype,"dialog",void 0);$([Bt(".scrim")],fn.prototype,"scrim",void 0);$([Bt(".container")],fn.prototype,"container",void 0);$([Bt(".headline")],fn.prototype,"headline",void 0);$([Bt(".content")],fn.prototype,"content",void 0);$([Bt(".actions")],fn.prototype,"actions",void 0);$([hr()],fn.prototype,"isAtScrollTop",void 0);$([hr()],fn.prototype,"isAtScrollBottom",void 0);$([Bt(".scroller")],fn.prototype,"scroller",void 0);$([Bt(".top.anchor")],fn.prototype,"topAnchor",void 0);$([Bt(".bottom.anchor")],fn.prototype,"bottomAnchor",void 0);$([Bt(".focus-trap")],fn.prototype,"firstFocusTrap",void 0);$([hr()],fn.prototype,"hasHeadline",void 0);$([hr()],fn.prototype,"hasActions",void 0);$([hr()],fn.prototype,"hasIcon",void 0);function _j(n){const e=":is(button,input,select,textarea,object,:is(a,area)[href],[tabindex],[contenteditable=true])",t=":not(:disabled,[disabled])";return n.matches(e+t+':not([tabindex^="-"])')?!0:!n.localName.includes("-")||!n.matches(t)?!1:n.shadowRoot?.delegatesFocus??!1}const wj=dt`:host{border-start-start-radius:var(--md-dialog-container-shape-start-start, var(--md-dialog-container-shape, var(--md-sys-shape-corner-extra-large, 28px)));border-start-end-radius:var(--md-dialog-container-shape-start-end, var(--md-dialog-container-shape, var(--md-sys-shape-corner-extra-large, 28px)));border-end-end-radius:var(--md-dialog-container-shape-end-end, var(--md-dialog-container-shape, var(--md-sys-shape-corner-extra-large, 28px)));border-end-start-radius:var(--md-dialog-container-shape-end-start, var(--md-dialog-container-shape, var(--md-sys-shape-corner-extra-large, 28px)));display:contents;margin:auto;max-height:min(560px,100% - 48px);max-width:min(560px,100% - 48px);min-height:140px;min-width:280px;position:fixed;height:fit-content;width:fit-content}dialog{background:rgba(0,0,0,0);border:none;border-radius:inherit;flex-direction:column;height:inherit;margin:inherit;max-height:inherit;max-width:inherit;min-height:inherit;min-width:inherit;outline:none;overflow:visible;padding:0;width:inherit}dialog[open]{display:flex}::backdrop{background:none}.scrim{background:var(--md-sys-color-scrim, #000);display:none;inset:0;opacity:32%;pointer-events:none;position:fixed;z-index:1}:host([open]) .scrim{display:flex}h2{all:unset;align-self:stretch}.headline{align-items:center;color:var(--md-dialog-headline-color, var(--md-sys-color-on-surface, #1d1b20));display:flex;flex-direction:column;font-family:var(--md-dialog-headline-font, var(--md-sys-typescale-headline-small-font, var(--md-ref-typeface-brand, Roboto)));font-size:var(--md-dialog-headline-size, var(--md-sys-typescale-headline-small-size, 1.5rem));line-height:var(--md-dialog-headline-line-height, var(--md-sys-typescale-headline-small-line-height, 2rem));font-weight:var(--md-dialog-headline-weight, var(--md-sys-typescale-headline-small-weight, var(--md-ref-typeface-weight-regular, 400)));position:relative}slot[name=headline]::slotted(*){align-items:center;align-self:stretch;box-sizing:border-box;display:flex;gap:8px;padding:24px 24px 0}.icon{display:flex}slot[name=icon]::slotted(*){color:var(--md-dialog-icon-color, var(--md-sys-color-secondary, #625b71));fill:currentColor;font-size:var(--md-dialog-icon-size, 24px);margin-top:24px;height:var(--md-dialog-icon-size, 24px);width:var(--md-dialog-icon-size, 24px)}.has-icon slot[name=headline]::slotted(*){justify-content:center;padding-top:16px}.scrollable slot[name=headline]::slotted(*){padding-bottom:16px}.scrollable.has-headline slot[name=content]::slotted(*){padding-top:8px}.container{border-radius:inherit;display:flex;flex-direction:column;flex-grow:1;overflow:hidden;position:relative;transform-origin:top}.container::before{background:var(--md-dialog-container-color, var(--md-sys-color-surface-container-high, #ece6f0));border-radius:inherit;content:"";inset:0;position:absolute}.scroller{display:flex;flex:1;flex-direction:column;overflow:hidden;z-index:1}.scrollable .scroller{overflow-y:scroll}.content{color:var(--md-dialog-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));font-family:var(--md-dialog-supporting-text-font, var(--md-sys-typescale-body-medium-font, var(--md-ref-typeface-plain, Roboto)));font-size:var(--md-dialog-supporting-text-size, var(--md-sys-typescale-body-medium-size, 0.875rem));line-height:var(--md-dialog-supporting-text-line-height, var(--md-sys-typescale-body-medium-line-height, 1.25rem));flex:1;font-weight:var(--md-dialog-supporting-text-weight, var(--md-sys-typescale-body-medium-weight, var(--md-ref-typeface-weight-regular, 400)));height:min-content;position:relative}slot[name=content]::slotted(*){box-sizing:border-box;padding:24px}.anchor{position:absolute}.top.anchor{top:0}.bottom.anchor{bottom:0}.actions{position:relative}slot[name=actions]::slotted(*){box-sizing:border-box;display:flex;gap:8px;justify-content:flex-end;padding:16px 24px 24px}.has-actions slot[name=content]::slotted(*){padding-bottom:8px}md-divider{display:none;position:absolute}.has-headline.show-top-divider .headline md-divider,.has-actions.show-bottom-divider .actions md-divider{display:flex}.headline md-divider{bottom:0}.actions md-divider{top:0}@media(forced-colors: active){dialog{outline:2px solid WindowText}}
`;let I_=class extends fn{};I_.styles=[wj];I_=$([Wt("md-dialog")],I_);function KI(n,e=!0){return e&&getComputedStyle(n).getPropertyValue("direction").trim()==="rtl"}const Ej=oa(Lh(It));class fr extends Ej{get name(){return this.getAttribute("name")??""}set name(e){this.setAttribute("name",e)}get form(){return this[Jn].form}get labels(){return this[Jn].labels}constructor(){super(),this.disabled=!1,this.softDisabled=!1,this.flipIconInRtl=!1,this.href="",this.download="",this.target="",this.ariaLabelSelected="",this.toggle=!1,this.selected=!1,this.type="submit",this.value="",this.flipIcon=KI(this,this.flipIconInRtl),this.addEventListener("click",this.handleClick.bind(this))}willUpdate(){this.href&&(this.disabled=!1,this.softDisabled=!1)}render(){const e=this.href?us`div`:us`button`,{ariaLabel:t,ariaHasPopup:r,ariaExpanded:a}=this,o=t&&this.ariaLabelSelected,c=this.toggle?this.selected:fe;let d=fe;return this.href||(d=o&&this.selected?this.ariaLabelSelected:t),Ag`<${e}
        class="icon-button ${xr(this.getRenderClasses())}"
        id="button"
        aria-label="${d||fe}"
        aria-haspopup="${!this.href&&r||fe}"
        aria-expanded="${!this.href&&a||fe}"
        aria-pressed="${c}"
        aria-disabled=${!this.href&&this.softDisabled||fe}
        ?disabled="${!this.href&&this.disabled}"
        @click="${this.handleClickOnChild}">
        ${this.renderFocusRing()}
        ${this.renderRipple()}
        ${this.selected?fe:this.renderIcon()}
        ${this.selected?this.renderSelectedIcon():fe}
        ${this.href?this.renderLink():this.renderTouchTarget()}
  </${e}>`}renderLink(){const{ariaLabel:e}=this;return we`
      <a
        class="link"
        id="link"
        href="${this.href}"
        download="${this.download||fe}"
        target="${this.target||fe}"
        aria-label="${e||fe}">
        ${this.renderTouchTarget()}
      </a>
    `}getRenderClasses(){return{"flip-icon":this.flipIcon,selected:this.toggle&&this.selected}}renderIcon(){return we`<span class="icon"><slot></slot></span>`}renderSelectedIcon(){return we`<span class="icon icon--selected"
      ><slot name="selected"><slot></slot></slot
    ></span>`}renderTouchTarget(){return we`<span class="touch"></span>`}renderFocusRing(){return we`<md-focus-ring
      part="focus-ring"
      for=${this.href?"link":"button"}></md-focus-ring>`}renderRipple(){const e=!this.href&&(this.disabled||this.softDisabled);return we`<md-ripple
      for=${this.href?"link":fe}
      ?disabled="${e}"></md-ripple>`}connectedCallback(){this.flipIcon=KI(this,this.flipIconInRtl),super.connectedCallback()}handleClick(e){if(!this.href&&this.softDisabled){e.stopImmediatePropagation(),e.preventDefault();return}}async handleClickOnChild(e){await 0,!(!this.toggle||this.disabled||this.softDisabled||e.defaultPrevented)&&(this.selected=!this.selected,this.dispatchEvent(new InputEvent("input",{bubbles:!0,composed:!0})),this.dispatchEvent(new Event("change",{bubbles:!0})))}}F2(fr);fr.formAssociated=!0;fr.shadowRootOptions={mode:"open",delegatesFocus:!0};$([re({type:Boolean,reflect:!0})],fr.prototype,"disabled",void 0);$([re({type:Boolean,attribute:"soft-disabled",reflect:!0})],fr.prototype,"softDisabled",void 0);$([re({type:Boolean,attribute:"flip-icon-in-rtl"})],fr.prototype,"flipIconInRtl",void 0);$([re()],fr.prototype,"href",void 0);$([re()],fr.prototype,"download",void 0);$([re()],fr.prototype,"target",void 0);$([re({attribute:"aria-label-selected"})],fr.prototype,"ariaLabelSelected",void 0);$([re({type:Boolean})],fr.prototype,"toggle",void 0);$([re({type:Boolean,reflect:!0})],fr.prototype,"selected",void 0);$([re()],fr.prototype,"type",void 0);$([re({reflect:!0})],fr.prototype,"value",void 0);$([hr()],fr.prototype,"flipIcon",void 0);const xj=dt`:host{display:inline-flex;outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0);height:var(--_container-height);width:var(--_container-width);justify-content:center}:host([touch-target=wrapper]){margin:max(0px,(48px - var(--_container-height))/2) max(0px,(48px - var(--_container-width))/2)}md-focus-ring{--md-focus-ring-shape-start-start: var(--_container-shape-start-start);--md-focus-ring-shape-start-end: var(--_container-shape-start-end);--md-focus-ring-shape-end-end: var(--_container-shape-end-end);--md-focus-ring-shape-end-start: var(--_container-shape-end-start)}:host(:is([disabled],[soft-disabled])){pointer-events:none}.icon-button{place-items:center;background:none;border:none;box-sizing:border-box;cursor:pointer;display:flex;place-content:center;outline:none;padding:0;position:relative;text-decoration:none;user-select:none;z-index:0;flex:1;border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-start-radius:var(--_container-shape-end-start);border-end-end-radius:var(--_container-shape-end-end)}.icon ::slotted(*){font-size:var(--_icon-size);height:var(--_icon-size);width:var(--_icon-size);font-weight:inherit}md-ripple{z-index:-1;border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-start-radius:var(--_container-shape-end-start);border-end-end-radius:var(--_container-shape-end-end)}.flip-icon .icon{transform:scaleX(-1)}.icon{display:inline-flex}.link{display:grid;height:100%;outline:none;place-items:center;position:absolute;width:100%}.touch{position:absolute;height:max(48px,100%);width:max(48px,100%)}:host([touch-target=none]) .touch{display:none}@media(forced-colors: active){:host(:is([disabled],[soft-disabled])){--_disabled-icon-color: GrayText;--_disabled-icon-opacity: 1}}
`;const Tj=dt`:host{--_disabled-icon-color: var(--md-icon-button-disabled-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-icon-opacity: var(--md-icon-button-disabled-icon-opacity, 0.38);--_icon-size: var(--md-icon-button-icon-size, 24px);--_selected-focus-icon-color: var(--md-icon-button-selected-focus-icon-color, var(--md-sys-color-primary, #6750a4));--_selected-hover-icon-color: var(--md-icon-button-selected-hover-icon-color, var(--md-sys-color-primary, #6750a4));--_selected-hover-state-layer-color: var(--md-icon-button-selected-hover-state-layer-color, var(--md-sys-color-primary, #6750a4));--_selected-hover-state-layer-opacity: var(--md-icon-button-selected-hover-state-layer-opacity, 0.08);--_selected-icon-color: var(--md-icon-button-selected-icon-color, var(--md-sys-color-primary, #6750a4));--_selected-pressed-icon-color: var(--md-icon-button-selected-pressed-icon-color, var(--md-sys-color-primary, #6750a4));--_selected-pressed-state-layer-color: var(--md-icon-button-selected-pressed-state-layer-color, var(--md-sys-color-primary, #6750a4));--_selected-pressed-state-layer-opacity: var(--md-icon-button-selected-pressed-state-layer-opacity, 0.12);--_state-layer-height: var(--md-icon-button-state-layer-height, 40px);--_state-layer-shape: var(--md-icon-button-state-layer-shape, var(--md-sys-shape-corner-full, 9999px));--_state-layer-width: var(--md-icon-button-state-layer-width, 40px);--_focus-icon-color: var(--md-icon-button-focus-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-icon-color: var(--md-icon-button-hover-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-state-layer-color: var(--md-icon-button-hover-state-layer-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-state-layer-opacity: var(--md-icon-button-hover-state-layer-opacity, 0.08);--_icon-color: var(--md-icon-button-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_pressed-icon-color: var(--md-icon-button-pressed-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_pressed-state-layer-color: var(--md-icon-button-pressed-state-layer-color, var(--md-sys-color-on-surface-variant, #49454f));--_pressed-state-layer-opacity: var(--md-icon-button-pressed-state-layer-opacity, 0.12);--_container-shape-start-start: 0;--_container-shape-start-end: 0;--_container-shape-end-end: 0;--_container-shape-end-start: 0;--_container-height: 0;--_container-width: 0;height:var(--_state-layer-height);width:var(--_state-layer-width)}:host([touch-target=wrapper]){margin:max(0px,(48px - var(--_state-layer-height))/2) max(0px,(48px - var(--_state-layer-width))/2)}md-focus-ring{--md-focus-ring-shape-start-start: var(--_state-layer-shape);--md-focus-ring-shape-start-end: var(--_state-layer-shape);--md-focus-ring-shape-end-end: var(--_state-layer-shape);--md-focus-ring-shape-end-start: var(--_state-layer-shape)}.standard{background-color:rgba(0,0,0,0);color:var(--_icon-color);--md-ripple-hover-color: var(--_hover-state-layer-color);--md-ripple-hover-opacity: var(--_hover-state-layer-opacity);--md-ripple-pressed-color: var(--_pressed-state-layer-color);--md-ripple-pressed-opacity: var(--_pressed-state-layer-opacity)}.standard:hover{color:var(--_hover-icon-color)}.standard:focus{color:var(--_focus-icon-color)}.standard:active{color:var(--_pressed-icon-color)}.standard:is(:disabled,[aria-disabled=true]){color:var(--_disabled-icon-color)}md-ripple{border-radius:var(--_state-layer-shape)}.standard:is(:disabled,[aria-disabled=true]){opacity:var(--_disabled-icon-opacity)}.selected:not(:disabled,[aria-disabled=true]){color:var(--_selected-icon-color)}.selected:not(:disabled,[aria-disabled=true]):hover{color:var(--_selected-hover-icon-color)}.selected:not(:disabled,[aria-disabled=true]):focus{color:var(--_selected-focus-icon-color)}.selected:not(:disabled,[aria-disabled=true]):active{color:var(--_selected-pressed-icon-color)}.selected{--md-ripple-hover-color: var(--_selected-hover-state-layer-color);--md-ripple-hover-opacity: var(--_selected-hover-state-layer-opacity);--md-ripple-pressed-color: var(--_selected-pressed-state-layer-color);--md-ripple-pressed-opacity: var(--_selected-pressed-state-layer-opacity)}
`;let C_=class extends fr{getRenderClasses(){return{...super.getRenderClasses(),standard:!0}}};C_.styles=[xj,Tj];C_=$([Wt("md-icon-button")],C_);function Sj(n,e){return new CustomEvent("close-menu",{bubbles:!0,composed:!0,detail:{initiator:n,reason:e,itemPath:[n]}})}const YI=Sj,QI={SPACE:"Space",ENTER:"Enter"},WI={CLICK_SELECTION:"click-selection",KEYDOWN:"keydown"},Aj={ESCAPE:"Escape",SPACE:QI.SPACE,ENTER:QI.ENTER};function eN(n){return Object.values(Aj).some(e=>e===n)}function XI(n,e){const t=new Event("md-contains",{bubbles:!0,composed:!0});let r=[];const a=c=>{r=c.composedPath()};return e.addEventListener("md-contains",a),n.dispatchEvent(t),e.removeEventListener("md-contains",a),r.length>0}const Ec={NONE:"none",LIST_ROOT:"list-root",FIRST_ITEM:"first-item",LAST_ITEM:"last-item"};const JI={END_START:"end-start",START_START:"start-start"};class Ij{constructor(e,t){this.host=e,this.getProperties=t,this.surfaceStylesInternal={display:"none"},this.lastValues={isOpen:!1},this.host.addController(this)}get surfaceStyles(){return this.surfaceStylesInternal}async position(){const{surfaceEl:e,anchorEl:t,anchorCorner:r,surfaceCorner:a,positioning:o,xOffset:c,yOffset:d,disableBlockFlip:f,disableInlineFlip:m,repositionStrategy:v}=this.getProperties(),y=r.toLowerCase().trim(),E=a.toLowerCase().trim();if(!e||!t)return;const I=window.innerWidth,L=window.innerHeight,O=document.createElement("div");O.style.opacity="0",O.style.position="fixed",O.style.display="block",O.style.inset="0",document.body.appendChild(O);const M=O.getBoundingClientRect();O.remove();const K=window.innerHeight-M.bottom,F=window.innerWidth-M.right;this.surfaceStylesInternal={display:"block",opacity:"0"},this.host.requestUpdate(),await this.host.updateComplete,e.popover&&e.isConnected&&e.showPopover();const G=e.getSurfacePositionClientRect?e.getSurfacePositionClientRect():e.getBoundingClientRect(),le=t.getSurfacePositionClientRect?t.getSurfacePositionClientRect():t.getBoundingClientRect(),[se,ue]=E.split("-"),[R,x]=y.split("-"),D=getComputedStyle(e).direction==="ltr";let{blockInset:P,blockOutOfBoundsCorrection:k,surfaceBlockProperty:z}=this.calculateBlock({surfaceRect:G,anchorRect:le,anchorBlock:R,surfaceBlock:se,yOffset:d,positioning:o,windowInnerHeight:L,blockScrollbarHeight:K});if(k&&!f){const Z=se==="start"?"end":"start",de=R==="start"?"end":"start",_e=this.calculateBlock({surfaceRect:G,anchorRect:le,anchorBlock:de,surfaceBlock:Z,yOffset:d,positioning:o,windowInnerHeight:L,blockScrollbarHeight:K});k>_e.blockOutOfBoundsCorrection&&(P=_e.blockInset,k=_e.blockOutOfBoundsCorrection,z=_e.surfaceBlockProperty)}let{inlineInset:N,inlineOutOfBoundsCorrection:Re,surfaceInlineProperty:je}=this.calculateInline({surfaceRect:G,anchorRect:le,anchorInline:x,surfaceInline:ue,xOffset:c,positioning:o,isLTR:D,windowInnerWidth:I,inlineScrollbarWidth:F});if(Re&&!m){const Z=ue==="start"?"end":"start",de=x==="start"?"end":"start",_e=this.calculateInline({surfaceRect:G,anchorRect:le,anchorInline:de,surfaceInline:Z,xOffset:c,positioning:o,isLTR:D,windowInnerWidth:I,inlineScrollbarWidth:F});Math.abs(Re)>Math.abs(_e.inlineOutOfBoundsCorrection)&&(N=_e.inlineInset,Re=_e.inlineOutOfBoundsCorrection,je=_e.surfaceInlineProperty)}v==="move"&&(P=P-k,N=N-Re),this.surfaceStylesInternal={display:"block",opacity:"1",[z]:`${P}px`,[je]:`${N}px`},v==="resize"&&(k&&(this.surfaceStylesInternal.height=`${G.height-k}px`),Re&&(this.surfaceStylesInternal.width=`${G.width-Re}px`)),this.host.requestUpdate()}calculateBlock(e){const{surfaceRect:t,anchorRect:r,anchorBlock:a,surfaceBlock:o,yOffset:c,positioning:d,windowInnerHeight:f,blockScrollbarHeight:m}=e,v=d==="fixed"||d==="document"?1:0,y=d==="document"?1:0,E=o==="start"?1:0,I=o==="end"?1:0,O=(a!==o?1:0)*r.height+c,M=E*r.top+I*(f-r.bottom-m),K=E*window.scrollY-I*window.scrollY,F=Math.abs(Math.min(0,f-M-O-t.height));return{blockInset:v*M+y*K+O,blockOutOfBoundsCorrection:F,surfaceBlockProperty:o==="start"?"inset-block-start":"inset-block-end"}}calculateInline(e){const{isLTR:t,surfaceInline:r,anchorInline:a,anchorRect:o,surfaceRect:c,xOffset:d,positioning:f,windowInnerWidth:m,inlineScrollbarWidth:v}=e,y=f==="fixed"||f==="document"?1:0,E=f==="document"?1:0,I=t?1:0,L=t?0:1,O=r==="start"?1:0,M=r==="end"?1:0,F=(a!==r?1:0)*o.width+d,G=O*o.left+M*(m-o.right-v),le=O*(m-o.right-v)+M*o.left,se=I*G+L*le,ue=O*window.scrollX-M*window.scrollX,R=M*window.scrollX-O*window.scrollX,x=I*ue+L*R,D=Math.abs(Math.min(0,m-se-F-c.width)),P=y*se+F+E*x;let k=r==="start"?"inset-inline-start":"inset-inline-end";return(f==="document"||f==="fixed")&&(r==="start"&&t||r==="end"&&!t?k="left":k="right"),{inlineInset:P,inlineOutOfBoundsCorrection:D,surfaceInlineProperty:k}}hostUpdate(){this.onUpdate()}hostUpdated(){this.onUpdate()}async onUpdate(){const e=this.getProperties();let t=!1;for(const[c,d]of Object.entries(e))if(t=t||d!==this.lastValues[c],t)break;const r=this.lastValues.isOpen!==e.isOpen,a=!!e.anchorEl,o=!!e.surfaceEl;t&&a&&o&&(this.lastValues.isOpen=e.isOpen,e.isOpen?(this.lastValues=e,await this.position(),e.onOpen()):r&&(await e.beforeClose(),this.close(),e.onClose()))}close(){this.surfaceStylesInternal={display:"none"},this.host.requestUpdate();const e=this.getProperties().surfaceEl;e?.popover&&e?.isConnected&&e.hidePopover()}}const Pi={INDEX:0,ITEM:1,TEXT:2};class Cj{constructor(e){this.getProperties=e,this.typeaheadRecords=[],this.typaheadBuffer="",this.cancelTypeaheadTimeout=0,this.isTypingAhead=!1,this.lastActiveRecord=null,this.onKeydown=t=>{this.isTypingAhead?this.typeahead(t):this.beginTypeahead(t)},this.endTypeahead=()=>{this.isTypingAhead=!1,this.typaheadBuffer="",this.typeaheadRecords=[]}}get items(){return this.getProperties().getItems()}get active(){return this.getProperties().active}beginTypeahead(e){this.active&&(e.code==="Space"||e.code==="Enter"||e.code.startsWith("Arrow")||e.code==="Escape"||(this.isTypingAhead=!0,this.typeaheadRecords=this.items.map((t,r)=>[r,t,t.typeaheadText.trim().toLowerCase()]),this.lastActiveRecord=this.typeaheadRecords.find(t=>t[Pi.ITEM].tabIndex===0)??null,this.lastActiveRecord&&(this.lastActiveRecord[Pi.ITEM].tabIndex=-1),this.typeahead(e)))}typeahead(e){if(e.defaultPrevented)return;if(clearTimeout(this.cancelTypeaheadTimeout),e.code==="Enter"||e.code.startsWith("Arrow")||e.code==="Escape"){this.endTypeahead(),this.lastActiveRecord&&(this.lastActiveRecord[Pi.ITEM].tabIndex=-1);return}e.code==="Space"&&e.preventDefault(),this.cancelTypeaheadTimeout=setTimeout(this.endTypeahead,this.getProperties().typeaheadBufferTime),this.typaheadBuffer+=e.key.toLowerCase();const t=this.lastActiveRecord?this.lastActiveRecord[Pi.INDEX]:-1,r=this.typeaheadRecords.length,a=f=>(f[Pi.INDEX]+r-t)%r,o=this.typeaheadRecords.filter(f=>!f[Pi.ITEM].disabled&&f[Pi.TEXT].startsWith(this.typaheadBuffer)).sort((f,m)=>a(f)-a(m));if(o.length===0){clearTimeout(this.cancelTypeaheadTimeout),this.lastActiveRecord&&(this.lastActiveRecord[Pi.ITEM].tabIndex=-1),this.endTypeahead();return}const c=this.typaheadBuffer.length===1;let d;this.lastActiveRecord===o[0]&&c?d=o[1]??o[0]:d=o[0],this.lastActiveRecord&&(this.lastActiveRecord[Pi.ITEM].tabIndex=-1),this.lastActiveRecord=d,d[Pi.ITEM].tabIndex=0,d[Pi.ITEM].focus()}}const Rj=200,tN=new Set([Xn.ArrowDown,Xn.ArrowUp,Xn.Home,Xn.End]),Dj=new Set([Xn.ArrowLeft,Xn.ArrowRight,...tN]);function Nj(n=document){let e=n.activeElement;for(;e&&e?.shadowRoot?.activeElement;)e=e.shadowRoot.activeElement;return e}class an extends It{get openDirection(){return this.menuCorner.split("-")[0]==="start"?"DOWN":"UP"}get anchorElement(){return this.anchor?this.getRootNode().querySelector(`#${this.anchor}`):this.currentAnchorElement}set anchorElement(e){this.currentAnchorElement=e,this.requestUpdate("anchorElement")}constructor(){super(),this.anchor="",this.positioning="absolute",this.quick=!1,this.hasOverflow=!1,this.open=!1,this.xOffset=0,this.yOffset=0,this.noHorizontalFlip=!1,this.noVerticalFlip=!1,this.typeaheadDelay=Rj,this.anchorCorner=JI.END_START,this.menuCorner=JI.START_START,this.stayOpenOnOutsideClick=!1,this.stayOpenOnFocusout=!1,this.skipRestoreFocus=!1,this.defaultFocus=Ec.FIRST_ITEM,this.noNavigationWrap=!1,this.typeaheadActive=!0,this.isSubmenu=!1,this.pointerPath=[],this.isRepositioning=!1,this.openCloseAnimationSignal=Wz(),this.listController=new X2({isItem:e=>e.hasAttribute("md-menu-item"),getPossibleItems:()=>this.slotItems,isRtl:()=>getComputedStyle(this).direction==="rtl",deactivateItem:e=>{e.selected=!1,e.tabIndex=-1},activateItem:e=>{e.selected=!0,e.tabIndex=0},isNavigableKey:e=>{if(!this.isSubmenu)return Dj.has(e);const r=getComputedStyle(this).direction==="rtl"?Xn.ArrowLeft:Xn.ArrowRight;return e===r?!0:tN.has(e)},wrapNavigation:()=>!this.noNavigationWrap}),this.lastFocusedElement=null,this.typeaheadController=new Cj(()=>({getItems:()=>this.items,typeaheadBufferTime:this.typeaheadDelay,active:this.typeaheadActive})),this.currentAnchorElement=null,this.internals=this.attachInternals(),this.menuPositionController=new Ij(this,()=>({anchorCorner:this.anchorCorner,surfaceCorner:this.menuCorner,surfaceEl:this.surfaceEl,anchorEl:this.anchorElement,positioning:this.positioning==="popover"?"document":this.positioning,isOpen:this.open,xOffset:this.xOffset,yOffset:this.yOffset,disableBlockFlip:this.noVerticalFlip,disableInlineFlip:this.noHorizontalFlip,onOpen:this.onOpened,beforeClose:this.beforeClose,onClose:this.onClosed,repositionStrategy:this.hasOverflow&&this.positioning!=="popover"?"move":"resize"})),this.onWindowResize=()=>{this.isRepositioning||this.positioning!=="document"&&this.positioning!=="fixed"&&this.positioning!=="popover"||(this.isRepositioning=!0,this.reposition(),this.isRepositioning=!1)},this.handleFocusout=async e=>{const t=this.anchorElement;if(this.stayOpenOnFocusout||!this.open||this.pointerPath.includes(t))return;if(e.relatedTarget){if(XI(e.relatedTarget,this)||this.pointerPath.length!==0&&XI(e.relatedTarget,t))return}else if(this.pointerPath.includes(this))return;const r=this.skipRestoreFocus;this.skipRestoreFocus=!0,this.close(),await this.updateComplete,this.skipRestoreFocus=r},this.onOpened=async()=>{this.lastFocusedElement=Nj();const e=this.items,t=Wp(e);t&&this.defaultFocus!==Ec.NONE&&(t.item.tabIndex=-1);let r=!this.quick;switch(this.quick?this.dispatchEvent(new Event("opening")):r=!!await this.animateOpen(),this.defaultFocus){case Ec.FIRST_ITEM:const a=Tw(e);a&&(a.tabIndex=0,a.focus(),await a.updateComplete);break;case Ec.LAST_ITEM:const o=W2(e);o&&(o.tabIndex=0,o.focus(),await o.updateComplete);break;case Ec.LIST_ROOT:this.focus();break;default:case Ec.NONE:break}r||this.dispatchEvent(new Event("opened"))},this.beforeClose=async()=>{this.open=!1,this.skipRestoreFocus||this.lastFocusedElement?.focus?.(),this.quick||await this.animateClose()},this.onClosed=()=>{this.quick&&(this.dispatchEvent(new Event("closing")),this.dispatchEvent(new Event("closed")))},this.onWindowPointerdown=e=>{this.pointerPath=e.composedPath()},this.onDocumentClick=e=>{if(!this.open)return;const t=e.composedPath();!this.stayOpenOnOutsideClick&&!t.includes(this)&&!t.includes(this.anchorElement)&&(this.open=!1)},this.internals.role="menu",this.addEventListener("keydown",this.handleKeydown),this.addEventListener("keydown",this.captureKeydown,{capture:!0}),this.addEventListener("focusout",this.handleFocusout)}get items(){return this.listController.items}willUpdate(e){if(e.has("open")){if(this.open){this.removeAttribute("aria-hidden");return}this.setAttribute("aria-hidden","true")}}update(e){e.has("open")&&(this.open?this.setUpGlobalEventListeners():this.cleanUpGlobalEventListeners()),e.has("positioning")&&this.positioning==="popover"&&!this.showPopover&&(this.positioning="fixed"),super.update(e)}connectedCallback(){super.connectedCallback(),this.open&&this.setUpGlobalEventListeners()}disconnectedCallback(){super.disconnectedCallback(),this.cleanUpGlobalEventListeners()}getBoundingClientRect(){return this.surfaceEl?this.surfaceEl.getBoundingClientRect():super.getBoundingClientRect()}getClientRects(){return this.surfaceEl?this.surfaceEl.getClientRects():super.getClientRects()}render(){return this.renderSurface()}renderSurface(){return we`
      <div
        class="menu ${xr(this.getSurfaceClasses())}"
        style=${m_(this.menuPositionController.surfaceStyles)}
        popover=${this.positioning==="popover"?"manual":fe}>
        ${this.renderElevation()}
        <div class="items">
          <div class="item-padding"> ${this.renderMenuItems()} </div>
        </div>
      </div>
    `}renderMenuItems(){return we`<slot
      @close-menu=${this.onCloseMenu}
      @deactivate-items=${this.onDeactivateItems}
      @request-activation=${this.onRequestActivation}
      @deactivate-typeahead=${this.handleDeactivateTypeahead}
      @activate-typeahead=${this.handleActivateTypeahead}
      @stay-open-on-focusout=${this.handleStayOpenOnFocusout}
      @close-on-focusout=${this.handleCloseOnFocusout}
      @slotchange=${this.listController.onSlotchange}></slot>`}renderElevation(){return we`<md-elevation part="elevation"></md-elevation>`}getSurfaceClasses(){return{open:this.open,fixed:this.positioning==="fixed","has-overflow":this.hasOverflow}}captureKeydown(e){e.target===this&&!e.defaultPrevented&&eN(e.code)&&(e.preventDefault(),this.close()),this.typeaheadController.onKeydown(e)}async animateOpen(){const e=this.surfaceEl,t=this.slotEl;if(!e||!t)return!0;const r=this.openDirection;this.dispatchEvent(new Event("opening")),e.classList.toggle("animating",!0);const a=this.openCloseAnimationSignal.start(),o=e.offsetHeight,c=r==="UP",d=this.items,f=500,m=50,v=250,y=(f-v)/d.length,E=e.animate([{height:"0px"},{height:`${o}px`}],{duration:f,easing:as.EMPHASIZED}),I=t.animate([{transform:c?`translateY(-${o}px)`:""},{transform:""}],{duration:f,easing:as.EMPHASIZED}),L=e.animate([{opacity:0},{opacity:1}],m),O=[];for(let F=0;F<d.length;F++){const G=c?d.length-1-F:F,le=d[G],se=le.animate([{opacity:0},{opacity:1}],{duration:v,delay:y*F});le.classList.toggle("md-menu-hidden",!0),se.addEventListener("finish",()=>{le.classList.toggle("md-menu-hidden",!1)}),O.push([le,se])}let M=F=>{};const K=new Promise(F=>{M=F});return a.addEventListener("abort",()=>{E.cancel(),I.cancel(),L.cancel(),O.forEach(([F,G])=>{F.classList.toggle("md-menu-hidden",!1),G.cancel()}),M(!0)}),E.addEventListener("finish",()=>{e.classList.toggle("animating",!1),this.openCloseAnimationSignal.finish(),M(!1)}),await K}animateClose(){let e;const t=new Promise(se=>{e=se}),r=this.surfaceEl,a=this.slotEl;if(!r||!a)return e(!1),t;const c=this.openDirection==="UP";this.dispatchEvent(new Event("closing")),r.classList.toggle("animating",!0);const d=this.openCloseAnimationSignal.start(),f=r.offsetHeight,m=this.items,v=150,y=50,E=v-y,I=50,L=50,O=.35,M=(v-L-I)/m.length,K=r.animate([{height:`${f}px`},{height:`${f*O}px`}],{duration:v,easing:as.EMPHASIZED_ACCELERATE}),F=a.animate([{transform:""},{transform:c?`translateY(-${f*(1-O)}px)`:""}],{duration:v,easing:as.EMPHASIZED_ACCELERATE}),G=r.animate([{opacity:1},{opacity:0}],{duration:y,delay:E}),le=[];for(let se=0;se<m.length;se++){const ue=c?se:m.length-1-se,R=m[ue],x=R.animate([{opacity:1},{opacity:0}],{duration:I,delay:L+M*se});x.addEventListener("finish",()=>{R.classList.toggle("md-menu-hidden",!0)}),le.push([R,x])}return d.addEventListener("abort",()=>{K.cancel(),F.cancel(),G.cancel(),le.forEach(([se,ue])=>{ue.cancel(),se.classList.toggle("md-menu-hidden",!1)}),e(!1)}),K.addEventListener("finish",()=>{r.classList.toggle("animating",!1),le.forEach(([se])=>{se.classList.toggle("md-menu-hidden",!1)}),this.openCloseAnimationSignal.finish(),this.dispatchEvent(new Event("closed")),e(!0)}),t}handleKeydown(e){this.pointerPath=[],this.listController.handleKeydown(e)}setUpGlobalEventListeners(){document.addEventListener("click",this.onDocumentClick,{capture:!0}),window.addEventListener("pointerdown",this.onWindowPointerdown),document.addEventListener("resize",this.onWindowResize,{passive:!0}),window.addEventListener("resize",this.onWindowResize,{passive:!0})}cleanUpGlobalEventListeners(){document.removeEventListener("click",this.onDocumentClick,{capture:!0}),window.removeEventListener("pointerdown",this.onWindowPointerdown),document.removeEventListener("resize",this.onWindowResize),window.removeEventListener("resize",this.onWindowResize)}onCloseMenu(){this.close()}onDeactivateItems(e){e.stopPropagation(),this.listController.onDeactivateItems()}onRequestActivation(e){e.stopPropagation(),this.listController.onRequestActivation(e)}handleDeactivateTypeahead(e){e.stopPropagation(),this.typeaheadActive=!1}handleActivateTypeahead(e){e.stopPropagation(),this.typeaheadActive=!0}handleStayOpenOnFocusout(e){e.stopPropagation(),this.stayOpenOnFocusout=!0}handleCloseOnFocusout(e){e.stopPropagation(),this.stayOpenOnFocusout=!1}close(){this.open=!1,this.slotItems.forEach(t=>{t.close?.()})}show(){this.open=!0}activateNextItem(){return this.listController.activateNextItem()??null}activatePreviousItem(){return this.listController.activatePreviousItem()??null}reposition(){this.open&&this.menuPositionController.position()}}$([Bt(".menu")],an.prototype,"surfaceEl",void 0);$([Bt("slot")],an.prototype,"slotEl",void 0);$([re()],an.prototype,"anchor",void 0);$([re()],an.prototype,"positioning",void 0);$([re({type:Boolean})],an.prototype,"quick",void 0);$([re({type:Boolean,attribute:"has-overflow"})],an.prototype,"hasOverflow",void 0);$([re({type:Boolean,reflect:!0})],an.prototype,"open",void 0);$([re({type:Number,attribute:"x-offset"})],an.prototype,"xOffset",void 0);$([re({type:Number,attribute:"y-offset"})],an.prototype,"yOffset",void 0);$([re({type:Boolean,attribute:"no-horizontal-flip"})],an.prototype,"noHorizontalFlip",void 0);$([re({type:Boolean,attribute:"no-vertical-flip"})],an.prototype,"noVerticalFlip",void 0);$([re({type:Number,attribute:"typeahead-delay"})],an.prototype,"typeaheadDelay",void 0);$([re({attribute:"anchor-corner"})],an.prototype,"anchorCorner",void 0);$([re({attribute:"menu-corner"})],an.prototype,"menuCorner",void 0);$([re({type:Boolean,attribute:"stay-open-on-outside-click"})],an.prototype,"stayOpenOnOutsideClick",void 0);$([re({type:Boolean,attribute:"stay-open-on-focusout"})],an.prototype,"stayOpenOnFocusout",void 0);$([re({type:Boolean,attribute:"skip-restore-focus"})],an.prototype,"skipRestoreFocus",void 0);$([re({attribute:"default-focus"})],an.prototype,"defaultFocus",void 0);$([re({type:Boolean,attribute:"no-navigation-wrap"})],an.prototype,"noNavigationWrap",void 0);$([aa({flatten:!0})],an.prototype,"slotItems",void 0);$([hr()],an.prototype,"typeaheadActive",void 0);const kj=dt`:host{--md-elevation-level: var(--md-menu-container-elevation, 2);--md-elevation-shadow-color: var(--md-menu-container-shadow-color, var(--md-sys-color-shadow, #000));min-width:112px;color:unset;display:contents}md-focus-ring{--md-focus-ring-shape: var(--md-menu-container-shape, var(--md-sys-shape-corner-extra-small, 4px))}.menu{border-radius:var(--md-menu-container-shape, var(--md-sys-shape-corner-extra-small, 4px));display:none;inset:auto;border:none;padding:0px;overflow:visible;background-color:rgba(0,0,0,0);color:inherit;opacity:0;z-index:20;position:absolute;user-select:none;max-height:inherit;height:inherit;min-width:inherit;max-width:inherit;scrollbar-width:inherit}.menu::backdrop{display:none}.fixed{position:fixed}.items{display:block;list-style-type:none;margin:0;outline:none;box-sizing:border-box;background-color:var(--md-menu-container-color, var(--md-sys-color-surface-container, #f3edf7));height:inherit;max-height:inherit;overflow:auto;min-width:inherit;max-width:inherit;border-radius:inherit;scrollbar-width:inherit}.item-padding{padding-block:var(--md-menu-top-space, 8px) var(--md-menu-bottom-space, 8px)}.has-overflow:not([popover]) .items{overflow:visible}.has-overflow.animating .items,.animating .items{overflow:hidden}.has-overflow.animating .items{pointer-events:none}.animating ::slotted(.md-menu-hidden){opacity:0}slot{display:block;height:inherit;max-height:inherit}::slotted(:is(md-divider,[role=separator])){margin:8px 0}@media(forced-colors: active){.menu{border-style:solid;border-color:CanvasText;border-width:1px}}
`;let R_=class extends an{};R_.styles=[kj];R_=$([Wt("md-menu")],R_);class Oj{constructor(e,t){this.host=e,this.internalTypeaheadText=null,this.onClick=()=>{this.host.keepOpen||this.host.dispatchEvent(YI(this.host,{kind:WI.CLICK_SELECTION}))},this.onKeydown=r=>{if(this.host.href&&r.code==="Enter"){const o=this.getInteractiveElement();o instanceof HTMLAnchorElement&&o.click()}if(r.defaultPrevented)return;const a=r.code;this.host.keepOpen&&a!=="Escape"||eN(a)&&(r.preventDefault(),this.host.dispatchEvent(YI(this.host,{kind:WI.KEYDOWN,key:a})))},this.getHeadlineElements=t.getHeadlineElements,this.getSupportingTextElements=t.getSupportingTextElements,this.getDefaultElements=t.getDefaultElements,this.getInteractiveElement=t.getInteractiveElement,this.host.addController(this)}get typeaheadText(){if(this.internalTypeaheadText!==null)return this.internalTypeaheadText;const e=this.getHeadlineElements(),t=[];return e.forEach(r=>{r.textContent&&r.textContent.trim()&&t.push(r.textContent.trim())}),t.length===0&&this.getDefaultElements().forEach(r=>{r.textContent&&r.textContent.trim()&&t.push(r.textContent.trim())}),t.length===0&&this.getSupportingTextElements().forEach(r=>{r.textContent&&r.textContent.trim()&&t.push(r.textContent.trim())}),t.join(" ")}get tagName(){switch(this.host.type){case"link":return"a";case"button":return"button";default:case"menuitem":case"option":return"li"}}get role(){return this.host.type==="option"?"option":"menuitem"}hostConnected(){this.host.toggleAttribute("md-menu-item",!0)}hostUpdate(){this.host.href&&(this.host.type="link")}setTypeaheadText(e){this.internalTypeaheadText=e}}const Pj=oa(It);class Jr extends Pj{constructor(){super(...arguments),this.disabled=!1,this.type="menuitem",this.href="",this.target="",this.keepOpen=!1,this.selected=!1,this.menuItemController=new Oj(this,{getHeadlineElements:()=>this.headlineElements,getSupportingTextElements:()=>this.supportingTextElements,getDefaultElements:()=>this.defaultElements,getInteractiveElement:()=>this.listItemRoot})}get typeaheadText(){return this.menuItemController.typeaheadText}set typeaheadText(e){this.menuItemController.setTypeaheadText(e)}render(){return this.renderListItem(we`
      <md-item>
        <div slot="container">
          ${this.renderRipple()} ${this.renderFocusRing()}
        </div>
        <slot name="start" slot="start"></slot>
        <slot name="end" slot="end"></slot>
        ${this.renderBody()}
      </md-item>
    `)}renderListItem(e){const t=this.type==="link";let r;switch(this.menuItemController.tagName){case"a":r=us`a`;break;case"button":r=us`button`;break;default:case"li":r=us`li`;break}const a=t&&this.target?this.target:fe;return Ag`
      <${r}
        id="item"
        tabindex=${this.disabled&&!t?-1:0}
        role=${this.menuItemController.role}
        aria-label=${this.ariaLabel||fe}
        aria-selected=${this.ariaSelected||fe}
        aria-checked=${this.ariaChecked||fe}
        aria-expanded=${this.ariaExpanded||fe}
        aria-haspopup=${this.ariaHasPopup||fe}
        class="list-item ${xr(this.getRenderClasses())}"
        href=${this.href||fe}
        target=${a}
        @click=${this.menuItemController.onClick}
        @keydown=${this.menuItemController.onKeydown}
      >${e}</${r}>
    `}renderRipple(){return we` <md-ripple
      part="ripple"
      for="item"
      ?disabled=${this.disabled}></md-ripple>`}renderFocusRing(){return we` <md-focus-ring
      part="focus-ring"
      for="item"
      inward></md-focus-ring>`}getRenderClasses(){return{disabled:this.disabled,selected:this.selected}}renderBody(){return we`
      <slot></slot>
      <slot name="overline" slot="overline"></slot>
      <slot name="headline" slot="headline"></slot>
      <slot name="supporting-text" slot="supporting-text"></slot>
      <slot
        name="trailing-supporting-text"
        slot="trailing-supporting-text"></slot>
    `}focus(){this.listItemRoot?.focus()}}Jr.shadowRootOptions={...It.shadowRootOptions,delegatesFocus:!0};$([re({type:Boolean,reflect:!0})],Jr.prototype,"disabled",void 0);$([re()],Jr.prototype,"type",void 0);$([re()],Jr.prototype,"href",void 0);$([re()],Jr.prototype,"target",void 0);$([re({type:Boolean,attribute:"keep-open"})],Jr.prototype,"keepOpen",void 0);$([re({type:Boolean})],Jr.prototype,"selected",void 0);$([Bt(".list-item")],Jr.prototype,"listItemRoot",void 0);$([aa({slot:"headline"})],Jr.prototype,"headlineElements",void 0);$([aa({slot:"supporting-text"})],Jr.prototype,"supportingTextElements",void 0);$([Pz({slot:""})],Jr.prototype,"defaultElements",void 0);$([re({attribute:"typeahead-text"})],Jr.prototype,"typeaheadText",null);const Mj=dt`:host{display:flex;--md-ripple-hover-color: var(--md-menu-item-hover-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--md-ripple-hover-opacity: var(--md-menu-item-hover-state-layer-opacity, 0.08);--md-ripple-pressed-color: var(--md-menu-item-pressed-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--md-ripple-pressed-opacity: var(--md-menu-item-pressed-state-layer-opacity, 0.12)}:host([disabled]){opacity:var(--md-menu-item-disabled-opacity, 0.3);pointer-events:none}md-focus-ring{z-index:1;--md-focus-ring-shape: 8px}a,button,li{background:none;border:none;padding:0;margin:0;text-align:unset;text-decoration:none}.list-item{border-radius:inherit;display:flex;flex:1;max-width:inherit;min-width:inherit;outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.list-item:not(.disabled){cursor:pointer}[slot=container]{pointer-events:none}md-ripple{border-radius:inherit}md-item{border-radius:inherit;flex:1;color:var(--md-menu-item-label-text-color, var(--md-sys-color-on-surface, #1d1b20));font-family:var(--md-menu-item-label-text-font, var(--md-sys-typescale-body-large-font, var(--md-ref-typeface-plain, Roboto)));font-size:var(--md-menu-item-label-text-size, var(--md-sys-typescale-body-large-size, 1rem));line-height:var(--md-menu-item-label-text-line-height, var(--md-sys-typescale-body-large-line-height, 1.5rem));font-weight:var(--md-menu-item-label-text-weight, var(--md-sys-typescale-body-large-weight, var(--md-ref-typeface-weight-regular, 400)));min-height:var(--md-menu-item-one-line-container-height, 56px);padding-top:var(--md-menu-item-top-space, 12px);padding-bottom:var(--md-menu-item-bottom-space, 12px);padding-inline-start:var(--md-menu-item-leading-space, 16px);padding-inline-end:var(--md-menu-item-trailing-space, 16px)}md-item[multiline]{min-height:var(--md-menu-item-two-line-container-height, 72px)}[slot=supporting-text]{color:var(--md-menu-item-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));font-family:var(--md-menu-item-supporting-text-font, var(--md-sys-typescale-body-medium-font, var(--md-ref-typeface-plain, Roboto)));font-size:var(--md-menu-item-supporting-text-size, var(--md-sys-typescale-body-medium-size, 0.875rem));line-height:var(--md-menu-item-supporting-text-line-height, var(--md-sys-typescale-body-medium-line-height, 1.25rem));font-weight:var(--md-menu-item-supporting-text-weight, var(--md-sys-typescale-body-medium-weight, var(--md-ref-typeface-weight-regular, 400)))}[slot=trailing-supporting-text]{color:var(--md-menu-item-trailing-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));font-family:var(--md-menu-item-trailing-supporting-text-font, var(--md-sys-typescale-label-small-font, var(--md-ref-typeface-plain, Roboto)));font-size:var(--md-menu-item-trailing-supporting-text-size, var(--md-sys-typescale-label-small-size, 0.6875rem));line-height:var(--md-menu-item-trailing-supporting-text-line-height, var(--md-sys-typescale-label-small-line-height, 1rem));font-weight:var(--md-menu-item-trailing-supporting-text-weight, var(--md-sys-typescale-label-small-weight, var(--md-ref-typeface-weight-medium, 500)))}:is([slot=start],[slot=end])::slotted(*){fill:currentColor}[slot=start]{color:var(--md-menu-item-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f))}[slot=end]{color:var(--md-menu-item-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f))}.list-item{background-color:var(--md-menu-item-container-color, transparent)}.list-item.selected{background-color:var(--md-menu-item-selected-container-color, var(--md-sys-color-secondary-container, #e8def8))}.selected:not(.disabled) ::slotted(*){color:var(--md-menu-item-selected-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b))}@media(forced-colors: active){:host([disabled]),:host([disabled]) slot{color:GrayText;opacity:1}.list-item{position:relative}.list-item.selected::before{content:"";position:absolute;inset:0;box-sizing:border-box;border-radius:inherit;pointer-events:none;border:3px double CanvasText}}
`;let D_=class extends Jr{};D_.styles=[Mj];D_=$([Wt("md-menu-item")],D_);const Vj=["Owner","Bartender","Barback","Server","Manager","Security","Runner"],Lj=["Amstel Light","Bass Ale","Beck's","Blue Moon","Bud Light","Bud Light Lime","Bud Light Platinum","Budweiser","Busch","Busch Light","Coors","Coors Banquet","Coors Light","Corona","Corona Extra","Corona Light","Corona Premier","Dos Equis Amber","Dos Equis Lager","Foster's","Goose Island IPA","Guinness","Heineken","Heineken 0.0","Heineken Light","Hoegaarden","Kona Big Wave","Lagunitas IPA","Landshark Lager","Michelob","Michelob Light","Michelob Ultra","Michelob Ultra Amber","Miller Genuine Draft","Miller High Life","Miller Lite","Modelo Especial","Modelo Negra","Natural Light","Newcastle Brown Ale","Pabst Blue Ribbon","Pacifico","Peroni","Pilsner Urquell","Red Stripe","Rolling Rock","Samuel Adams Boston Lager","Sapporo","Shiner Bock","Shock Top","Sierra Nevada Pale Ale","Sol","St. Pauli Girl","Stella Artois","Tecate","Victoria","Yuengling"],fb=[{id:"break",label:"BREAK",icon:"coffee"},{id:"ice",label:"ICE",icon:"ac_unit"},{id:"glass",label:"SERVICE ITEMS",icon:"wine_bar",children:[{id:"pint",label:"PINT"},{id:"rocks",label:"ROCKS"},{id:"collins",label:"COLLINS"},{id:"wine",label:"WINE GLASS"},{id:"coupe",label:"COUPE"},{id:"shot",label:"SHOT GLASS"},{id:"napkins",label:"NAPKINS"},{id:"straws",label:"STRAWS"},{id:"coasters",label:"COASTERS"}]},{id:"fruit",label:"GARNISH",icon:"restaurant",children:[{id:"lime",label:"LIMES"},{id:"lemon",label:"LEMONS"},{id:"orange",label:"ORANGES"},{id:"olive",label:"OLIVES"},{id:"cherry",label:"CHERRIES"},{id:"mint",label:"MINT"}]},{id:"restock_beer",label:"BEER",icon:"sports_bar"},{id:"mixers",label:"MIXERS",icon:"local_bar",children:[{id:"soda",label:"SODA"},{id:"tonic",label:"TONIC"},{id:"coke",label:"COKE"},{id:"diet",label:"DIET COKE"},{id:"sprite",label:"SPRITE"},{id:"ginger_ale",label:"GINGER ALE"},{id:"ginger_beer",label:"GINGER BEER"},{id:"cranberry",label:"CRANBERRY"},{id:"oj",label:"OJ"},{id:"pineapple",label:"PINEAPPLE"},{id:"grapefruit",label:"GRAPEFRUIT"},{id:"sour",label:"SOUR MIX"},{id:"simple",label:"SIMPLE SYRUP"},{id:"grenadine",label:"GRENADINE"},{id:"bitters",label:"BITTERS"}]},{id:"restock",label:"WELL",icon:"liquor",children:[{id:"vodka",label:"VODKA"},{id:"gin",label:"GIN"},{id:"tequila",label:"TEQUILA"},{id:"rum",label:"RUM"},{id:"whiskey",label:"WHISKEY"},{id:"cordial",label:"MIXERS"},{id:"beer",label:"BEER"}]},{id:"trash",label:"TRASH / SPILL",icon:"delete"},{id:"keg",label:"KEG",icon:"keg"},{id:"security",label:"SECURITY",icon:"security"},{id:"manager",label:"MANAGER",icon:"manage_accounts"}],Xp={Owner:["manager","security","keg","trash","ice","glass","fruit","restock","mixers","restock_beer","break"],Manager:["manager","security","keg","trash","break"],Bartender:["ice","glass","fruit","restock","keg","trash","mixers","restock_beer"],Barback:["ice","glass","fruit","restock","keg","trash","mixers","restock_beer","break"],Server:[],Runner:["ice","glass","restock","mixers","restock_beer"],Security:["security","manager","break"]};function Uj(n,e){const t=A.useRef([]),r=A.useRef(null);A.useEffect(()=>{t.current=n},[n]),A.useEffect(()=>{const a=setInterval(()=>{t.current.filter(c=>!e.includes(c.id)).length>0&&(r.current||(r.current=new Audio("/alert.wav")),r.current.currentTime=0,r.current.play().catch(c=>console.log("Audio play failed",c)),navigator.vibrate&&navigator.vibrate([500,200,500]))},6e4);return()=>clearInterval(a)},[e])}const zj=[{id:"search",label:"Search"},{id:"create",label:"Create"}],Bj=500,jj=({onJoin:n})=>{const[e,t]=A.useState("search"),[r,a]=A.useState(""),[o,c]=A.useState([]),[d,f]=A.useState(!1),[m,v]=A.useState(""),[y,E]=A.useState(""),[I,L]=A.useState(""),[O,M]=A.useState(""),[K,F]=A.useState(""),[G,le]=A.useState(""),[se,ue]=A.useState("bar");A.useEffect(()=>{let x=!0;if(e==="search"&&r.length>2){const D=setTimeout(async()=>{f(!0);try{const P=fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(r+" bar")}`).then(je=>je.json()).catch(()=>[]),k=Kp(Cc(Vt,"bars"),t_("name"),_9(r),w9(r+""),n_(5)),z=D9(k).then(je=>je.docs.map(Z=>{const de=Z.data();return{place_id:Z.id,osm_id:Z.id,display_name:`${de.name}, ${de.city||""} ${de.state||""}`,name:de.name,isFirebase:!0}})).catch(()=>[]),[N,Re]=await Promise.all([P,z]);x&&c([...Re,...N])}catch(P){console.error(P)}finally{x&&f(!1)}},Bj);return()=>{x=!1,clearTimeout(D)}}else c([])},[r,e]);const R=x=>{if(x.preventDefault(),!m||!(O&&K||G)){alert("Please enter a Business Name and either City/State or Zip Code.");return}n({id:`bar_${Date.now()}`,name:m,address:y,city:O,state:K,zip:G,phone:I,status:"verified",type:se})};return S.jsxs("div",{className:"w-[300px] space-y-4",children:[e==="search"?S.jsxs("div",{className:"space-y-2",children:[S.jsx("div",{className:"relative",children:S.jsx("md-filled-text-field",{label:"Search OpenStreetMap",value:r,onInput:x=>a(x.target.value),type:"search",className:"w-full",children:d&&S.jsx("md-circular-progress",{slot:"trailing-icon",indeterminate:!0,style:{width:"24px",height:"24px"},"data-testid":"search-progress"})})}),o.length>0&&S.jsx("md-list",{className:"bg-[#1E1E1E] rounded-xl overflow-hidden border border-gray-800 max-h-60 overflow-y-auto",children:o.map(x=>S.jsxs("md-list-item",{type:"button",onClick:()=>n({id:String(x.osm_id),name:x.name||x.display_name.split(",")[0],address:x.display_name,status:"verified",osmId:String(x.osm_id)}),children:[S.jsx("div",{slot:"headline",className:"text-white",children:x.name||x.display_name.split(",")[0]}),S.jsx("div",{slot:"supporting-text",className:"text-gray-400 text-xs truncate",children:x.display_name}),S.jsx("md-icon",{slot:"start",children:"location_on"})]},x.place_id))})]}):S.jsxs("form",{onSubmit:R,className:"space-y-4 max-h-[60vh] overflow-y-auto px-1",children:[S.jsx("md-filled-text-field",{label:"Business Name *",value:m,onInput:x=>v(x.target.value),required:!0}),S.jsx("md-filled-text-field",{label:"Address",value:y,onInput:x=>E(x.target.value)}),S.jsx("md-filled-text-field",{label:"City",value:O,onInput:x=>M(x.target.value),className:"w-full"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("div",{className:"w-24",children:S.jsx("md-filled-text-field",{label:"State",value:K,onInput:x=>F(x.target.value),style:{width:"100%"}})}),S.jsx("div",{className:"flex-1",children:S.jsx("md-filled-text-field",{label:"Zip Code",value:G,onInput:x=>le(x.target.value),type:"number",style:{width:"100%"}})})]}),S.jsx("md-filled-text-field",{label:"Phone",value:I,onInput:x=>L(x.target.value),type:"tel"}),S.jsxs("div",{className:"flex gap-6 justify-center my-2",children:[S.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>ue("bar"),children:[S.jsx("md-radio",{name:"barType",value:"bar",checked:se==="bar","touch-target":"wrapper"}),S.jsx("span",{className:"text-white",children:"Bar"})]}),S.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>ue("restaurant"),children:[S.jsx("md-radio",{name:"barType",value:"restaurant",checked:se==="restaurant","touch-target":"wrapper"}),S.jsx("span",{className:"text-white",children:"Restaurant"})]})]})]}),S.jsx("div",{className:"flex justify-center gap-4 pt-2",children:zj.map(x=>{const D=e===x.id,P=D?"md-filled-button":"md-outlined-button",k=z=>{D&&x.id==="create"?R(z):D||t(x.id)};return S.jsx(P,{onClick:k,children:x.label},x.id)})})]})},$j=({onSelect:n})=>{const[e,t]=A.useState(""),[r,a]=A.useState("");return S.jsxs("div",{className:"w-[300px] space-y-6 animate-in fade-in slide-in-from-bottom-4",children:[S.jsxs("div",{className:"text-center space-y-2",children:[S.jsx("h2",{className:"text-2xl font-bold text-white",children:"Identification"}),S.jsx("p",{className:"text-gray-500",children:"Name and Rank, soldier."})]}),S.jsx("md-filled-text-field",{label:"Display Name (e.g. 'Angry Steve')",value:r,onInput:o=>a(o.target.value),required:!0}),S.jsx("div",{className:"bg-[#1E1E1E] rounded-xl overflow-hidden border border-gray-800 max-h-60 overflow-y-auto",children:Vj.map(o=>S.jsxs("div",{onClick:()=>t(o),className:`p-4 flex items-center justify-between cursor-pointer border-b border-gray-800 last:border-0 hover:bg-white/5 ${e===o?"bg-white/10":""}`,children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("md-icon",{children:o==="Bartender"?"local_bar":"person"}),S.jsx("span",{className:"font-medium text-lg",children:o})]}),S.jsx("md-radio",{checked:e===o,"touch-target":"wrapper"})]},o))}),S.jsx("md-filled-button",{disabled:!e||!r||null,onClick:()=>n(e,r),children:"Clock In"})]})};const nN=Symbol("dispatchHooks");function Fj(n,e){const t=n[nN];if(!t)throw new Error(`'${n.type}' event needs setupDispatchHooks().`);t.addEventListener("after",e)}const ZI=new WeakMap;function qj(n,...e){let t=ZI.get(n);t||(t=new Set,ZI.set(n,t));for(const r of e){if(t.has(r))continue;let a=!1;n.addEventListener(r,o=>{if(a)return;o.stopImmediatePropagation();const c=Reflect.construct(o.constructor,[o.type,o]),d=new EventTarget;c[nN]=d,a=!0;const f=n.dispatchEvent(c);a=!1,f||o.preventDefault(),d.dispatchEvent(new Event("after"))},{capture:!0}),t.add(r)}}class Hj extends xw{computeValidity(e){return this.checkboxControl||(this.checkboxControl=document.createElement("input"),this.checkboxControl.type="checkbox"),this.checkboxControl.checked=e.checked,this.checkboxControl.required=e.required,{validity:this.checkboxControl.validity,validationMessage:this.checkboxControl.validationMessage}}equals(e,t){return e.checked===t.checked&&e.required===t.required}copy({checked:e,required:t}){return{checked:e,required:t}}}const Gj=oa(ww(Ew(Lh(It))));class To extends Gj{constructor(){super(),this.selected=!1,this.icons=!1,this.showOnlySelectedIcon=!1,this.required=!1,this.value="on",this.addEventListener("click",e=>{!_w(e)||!this.input||(this.focus(),q2(this.input))}),qj(this,"keydown"),this.addEventListener("keydown",e=>{Fj(e,()=>{e.defaultPrevented||e.key!=="Enter"||this.disabled||!this.input||this.input.click()})})}render(){return we`
      <div class="switch ${xr(this.getRenderClasses())}">
        <input
          id="switch"
          class="touch"
          type="checkbox"
          role="switch"
          aria-label=${this.ariaLabel||fe}
          ?checked=${this.selected}
          ?disabled=${this.disabled}
          ?required=${this.required}
          @input=${this.handleInput}
          @change=${this.handleChange} />

        <md-focus-ring part="focus-ring" for="switch"></md-focus-ring>
        <span class="track"> ${this.renderHandle()} </span>
      </div>
    `}getRenderClasses(){return{selected:this.selected,unselected:!this.selected,disabled:this.disabled}}renderHandle(){const e={"with-icon":this.showOnlySelectedIcon?this.selected:this.icons};return we`
      ${this.renderTouchTarget()}
      <span class="handle-container">
        <md-ripple for="switch" ?disabled="${this.disabled}"></md-ripple>
        <span class="handle ${xr(e)}">
          ${this.shouldShowIcons()?this.renderIcons():we``}
        </span>
      </span>
    `}renderIcons(){return we`
      <div class="icons">
        ${this.renderOnIcon()}
        ${this.showOnlySelectedIcon?we``:this.renderOffIcon()}
      </div>
    `}renderOnIcon(){return we`
      <slot class="icon icon--on" name="on-icon">
        <svg viewBox="0 0 24 24">
          <path
            d="M9.55 18.2 3.65 12.3 5.275 10.675 9.55 14.95 18.725 5.775 20.35 7.4Z" />
        </svg>
      </slot>
    `}renderOffIcon(){return we`
      <slot class="icon icon--off" name="off-icon">
        <svg viewBox="0 0 24 24">
          <path
            d="M6.4 19.2 4.8 17.6 10.4 12 4.8 6.4 6.4 4.8 12 10.4 17.6 4.8 19.2 6.4 13.6 12 19.2 17.6 17.6 19.2 12 13.6Z" />
        </svg>
      </slot>
    `}renderTouchTarget(){return we`<span class="touch"></span>`}shouldShowIcons(){return this.icons||this.showOnlySelectedIcon}handleInput(e){const t=e.target;this.selected=t.checked}handleChange(e){Ig(this,e)}[Vc](){return this.selected?this.value:null}[Nm](){return String(this.selected)}formResetCallback(){this.selected=this.hasAttribute("selected")}formStateRestoreCallback(e){this.selected=e==="true"}[mh](){return new Hj(()=>({checked:this.selected,required:this.required}))}[gh](){return this.input}}To.shadowRootOptions={mode:"open",delegatesFocus:!0};$([re({type:Boolean})],To.prototype,"selected",void 0);$([re({type:Boolean})],To.prototype,"icons",void 0);$([re({type:Boolean,attribute:"show-only-selected-icon"})],To.prototype,"showOnlySelectedIcon",void 0);$([re({type:Boolean})],To.prototype,"required",void 0);$([re()],To.prototype,"value",void 0);$([Bt("input")],To.prototype,"input",void 0);const Kj=dt`@layer styles, hcm;@layer styles{:host{display:inline-flex;outline:none;vertical-align:top;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer}:host([disabled]){cursor:default}:host([touch-target=wrapper]){margin:max(0px,(48px - var(--md-switch-track-height, 32px))/2) 0px}md-focus-ring{--md-focus-ring-shape-start-start: var(--md-switch-track-shape-start-start, var(--md-switch-track-shape, var(--md-sys-shape-corner-full, 9999px)));--md-focus-ring-shape-start-end: var(--md-switch-track-shape-start-end, var(--md-switch-track-shape, var(--md-sys-shape-corner-full, 9999px)));--md-focus-ring-shape-end-end: var(--md-switch-track-shape-end-end, var(--md-switch-track-shape, var(--md-sys-shape-corner-full, 9999px)));--md-focus-ring-shape-end-start: var(--md-switch-track-shape-end-start, var(--md-switch-track-shape, var(--md-sys-shape-corner-full, 9999px)))}.switch{align-items:center;display:inline-flex;flex-shrink:0;position:relative;width:var(--md-switch-track-width, 52px);height:var(--md-switch-track-height, 32px);border-start-start-radius:var(--md-switch-track-shape-start-start, var(--md-switch-track-shape, var(--md-sys-shape-corner-full, 9999px)));border-start-end-radius:var(--md-switch-track-shape-start-end, var(--md-switch-track-shape, var(--md-sys-shape-corner-full, 9999px)));border-end-end-radius:var(--md-switch-track-shape-end-end, var(--md-switch-track-shape, var(--md-sys-shape-corner-full, 9999px)));border-end-start-radius:var(--md-switch-track-shape-end-start, var(--md-switch-track-shape, var(--md-sys-shape-corner-full, 9999px)))}input{appearance:none;height:max(100%,var(--md-switch-touch-target-size, 48px));outline:none;margin:0;position:absolute;width:max(100%,var(--md-switch-touch-target-size, 48px));z-index:1;cursor:inherit;top:50%;left:50%;transform:translate(-50%, -50%)}:host([touch-target=none]) input{display:none}}@layer styles{.track{position:absolute;width:100%;height:100%;box-sizing:border-box;border-radius:inherit;display:flex;justify-content:center;align-items:center}.track::before{content:"";display:flex;position:absolute;height:100%;width:100%;border-radius:inherit;box-sizing:border-box;transition-property:opacity,background-color;transition-timing-function:linear;transition-duration:67ms}.disabled .track{background-color:rgba(0,0,0,0);border-color:rgba(0,0,0,0)}.disabled .track::before,.disabled .track::after{transition:none;opacity:var(--md-switch-disabled-track-opacity, 0.12)}.disabled .track::before{background-clip:content-box}.selected .track::before{background-color:var(--md-switch-selected-track-color, var(--md-sys-color-primary, #6750a4))}.selected:hover .track::before{background-color:var(--md-switch-selected-hover-track-color, var(--md-sys-color-primary, #6750a4))}.selected:focus-within .track::before{background-color:var(--md-switch-selected-focus-track-color, var(--md-sys-color-primary, #6750a4))}.selected:active .track::before{background-color:var(--md-switch-selected-pressed-track-color, var(--md-sys-color-primary, #6750a4))}.selected.disabled .track{background-clip:border-box}.selected.disabled .track::before{background-color:var(--md-switch-disabled-selected-track-color, var(--md-sys-color-on-surface, #1d1b20))}.unselected .track::before{background-color:var(--md-switch-track-color, var(--md-sys-color-surface-container-highest, #e6e0e9));border-color:var(--md-switch-track-outline-color, var(--md-sys-color-outline, #79747e));border-style:solid;border-width:var(--md-switch-track-outline-width, 2px)}.unselected:hover .track::before{background-color:var(--md-switch-hover-track-color, var(--md-sys-color-surface-container-highest, #e6e0e9));border-color:var(--md-switch-hover-track-outline-color, var(--md-sys-color-outline, #79747e))}.unselected:focus-visible .track::before{background-color:var(--md-switch-focus-track-color, var(--md-sys-color-surface-container-highest, #e6e0e9));border-color:var(--md-switch-focus-track-outline-color, var(--md-sys-color-outline, #79747e))}.unselected:active .track::before{background-color:var(--md-switch-pressed-track-color, var(--md-sys-color-surface-container-highest, #e6e0e9));border-color:var(--md-switch-pressed-track-outline-color, var(--md-sys-color-outline, #79747e))}.unselected.disabled .track::before{background-color:var(--md-switch-disabled-track-color, var(--md-sys-color-surface-container-highest, #e6e0e9));border-color:var(--md-switch-disabled-track-outline-color, var(--md-sys-color-on-surface, #1d1b20))}}@layer hcm{@media(forced-colors: active){.selected .track::before{background:ButtonText;border-color:ButtonText}.disabled .track::before{border-color:GrayText;opacity:1}.disabled.selected .track::before{background:GrayText}}}@layer styles{.handle-container{display:flex;place-content:center;place-items:center;position:relative;transition:margin 300ms cubic-bezier(0.175, 0.885, 0.32, 1.275)}.selected .handle-container{margin-inline-start:calc(var(--md-switch-track-width, 52px) - var(--md-switch-track-height, 32px))}.unselected .handle-container{margin-inline-end:calc(var(--md-switch-track-width, 52px) - var(--md-switch-track-height, 32px))}.disabled .handle-container{transition:none}.handle{border-start-start-radius:var(--md-switch-handle-shape-start-start, var(--md-switch-handle-shape, var(--md-sys-shape-corner-full, 9999px)));border-start-end-radius:var(--md-switch-handle-shape-start-end, var(--md-switch-handle-shape, var(--md-sys-shape-corner-full, 9999px)));border-end-end-radius:var(--md-switch-handle-shape-end-end, var(--md-switch-handle-shape, var(--md-sys-shape-corner-full, 9999px)));border-end-start-radius:var(--md-switch-handle-shape-end-start, var(--md-switch-handle-shape, var(--md-sys-shape-corner-full, 9999px)));height:var(--md-switch-handle-height, 16px);width:var(--md-switch-handle-width, 16px);transform-origin:center;transition-property:height,width;transition-duration:250ms,250ms;transition-timing-function:cubic-bezier(0.2, 0, 0, 1),cubic-bezier(0.2, 0, 0, 1);z-index:0}.handle::before{content:"";display:flex;inset:0;position:absolute;border-radius:inherit;box-sizing:border-box;transition:background-color 67ms linear}.disabled .handle,.disabled .handle::before{transition:none}.selected .handle{height:var(--md-switch-selected-handle-height, 24px);width:var(--md-switch-selected-handle-width, 24px)}.handle.with-icon{height:var(--md-switch-with-icon-handle-height, 24px);width:var(--md-switch-with-icon-handle-width, 24px)}.selected:not(.disabled):active .handle,.unselected:not(.disabled):active .handle{height:var(--md-switch-pressed-handle-height, 28px);width:var(--md-switch-pressed-handle-width, 28px);transition-timing-function:linear;transition-duration:100ms}.selected .handle::before{background-color:var(--md-switch-selected-handle-color, var(--md-sys-color-on-primary, #fff))}.selected:hover .handle::before{background-color:var(--md-switch-selected-hover-handle-color, var(--md-sys-color-primary-container, #eaddff))}.selected:focus-within .handle::before{background-color:var(--md-switch-selected-focus-handle-color, var(--md-sys-color-primary-container, #eaddff))}.selected:active .handle::before{background-color:var(--md-switch-selected-pressed-handle-color, var(--md-sys-color-primary-container, #eaddff))}.selected.disabled .handle::before{background-color:var(--md-switch-disabled-selected-handle-color, var(--md-sys-color-surface, #fef7ff));opacity:var(--md-switch-disabled-selected-handle-opacity, 1)}.unselected .handle::before{background-color:var(--md-switch-handle-color, var(--md-sys-color-outline, #79747e))}.unselected:hover .handle::before{background-color:var(--md-switch-hover-handle-color, var(--md-sys-color-on-surface-variant, #49454f))}.unselected:focus-within .handle::before{background-color:var(--md-switch-focus-handle-color, var(--md-sys-color-on-surface-variant, #49454f))}.unselected:active .handle::before{background-color:var(--md-switch-pressed-handle-color, var(--md-sys-color-on-surface-variant, #49454f))}.unselected.disabled .handle::before{background-color:var(--md-switch-disabled-handle-color, var(--md-sys-color-on-surface, #1d1b20));opacity:var(--md-switch-disabled-handle-opacity, 0.38)}md-ripple{border-radius:var(--md-switch-state-layer-shape, var(--md-sys-shape-corner-full, 9999px));height:var(--md-switch-state-layer-size, 40px);inset:unset;width:var(--md-switch-state-layer-size, 40px)}.selected md-ripple{--md-ripple-hover-color: var(--md-switch-selected-hover-state-layer-color, var(--md-sys-color-primary, #6750a4));--md-ripple-pressed-color: var(--md-switch-selected-pressed-state-layer-color, var(--md-sys-color-primary, #6750a4));--md-ripple-hover-opacity: var(--md-switch-selected-hover-state-layer-opacity, 0.08);--md-ripple-pressed-opacity: var(--md-switch-selected-pressed-state-layer-opacity, 0.12)}.unselected md-ripple{--md-ripple-hover-color: var(--md-switch-hover-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--md-ripple-pressed-color: var(--md-switch-pressed-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--md-ripple-hover-opacity: var(--md-switch-hover-state-layer-opacity, 0.08);--md-ripple-pressed-opacity: var(--md-switch-pressed-state-layer-opacity, 0.12)}}@layer hcm{@media(forced-colors: active){.unselected .handle::before{background:ButtonText}.disabled .handle::before{opacity:1}.disabled.unselected .handle::before{background:GrayText}}}@layer styles{.icons{position:relative;height:100%;width:100%}.icon{position:absolute;inset:0;margin:auto;display:flex;align-items:center;justify-content:center;fill:currentColor;transition:fill 67ms linear,opacity 33ms linear,transform 167ms cubic-bezier(0.2, 0, 0, 1);opacity:0}.disabled .icon{transition:none}.selected .icon--on,.unselected .icon--off{opacity:1}.unselected .handle:not(.with-icon) .icon--on{transform:rotate(-45deg)}.icon--off{width:var(--md-switch-icon-size, 16px);height:var(--md-switch-icon-size, 16px);color:var(--md-switch-icon-color, var(--md-sys-color-surface-container-highest, #e6e0e9))}.unselected:hover .icon--off{color:var(--md-switch-hover-icon-color, var(--md-sys-color-surface-container-highest, #e6e0e9))}.unselected:focus-within .icon--off{color:var(--md-switch-focus-icon-color, var(--md-sys-color-surface-container-highest, #e6e0e9))}.unselected:active .icon--off{color:var(--md-switch-pressed-icon-color, var(--md-sys-color-surface-container-highest, #e6e0e9))}.unselected.disabled .icon--off{color:var(--md-switch-disabled-icon-color, var(--md-sys-color-surface-container-highest, #e6e0e9));opacity:var(--md-switch-disabled-icon-opacity, 0.38)}.icon--on{width:var(--md-switch-selected-icon-size, 16px);height:var(--md-switch-selected-icon-size, 16px);color:var(--md-switch-selected-icon-color, var(--md-sys-color-on-primary-container, #21005d))}.selected:hover .icon--on{color:var(--md-switch-selected-hover-icon-color, var(--md-sys-color-on-primary-container, #21005d))}.selected:focus-within .icon--on{color:var(--md-switch-selected-focus-icon-color, var(--md-sys-color-on-primary-container, #21005d))}.selected:active .icon--on{color:var(--md-switch-selected-pressed-icon-color, var(--md-sys-color-on-primary-container, #21005d))}.selected.disabled .icon--on{color:var(--md-switch-disabled-selected-icon-color, var(--md-sys-color-on-surface, #1d1b20));opacity:var(--md-switch-disabled-selected-icon-opacity, 0.38)}}@layer hcm{@media(forced-colors: active){.icon--off{fill:Canvas}.icon--on{fill:ButtonText}.disabled.unselected .icon--off,.disabled.selected .icon--on{opacity:1}.disabled .icon--on{fill:GrayText}}}
`;let N_=class extends To{};N_.styles=[Kj];N_=$([Wt("md-switch")],N_);const Yj=({open:n,onClose:e,onSave:t,userRole:r,currentPreferences:a,currentNtfyTopic:o,allButtons:c})=>{const[d,f]=A.useState([]),[m,v]=A.useState("");A.useEffect(()=>{n&&(f(a),v(o||""))},[n,a,o]);const y=(L,O)=>{f(O?M=>[...M,L]:M=>M.filter(K=>K!==L))},E=()=>{const L=Xp[r]||[];f(L)},I=()=>{t(d,m),e()};return S.jsxs("md-dialog",{open:n||void 0,onClose:e,children:[S.jsx("div",{slot:"headline",children:"Notification Settings"}),S.jsxs("div",{slot:"content",className:"flex flex-col gap-4 min-w-[300px]",children:[S.jsxs("div",{className:"text-sm text-gray-400",children:["Enable or disable notifications for your role (",r,")."]}),S.jsxs("div",{className:"p-4 bg-[#2D2D2D] rounded-lg border border-[#444] flex flex-col gap-3",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("span",{className:"font-bold text-gray-300",children:"iOS Alerts (ntfy)"}),S.jsx("span",{className:"text-xs text-green-400 font-mono bg-green-900/30 px-2 py-1 rounded",children:"Active"})]}),S.jsx("div",{className:"text-xs text-gray-400 font-mono break-all p-2 bg-black/50 rounded select-all",children:m||"Loading..."}),m&&S.jsxs("a",{href:`ntfy://subscribe/${m}`,className:"flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg font-bold text-sm transition-colors text-center no-underline",children:[S.jsx("md-icon",{style:{fontSize:"18px"},children:"notifications_active"}),"Subscribe on iOS"]}),S.jsxs("div",{className:"flex flex-col items-center gap-1",children:[S.jsx("span",{className:"text-xs text-green-400 font-bold",children:"(It's free!)"}),S.jsxs("p",{className:"text-[10px] text-gray-500 text-center",children:["Requires the ",S.jsx("a",{href:"https://apps.apple.com/us/app/ntfy/id1625396347",target:"_blank",className:"text-blue-400 hover:underline",children:"ntfy app"})," installed."]})]})]}),S.jsx("md-list",{className:"bg-transparent max-h-[60vh] overflow-y-auto",children:c.map(L=>{const O=d.includes(L.id);return S.jsxs("md-list-item",{children:[S.jsx("div",{slot:"headline",children:L.label}),S.jsx("md-icon",{slot:"start",children:L.icon||"notifications"}),S.jsx("md-switch",{slot:"end",selected:O,onClick:()=>y(L.id,!O)})]},L.id)})})]}),S.jsxs("div",{slot:"actions",children:[S.jsx("md-text-button",{onClick:E,children:"Reset to Default"}),S.jsx("div",{className:"flex-1"}),S.jsx("md-text-button",{onClick:e,children:"Cancel"}),S.jsx("md-filled-button",{onClick:I,children:"Save"})]})]})},Qj=({open:n,onClose:e,barName:t,allButtons:r,hiddenButtonIds:a,onHideButton:o})=>{const[c,d]=A.useState(null),f=r.filter(y=>!a.includes(y.id)),m=y=>{d(y)},v=()=>{c&&(o(c),d(null))};return S.jsxs(S.Fragment,{children:[S.jsxs("md-dialog",{"data-testid":"bar-manager-dialog",open:n||void 0,onClose:e,style:{maxHeight:"80vh"},children:[S.jsxs("div",{slot:"headline",children:["Manage ",t]}),S.jsxs("div",{slot:"content",className:"flex flex-col gap-4 min-w-[300px]",children:[S.jsx("div",{className:"text-sm text-gray-400",children:"Manage active pager buttons. Hiding a button removes it from the main dashboard but keeps it in the database."}),S.jsx("div",{className:"border border-gray-800 rounded overflow-y-auto max-h-[50vh]",children:S.jsxs("md-list",{children:[f.map(y=>S.jsxs("md-list-item",{children:[S.jsx("div",{slot:"headline",children:y.label}),S.jsx("md-icon",{slot:"start",children:y.icon||"circle"}),S.jsx("md-icon-button",{slot:"end",onClick:()=>m(y.id),children:S.jsx("md-icon",{children:"close"})})]},y.id)),f.length===0&&S.jsx("div",{className:"p-4 text-center text-gray-500",children:"No active buttons."})]})})]}),S.jsx("div",{slot:"actions",children:S.jsx("md-text-button",{onClick:e,"data-testid":"bar-manager-close",children:"Close"})})]}),S.jsxs("md-dialog",{open:!!c||void 0,onClose:()=>d(null),children:[S.jsx("div",{slot:"headline",children:"Remove Button?"}),S.jsx("div",{slot:"content",children:"Are you sure you want to remove this button from the dashboard?"}),S.jsxs("div",{slot:"actions",children:[S.jsx("md-text-button",{onClick:()=>d(null),children:"Cancel"}),S.jsx("md-filled-button",{onClick:v,className:"btn-alert",children:"Remove"})]})]})]})},Wj=({open:n,mode:e,searchTerm:t,onSearchChange:r,onClose:a,onSelect:o,suggestions:c})=>{const d=t.toLowerCase(),f=c.filter(v=>v.toLowerCase().includes(d)),m=f.some(v=>v.toLowerCase()===d);return S.jsxs("md-dialog",{open:n||void 0,onClose:a,children:[S.jsxs("div",{slot:"headline",children:[e==="brand"&&"Select or Add Brand",e==="type"&&"Select or Add Type",e==="well"&&"Add Well"]}),S.jsxs("div",{slot:"content",className:"flex flex-col gap-4 min-w-[300px] h-[300px]",children:[S.jsx("md-filled-text-field",{label:e==="well"?"Well Name":"Search...",value:t,onInput:v=>r(v.target.value),style:{width:"100%"}}),e!=="well"?S.jsx("div",{className:"flex-1 overflow-y-auto border border-gray-800 rounded p-2",children:S.jsxs("md-list",{children:[f.map(v=>S.jsxs("md-list-item",{type:"button",onClick:()=>o(v),children:[S.jsx("div",{slot:"headline",children:v}),S.jsx("md-icon",{slot:"end",children:"arrow_forward"})]},v)),t&&!m&&S.jsxs("md-list-item",{type:"button",onClick:()=>o(t),children:[S.jsxs("div",{slot:"headline",className:"text-blue-400",children:['Create "',t,'"']}),S.jsx("md-icon",{slot:"end",className:"text-blue-400",children:"add_circle"})]})]})}):S.jsx("div",{className:"flex justify-center p-4",children:S.jsx("md-filled-button",{onClick:()=>o(t),children:"Save & Request"})})]}),S.jsx("div",{slot:"actions",children:S.jsx("md-text-button",{onClick:a,children:"Cancel"})})]})},Xj=({open:n,onClose:e,users:t})=>{const r=t.filter(o=>o.status==="active"||o.status===void 0),a=t.filter(o=>o.status==="off_clock");return S.jsxs("md-dialog",{open:n||void 0,onClose:e,children:[S.jsx("div",{slot:"headline",children:"Who's On"}),S.jsxs("div",{slot:"content",className:"flex flex-col gap-4 min-w-[300px]",children:[S.jsxs("div",{children:[S.jsxs("h3",{className:"text-green-400 font-bold text-sm uppercase tracking-wide mb-2",children:["Clocked In (",r.length,")"]}),S.jsx("div",{className:"border border-gray-800 rounded overflow-hidden",children:S.jsxs("md-list",{children:[r.map(o=>S.jsxs("md-list-item",{children:[S.jsx("div",{slot:"headline",className:"text-white",children:o.displayName||"Unknown"}),S.jsx("div",{slot:"supporting-text",className:"text-gray-400",children:o.role}),S.jsx("md-icon",{slot:"start",className:"text-green-500",children:"fiber_manual_record"})]},o.id)),r.length===0&&S.jsx("div",{className:"p-4 text-center text-gray-500",children:"No one is clocked in."})]})})]}),a.length>0&&S.jsxs("div",{children:[S.jsxs("h3",{className:"text-gray-500 font-bold text-sm uppercase tracking-wide mb-2",children:["Off Clock (",a.length,")"]}),S.jsx("div",{className:"border border-gray-800 rounded overflow-hidden bg-white/5",children:S.jsx("md-list",{children:a.map(o=>S.jsxs("md-list-item",{children:[S.jsx("div",{slot:"headline",className:"text-gray-300",children:o.displayName||"Unknown"}),S.jsx("div",{slot:"supporting-text",className:"text-gray-500",children:o.role}),S.jsx("md-icon",{slot:"start",className:"text-gray-600",children:"bedtime"})]},o.id))})})]})]}),S.jsx("div",{slot:"actions",children:S.jsx("md-text-button",{onClick:e,children:"Close"})})]})};function Jj(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return A.useMemo(()=>r=>{e.forEach(a=>a(r))},e)}const Rg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function yu(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function Aw(n){return"nodeType"in n}function Tr(n){var e,t;return n?yu(n)?n:Aw(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function Iw(n){const{Document:e}=Tr(n);return n instanceof e}function Bh(n){return yu(n)?!1:n instanceof Tr(n).HTMLElement}function rN(n){return n instanceof Tr(n).SVGElement}function bu(n){return n?yu(n)?n.document:Aw(n)?Iw(n)?n:Bh(n)||rN(n)?n.ownerDocument:document:document:document}const Bi=Rg?A.useLayoutEffect:A.useEffect;function Dg(n){const e=A.useRef(n);return Bi(()=>{e.current=n}),A.useCallback(function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e.current==null?void 0:e.current(...r)},[])}function Zj(){const n=A.useRef(null),e=A.useCallback((r,a)=>{n.current=setInterval(r,a)},[]),t=A.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function vh(n,e){e===void 0&&(e=[n]);const t=A.useRef(n);return Bi(()=>{t.current!==n&&(t.current=n)},e),t}function jh(n,e){const t=A.useRef();return A.useMemo(()=>{const r=n(t.current);return t.current=r,r},[...e])}function km(n){const e=Dg(n),t=A.useRef(null),r=A.useCallback(a=>{a!==t.current&&e?.(a,t.current),t.current=a},[]);return[t,r]}function Om(n){const e=A.useRef();return A.useEffect(()=>{e.current=n},[n]),e.current}let pb={};function $h(n,e){return A.useMemo(()=>{if(e)return e;const t=pb[n]==null?0:pb[n]+1;return pb[n]=t,n+"-"+t},[n,e])}function iN(n){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return r.reduce((o,c)=>{const d=Object.entries(c);for(const[f,m]of d){const v=o[f];v!=null&&(o[f]=v+n*m)}return o},{...e})}}const Lc=iN(1),Pm=iN(-1);function e$(n){return"clientX"in n&&"clientY"in n}function Ng(n){if(!n)return!1;const{KeyboardEvent:e}=Tr(n.target);return e&&n instanceof e}function t$(n){if(!n)return!1;const{TouchEvent:e}=Tr(n.target);return e&&n instanceof e}function Mm(n){if(t$(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return e$(n)?{x:n.clientX,y:n.clientY}:null}const ho=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[ho.Translate.toString(n),ho.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:r}=n;return e+" "+t+"ms "+r}}}),e1="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function n$(n){return n.matches(e1)?n:n.querySelector(e1)}const r$={display:"none"};function i$(n){let{id:e,value:t}=n;return Yt.createElement("div",{id:e,style:r$},t)}function s$(n){let{id:e,announcement:t,ariaLiveType:r="assertive"}=n;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Yt.createElement("div",{id:e,style:a,role:"status","aria-live":r,"aria-atomic":!0},t)}function a$(){const[n,e]=A.useState("");return{announce:A.useCallback(r=>{r!=null&&e(r)},[]),announcement:n}}const sN=A.createContext(null);function o$(n){const e=A.useContext(sN);A.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function l$(){const[n]=A.useState(()=>new Set),e=A.useCallback(r=>(n.add(r),()=>n.delete(r)),[n]);return[A.useCallback(r=>{let{type:a,event:o}=r;n.forEach(c=>{var d;return(d=c[a])==null?void 0:d.call(c,o)})},[n]),e]}const c$={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},u$={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function d$(n){let{announcements:e=u$,container:t,hiddenTextDescribedById:r,screenReaderInstructions:a=c$}=n;const{announce:o,announcement:c}=a$(),d=$h("DndLiveRegion"),[f,m]=A.useState(!1);if(A.useEffect(()=>{m(!0)},[]),o$(A.useMemo(()=>({onDragStart(y){let{active:E}=y;o(e.onDragStart({active:E}))},onDragMove(y){let{active:E,over:I}=y;e.onDragMove&&o(e.onDragMove({active:E,over:I}))},onDragOver(y){let{active:E,over:I}=y;o(e.onDragOver({active:E,over:I}))},onDragEnd(y){let{active:E,over:I}=y;o(e.onDragEnd({active:E,over:I}))},onDragCancel(y){let{active:E,over:I}=y;o(e.onDragCancel({active:E,over:I}))}}),[o,e])),!f)return null;const v=Yt.createElement(Yt.Fragment,null,Yt.createElement(i$,{id:r,value:a.draggable}),Yt.createElement(s$,{id:d,announcement:c}));return t?Ad.createPortal(v,t):v}var Rn;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(Rn||(Rn={}));function Vm(){}function t1(n,e){return A.useMemo(()=>({sensor:n,options:e??{}}),[n,e])}function h$(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return A.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const ji=Object.freeze({x:0,y:0});function f$(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function p$(n,e){const t=Mm(n);if(!t)return"0 0";const r={x:(t.x-e.left)/e.width*100,y:(t.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function m$(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return t-r}function g$(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return r-t}function v$(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}function n1(n,e,t){return e===void 0&&(e=n.left),t===void 0&&(t=n.top),{x:e+n.width*.5,y:t+n.height*.5}}const r1=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const a=n1(e,e.left,e.top),o=[];for(const c of r){const{id:d}=c,f=t.get(d);if(f){const m=f$(n1(f),a);o.push({id:d,data:{droppableContainer:c,value:m}})}}return o.sort(m$)};function y$(n,e){const t=Math.max(e.top,n.top),r=Math.max(e.left,n.left),a=Math.min(e.left+e.width,n.left+n.width),o=Math.min(e.top+e.height,n.top+n.height),c=a-r,d=o-t;if(r<a&&t<o){const f=e.width*e.height,m=n.width*n.height,v=c*d,y=v/(f+m-v);return Number(y.toFixed(4))}return 0}const b$=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const a=[];for(const o of r){const{id:c}=o,d=t.get(c);if(d){const f=y$(d,e);f>0&&a.push({id:c,data:{droppableContainer:o,value:f}})}}return a.sort(g$)};function _$(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function aN(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:ji}function w$(n){return function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return a.reduce((c,d)=>({...c,top:c.top+n*d.y,bottom:c.bottom+n*d.y,left:c.left+n*d.x,right:c.right+n*d.x}),{...t})}}const E$=w$(1);function oN(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function x$(n,e,t){const r=oN(e);if(!r)return n;const{scaleX:a,scaleY:o,x:c,y:d}=r,f=n.left-c-(1-a)*parseFloat(t),m=n.top-d-(1-o)*parseFloat(t.slice(t.indexOf(" ")+1)),v=a?n.width/a:n.width,y=o?n.height/o:n.height;return{width:v,height:y,top:m,right:f+v,bottom:m+y,left:f}}const T$={ignoreTransform:!1};function _u(n,e){e===void 0&&(e=T$);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:m,transformOrigin:v}=Tr(n).getComputedStyle(n);m&&(t=x$(t,m,v))}const{top:r,left:a,width:o,height:c,bottom:d,right:f}=t;return{top:r,left:a,width:o,height:c,bottom:d,right:f}}function i1(n){return _u(n,{ignoreTransform:!0})}function S$(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function A$(n,e){return e===void 0&&(e=Tr(n).getComputedStyle(n)),e.position==="fixed"}function I$(n,e){e===void 0&&(e=Tr(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const o=e[a];return typeof o=="string"?t.test(o):!1})}function Cw(n,e){const t=[];function r(a){if(e!=null&&t.length>=e||!a)return t;if(Iw(a)&&a.scrollingElement!=null&&!t.includes(a.scrollingElement))return t.push(a.scrollingElement),t;if(!Bh(a)||rN(a)||t.includes(a))return t;const o=Tr(n).getComputedStyle(a);return a!==n&&I$(a,o)&&t.push(a),A$(a,o)?t:r(a.parentNode)}return n?r(n):t}function lN(n){const[e]=Cw(n,1);return e??null}function mb(n){return!Rg||!n?null:yu(n)?n:Aw(n)?Iw(n)||n===bu(n).scrollingElement?window:Bh(n)?n:null:null}function cN(n){return yu(n)?n.scrollX:n.scrollLeft}function uN(n){return yu(n)?n.scrollY:n.scrollTop}function k_(n){return{x:cN(n),y:uN(n)}}var jn;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(jn||(jn={}));function dN(n){return!Rg||!n?!1:n===document.scrollingElement}function hN(n){const e={x:0,y:0},t=dN(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},r={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},a=n.scrollTop<=e.y,o=n.scrollLeft<=e.x,c=n.scrollTop>=r.y,d=n.scrollLeft>=r.x;return{isTop:a,isLeft:o,isBottom:c,isRight:d,maxScroll:r,minScroll:e}}const C$={x:.2,y:.2};function R$(n,e,t,r,a){let{top:o,left:c,right:d,bottom:f}=t;r===void 0&&(r=10),a===void 0&&(a=C$);const{isTop:m,isBottom:v,isLeft:y,isRight:E}=hN(n),I={x:0,y:0},L={x:0,y:0},O={height:e.height*a.y,width:e.width*a.x};return!m&&o<=e.top+O.height?(I.y=jn.Backward,L.y=r*Math.abs((e.top+O.height-o)/O.height)):!v&&f>=e.bottom-O.height&&(I.y=jn.Forward,L.y=r*Math.abs((e.bottom-O.height-f)/O.height)),!E&&d>=e.right-O.width?(I.x=jn.Forward,L.x=r*Math.abs((e.right-O.width-d)/O.width)):!y&&c<=e.left+O.width&&(I.x=jn.Backward,L.x=r*Math.abs((e.left+O.width-c)/O.width)),{direction:I,speed:L}}function D$(n){if(n===document.scrollingElement){const{innerWidth:o,innerHeight:c}=window;return{top:0,left:0,right:o,bottom:c,width:o,height:c}}const{top:e,left:t,right:r,bottom:a}=n.getBoundingClientRect();return{top:e,left:t,right:r,bottom:a,width:n.clientWidth,height:n.clientHeight}}function fN(n){return n.reduce((e,t)=>Lc(e,k_(t)),ji)}function N$(n){return n.reduce((e,t)=>e+cN(t),0)}function k$(n){return n.reduce((e,t)=>e+uN(t),0)}function pN(n,e){if(e===void 0&&(e=_u),!n)return;const{top:t,left:r,bottom:a,right:o}=e(n);lN(n)&&(a<=0||o<=0||t>=window.innerHeight||r>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const O$=[["x",["left","right"],N$],["y",["top","bottom"],k$]];class Rw{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Cw(t),a=fN(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,c,d]of O$)for(const f of c)Object.defineProperty(this,f,{get:()=>{const m=d(r),v=a[o]-m;return this.rect[f]+v},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Gd{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...t)})},this.target=e}add(e,t,r){var a;(a=this.target)==null||a.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function P$(n){const{EventTarget:e}=Tr(n);return n instanceof e?n:bu(n)}function gb(n,e){const t=Math.abs(n.x),r=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+r**2)>e:"x"in e&&"y"in e?t>e.x&&r>e.y:"x"in e?t>e.x:"y"in e?r>e.y:!1}var gi;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(gi||(gi={}));function s1(n){n.preventDefault()}function M$(n){n.stopPropagation()}var pt;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(pt||(pt={}));const mN={start:[pt.Space,pt.Enter],cancel:[pt.Esc],end:[pt.Space,pt.Enter,pt.Tab]},V$=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case pt.Right:return{...t,x:t.x+25};case pt.Left:return{...t,x:t.x-25};case pt.Down:return{...t,y:t.y+25};case pt.Up:return{...t,y:t.y-25}}};class gN{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Gd(bu(t)),this.windowListeners=new Gd(Tr(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(gi.Resize,this.handleCancel),this.windowListeners.add(gi.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(gi.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&pN(r),t(ji)}handleKeyDown(e){if(Ng(e)){const{active:t,context:r,options:a}=this.props,{keyboardCodes:o=mN,coordinateGetter:c=V$,scrollBehavior:d="smooth"}=a,{code:f}=e;if(o.end.includes(f)){this.handleEnd(e);return}if(o.cancel.includes(f)){this.handleCancel(e);return}const{collisionRect:m}=r.current,v=m?{x:m.left,y:m.top}:ji;this.referenceCoordinates||(this.referenceCoordinates=v);const y=c(e,{active:t,context:r.current,currentCoordinates:v});if(y){const E=Pm(y,v),I={x:0,y:0},{scrollableAncestors:L}=r.current;for(const O of L){const M=e.code,{isTop:K,isRight:F,isLeft:G,isBottom:le,maxScroll:se,minScroll:ue}=hN(O),R=D$(O),x={x:Math.min(M===pt.Right?R.right-R.width/2:R.right,Math.max(M===pt.Right?R.left:R.left+R.width/2,y.x)),y:Math.min(M===pt.Down?R.bottom-R.height/2:R.bottom,Math.max(M===pt.Down?R.top:R.top+R.height/2,y.y))},D=M===pt.Right&&!F||M===pt.Left&&!G,P=M===pt.Down&&!le||M===pt.Up&&!K;if(D&&x.x!==y.x){const k=O.scrollLeft+E.x,z=M===pt.Right&&k<=se.x||M===pt.Left&&k>=ue.x;if(z&&!E.y){O.scrollTo({left:k,behavior:d});return}z?I.x=O.scrollLeft-k:I.x=M===pt.Right?O.scrollLeft-se.x:O.scrollLeft-ue.x,I.x&&O.scrollBy({left:-I.x,behavior:d});break}else if(P&&x.y!==y.y){const k=O.scrollTop+E.y,z=M===pt.Down&&k<=se.y||M===pt.Up&&k>=ue.y;if(z&&!E.x){O.scrollTo({top:k,behavior:d});return}z?I.y=O.scrollTop-k:I.y=M===pt.Down?O.scrollTop-se.y:O.scrollTop-ue.y,I.y&&O.scrollBy({top:-I.y,behavior:d});break}}this.handleMove(e,Lc(Pm(y,this.referenceCoordinates),I))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}gN.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:r=mN,onActivation:a}=e,{active:o}=t;const{code:c}=n.nativeEvent;if(r.start.includes(c)){const d=o.activatorNode.current;return d&&n.target!==d?!1:(n.preventDefault(),a?.({event:n.nativeEvent}),!0)}return!1}}];function a1(n){return!!(n&&"distance"in n)}function o1(n){return!!(n&&"delay"in n)}class Dw{constructor(e,t,r){var a;r===void 0&&(r=P$(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:c}=o;this.props=e,this.events=t,this.document=bu(c),this.documentListeners=new Gd(this.document),this.listeners=new Gd(r),this.windowListeners=new Gd(Tr(c)),this.initialCoordinates=(a=Mm(o))!=null?a:ji,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(gi.Resize,this.handleCancel),this.windowListeners.add(gi.DragStart,s1),this.windowListeners.add(gi.VisibilityChange,this.handleCancel),this.windowListeners.add(gi.ContextMenu,s1),this.documentListeners.add(gi.Keydown,this.handleKeydown),t){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(o1(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(a1(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:r,onPending:a}=this.props;a(r,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(gi.Click,M$,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(gi.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:a,props:o}=this,{onMove:c,options:{activationConstraint:d}}=o;if(!a)return;const f=(t=Mm(e))!=null?t:ji,m=Pm(a,f);if(!r&&d){if(a1(d)){if(d.tolerance!=null&&gb(m,d.tolerance))return this.handleCancel();if(gb(m,d.distance))return this.handleStart()}if(o1(d)&&gb(m,d.tolerance))return this.handleCancel();this.handlePending(d,m);return}e.cancelable&&e.preventDefault(),c(f)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===pt.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const L$={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class vN extends Dw{constructor(e){const{event:t}=e,r=bu(t.target);super(e,L$,r)}}vN.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return!t.isPrimary||t.button!==0?!1:(r?.({event:t}),!0)}}];const U$={move:{name:"mousemove"},end:{name:"mouseup"}};var O_;(function(n){n[n.RightClick=2]="RightClick"})(O_||(O_={}));class yN extends Dw{constructor(e){super(e,U$,bu(e.event.target))}}yN.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return t.button===O_.RightClick?!1:(r?.({event:t}),!0)}}];const vb={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class bN extends Dw{constructor(e){super(e,vb)}static setup(){return window.addEventListener(vb.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(vb.move.name,e)};function e(){}}}bN.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;const{touches:a}=t;return a.length>1?!1:(r?.({event:t}),!0)}}];var Kd;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(Kd||(Kd={}));var Lm;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(Lm||(Lm={}));function z$(n){let{acceleration:e,activator:t=Kd.Pointer,canScroll:r,draggingRect:a,enabled:o,interval:c=5,order:d=Lm.TreeOrder,pointerCoordinates:f,scrollableAncestors:m,scrollableAncestorRects:v,delta:y,threshold:E}=n;const I=j$({delta:y,disabled:!o}),[L,O]=Zj(),M=A.useRef({x:0,y:0}),K=A.useRef({x:0,y:0}),F=A.useMemo(()=>{switch(t){case Kd.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case Kd.DraggableRect:return a}},[t,a,f]),G=A.useRef(null),le=A.useCallback(()=>{const ue=G.current;if(!ue)return;const R=M.current.x*K.current.x,x=M.current.y*K.current.y;ue.scrollBy(R,x)},[]),se=A.useMemo(()=>d===Lm.TreeOrder?[...m].reverse():m,[d,m]);A.useEffect(()=>{if(!o||!m.length||!F){O();return}for(const ue of se){if(r?.(ue)===!1)continue;const R=m.indexOf(ue),x=v[R];if(!x)continue;const{direction:D,speed:P}=R$(ue,x,F,e,E);for(const k of["x","y"])I[k][D[k]]||(P[k]=0,D[k]=0);if(P.x>0||P.y>0){O(),G.current=ue,L(le,c),M.current=P,K.current=D;return}}M.current={x:0,y:0},K.current={x:0,y:0},O()},[e,le,r,O,o,c,JSON.stringify(F),JSON.stringify(I),L,m,se,v,JSON.stringify(E)])}const B$={x:{[jn.Backward]:!1,[jn.Forward]:!1},y:{[jn.Backward]:!1,[jn.Forward]:!1}};function j$(n){let{delta:e,disabled:t}=n;const r=Om(e);return jh(a=>{if(t||!r||!a)return B$;const o={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[jn.Backward]:a.x[jn.Backward]||o.x===-1,[jn.Forward]:a.x[jn.Forward]||o.x===1},y:{[jn.Backward]:a.y[jn.Backward]||o.y===-1,[jn.Forward]:a.y[jn.Forward]||o.y===1}}},[t,e,r])}function $$(n,e){const t=e!=null?n.get(e):void 0,r=t?t.node.current:null;return jh(a=>{var o;return e==null?null:(o=r??a)!=null?o:null},[r,e])}function F$(n,e){return A.useMemo(()=>n.reduce((t,r)=>{const{sensor:a}=r,o=a.activators.map(c=>({eventName:c.eventName,handler:e(c.handler,r)}));return[...t,...o]},[]),[n,e])}var yh;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(yh||(yh={}));var P_;(function(n){n.Optimized="optimized"})(P_||(P_={}));const l1=new Map;function q$(n,e){let{dragging:t,dependencies:r,config:a}=e;const[o,c]=A.useState(null),{frequency:d,measure:f,strategy:m}=a,v=A.useRef(n),y=M(),E=vh(y),I=A.useCallback(function(K){K===void 0&&(K=[]),!E.current&&c(F=>F===null?K:F.concat(K.filter(G=>!F.includes(G))))},[E]),L=A.useRef(null),O=jh(K=>{if(y&&!t)return l1;if(!K||K===l1||v.current!==n||o!=null){const F=new Map;for(let G of n){if(!G)continue;if(o&&o.length>0&&!o.includes(G.id)&&G.rect.current){F.set(G.id,G.rect.current);continue}const le=G.node.current,se=le?new Rw(f(le),le):null;G.rect.current=se,se&&F.set(G.id,se)}return F}return K},[n,o,t,y,f]);return A.useEffect(()=>{v.current=n},[n]),A.useEffect(()=>{y||I()},[t,y]),A.useEffect(()=>{o&&o.length>0&&c(null)},[JSON.stringify(o)]),A.useEffect(()=>{y||typeof d!="number"||L.current!==null||(L.current=setTimeout(()=>{I(),L.current=null},d))},[d,y,I,...r]),{droppableRects:O,measureDroppableContainers:I,measuringScheduled:o!=null};function M(){switch(m){case yh.Always:return!1;case yh.BeforeDragging:return t;default:return!t}}}function Nw(n,e){return jh(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function H$(n,e){return Nw(n,e)}function G$(n){let{callback:e,disabled:t}=n;const r=Dg(e),a=A.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,t]);return A.useEffect(()=>()=>a?.disconnect(),[a]),a}function kg(n){let{callback:e,disabled:t}=n;const r=Dg(e),a=A.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[t]);return A.useEffect(()=>()=>a?.disconnect(),[a]),a}function K$(n){return new Rw(_u(n),n)}function c1(n,e,t){e===void 0&&(e=K$);const[r,a]=A.useState(null);function o(){a(f=>{if(!n)return null;if(n.isConnected===!1){var m;return(m=f??t)!=null?m:null}const v=e(n);return JSON.stringify(f)===JSON.stringify(v)?f:v})}const c=G$({callback(f){if(n)for(const m of f){const{type:v,target:y}=m;if(v==="childList"&&y instanceof HTMLElement&&y.contains(n)){o();break}}}}),d=kg({callback:o});return Bi(()=>{o(),n?(d?.observe(n),c?.observe(document.body,{childList:!0,subtree:!0})):(d?.disconnect(),c?.disconnect())},[n]),r}function Y$(n){const e=Nw(n);return aN(n,e)}const u1=[];function Q$(n){const e=A.useRef(n),t=jh(r=>n?r&&r!==u1&&n&&e.current&&n.parentNode===e.current.parentNode?r:Cw(n):u1,[n]);return A.useEffect(()=>{e.current=n},[n]),t}function W$(n){const[e,t]=A.useState(null),r=A.useRef(n),a=A.useCallback(o=>{const c=mb(o.target);c&&t(d=>d?(d.set(c,k_(c)),new Map(d)):null)},[]);return A.useEffect(()=>{const o=r.current;if(n!==o){c(o);const d=n.map(f=>{const m=mb(f);return m?(m.addEventListener("scroll",a,{passive:!0}),[m,k_(m)]):null}).filter(f=>f!=null);t(d.length?new Map(d):null),r.current=n}return()=>{c(n),c(o)};function c(d){d.forEach(f=>{const m=mb(f);m?.removeEventListener("scroll",a)})}},[a,n]),A.useMemo(()=>n.length?e?Array.from(e.values()).reduce((o,c)=>Lc(o,c),ji):fN(n):ji,[n,e])}function d1(n,e){e===void 0&&(e=[]);const t=A.useRef(null);return A.useEffect(()=>{t.current=null},e),A.useEffect(()=>{const r=n!==ji;r&&!t.current&&(t.current=n),!r&&t.current&&(t.current=null)},[n]),t.current?Pm(n,t.current):ji}function X$(n){A.useEffect(()=>{if(!Rg)return;const e=n.map(t=>{let{sensor:r}=t;return r.setup==null?void 0:r.setup()});return()=>{for(const t of e)t?.()}},n.map(e=>{let{sensor:t}=e;return t}))}function J$(n,e){return A.useMemo(()=>n.reduce((t,r)=>{let{eventName:a,handler:o}=r;return t[a]=c=>{o(c,e)},t},{}),[n,e])}function _N(n){return A.useMemo(()=>n?S$(n):null,[n])}const h1=[];function Z$(n,e){e===void 0&&(e=_u);const[t]=n,r=_N(t?Tr(t):null),[a,o]=A.useState(h1);function c(){o(()=>n.length?n.map(f=>dN(f)?r:new Rw(e(f),f)):h1)}const d=kg({callback:c});return Bi(()=>{d?.disconnect(),c(),n.forEach(f=>d?.observe(f))},[n]),a}function wN(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return Bh(e)?e:n}function eF(n){let{measure:e}=n;const[t,r]=A.useState(null),a=A.useCallback(m=>{for(const{target:v}of m)if(Bh(v)){r(y=>{const E=e(v);return y?{...y,width:E.width,height:E.height}:E});break}},[e]),o=kg({callback:a}),c=A.useCallback(m=>{const v=wN(m);o?.disconnect(),v&&o?.observe(v),r(v?e(v):null)},[e,o]),[d,f]=km(c);return A.useMemo(()=>({nodeRef:d,rect:t,setRef:f}),[t,d,f])}const tF=[{sensor:vN,options:{}},{sensor:gN,options:{}}],nF={current:{}},Jp={draggable:{measure:i1},droppable:{measure:i1,strategy:yh.WhileDragging,frequency:P_.Optimized},dragOverlay:{measure:_u}};class Yd extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return(t=(r=this.get(e))==null?void 0:r.node.current)!=null?t:void 0}}const rF={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Yd,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Vm},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Jp,measureDroppableContainers:Vm,windowRect:null,measuringScheduled:!1},EN={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Vm,draggableNodes:new Map,over:null,measureDroppableContainers:Vm},Fh=A.createContext(EN),xN=A.createContext(rF);function iF(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Yd}}}function sF(n,e){switch(e.type){case Rn.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Rn.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case Rn.DragEnd:case Rn.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Rn.RegisterDroppable:{const{element:t}=e,{id:r}=t,a=new Yd(n.droppable.containers);return a.set(r,t),{...n,droppable:{...n.droppable,containers:a}}}case Rn.SetDroppableDisabled:{const{id:t,key:r,disabled:a}=e,o=n.droppable.containers.get(t);if(!o||r!==o.key)return n;const c=new Yd(n.droppable.containers);return c.set(t,{...o,disabled:a}),{...n,droppable:{...n.droppable,containers:c}}}case Rn.UnregisterDroppable:{const{id:t,key:r}=e,a=n.droppable.containers.get(t);if(!a||r!==a.key)return n;const o=new Yd(n.droppable.containers);return o.delete(t),{...n,droppable:{...n.droppable,containers:o}}}default:return n}}function aF(n){let{disabled:e}=n;const{active:t,activatorEvent:r,draggableNodes:a}=A.useContext(Fh),o=Om(r),c=Om(t?.id);return A.useEffect(()=>{if(!e&&!r&&o&&c!=null){if(!Ng(o)||document.activeElement===o.target)return;const d=a.get(c);if(!d)return;const{activatorNode:f,node:m}=d;if(!f.current&&!m.current)return;requestAnimationFrame(()=>{for(const v of[f.current,m.current]){if(!v)continue;const y=n$(v);if(y){y.focus();break}}})}},[r,e,a,c,o]),null}function TN(n,e){let{transform:t,...r}=e;return n!=null&&n.length?n.reduce((a,o)=>o({transform:a,...r}),t):t}function oF(n){return A.useMemo(()=>({draggable:{...Jp.draggable,...n?.draggable},droppable:{...Jp.droppable,...n?.droppable},dragOverlay:{...Jp.dragOverlay,...n?.dragOverlay}}),[n?.draggable,n?.droppable,n?.dragOverlay])}function lF(n){let{activeNode:e,measure:t,initialRect:r,config:a=!0}=n;const o=A.useRef(!1),{x:c,y:d}=typeof a=="boolean"?{x:a,y:a}:a;Bi(()=>{if(!c&&!d||!e){o.current=!1;return}if(o.current||!r)return;const m=e?.node.current;if(!m||m.isConnected===!1)return;const v=t(m),y=aN(v,r);if(c||(y.x=0),d||(y.y=0),o.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const E=lN(m);E&&E.scrollBy({top:y.y,left:y.x})}},[e,c,d,r,t])}const Og=A.createContext({...ji,scaleX:1,scaleY:1});var Ya;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(Ya||(Ya={}));const f1=A.memo(function(e){var t,r,a,o;let{id:c,accessibility:d,autoScroll:f=!0,children:m,sensors:v=tF,collisionDetection:y=b$,measuring:E,modifiers:I,...L}=e;const O=A.useReducer(sF,void 0,iF),[M,K]=O,[F,G]=l$(),[le,se]=A.useState(Ya.Uninitialized),ue=le===Ya.Initialized,{draggable:{active:R,nodes:x,translate:D},droppable:{containers:P}}=M,k=R!=null?x.get(R):null,z=A.useRef({initial:null,translated:null}),N=A.useMemo(()=>{var Ge;return R!=null?{id:R,data:(Ge=k?.data)!=null?Ge:nF,rect:z}:null},[R,k]),Re=A.useRef(null),[je,Z]=A.useState(null),[de,_e]=A.useState(null),Ve=vh(L,Object.values(L)),We=$h("DndDescribedBy",c),B=A.useMemo(()=>P.getEnabled(),[P]),ne=oF(E),{droppableRects:me,measureDroppableContainers:ye,measuringScheduled:De}=q$(B,{dragging:ue,dependencies:[D.x,D.y],config:ne.droppable}),Ce=$$(x,R),$e=A.useMemo(()=>de?Mm(de):null,[de]),He=Ti(),Me=H$(Ce,ne.draggable.measure);lF({activeNode:R!=null?x.get(R):null,config:He.layoutShiftCompensation,initialRect:Me,measure:ne.draggable.measure});const Fe=c1(Ce,ne.draggable.measure,Me),Tn=c1(Ce?Ce.parentElement:null),at=A.useRef({activatorEvent:null,active:null,activeNode:Ce,collisionRect:null,collisions:null,droppableRects:me,draggableNodes:x,draggingNode:null,draggingNodeRect:null,droppableContainers:P,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ot=P.getNodeFor((t=at.current.over)==null?void 0:t.id),Pt=eF({measure:ne.dragOverlay.measure}),pr=(r=Pt.nodeRef.current)!=null?r:Ce,Zn=ue?(a=Pt.rect)!=null?a:Fe:null,Mr=!!(Pt.nodeRef.current&&Pt.rect),Fi=Y$(Mr?null:Fe),Ct=_N(pr?Tr(pr):null),mt=Q$(ue?Ot??Ce:null),On=Z$(mt),qi=TN(I,{transform:{x:D.x-Fi.x,y:D.y-Fi.y,scaleX:1,scaleY:1},activatorEvent:de,active:N,activeNodeRect:Fe,containerNodeRect:Tn,draggingNodeRect:Zn,over:at.current.over,overlayNodeRect:Pt.rect,scrollableAncestors:mt,scrollableAncestorRects:On,windowRect:Ct}),mr=$e?Lc($e,D):null,Xt=W$(mt),Zr=d1(Xt),Vr=d1(Xt,[Fe]),Sr=Lc(qi,Zr),Sn=Zn?E$(Zn,qi):null,xi=N&&Sn?y({active:N,collisionRect:Sn,droppableRects:me,droppableContainers:B,pointerCoordinates:mr}):null,ps=v$(xi,"id"),[Pn,Hi]=A.useState(null),er=Mr?qi:Lc(qi,Vr),Jt=_$(er,(o=Pn?.rect)!=null?o:null,Fe),An=A.useRef(null),gt=A.useCallback((Ge,Rt)=>{let{sensor:Et,options:Dt}=Rt;if(Re.current==null)return;const Mn=x.get(Re.current);if(!Mn)return;const pn=Ge.nativeEvent,Gt=new Et({active:Re.current,activeNode:Mn,event:pn,options:Dt,context:at,onAbort(Kt){if(!x.get(Kt))return;const{onDragAbort:In}=Ve.current,Fn={id:Kt};In?.(Fn),F({type:"onDragAbort",event:Fn})},onPending(Kt,Vn,In,Fn){if(!x.get(Kt))return;const{onDragPending:Ln}=Ve.current,rr={id:Kt,constraint:Vn,initialCoordinates:In,offset:Fn};Ln?.(rr),F({type:"onDragPending",event:rr})},onStart(Kt){const Vn=Re.current;if(Vn==null)return;const In=x.get(Vn);if(!In)return;const{onDragStart:Fn}=Ve.current,nr={activatorEvent:pn,active:{id:Vn,data:In.data,rect:z}};Ad.unstable_batchedUpdates(()=>{Fn?.(nr),se(Ya.Initializing),K({type:Rn.DragStart,initialCoordinates:Kt,active:Vn}),F({type:"onDragStart",event:nr}),Z(An.current),_e(pn)})},onMove(Kt){K({type:Rn.DragMove,coordinates:Kt})},onEnd:tr(Rn.DragEnd),onCancel:tr(Rn.DragCancel)});An.current=Gt;function tr(Kt){return async function(){const{active:In,collisions:Fn,over:nr,scrollAdjustedTranslate:Ln}=at.current;let rr=null;if(In&&Ln){const{cancelDrop:mn}=Ve.current;rr={activatorEvent:pn,active:In,collisions:Fn,delta:Ln,over:nr},Kt===Rn.DragEnd&&typeof mn=="function"&&await Promise.resolve(mn(rr))&&(Kt=Rn.DragCancel)}Re.current=null,Ad.unstable_batchedUpdates(()=>{K({type:Kt}),se(Ya.Uninitialized),Hi(null),Z(null),_e(null),An.current=null;const mn=Kt===Rn.DragEnd?"onDragEnd":"onDragCancel";if(rr){const Un=Ve.current[mn];Un?.(rr),F({type:mn,event:rr})}})}}},[x]),ms=A.useCallback((Ge,Rt)=>(Et,Dt)=>{const Mn=Et.nativeEvent,pn=x.get(Dt);if(Re.current!==null||!pn||Mn.dndKit||Mn.defaultPrevented)return;const Gt={active:pn};Ge(Et,Rt.options,Gt)===!0&&(Mn.dndKit={capturedBy:Rt.sensor},Re.current=Dt,gt(Et,Rt))},[x,gt]),ei=F$(v,ms);X$(v),Bi(()=>{Fe&&le===Ya.Initializing&&se(Ya.Initialized)},[Fe,le]),A.useEffect(()=>{const{onDragMove:Ge}=Ve.current,{active:Rt,activatorEvent:Et,collisions:Dt,over:Mn}=at.current;if(!Rt||!Et)return;const pn={active:Rt,activatorEvent:Et,collisions:Dt,delta:{x:Sr.x,y:Sr.y},over:Mn};Ad.unstable_batchedUpdates(()=>{Ge?.(pn),F({type:"onDragMove",event:pn})})},[Sr.x,Sr.y]),A.useEffect(()=>{const{active:Ge,activatorEvent:Rt,collisions:Et,droppableContainers:Dt,scrollAdjustedTranslate:Mn}=at.current;if(!Ge||Re.current==null||!Rt||!Mn)return;const{onDragOver:pn}=Ve.current,Gt=Dt.get(ps),tr=Gt&&Gt.rect.current?{id:Gt.id,rect:Gt.rect.current,data:Gt.data,disabled:Gt.disabled}:null,Kt={active:Ge,activatorEvent:Rt,collisions:Et,delta:{x:Mn.x,y:Mn.y},over:tr};Ad.unstable_batchedUpdates(()=>{Hi(tr),pn?.(Kt),F({type:"onDragOver",event:Kt})})},[ps]),Bi(()=>{at.current={activatorEvent:de,active:N,activeNode:Ce,collisionRect:Sn,collisions:xi,droppableRects:me,draggableNodes:x,draggingNode:pr,draggingNodeRect:Zn,droppableContainers:P,over:Pn,scrollableAncestors:mt,scrollAdjustedTranslate:Sr},z.current={initial:Zn,translated:Sn}},[N,Ce,xi,Sn,x,pr,Zn,me,P,Pn,mt,Sr]),z$({...He,delta:D,draggingRect:Sn,pointerCoordinates:mr,scrollableAncestors:mt,scrollableAncestorRects:On});const gs=A.useMemo(()=>({active:N,activeNode:Ce,activeNodeRect:Fe,activatorEvent:de,collisions:xi,containerNodeRect:Tn,dragOverlay:Pt,draggableNodes:x,droppableContainers:P,droppableRects:me,over:Pn,measureDroppableContainers:ye,scrollableAncestors:mt,scrollableAncestorRects:On,measuringConfiguration:ne,measuringScheduled:De,windowRect:Ct}),[N,Ce,Fe,de,xi,Tn,Pt,x,P,me,Pn,ye,mt,On,ne,De,Ct]),gr=A.useMemo(()=>({activatorEvent:de,activators:ei,active:N,activeNodeRect:Fe,ariaDescribedById:{draggable:We},dispatch:K,draggableNodes:x,over:Pn,measureDroppableContainers:ye}),[de,ei,N,Fe,K,We,x,Pn,ye]);return Yt.createElement(sN.Provider,{value:G},Yt.createElement(Fh.Provider,{value:gr},Yt.createElement(xN.Provider,{value:gs},Yt.createElement(Og.Provider,{value:Jt},m)),Yt.createElement(aF,{disabled:d?.restoreFocus===!1})),Yt.createElement(d$,{...d,hiddenTextDescribedById:We}));function Ti(){const Ge=je?.autoScrollEnabled===!1,Rt=typeof f=="object"?f.enabled===!1:f===!1,Et=ue&&!Ge&&!Rt;return typeof f=="object"?{...f,enabled:Et}:{enabled:Et}}}),cF=A.createContext(null),p1="button",uF="Draggable";function dF(n){let{id:e,data:t,disabled:r=!1,attributes:a}=n;const o=$h(uF),{activators:c,activatorEvent:d,active:f,activeNodeRect:m,ariaDescribedById:v,draggableNodes:y,over:E}=A.useContext(Fh),{role:I=p1,roleDescription:L="draggable",tabIndex:O=0}=a??{},M=f?.id===e,K=A.useContext(M?Og:cF),[F,G]=km(),[le,se]=km(),ue=J$(c,e),R=vh(t);Bi(()=>(y.set(e,{id:e,key:o,node:F,activatorNode:le,data:R}),()=>{const D=y.get(e);D&&D.key===o&&y.delete(e)}),[y,e]);const x=A.useMemo(()=>({role:I,tabIndex:O,"aria-disabled":r,"aria-pressed":M&&I===p1?!0:void 0,"aria-roledescription":L,"aria-describedby":v.draggable}),[r,I,O,M,L,v.draggable]);return{active:f,activatorEvent:d,activeNodeRect:m,attributes:x,isDragging:M,listeners:r?void 0:ue,node:F,over:E,setNodeRef:G,setActivatorNodeRef:se,transform:K}}function SN(){return A.useContext(xN)}const hF="Droppable",fF={timeout:25};function pF(n){let{data:e,disabled:t=!1,id:r,resizeObserverConfig:a}=n;const o=$h(hF),{active:c,dispatch:d,over:f,measureDroppableContainers:m}=A.useContext(Fh),v=A.useRef({disabled:t}),y=A.useRef(!1),E=A.useRef(null),I=A.useRef(null),{disabled:L,updateMeasurementsFor:O,timeout:M}={...fF,...a},K=vh(O??r),F=A.useCallback(()=>{if(!y.current){y.current=!0;return}I.current!=null&&clearTimeout(I.current),I.current=setTimeout(()=>{m(Array.isArray(K.current)?K.current:[K.current]),I.current=null},M)},[M]),G=kg({callback:F,disabled:L||!c}),le=A.useCallback((x,D)=>{G&&(D&&(G.unobserve(D),y.current=!1),x&&G.observe(x))},[G]),[se,ue]=km(le),R=vh(e);return A.useEffect(()=>{!G||!se.current||(G.disconnect(),y.current=!1,G.observe(se.current))},[se,G]),A.useEffect(()=>(d({type:Rn.RegisterDroppable,element:{id:r,key:o,disabled:t,node:se,rect:E,data:R}}),()=>d({type:Rn.UnregisterDroppable,key:o,id:r})),[r]),A.useEffect(()=>{t!==v.current.disabled&&(d({type:Rn.SetDroppableDisabled,id:r,key:o,disabled:t}),v.current.disabled=t)},[r,o,t,d]),{active:c,rect:E,isOver:f?.id===r,node:se,over:f,setNodeRef:ue}}function mF(n){let{animation:e,children:t}=n;const[r,a]=A.useState(null),[o,c]=A.useState(null),d=Om(t);return!t&&!r&&d&&a(d),Bi(()=>{if(!o)return;const f=r?.key,m=r?.props.id;if(f==null||m==null){a(null);return}Promise.resolve(e(m,o)).then(()=>{a(null)})},[e,r,o]),Yt.createElement(Yt.Fragment,null,t,r?A.cloneElement(r,{ref:c}):null)}const gF={x:0,y:0,scaleX:1,scaleY:1};function vF(n){let{children:e}=n;return Yt.createElement(Fh.Provider,{value:EN},Yt.createElement(Og.Provider,{value:gF},e))}const yF={position:"fixed",touchAction:"none"},bF=n=>Ng(n)?"transform 250ms ease":void 0,_F=A.forwardRef((n,e)=>{let{as:t,activatorEvent:r,adjustScale:a,children:o,className:c,rect:d,style:f,transform:m,transition:v=bF}=n;if(!d)return null;const y=a?m:{...m,scaleX:1,scaleY:1},E={...yF,width:d.width,height:d.height,top:d.top,left:d.left,transform:ho.Transform.toString(y),transformOrigin:a&&r?p$(r,d):void 0,transition:typeof v=="function"?v(r):v,...f};return Yt.createElement(t,{className:c,style:E,ref:e},o)}),wF=n=>e=>{let{active:t,dragOverlay:r}=e;const a={},{styles:o,className:c}=n;if(o!=null&&o.active)for(const[d,f]of Object.entries(o.active))f!==void 0&&(a[d]=t.node.style.getPropertyValue(d),t.node.style.setProperty(d,f));if(o!=null&&o.dragOverlay)for(const[d,f]of Object.entries(o.dragOverlay))f!==void 0&&r.node.style.setProperty(d,f);return c!=null&&c.active&&t.node.classList.add(c.active),c!=null&&c.dragOverlay&&r.node.classList.add(c.dragOverlay),function(){for(const[f,m]of Object.entries(a))t.node.style.setProperty(f,m);c!=null&&c.active&&t.node.classList.remove(c.active)}},EF=n=>{let{transform:{initial:e,final:t}}=n;return[{transform:ho.Transform.toString(e)},{transform:ho.Transform.toString(t)}]},xF={duration:250,easing:"ease",keyframes:EF,sideEffects:wF({styles:{active:{opacity:"0"}}})};function TF(n){let{config:e,draggableNodes:t,droppableContainers:r,measuringConfiguration:a}=n;return Dg((o,c)=>{if(e===null)return;const d=t.get(o);if(!d)return;const f=d.node.current;if(!f)return;const m=wN(c);if(!m)return;const{transform:v}=Tr(c).getComputedStyle(c),y=oN(v);if(!y)return;const E=typeof e=="function"?e:SF(e);return pN(f,a.draggable.measure),E({active:{id:o,data:d.data,node:f,rect:a.draggable.measure(f)},draggableNodes:t,dragOverlay:{node:c,rect:a.dragOverlay.measure(m)},droppableContainers:r,measuringConfiguration:a,transform:y})})}function SF(n){const{duration:e,easing:t,sideEffects:r,keyframes:a}={...xF,...n};return o=>{let{active:c,dragOverlay:d,transform:f,...m}=o;if(!e)return;const v={x:d.rect.left-c.rect.left,y:d.rect.top-c.rect.top},y={scaleX:f.scaleX!==1?c.rect.width*f.scaleX/d.rect.width:1,scaleY:f.scaleY!==1?c.rect.height*f.scaleY/d.rect.height:1},E={x:f.x-v.x,y:f.y-v.y,...y},I=a({...m,active:c,dragOverlay:d,transform:{initial:f,final:E}}),[L]=I,O=I[I.length-1];if(JSON.stringify(L)===JSON.stringify(O))return;const M=r?.({active:c,dragOverlay:d,...m}),K=d.node.animate(I,{duration:e,easing:t,fill:"forwards"});return new Promise(F=>{K.onfinish=()=>{M?.(),F()}})}}let m1=0;function AF(n){return A.useMemo(()=>{if(n!=null)return m1++,m1},[n])}const g1=Yt.memo(n=>{let{adjustScale:e=!1,children:t,dropAnimation:r,style:a,transition:o,modifiers:c,wrapperElement:d="div",className:f,zIndex:m=999}=n;const{activatorEvent:v,active:y,activeNodeRect:E,containerNodeRect:I,draggableNodes:L,droppableContainers:O,dragOverlay:M,over:K,measuringConfiguration:F,scrollableAncestors:G,scrollableAncestorRects:le,windowRect:se}=SN(),ue=A.useContext(Og),R=AF(y?.id),x=TN(c,{activatorEvent:v,active:y,activeNodeRect:E,containerNodeRect:I,draggingNodeRect:M.rect,over:K,overlayNodeRect:M.rect,scrollableAncestors:G,scrollableAncestorRects:le,transform:ue,windowRect:se}),D=Nw(E),P=TF({config:r,draggableNodes:L,droppableContainers:O,measuringConfiguration:F}),k=D?M.setRef:void 0;return Yt.createElement(vF,null,Yt.createElement(mF,{animation:P},y&&R?Yt.createElement(_F,{key:R,id:y.id,ref:k,as:d,activatorEvent:v,adjustScale:e,className:f,transition:o,rect:D,style:{zIndex:m,...a},transform:x},t):null))});function kw(n,e,t){const r=n.slice();return r.splice(t<0?r.length+t:t,0,r.splice(e,1)[0]),r}function IF(n,e){return n.reduce((t,r,a)=>{const o=e.get(r);return o&&(t[a]=o),t},Array(n.length))}function Rp(n){return n!==null&&n>=0}function CF(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function RF(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const Um=n=>{let{rects:e,activeIndex:t,overIndex:r,index:a}=n;const o=kw(e,r,t),c=e[a],d=o[a];return!d||!c?null:{x:d.left-c.left,y:d.top-c.top,scaleX:d.width/c.width,scaleY:d.height/c.height}},AN="Sortable",IN=Yt.createContext({activeIndex:-1,containerId:AN,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Um,disabled:{draggable:!1,droppable:!1}});function v1(n){let{children:e,id:t,items:r,strategy:a=Um,disabled:o=!1}=n;const{active:c,dragOverlay:d,droppableRects:f,over:m,measureDroppableContainers:v}=SN(),y=$h(AN,t),E=d.rect!==null,I=A.useMemo(()=>r.map(ue=>typeof ue=="object"&&"id"in ue?ue.id:ue),[r]),L=c!=null,O=c?I.indexOf(c.id):-1,M=m?I.indexOf(m.id):-1,K=A.useRef(I),F=!CF(I,K.current),G=M!==-1&&O===-1||F,le=RF(o);Bi(()=>{F&&L&&v(I)},[F,I,L,v]),A.useEffect(()=>{K.current=I},[I]);const se=A.useMemo(()=>({activeIndex:O,containerId:y,disabled:le,disableTransforms:G,items:I,overIndex:M,useDragOverlay:E,sortedRects:IF(I,f),strategy:a}),[O,y,le.draggable,le.droppable,G,I,M,f,E,a]);return Yt.createElement(IN.Provider,{value:se},e)}const DF=n=>{let{id:e,items:t,activeIndex:r,overIndex:a}=n;return kw(t,r,a).indexOf(e)},NF=n=>{let{containerId:e,isSorting:t,wasDragging:r,index:a,items:o,newIndex:c,previousItems:d,previousContainerId:f,transition:m}=n;return!m||!r||d!==o&&a===c?!1:t?!0:c!==a&&e===f},kF={duration:200,easing:"ease"},CN="transform",OF=ho.Transition.toString({property:CN,duration:0,easing:"linear"}),PF={roleDescription:"sortable"};function MF(n){let{disabled:e,index:t,node:r,rect:a}=n;const[o,c]=A.useState(null),d=A.useRef(t);return Bi(()=>{if(!e&&t!==d.current&&r.current){const f=a.current;if(f){const m=_u(r.current,{ignoreTransform:!0}),v={x:f.left-m.left,y:f.top-m.top,scaleX:f.width/m.width,scaleY:f.height/m.height};(v.x||v.y)&&c(v)}}t!==d.current&&(d.current=t)},[e,t,r,a]),A.useEffect(()=>{o&&c(null)},[o]),o}function VF(n){let{animateLayoutChanges:e=NF,attributes:t,disabled:r,data:a,getNewIndex:o=DF,id:c,strategy:d,resizeObserverConfig:f,transition:m=kF}=n;const{items:v,containerId:y,activeIndex:E,disabled:I,disableTransforms:L,sortedRects:O,overIndex:M,useDragOverlay:K,strategy:F}=A.useContext(IN),G=LF(r,I),le=v.indexOf(c),se=A.useMemo(()=>({sortable:{containerId:y,index:le,items:v},...a}),[y,a,le,v]),ue=A.useMemo(()=>v.slice(v.indexOf(c)),[v,c]),{rect:R,node:x,isOver:D,setNodeRef:P}=pF({id:c,data:se,disabled:G.droppable,resizeObserverConfig:{updateMeasurementsFor:ue,...f}}),{active:k,activatorEvent:z,activeNodeRect:N,attributes:Re,setNodeRef:je,listeners:Z,isDragging:de,over:_e,setActivatorNodeRef:Ve,transform:We}=dF({id:c,data:se,attributes:{...PF,...t},disabled:G.draggable}),B=Jj(P,je),ne=!!k,me=ne&&!L&&Rp(E)&&Rp(M),ye=!K&&de,De=ye&&me?We:null,$e=me?De??(d??F)({rects:O,activeNodeRect:N,activeIndex:E,overIndex:M,index:le}):null,He=Rp(E)&&Rp(M)?o({id:c,items:v,activeIndex:E,overIndex:M}):le,Me=k?.id,Fe=A.useRef({activeId:Me,items:v,newIndex:He,containerId:y}),Tn=v!==Fe.current.items,at=e({active:k,containerId:y,isDragging:de,isSorting:ne,id:c,index:le,items:v,newIndex:Fe.current.newIndex,previousItems:Fe.current.items,previousContainerId:Fe.current.containerId,transition:m,wasDragging:Fe.current.activeId!=null}),Ot=MF({disabled:!at,index:le,node:x,rect:R});return A.useEffect(()=>{ne&&Fe.current.newIndex!==He&&(Fe.current.newIndex=He),y!==Fe.current.containerId&&(Fe.current.containerId=y),v!==Fe.current.items&&(Fe.current.items=v)},[ne,He,y,v]),A.useEffect(()=>{if(Me===Fe.current.activeId)return;if(Me!=null&&Fe.current.activeId==null){Fe.current.activeId=Me;return}const pr=setTimeout(()=>{Fe.current.activeId=Me},50);return()=>clearTimeout(pr)},[Me]),{active:k,activeIndex:E,attributes:Re,data:se,rect:R,index:le,newIndex:He,items:v,isOver:D,isSorting:ne,isDragging:de,listeners:Z,node:x,overIndex:M,over:_e,setNodeRef:B,setActivatorNodeRef:Ve,setDroppableNodeRef:P,setDraggableNodeRef:je,transform:Ot??$e,transition:Pt()};function Pt(){if(Ot||Tn&&Fe.current.newIndex===le)return OF;if(!(ye&&!Ng(z)||!m)&&(ne||at))return ho.Transition.toString({...m,property:CN})}}function LF(n,e){var t,r;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n?.draggable)!=null?t:e.draggable,droppable:(r=n?.droppable)!=null?r:e.droppable}}pt.Down,pt.Right,pt.Up,pt.Left;function y1({id:n,children:e,onClick:t,disabled:r}){const{attributes:a,listeners:o,setNodeRef:c,transform:d,transition:f,isDragging:m}=VF({id:n,disabled:r}),v={transform:ho.Transform.toString(d),transition:f,zIndex:m?10:1,opacity:m?0:1,visibility:m?"hidden":"visible",touchAction:"manipulation"};return S.jsx("div",{ref:c,style:v,...a,...o,onClick:t,className:"h-full w-full relative",children:e})}function UF(){const n=A.useRef(null),[e,t]=A.useState(null),[r,a]=A.useState(null),[o,c]=A.useState(!1),[d,f]=BP(),m=d.get("bar")||localStorage.getItem("barId"),[v,y]=A.useState(m),[E,I]=A.useState(""),[L,O]=A.useState(null),[M,K]=A.useState("active"),[F,G]=A.useState(""),[le,se]=A.useState([]),[ue,R]=A.useState(null),[x,D]=A.useState([]),[P,k]=A.useState(fb),[z,N]=A.useState(null),[Re,je]=A.useState({}),[Z,de]=A.useState([]),[_e,Ve]=A.useState([]),[We,B]=A.useState({}),[ne,me]=A.useState({}),[ye,De]=A.useState(null),[Ce,$e]=A.useState([]),[He,Me]=A.useState({type:"brand",open:!1,searchTerm:""}),[Fe,Tn]=A.useState({open:!1,currentQty:1,context:""}),[at,Ot]=A.useState([]),Pt=A.useRef(null),pr=A.useRef(!1),[Zn,Mr]=A.useState(!1),[Fi,Ct]=A.useState(!1),[mt,On]=A.useState(!1),[qi,mr]=A.useState(!1),[Xt,Zr]=A.useState(!1),[Vr,Sr]=A.useState([]),[Sn,xi]=A.useState([]),[ps,Pn]=A.useState(!1),[Hi,er]=A.useState(""),[Jt,An]=A.useState(null),[gt,ms]=A.useState(null),[ei,gs]=A.useState(!1),{downloadUrl:gr,loading:Ti}=bz(),Ge=h$(t1(bN,{activationConstraint:{delay:250,tolerance:5}}),t1(yN,{activationConstraint:{distance:10}})),Rt=A.useMemo(()=>{const U=new Map;for(const ce of P)if(U.has(ce.label)||U.set(ce.label,ce.id),ce.children)for(const ge of ce.children)U.has(ge.label)||U.set(ge.label,ce.id);return U},[P]),Et=A.useCallback(U=>{const ce=Rt.get(U);if(ce)return ce;for(const ge of P)if(U.startsWith(ge.label))return ge.id},[P,Rt]),Dt=A.useMemo(()=>x.filter(U=>{if(U.status!=="pending")return!1;const ce=Et(U.label);return ce==="break"||U.label.includes("BREAK")||!ce?!0:le.includes(ce)}).sort((U,ce)=>{const ge=Vr.includes(U.id),Ee=Vr.includes(ce.id);return ge===Ee?0:ge?1:-1}),[x,Et,le,Vr]);Uj(Dt,Vr),A.useEffect(()=>{const U=ce=>{ce.preventDefault(),ms(ce)};return window.addEventListener("beforeinstallprompt",U),()=>window.removeEventListener("beforeinstallprompt",U)},[]),A.useEffect(()=>{const U=AV(Bs,async ce=>{if(t(ce),ce)if(Cm.isNativePlatform())try{await Qo.addListener("registration",Ee=>{N(Ee.value)}),await Qo.addListener("registrationError",Ee=>{console.error("Registration error: ",Ee.error)}),await Qo.addListener("pushNotificationReceived",()=>{navigator.vibrate&&navigator.vibrate([500,200,500]),n.current||(n.current=new Audio("/alert.wav"));const Ee=n.current;Ee.pause(),Ee.onended=null,Ee.currentTime=0,Ee.play().catch(()=>{})}),await Qo.addListener("pushNotificationActionPerformed",()=>{});let ge=await Qo.checkPermissions();ge.receive==="prompt"&&(ge=await Qo.requestPermissions()),ge.receive==="granted"&&await Qo.register()}catch(ge){console.error("Native push setup failed",ge)}else(window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone)&&TI().then(Ee=>Ee&&N(Ee)),lz().then(Ee=>{navigator.vibrate&&navigator.vibrate([500,200,500]),Ee&&Ee.notification&&new Notification(Ee.notification.title,{body:Ee.notification.body,icon:"/icon-192x192.png"}),n.current||(n.current=new Audio("/alert.wav"));const Ke=n.current;let Nt=0;Ke.onended=()=>{Nt++,Nt<8&&(Ke.currentTime=0,Ke.play().catch(()=>{}))},Ke.play().catch(()=>{})})});return()=>U()},[]),A.useEffect(()=>{if(!e||!v)return;f({bar:v}),localStorage.setItem("barId",v);const U=un(Vt,`bars/${v}/users`,e.uid),ce=un(Vt,`bars/${v}/tokens`,e.uid);(async()=>z&&(await wc(ce,{token:z,updated:Us()}),await zs(U,{status:"active",lastSeen:Us()}).catch(()=>{})))();const Ee=xd(U,Mt=>{if(Mt.exists()){const Ye=Mt.data();O(Ye.role),K(Ye.status||"active"),G(Ye.displayName||"Unknown"),Ye.notificationPreferences?se(Ye.notificationPreferences):Ye.role&&se(Xp[Ye.role]||[]);const Lr=`barbacker-${e.uid}`;Ye.ntfyTopic!==Lr?(zs(U,{ntfyTopic:Lr}).catch(console.error),R(Lr)):R(Ye.ntfyTopic)}else O(null)}),Ke=xd(un(Vt,"bars",v),Mt=>{if(Mt.exists()){const Ye=Mt.data();if(I(Ye.name),Ye.buttons){const Lr=new Map(Ye.buttons.map(Ur=>[Ur.id,Ur])),So=[...fb.filter(Ur=>!Lr.has(Ur.id)),...Ye.buttons];k(So)}else k(fb);Ye.beerInventory&&je(Ye.beerInventory),Ye.wells&&de(Ye.wells),Ye.hiddenButtonIds&&Ve(Ye.hiddenButtonIds),Ye.buttonUsage&&B(Ye.buttonUsage),Ye.customOrders&&me(Ye.customOrders)}}),Nt=xd(Kp(Cc(Vt,"requests"),vp("barId","==",v),vp("timestamp",">=",new Date(Date.now()-1440*60*1e3)),t_("timestamp","desc"),n_(100)),Mt=>D(Mt.docs.map(Ye=>({id:Ye.id,...Ye.data()})))),Xe=Xt?["active","pending","off_clock"]:["active","pending"],Si=Kp(Cc(Vt,`bars/${v}/users`),vp("status","in",Xe)),vn=xd(Si,Mt=>{$e(Mt.docs.map(Ye=>({id:Ye.id,...Ye.data()})))}),bs=xd(Kp(Cc(Vt,`bars/${v}/notices`),vp("timestamp",">=",new Date(Date.now()-4320*60*1e3)),t_("timestamp","desc"),n_(100)),Mt=>{const Ye=Mt.docs.map(Lr=>({id:Lr.id,...Lr.data()}));xi(Ye)});return()=>{Ee(),Ke(),Nt(),vn(),bs()}},[e,v,z,f,Xt]),A.useEffect(()=>(Pt.current&&window.clearTimeout(Pt.current),at.length>0&&(Pt.current=window.setTimeout(()=>{const U=at.map(ce=>ce.label).join(": ");qn(`${U} (Ask Me)`),Ot([])},6e4)),()=>{Pt.current&&window.clearTimeout(Pt.current)}),[at]);const Mn=async U=>{if(!e||!v)return;if(Re[U]){Me(Ee=>({...Ee,open:!1,searchTerm:""}));const ge={id:`brand_${U}`,label:U,children:[]};Ot(Ee=>[...Ee,ge]);return}await wc(un(Vt,"bars",v),{beerInventory:{[U]:[]}},{merge:!0}),je(ge=>({...ge,[U]:[]})),Me(ge=>({...ge,open:!1,searchTerm:""}));const ce={id:`brand_${U}`,label:U,children:[]};Ot(ge=>[...ge,ce])},pn=async U=>{if(!e||!v||!He.parentContext)return;const ce=He.parentContext;if((Re[ce]||[]).includes(U)){Me(Nt=>({...Nt,open:!1,searchTerm:""}));const Ke={id:`type_${ce}_${U}`,label:U,children:[]};Ot(Nt=>[...Nt,Ke]);return}await zs(un(Vt,"bars",v),{[`beerInventory.${ce}`]:Zy(U)}),je(Ke=>({...Ke,[ce]:[...Ke[ce]||[],U]})),Me(Ke=>({...Ke,open:!1,searchTerm:""}));const Ee={id:`type_${ce}_${U}`,label:U,children:[]};Ot(Ke=>[...Ke,Ee])},Gt=async U=>{if(!(!e||!v)){if(Z.includes(U)){Me(ce=>({...ce,open:!1,searchTerm:""})),qn(`ICE: ${U}`),Ot([]);return}await zs(un(Vt,"bars",v),{wells:Zy(U)}),de(ce=>[...ce,U]),Me(ce=>({...ce,open:!1,searchTerm:""})),qn(`ICE: ${U}`),Ot([])}},tr=async U=>{!e||!v||(await zs(un(Vt,"bars",v),{hiddenButtonIds:Zy(U)}),Ve(ce=>[...ce,U]))},Kt=async U=>{if(!(!e||!v||!U.trim()))try{await pI(Cc(Vt,`bars/${v}/notices`),{text:U,authorId:e.uid,authorName:F,timestamp:Us()}),er(""),Pn(!1)}catch(ce){console.error("Error saving notice:",ce),An("Failed to save notice: "+(ce.message||"Unknown error"))}},Vn=async U=>{!e||!v||confirm("Delete this notice?")&&await Ed(un(Vt,`bars/${v}/notices`,U))},In=U=>{if(U.id==="ice")return[...Z.map(ge=>({id:`well_${ge}`,label:ge})),{id:"add_well",label:"+ ADD WELL",isCustom:!0}];if(U.id==="restock_beer")return[...Object.keys(Re).map(ge=>({id:`brand_${ge}`,label:ge,children:[]})),{id:"add_brand",label:"+ ADD BRAND",action:"add_brand",isCustom:!0}];if(U.id.startsWith("brand_")){const ce=U.label;return[...(Re[ce]||[]).map(Ke=>({id:`type_${ce}_${Ke}`,label:Ke,children:[]})),{id:"add_type",label:"+ ADD TYPE",action:"add_type",isCustom:!0}]}return U.id.startsWith("type_")?[{id:"qty_6",label:"6"},{id:"qty_12",label:"12"},{id:"qty_24",label:"24"},{id:"qty_other",label:"Other",action:"custom_qty"}]:U.children||[]},Fn=U=>{v&&zs(un(Vt,"bars",v),{[`buttonUsage.${U}`]:y9(1)}).catch(ce=>console.error("Failed to track usage",ce))},nr=(U,ce)=>{const ge=ne[ce];return ge?[...U].sort((Ee,Ke)=>{const Nt=ge.indexOf(Ee.id),Xe=ge.indexOf(Ke.id);return Nt===-1&&Xe===-1?0:Nt===-1?1:Xe===-1?-1:Nt-Xe}):[...U].sort((Ee,Ke)=>{const Nt=We[Ee.id]||0;return(We[Ke.id]||0)-Nt})},Ln=U=>{De(U.active.id),pr.current=!0},rr=(U,ce,ge)=>{const{active:Ee,over:Ke}=U;if(Ke&&Ee.id!==Ke.id){const Nt=ge.findIndex(vn=>vn.id===Ee.id),Xe=ge.findIndex(vn=>vn.id===Ke.id),Si=kw(ge,Nt,Xe).map(vn=>vn.id);me(vn=>({...vn,[ce]:Si}))}},mn=async(U,ce)=>{De(null),pr.current=!1,v&&ne[ce]&&await zs(un(Vt,"bars",v),{[`customOrders.${ce}`]:ne[ce]})},Un=U=>{if(Fn(U.id),U.id==="add_well"){const ge=`Well #${Z.length+1}`;Me({type:"well",open:!0,searchTerm:ge});return}if(U.action==="add_brand"){Me({type:"brand",open:!0,searchTerm:""});return}if(U.action==="add_type"){const ge=at[at.length-1];Me({type:"type",open:!0,parentContext:ge.label,searchTerm:""});return}if(U.action==="custom_qty"){Tn({open:!0,currentQty:1,context:at.map(ge=>ge.label).join(": ")});return}if(U.id==="custom_req_btn"){Me({type:"custom",open:!0,searchTerm:""});return}const ce=In(U);ce&&ce.length>0?Ot([...at,U]):(qn([...at,U].map(ge=>ge.label).join(": ")),Ot([]))},Zt=async(U,ce)=>{if(!e||!v)return;await wc(un(Vt,`bars/${v}/users`,e.uid),{role:U,displayName:ce,email:e.email,status:"active",joinedAt:Us(),lastSeen:Us(),notificationPreferences:Xp[U]||[]},{merge:!0}),z&&await wc(un(Vt,`bars/${v}/tokens`,e.uid),{token:z,updated:Us()})},gn=async()=>{!e||!v||(await Ed(un(Vt,`bars/${v}/tokens`,e.uid)),await zs(un(Vt,`bars/${v}/users`,e.uid),{status:"off_clock"}),y(null),localStorage.removeItem("barId"),Mr(!1),await md(Bs))},qn=async U=>{if(!e||!v)return;navigator.vibrate&&navigator.vibrate(100),await pI(Cc(Vt,"requests"),{barId:v,label:U,requesterId:e.uid,requesterName:F,requesterRole:L,status:"pending",timestamp:Us(),lastNotification:Us()});const ce=Et(U),ge=new Set;Ce.forEach(Ee=>{if(!(Ee.status==="active"||Ee.status===void 0)||Ee.id===e.uid||!Ee.ntfyTopic)return;let Nt=Ee.notificationPreferences;if(!Nt&&Ee.role&&(Nt=Xp[Ee.role]||[]),U.includes("BREAK")||ce==="break"){ge.add(Ee.ntfyTopic);return}Nt&&ce&&Nt.includes(ce)&&ge.add(Ee.ntfyTopic)}),ge.forEach(Ee=>{fetch(`https://ntfy.sh/${Ee}`,{method:"POST",body:`New Request: ${U} (by ${F})`,headers:{Title:"BarBacker Alert",Priority:"high",Tags:"bell,bar_chart"}}).catch(Ke=>console.error("Failed to send ntfy",Ke))})},ca=async U=>{await zs(un(Vt,"requests",U),{status:"claimed",claimedBy:e?.uid,claimerName:F,claimedAt:Us()})},wu=async(U,ce)=>{!e||!v||(se(U),R(ce),await wc(un(Vt,`bars/${v}/users`,e.uid),{notificationPreferences:U,ntfyTopic:ce},{merge:!0}))},Dl=async()=>{await md(Bs),mr(!1)},Nl=async()=>{!e||!v||confirm("Are you sure you want to leave this bar? You will need to join again.")&&(await Ed(un(Vt,`bars/${v}/users`,e.uid)),y(null),localStorage.removeItem("barId"),mr(!1),await md(Bs))},ti=async()=>{if(!(!e||!v)&&confirm("Are you sure you want to delete your account? This cannot be undone."))try{await Ed(un(Vt,`bars/${v}/users`,e.uid)),await IV(e),mr(!1)}catch(U){console.error("Error deleting account:",U),alert("Failed to delete account. You may need to re-login recently.")}},ua=async U=>{U.preventDefault();const ce=new FormData(U.target);try{o?await EV(Bs,ce.get("email"),ce.get("password")):await xV(Bs,ce.get("email"),ce.get("password"))}catch(ge){a(ge.message)}},ni=async()=>{try{await KV(Bs,N2)}catch(U){a(U.message)}},Ar=async()=>{if(!gt)return;gt.prompt();const{outcome:U}=await gt.userChoice;U==="accepted"&&(ms(null),e&&TI().then(ce=>ce&&N(ce)))},vr=async()=>{if(navigator.share)try{await navigator.share({title:"BarBacker",text:"Join my bar on BarBacker!",url:window.location.href})}catch(U){console.log("Error sharing:",U)}else navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!")};if(!e)return S.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 space-y-8 bg-black",children:[S.jsx("h1",{className:"text-4xl font-bold tracking-widest text-white",children:"BARBACKER"}),r&&S.jsx("div",{className:"text-red-400 p-2 border border-red-800 rounded",children:r}),S.jsxs("form",{onSubmit:ua,className:"w-[300px] space-y-4",children:[S.jsx("md-filled-text-field",{label:"Email",name:"email",type:"email",required:!0}),S.jsx("md-filled-text-field",{label:"Password",name:"password",type:"password",required:!0}),S.jsx("md-filled-button",{type:"submit",children:o?"Create Account":"Clock In"})]}),S.jsxs("div",{className:"flex gap-4 items-center",children:[S.jsx("md-text-button",{onClick:()=>c(!o),children:o?"Login":"Register"}),S.jsxs("md-outlined-button",{onClick:ni,children:[S.jsx("md-icon",{slot:"icon",children:"mail"}),"Google"]})]}),S.jsxs("div",{className:"text-center text-gray-500 text-sm mt-8 space-y-2",children:[S.jsxs("p",{children:[Ti?S.jsx("span",{children:"Checking for Android App..."}):S.jsx("a",{href:gr||"https://github.com/HereLiesAz/BarBacker/releases/latest",className:"text-blue-400 underline",children:"Install BarBacker App"})," for Android."]}),S.jsxs("p",{children:["For iOS alerts, install ",S.jsx("a",{href:"https://ntfy.sh",target:"_blank",className:"text-blue-400 underline",children:"ntfy.sh"}),"."]})]})]});if(!v)return S.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 space-y-6 bg-black",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:"Select Bar"}),S.jsxs("p",{className:"text-gray-500 text-sm",children:["You are ",e.email]})]}),S.jsx("md-text-button",{onClick:()=>md(Bs),children:"Sign Out"}),S.jsx(jj,{onJoin:async U=>{if(U.id){const ce=un(Vt,"bars",U.id);(await R9(ce)).exists()||await wc(ce,{name:U.name,address:U.address||"",city:U.city||"",state:U.state||"",zip:U.zip||"",phone:U.phone||"",status:U.status||"verified",type:U.type||"bar",buttons:[]}),y(U.id)}}}),S.jsxs("div",{className:"text-center text-gray-500 text-xs mt-8 space-y-2 max-w-[300px]",children:[S.jsxs("p",{children:["Tip: ",S.jsx("a",{href:gr||"https://github.com/HereLiesAz/BarBacker/releases/latest",className:"text-blue-400 underline",children:"Install BarBacker App"})," for the best experience."]}),S.jsxs("div",{className:"flex flex-col items-center gap-1 mt-2",children:[S.jsx("a",{href:`ntfy://subscribe/barbacker-${e.uid}`,className:"text-blue-400 underline font-bold",children:"Subscribe to iOS Alerts"}),S.jsx("span",{className:"text-xs text-green-400 font-bold",children:"(It's free!)"}),S.jsx("span",{className:"text-[10px] text-gray-600",children:"(Requires ntfy app)"})]})]})]});if(!L)return S.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 space-y-6 bg-black",children:[S.jsxs("div",{className:"flex w-full justify-between items-center max-w-[300px]",children:[S.jsx("md-icon-button",{onClick:()=>{y(null),localStorage.removeItem("barId")},children:S.jsx("md-icon",{children:"arrow_back"})}),S.jsx("md-text-button",{onClick:()=>md(Bs),children:"Sign Out"})]}),S.jsx($j,{onSelect:Zt})]});const ri=x.filter(U=>U.status!=="pending").slice(0,20),jt=U=>U?(U.toDate?U.toDate():new Date(U.seconds*1e3)).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}):"",vs=at.length>0?at[at.length-1].id:"main",da=at.length>0?In(at[at.length-1]):P,ii=da.filter(U=>!_e.includes(U.id)),yr=nr(ii,vs),ha=nr(P,"main"),ys=ha.filter(U=>!_e.includes(U.id)),fa=Ce.filter(U=>U.status==="pending"),kl=fa.length>0;return M==="pending"?S.jsxs("div",{className:"h-[100dvh] w-screen flex flex-col items-center justify-center p-6 space-y-6 bg-black text-center overflow-hidden",children:[S.jsx("md-icon",{style:{fontSize:64},className:"text-yellow-500",children:"hourglass_empty"}),S.jsx("h2",{className:"text-2xl font-bold text-white",children:"Approval Pending"}),S.jsxs("p",{className:"text-gray-400",children:["A manager must approve your request to join ",E,"."]}),S.jsx("md-text-button",{onClick:()=>{y(null),localStorage.removeItem("barId")},children:"Cancel"})]}):S.jsxs("div",{className:"h-[100dvh] w-screen flex flex-col bg-black overflow-hidden",children:[S.jsx(Qj,{open:mt,onClose:()=>On(!1),barName:E,allButtons:ha,hiddenButtonIds:_e,onHideButton:tr}),S.jsx(Xj,{open:Xt,onClose:()=>Zr(!1),users:Ce}),S.jsx(Yj,{open:Fi,onClose:()=>Ct(!1),onSave:wu,userRole:L||"",currentPreferences:le,currentNtfyTopic:ue,allButtons:P}),S.jsx(Wj,{open:He.open,mode:He.type,searchTerm:He.searchTerm,onSearchChange:U=>Me(ce=>({...ce,searchTerm:U})),onClose:()=>Me(U=>({...U,open:!1})),onSelect:U=>{if(da.map(ge=>ge.label.toLowerCase()).includes(U.toLowerCase())){alert("This button already exists!");return}He.type==="brand"?Mn(U):He.type==="type"?pn(U):He.type==="well"?Gt(U):He.type==="custom"&&(qn(U),Me(ge=>({...ge,open:!1})))},suggestions:He.type==="brand"?[...Lj,...Object.keys(Re)]:He.type==="type"?Array.from(new Set(Object.values(Re).flat())):[]}),S.jsxs("md-dialog",{open:Fe.open||void 0,onClose:()=>Tn(U=>({...U,open:!1})),children:[S.jsx("div",{slot:"headline",children:"Select Quantity"}),S.jsxs("div",{slot:"content",className:"flex items-center justify-center gap-6 py-6",children:[S.jsx("md-filled-tonal-button",{onClick:()=>Tn(U=>({...U,currentQty:Math.max(1,U.currentQty-1)})),children:S.jsx("md-icon",{children:"remove"})}),S.jsx("span",{className:"text-4xl font-bold text-white",children:Fe.currentQty}),S.jsx("md-filled-tonal-button",{onClick:()=>Tn(U=>({...U,currentQty:U.currentQty+1})),children:S.jsx("md-icon",{children:"add"})})]}),S.jsxs("div",{slot:"actions",children:[S.jsx("md-text-button",{onClick:()=>Tn(U=>({...U,open:!1})),children:"Cancel"}),S.jsx("md-filled-button",{onClick:()=>{qn(`${Fe.context}: ${Fe.currentQty}`),Tn(U=>({...U,open:!1})),Ot([])},children:"Send"})]})]}),S.jsxs("md-dialog",{open:ps||void 0,onClose:()=>Pn(!1),children:[S.jsx("div",{slot:"headline",children:"Add Notice"}),S.jsxs("div",{slot:"content",className:"flex flex-col gap-4",children:[S.jsx("md-filled-text-field",{label:"Notice Message",value:Hi,onInput:U=>er(U.target.value),required:!0,type:"text"}),Jt&&S.jsx("div",{className:"text-red-500 text-sm mt-2",children:Jt})]}),S.jsxs("div",{slot:"actions",children:[S.jsx("md-text-button",{onClick:()=>Pn(!1),children:"Cancel"}),S.jsx("md-filled-button",{onClick:()=>Kt(Hi),children:"Post"})]})]}),S.jsxs("md-dialog",{open:Zn||void 0,onClose:()=>Mr(!1),children:[S.jsx("div",{slot:"headline",children:"Abandon Ship?"}),S.jsx("div",{slot:"content",children:"Going off clock stops all notifications and signs you out. The bar will be unprotected. Are you sure?"}),S.jsxs("div",{slot:"actions",children:[S.jsx("md-text-button",{onClick:()=>Mr(!1),children:"Stay"}),S.jsx("md-filled-button",{onClick:gn,className:"btn-alert",children:"Clock Out"})]})]}),S.jsxs("div",{className:"flex-none flex flex-wrap justify-between items-center py-12 px-6 bg-[#121212] border-b border-[#333] z-10 gap-4",children:[S.jsxs("div",{className:"flex items-center min-w-[200px] cursor-pointer hover:bg-white/5 p-2 rounded transition-colors mr-auto ml-4",onClick:()=>mr(!0),children:[S.jsx("span",{className:"whitespace-pre",children:"    "}),S.jsx("span",{className:"text-white font-bold text-xl truncate",children:F}),S.jsx("span",{className:"text-white text-xl whitespace-pre",children:"        "}),S.jsx("span",{className:"bg-gray-800 px-4 py-2 rounded text-base text-gray-300 whitespace-nowrap",children:L})]}),S.jsxs("div",{className:"flex items-center gap-6 mr-4 flex-wrap justify-end",children:[S.jsx("span",{className:"font-bold text-xl text-white tracking-wide hidden sm:block",children:E}),S.jsx("md-text-button",{onClick:()=>On(!0),className:"sm:hidden",children:S.jsx("span",{className:"font-bold text-lg text-white tracking-wide",children:E})}),S.jsxs("div",{className:"flex gap-4 items-center",children:[gt&&S.jsx("md-icon-button",{onClick:Ar,title:"Install App",className:"navbar-icon-button",children:S.jsx("md-icon",{className:"text-blue-400",style:{fontSize:"36px"},children:"download"})}),S.jsxs("span",{style:{position:"relative"},children:[S.jsx("md-icon-button",{id:"menu-anchor",onClick:()=>gs(!ei),className:"navbar-icon-button",children:S.jsx("md-icon",{className:"text-white",style:{fontSize:"36px"},children:"menu"})}),S.jsxs("md-menu",{anchor:"menu-anchor",open:ei,onClosed:()=>gs(!1),positioning:"fixed",quick:!0,style:{zIndex:2e3},children:[S.jsxs("md-menu-item",{onClick:()=>mr(!0),children:[S.jsx("md-icon",{slot:"start",children:"account_circle"}),S.jsx("div",{slot:"headline",children:"Account Options"})]}),S.jsxs("md-menu-item",{onClick:()=>On(!0),children:[S.jsx("md-icon",{slot:"start",children:"store"}),S.jsx("div",{slot:"headline",children:"Manage Bar"})]}),S.jsxs("md-menu-item",{onClick:vr,children:[S.jsx("md-icon",{slot:"start",children:"share"}),S.jsx("div",{slot:"headline",children:"Share"})]}),S.jsxs("md-menu-item",{onClick:()=>Zr(!0),children:[S.jsx("md-icon",{slot:"start",children:"group"}),S.jsx("div",{slot:"headline",children:"Who's On"})]}),S.jsxs("md-menu-item",{onClick:()=>{Pn(!0),An(null)},children:[S.jsx("md-icon",{slot:"start",children:"campaign"}),S.jsx("div",{slot:"headline",children:"Post Notice"})]}),S.jsxs("md-menu-item",{onClick:()=>Ct(!0),children:[S.jsx("md-icon",{slot:"start",children:"settings"}),S.jsx("div",{slot:"headline",children:"Pagers"})]}),S.jsxs("md-menu-item",{onClick:()=>Mr(!0),children:[S.jsx("md-icon",{slot:"start",children:"power_settings_new"}),S.jsx("div",{slot:"headline",children:"Clock Out"})]})]})]})]})]})]}),Sn.length>0&&S.jsx("div",{className:"bg-yellow-900/20 border-b border-yellow-900/50 overflow-hidden relative h-8 flex items-center",children:S.jsxs("div",{className:"animate-marquee whitespace-nowrap flex gap-12 text-yellow-500 text-sm font-medium items-center",children:[Sn.map(U=>S.jsxs("span",{className:"inline-flex items-center gap-2 cursor-pointer",onClick:()=>Vn(U.id),children:[S.jsxs("span",{children:[" ",U.text," ",S.jsxs("span",{className:"text-yellow-700 text-xs",children:["(",U.authorName,")"]})]}),S.jsx("md-icon",{style:{fontSize:14},className:"text-yellow-700 hover:text-red-500",children:"close"})]},U.id)),Sn.map(U=>S.jsx("span",{className:"inline-flex items-center gap-2",children:S.jsxs("span",{children:[" ",U.text," ",S.jsxs("span",{className:"text-yellow-700 text-xs",children:["(",U.authorName,")"]})]})},`dup-${U.id}`))]})}),S.jsxs("md-dialog",{open:qi||void 0,onClose:()=>mr(!1),children:[S.jsx("div",{slot:"headline",children:"Account Options"}),S.jsx("div",{slot:"content",className:"flex flex-col gap-4 pt-4",children:S.jsxs("p",{className:"text-gray-300",children:["Manage your account for ",S.jsx("strong",{children:E}),"."]})}),S.jsx("div",{slot:"actions",children:S.jsxs("div",{className:"flex flex-col gap-2 w-full items-end",children:[S.jsxs("div",{className:"flex gap-2",children:[S.jsx("md-text-button",{onClick:Nl,children:"Leave Bar"}),S.jsx("md-text-button",{onClick:Dl,children:"Log Out"})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("md-text-button",{onClick:ti,className:"text-red-500",children:"Delete Account"}),S.jsx("md-filled-button",{onClick:()=>mr(!1),children:"Close"})]})]})})]}),S.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden w-full relative pb-[35vh]",children:[at.length>0&&S.jsx("div",{className:"fixed inset-0 top-[88px] z-50 bg-black/95 flex items-start justify-center p-4 pt-10 animate-in fade-in duration-200 backdrop-blur-sm",children:S.jsxs("div",{className:"bg-[#121212] w-full max-w-lg max-h-[80vh] overflow-y-auto p-6 rounded-2xl border border-gray-800 shadow-2xl flex flex-col relative animate-in zoom-in-95 duration-200",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-4 flex-none border-b border-gray-800 pb-4",children:[S.jsx("md-icon-button",{onClick:()=>Ot([]),children:S.jsx("md-icon",{children:"arrow_back"})}),S.jsx("span",{className:"text-lg font-bold text-white uppercase tracking-wide truncate flex-1",children:at.map(U=>U.label).join(" > ")})]}),S.jsxs(f1,{sensors:Ge,collisionDetection:r1,onDragStart:Ln,onDragOver:U=>rr(U,vs,yr),onDragEnd:U=>mn(U,vs),children:[S.jsx(v1,{items:yr,strategy:Um,children:S.jsx("div",{className:"grid grid-cols-2 gap-4 mb-auto",children:yr.map(U=>S.jsx(y1,{id:U.id,onClick:()=>Un(U),children:S.jsx("md-filled-tonal-button",{style:{height:"100px",fontSize:"18px",width:"100%",pointerEvents:"none",border:"8px solid #000000",boxSizing:"border-box"},children:S.jsx("span",{className:"text-red-500 font-bold text-3xl",children:U.label})})},U.id))})}),S.jsx(g1,{children:ye?S.jsx("md-filled-tonal-button",{style:{height:"100px",fontSize:"18px",width:"100%",pointerEvents:"none",opacity:.9},children:yr.find(U=>U.id===ye)?.label}):null})]}),S.jsx("div",{className:"mt-6 flex-none",children:S.jsx("md-outlined-button",{className:"w-full",onClick:()=>Ot([]),style:{height:"56px"},children:"Cancel"})})]})}),S.jsxs(f1,{sensors:Ge,collisionDetection:r1,onDragStart:Ln,onDragOver:U=>rr(U,"main",ys),onDragEnd:U=>mn(U,"main"),children:[S.jsx(v1,{items:ys,strategy:Um,children:S.jsx("div",{className:"grid grid-cols-2 gap-8 p-6",children:[...ys,{id:"custom_req_btn",label:"CUSTOM",icon:"add",isCustom:!0}].map(U=>{const ce=Dt.some(ge=>ge.label.startsWith(U.label));return S.jsx(y1,{id:U.id,onClick:()=>Un(U),children:S.jsx("md-filled-tonal-button",{className:ce?"btn-alert":"",style:{height:"120px",width:"100%",pointerEvents:"none",border:ce?"8px solid #EF4444":"8px solid #000000",boxSizing:"border-box"},children:S.jsxs("div",{className:"flex flex-col items-center gap-2",children:[S.jsx("md-icon",{style:{fontSize:32},className:"text-red-500",children:U.icon||"circle"}),S.jsx("span",{className:"text-3xl font-bold leading-none text-red-500",children:U.label}),ce&&S.jsx("span",{className:"text-xs opacity-80 text-red-500",children:"PENDING"})]})})},U.id)})})}),S.jsx(g1,{children:ye?(()=>{const U=P.find(ge=>ge.id===ye);if(!U)return null;const ce=Dt.some(ge=>ge.label.startsWith(U.label));return S.jsx("md-filled-tonal-button",{className:ce?"btn-alert":"",style:{height:"120px",width:"100%",pointerEvents:"none",opacity:.9},children:S.jsxs("div",{className:"flex flex-col items-center gap-2",children:[S.jsx("md-icon",{style:{fontSize:32},children:U.icon||"circle"}),S.jsx("span",{className:"text-lg font-bold leading-none",children:U.label}),ce&&S.jsx("span",{className:"text-xs opacity-80",children:"PENDING"})]})})})():null})]}),S.jsxs("div",{className:"fixed bottom-0 left-0 right-0 w-full max-h-[33vh] bg-[#1E1E1E] border-t border-[#333] z-20 flex flex-col shadow-2xl transition-all duration-300",children:[S.jsxs("div",{className:"flex-none p-2 bg-[#252525] border-b border-[#333] flex justify-between items-center px-4 sticky top-0 z-30",children:[S.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:["Notifications (",Dt.length,")"]}),kl&&S.jsxs("md-filled-button",{onClick:()=>On(!0),style:{height:"24px",fontSize:"12px","--md-filled-button-container-color":"#EAB308","--md-filled-button-label-text-color":"#000"},children:[fa.length," Approvals"]})]}),S.jsxs("div",{className:"flex-1 overflow-y-auto w-full",children:[Dt.map(U=>{const ce=Vr.includes(U.id),ge=e&&U.requesterId===e.uid;return S.jsxs("div",{className:`w-full grid grid-cols-[33vw_1fr_auto] items-center gap-2 p-3 transition-colors border-b border-[#333] ${ce?"bg-[#1a1a1a] opacity-60":"bg-[#2C1A1A]"}`,children:[S.jsxs("div",{className:"flex flex-col overflow-hidden mr-2",children:[S.jsx("span",{className:`font-bold text-lg leading-tight truncate ${ce?"text-gray-400":"text-red-100"}`,children:U.label}),S.jsxs("div",{className:"flex flex-wrap gap-1 text-xs text-gray-400 mt-1 truncate",children:[S.jsx("span",{children:U.requesterName}),S.jsx("span",{children:""}),S.jsx("span",{children:jt(U.timestamp)})]})]}),S.jsx("md-filled-button",{onClick:()=>ca(U.id),className:`w-full ${ce?"":"btn-alert"}`,style:{height:"48px",minWidth:"100px"},children:"CLAIM"}),ge?S.jsx("md-outlined-button",{onClick:async Ee=>{Ee.stopPropagation(),confirm("Cancel this request?")&&await Ed(un(Vt,"requests",U.id))},style:{height:"48px",minWidth:"100px","--md-outlined-button-label-text-color":"#EF4444","--md-sys-color-outline":"#EF4444"},children:"CANCEL"}):!ce&&S.jsx("md-outlined-button",{onClick:Ee=>{Ee.stopPropagation(),Sr(Ke=>[...Ke,U.id])},style:{height:"48px",minWidth:"100px"},children:"Ignore"})]},U.id)}),Dt.length===0&&S.jsx("div",{className:"p-8 text-center text-gray-600 italic",children:"No active requests"})]})]}),S.jsxs("div",{className:"px-4 mt-8 pb-32",children:[S.jsx("div",{className:"text-xs font-bold text-gray-600 mb-2 uppercase tracking-widest",children:"Shift Log"}),S.jsx("md-list",{className:"bg-transparent",children:ri.map(U=>S.jsxs("md-list-item",{children:[S.jsx("div",{slot:"headline",className:"text-gray-400",children:U.label}),S.jsxs("div",{slot:"supporting-text",className:"text-xs text-gray-600",children:[U.claimerName||"Someone"," claimed ",U.claimedAt?jt(U.claimedAt):"","  Asked ",jt(U.timestamp)]}),S.jsx("md-icon",{slot:"start",className:"text-green-800",children:"check_circle"})]},U.id))})]})]})]})}const zF={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyCfkeRu4DVuSBBBa9bc0rrhtu-gCixFqIo",VITE_FIREBASE_APP_ID:"1:869145643734:web:d902468d6942df6bc81777",VITE_FIREBASE_AUTH_DOMAIN:"barbacker-6c683.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"869145643734",VITE_FIREBASE_PROJECT_ID:"barbacker-6c683",VITE_FIREBASE_STORAGE_BUCKET:"barbacker-6c683.firebasestorage.app",VITE_FIREBASE_VAPID_KEY:"G-H8717DGSJ8"},BF=()=>{const n={timestamp:new Date().toISOString(),userAgent:navigator.userAgent,envCheck:{},online:navigator.onLine,storage:{localStorage:!1,sessionStorage:!1,cookies:navigator.cookieEnabled}};["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID"].forEach(t=>{n.envCheck[t]=!!zF[t]});try{localStorage.setItem("__test__","1"),localStorage.removeItem("__test__"),n.storage.localStorage=!0}catch{}try{sessionStorage.setItem("__test__","1"),sessionStorage.removeItem("__test__"),n.storage.sessionStorage=!0}catch{}return n},jF=n=>{let e=`[Diagnostic Report - ${n.timestamp}]
`;return e+=`User Agent: ${n.userAgent}
`,e+=`Online: ${n.online?"":""}

`,e+=`Environment Variables:
`,Object.entries(n.envCheck).forEach(([t,r])=>{e+=`  ${r?"":""} ${t}
`}),e+=`
Storage:
`,e+=`  ${n.storage.localStorage?"":""} LocalStorage
`,e+=`  ${n.storage.sessionStorage?"":""} SessionStorage
`,e+=`  ${n.storage.cookies?"":""} Cookies
`,e};class $F extends A.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null,diagnosticReport:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null,diagnosticReport:null}}componentDidCatch(e,t){const r=BF();this.setState({errorInfo:t,diagnosticReport:jF(r)}),console.error("Uncaught error:",e,t)}handleCopy=()=>{const{error:e,errorInfo:t,diagnosticReport:r}=this.state,a=`ERROR:
${e?.toString()}

STACK:
${t?.componentStack}

DIAGNOSTICS:
${r}`;navigator.clipboard.writeText(a).then(()=>alert("Copied to clipboard"))};render(){return this.state.hasError?S.jsxs("div",{className:"min-h-screen bg-black text-red-500 p-8 flex flex-col gap-4 overflow-auto font-mono",children:[S.jsx("h1",{className:"text-2xl font-bold text-white",children:"Something went wrong."}),S.jsxs("div",{className:"border border-red-900 bg-red-950/50 p-4 rounded",children:[S.jsx("h2",{className:"text-xl font-bold mb-2",children:this.state.error?.toString()}),S.jsx("details",{className:"whitespace-pre-wrap text-sm text-gray-400",children:this.state.errorInfo?.componentStack})]}),this.state.diagnosticReport&&S.jsxs("div",{className:"border border-blue-900 bg-blue-950/20 p-4 rounded",children:[S.jsx("h3",{className:"text-lg font-bold text-blue-400 mb-2",children:"Auto-Diagnostics"}),S.jsx("pre",{className:"whitespace-pre-wrap text-xs text-blue-200",children:this.state.diagnosticReport})]}),S.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-900/50 p-4 rounded text-yellow-200 text-sm",children:[S.jsx("p",{className:"font-bold mb-1",children:"Stuck in a crash loop?"}),S.jsx("p",{children:"Try clearing your local data:"}),S.jsxs("ul",{className:"list-disc list-inside mt-1 opacity-80",children:[S.jsxs("li",{children:[S.jsx("strong",{children:"Android App:"})," Long press App Icon  App Info  Storage  Clear Data"]}),S.jsxs("li",{children:[S.jsx("strong",{children:"Browser:"})," Settings  Site Settings  Clear Data"]})]})]}),S.jsxs("div",{className:"flex gap-4 mt-4",children:[S.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-white text-black rounded font-bold hover:bg-gray-200",children:"Reload App"}),S.jsx("button",{onClick:this.handleCopy,className:"px-6 py-3 border border-white text-white rounded font-bold hover:bg-white/10",children:"Copy Debug Info"})]})]}):this.props.children}}pO.createRoot(document.getElementById("root")).render(S.jsx(A.StrictMode,{children:S.jsx($F,{children:S.jsx(MP,{children:S.jsx(UF,{})})})}));
