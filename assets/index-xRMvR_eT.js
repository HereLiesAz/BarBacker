function xA(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();function IA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var c0={exports:{}},_d={},u0={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fl=Symbol.for("react.element"),TA=Symbol.for("react.portal"),SA=Symbol.for("react.fragment"),AA=Symbol.for("react.strict_mode"),CA=Symbol.for("react.profiler"),kA=Symbol.for("react.provider"),RA=Symbol.for("react.context"),PA=Symbol.for("react.forward_ref"),NA=Symbol.for("react.suspense"),DA=Symbol.for("react.memo"),OA=Symbol.for("react.lazy"),Ly=Symbol.iterator;function LA(t){return t===null||typeof t!="object"?null:(t=Ly&&t[Ly]||t["@@iterator"],typeof t=="function"?t:null)}var d0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h0=Object.assign,f0={};function Ms(t,e,r){this.props=t,this.context=e,this.refs=f0,this.updater=r||d0}Ms.prototype.isReactComponent={};Ms.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ms.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function p0(){}p0.prototype=Ms.prototype;function Cm(t,e,r){this.props=t,this.context=e,this.refs=f0,this.updater=r||d0}var km=Cm.prototype=new p0;km.constructor=Cm;h0(km,Ms.prototype);km.isPureReactComponent=!0;var My=Array.isArray,m0=Object.prototype.hasOwnProperty,Rm={current:null},g0={key:!0,ref:!0,__self:!0,__source:!0};function v0(t,e,r){var n,i={},o=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)m0.call(e,n)&&!g0.hasOwnProperty(n)&&(i[n]=e[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Fl,type:t,key:o,ref:s,props:i,_owner:Rm.current}}function MA(t,e){return{$$typeof:Fl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Pm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fl}function VA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Vy=/\/+/g;function Th(t,e){return typeof t=="object"&&t!==null&&t.key!=null?VA(""+t.key):e.toString(36)}function ru(t,e,r,n,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Fl:case TA:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+Th(s,0):n,My(i)?(r="",t!=null&&(r=t.replace(Vy,"$&/")+"/"),ru(i,e,r,"",function(u){return u})):i!=null&&(Pm(i)&&(i=MA(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Vy,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",My(t))for(var l=0;l<t.length;l++){o=t[l];var c=n+Th(o,l);s+=ru(o,e,r,c,i)}else if(c=LA(t),typeof c=="function")for(t=c.call(t),l=0;!(o=t.next()).done;)o=o.value,c=n+Th(o,l++),s+=ru(o,e,r,c,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Ec(t,e,r){if(t==null)return t;var n=[],i=0;return ru(t,n,"","",function(o){return e.call(r,o,i++)}),n}function $A(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var er={current:null},nu={transition:null},FA={ReactCurrentDispatcher:er,ReactCurrentBatchConfig:nu,ReactCurrentOwner:Rm};function y0(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Ec,forEach:function(t,e,r){Ec(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ec(t,function(){e++}),e},toArray:function(t){return Ec(t,function(e){return e})||[]},only:function(t){if(!Pm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=Ms;he.Fragment=SA;he.Profiler=CA;he.PureComponent=Cm;he.StrictMode=AA;he.Suspense=NA;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FA;he.act=y0;he.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=h0({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Rm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)m0.call(e,c)&&!g0.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Fl,type:t.type,key:i,ref:o,props:n,_owner:s}};he.createContext=function(t){return t={$$typeof:RA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kA,_context:t},t.Consumer=t};he.createElement=v0;he.createFactory=function(t){var e=v0.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:PA,render:t}};he.isValidElement=Pm;he.lazy=function(t){return{$$typeof:OA,_payload:{_status:-1,_result:t},_init:$A}};he.memo=function(t,e){return{$$typeof:DA,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=nu.transition;nu.transition={};try{t()}finally{nu.transition=e}};he.unstable_act=y0;he.useCallback=function(t,e){return er.current.useCallback(t,e)};he.useContext=function(t){return er.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return er.current.useDeferredValue(t)};he.useEffect=function(t,e){return er.current.useEffect(t,e)};he.useId=function(){return er.current.useId()};he.useImperativeHandle=function(t,e,r){return er.current.useImperativeHandle(t,e,r)};he.useInsertionEffect=function(t,e){return er.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return er.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return er.current.useMemo(t,e)};he.useReducer=function(t,e,r){return er.current.useReducer(t,e,r)};he.useRef=function(t){return er.current.useRef(t)};he.useState=function(t){return er.current.useState(t)};he.useSyncExternalStore=function(t,e,r){return er.current.useSyncExternalStore(t,e,r)};he.useTransition=function(){return er.current.useTransition()};he.version="18.3.1";u0.exports=he;var R=u0.exports;const Yt=IA(R),UA=xA({__proto__:null,default:Yt},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jA=R,zA=Symbol.for("react.element"),BA=Symbol.for("react.fragment"),qA=Object.prototype.hasOwnProperty,HA=jA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WA={key:!0,ref:!0,__self:!0,__source:!0};function _0(t,e,r){var n,i={},o=null,s=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)qA.call(e,n)&&!WA.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:zA,type:t,key:o,ref:s,props:i,_owner:HA.current}}_d.Fragment=BA;_d.jsx=_0;_d.jsxs=_0;c0.exports=_d;var S=c0.exports,b0={exports:{}},Er={},w0={exports:{}},E0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,Z){var te=K.length;K.push(Z);e:for(;0<te;){var _e=te-1>>>1,se=K[_e];if(0<i(se,Z))K[_e]=Z,K[te]=se,te=_e;else break e}}function r(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var Z=K[0],te=K.pop();if(te!==Z){K[0]=te;e:for(var _e=0,se=K.length,ce=se>>>1;_e<ce;){var Se=2*(_e+1)-1,ot=K[Se],Ae=Se+1,Ee=K[Ae];if(0>i(ot,te))Ae<se&&0>i(Ee,ot)?(K[_e]=Ee,K[Ae]=te,_e=Ae):(K[_e]=ot,K[Se]=te,_e=Se);else if(Ae<se&&0>i(Ee,te))K[_e]=Ee,K[Ae]=te,_e=Ae;else break e}}return Z}function i(K,Z){var te=K.sortIndex-Z.sortIndex;return te!==0?te:K.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],h=1,p=null,m=3,_=!1,C=!1,k=!1,P=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(K){for(var Z=r(u);Z!==null;){if(Z.callback===null)n(u);else if(Z.startTime<=K)n(u),Z.sortIndex=Z.expirationTime,e(c,Z);else break;Z=r(u)}}function M(K){if(k=!1,I(K),!C)if(r(c)!==null)C=!0,hr($);else{var Z=r(u);Z!==null&&Ne(M,Z.startTime-K)}}function $(K,Z){C=!1,k&&(k=!1,w(g),g=-1),_=!0;var te=m;try{for(I(Z),p=r(c);p!==null&&(!(p.expirationTime>Z)||K&&!A());){var _e=p.callback;if(typeof _e=="function"){p.callback=null,m=p.priorityLevel;var se=_e(p.expirationTime<=Z);Z=t.unstable_now(),typeof se=="function"?p.callback=se:p===r(c)&&n(c),I(Z)}else n(c);p=r(c)}if(p!==null)var ce=!0;else{var Se=r(u);Se!==null&&Ne(M,Se.startTime-Z),ce=!1}return ce}finally{p=null,m=te,_=!1}}var F=!1,y=null,g=-1,E=5,x=-1;function A(){return!(t.unstable_now()-x<E)}function N(){if(y!==null){var K=t.unstable_now();x=K;var Z=!0;try{Z=y(!0,K)}finally{Z?T():(F=!1,y=null)}}else F=!1}var T;if(typeof b=="function")T=function(){b(N)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,dt=Pe.port2;Pe.port1.onmessage=N,T=function(){dt.postMessage(null)}}else T=function(){P(N,0)};function hr(K){y=K,F||(F=!0,T())}function Ne(K,Z){g=P(function(){K(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){C||_||(C=!0,hr($))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(K){switch(m){case 1:case 2:case 3:var Z=3;break;default:Z=m}var te=m;m=Z;try{return K()}finally{m=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,Z){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var te=m;m=K;try{return Z()}finally{m=te}},t.unstable_scheduleCallback=function(K,Z,te){var _e=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?_e+te:_e):te=_e,K){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=te+se,K={id:h++,callback:Z,priorityLevel:K,startTime:te,expirationTime:se,sortIndex:-1},te>_e?(K.sortIndex=te,e(u,K),r(c)===null&&K===r(u)&&(k?(w(g),g=-1):k=!0,Ne(M,te-_e))):(K.sortIndex=se,e(c,K),C||_||(C=!0,hr($))),K},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(K){var Z=m;return function(){var te=m;m=Z;try{return K.apply(this,arguments)}finally{m=te}}}})(E0);w0.exports=E0;var KA=w0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GA=R,br=KA;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var x0=new Set,Za={};function Ao(t,e){_s(t,e),_s(t+"Capture",e)}function _s(t,e){for(Za[t]=e,t=0;t<e.length;t++)x0.add(e[t])}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Df=Object.prototype.hasOwnProperty,QA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$y={},Fy={};function YA(t){return Df.call(Fy,t)?!0:Df.call($y,t)?!1:QA.test(t)?Fy[t]=!0:($y[t]=!0,!1)}function XA(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function JA(t,e,r,n){if(e===null||typeof e>"u"||XA(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tr(t,e,r,n,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kt[t]=new tr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kt[e]=new tr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kt[t]=new tr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kt[t]=new tr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kt[t]=new tr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kt[t]=new tr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kt[t]=new tr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kt[t]=new tr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kt[t]=new tr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Nm=/[\-:]([a-z])/g;function Dm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Nm,Dm);kt[e]=new tr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Nm,Dm);kt[e]=new tr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Nm,Dm);kt[e]=new tr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kt[t]=new tr(t,1,!1,t.toLowerCase(),null,!1,!1)});kt.xlinkHref=new tr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kt[t]=new tr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Om(t,e,r,n){var i=kt.hasOwnProperty(e)?kt[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(JA(e,r,i,n)&&(r=null),n||i===null?YA(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Kn=GA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xc=Symbol.for("react.element"),Go=Symbol.for("react.portal"),Qo=Symbol.for("react.fragment"),Lm=Symbol.for("react.strict_mode"),Of=Symbol.for("react.profiler"),I0=Symbol.for("react.provider"),T0=Symbol.for("react.context"),Mm=Symbol.for("react.forward_ref"),Lf=Symbol.for("react.suspense"),Mf=Symbol.for("react.suspense_list"),Vm=Symbol.for("react.memo"),ii=Symbol.for("react.lazy"),S0=Symbol.for("react.offscreen"),Uy=Symbol.iterator;function da(t){return t===null||typeof t!="object"?null:(t=Uy&&t[Uy]||t["@@iterator"],typeof t=="function"?t:null)}var He=Object.assign,Sh;function xa(t){if(Sh===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Sh=e&&e[1]||""}return`
`+Sh+t}var Ah=!1;function Ch(t,e){if(!t||Ah)return"";Ah=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var c=`
`+i[s].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=s&&0<=l);break}}}finally{Ah=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?xa(t):""}function ZA(t){switch(t.tag){case 5:return xa(t.type);case 16:return xa("Lazy");case 13:return xa("Suspense");case 19:return xa("SuspenseList");case 0:case 2:case 15:return t=Ch(t.type,!1),t;case 11:return t=Ch(t.type.render,!1),t;case 1:return t=Ch(t.type,!0),t;default:return""}}function Vf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qo:return"Fragment";case Go:return"Portal";case Of:return"Profiler";case Lm:return"StrictMode";case Lf:return"Suspense";case Mf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case T0:return(t.displayName||"Context")+".Consumer";case I0:return(t._context.displayName||"Context")+".Provider";case Mm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Vm:return e=t.displayName||null,e!==null?e:Vf(t.type)||"Memo";case ii:e=t._payload,t=t._init;try{return Vf(t(e))}catch{}}return null}function eC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vf(e);case 8:return e===Lm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ci(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function A0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tC(t){var e=A0(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ic(t){t._valueTracker||(t._valueTracker=tC(t))}function C0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=A0(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Su(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $f(t,e){var r=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function jy(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ci(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function k0(t,e){e=e.checked,e!=null&&Om(t,"checked",e,!1)}function Ff(t,e){k0(t,e);var r=Ci(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Uf(t,e.type,r):e.hasOwnProperty("defaultValue")&&Uf(t,e.type,Ci(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function zy(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Uf(t,e,r){(e!=="number"||Su(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Ia=Array.isArray;function as(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ci(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function jf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function By(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(B(92));if(Ia(r)){if(1<r.length)throw Error(B(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ci(r)}}function R0(t,e){var r=Ci(e.value),n=Ci(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function qy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function P0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?P0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Tc,N0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Tc=Tc||document.createElement("div"),Tc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Tc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function el(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Da={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rC=["Webkit","ms","Moz","O"];Object.keys(Da).forEach(function(t){rC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Da[e]=Da[t]})});function D0(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Da.hasOwnProperty(t)&&Da[t]?(""+e).trim():e+"px"}function O0(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=D0(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var nC=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bf(t,e){if(e){if(nC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function qf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hf=null;function $m(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wf=null,ls=null,cs=null;function Hy(t){if(t=zl(t)){if(typeof Wf!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Id(e),Wf(t.stateNode,t.type,e))}}function L0(t){ls?cs?cs.push(t):cs=[t]:ls=t}function M0(){if(ls){var t=ls,e=cs;if(cs=ls=null,Hy(t),e)for(t=0;t<e.length;t++)Hy(e[t])}}function V0(t,e){return t(e)}function $0(){}var kh=!1;function F0(t,e,r){if(kh)return t(e,r);kh=!0;try{return V0(t,e,r)}finally{kh=!1,(ls!==null||cs!==null)&&($0(),M0())}}function tl(t,e){var r=t.stateNode;if(r===null)return null;var n=Id(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(B(231,e,typeof r));return r}var Kf=!1;if($n)try{var ha={};Object.defineProperty(ha,"passive",{get:function(){Kf=!0}}),window.addEventListener("test",ha,ha),window.removeEventListener("test",ha,ha)}catch{Kf=!1}function iC(t,e,r,n,i,o,s,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(h){this.onError(h)}}var Oa=!1,Au=null,Cu=!1,Gf=null,oC={onError:function(t){Oa=!0,Au=t}};function sC(t,e,r,n,i,o,s,l,c){Oa=!1,Au=null,iC.apply(oC,arguments)}function aC(t,e,r,n,i,o,s,l,c){if(sC.apply(this,arguments),Oa){if(Oa){var u=Au;Oa=!1,Au=null}else throw Error(B(198));Cu||(Cu=!0,Gf=u)}}function Co(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function U0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Wy(t){if(Co(t)!==t)throw Error(B(188))}function lC(t){var e=t.alternate;if(!e){if(e=Co(t),e===null)throw Error(B(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Wy(i),t;if(o===n)return Wy(i),e;o=o.sibling}throw Error(B(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,l=i.child;l;){if(l===r){s=!0,r=i,n=o;break}if(l===n){s=!0,n=i,r=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===r){s=!0,r=o,n=i;break}if(l===n){s=!0,n=o,r=i;break}l=l.sibling}if(!s)throw Error(B(189))}}if(r.alternate!==n)throw Error(B(190))}if(r.tag!==3)throw Error(B(188));return r.stateNode.current===r?t:e}function j0(t){return t=lC(t),t!==null?z0(t):null}function z0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=z0(t);if(e!==null)return e;t=t.sibling}return null}var B0=br.unstable_scheduleCallback,Ky=br.unstable_cancelCallback,cC=br.unstable_shouldYield,uC=br.unstable_requestPaint,nt=br.unstable_now,dC=br.unstable_getCurrentPriorityLevel,Fm=br.unstable_ImmediatePriority,q0=br.unstable_UserBlockingPriority,ku=br.unstable_NormalPriority,hC=br.unstable_LowPriority,H0=br.unstable_IdlePriority,bd=null,sn=null;function fC(t){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(bd,t,void 0,(t.current.flags&128)===128)}catch{}}var Wr=Math.clz32?Math.clz32:gC,pC=Math.log,mC=Math.LN2;function gC(t){return t>>>=0,t===0?32:31-(pC(t)/mC|0)|0}var Sc=64,Ac=4194304;function Ta(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ru(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,o=t.pingedLanes,s=r&268435455;if(s!==0){var l=s&~i;l!==0?n=Ta(l):(o&=s,o!==0&&(n=Ta(o)))}else s=r&~i,s!==0?n=Ta(s):o!==0&&(n=Ta(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Wr(e),i=1<<r,n|=t[r],e&=~i;return n}function vC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yC(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Wr(o),l=1<<s,c=i[s];c===-1?(!(l&r)||l&n)&&(i[s]=vC(l,e)):c<=e&&(t.expiredLanes|=l),o&=~l}}function Qf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function W0(){var t=Sc;return Sc<<=1,!(Sc&4194240)&&(Sc=64),t}function Rh(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ul(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Wr(e),t[e]=r}function _C(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Wr(r),o=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~o}}function Um(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Wr(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ce=0;function K0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var G0,jm,Q0,Y0,X0,Yf=!1,Cc=[],vi=null,yi=null,_i=null,rl=new Map,nl=new Map,li=[],bC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gy(t,e){switch(t){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":rl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":nl.delete(e.pointerId)}}function fa(t,e,r,n,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},e!==null&&(e=zl(e),e!==null&&jm(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function wC(t,e,r,n,i){switch(e){case"focusin":return vi=fa(vi,t,e,r,n,i),!0;case"dragenter":return yi=fa(yi,t,e,r,n,i),!0;case"mouseover":return _i=fa(_i,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return rl.set(o,fa(rl.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,nl.set(o,fa(nl.get(o)||null,t,e,r,n,i)),!0}return!1}function J0(t){var e=Zi(t.target);if(e!==null){var r=Co(e);if(r!==null){if(e=r.tag,e===13){if(e=U0(r),e!==null){t.blockedOn=e,X0(t.priority,function(){Q0(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function iu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Xf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Hf=n,r.target.dispatchEvent(n),Hf=null}else return e=zl(r),e!==null&&jm(e),t.blockedOn=r,!1;e.shift()}return!0}function Qy(t,e,r){iu(t)&&r.delete(e)}function EC(){Yf=!1,vi!==null&&iu(vi)&&(vi=null),yi!==null&&iu(yi)&&(yi=null),_i!==null&&iu(_i)&&(_i=null),rl.forEach(Qy),nl.forEach(Qy)}function pa(t,e){t.blockedOn===e&&(t.blockedOn=null,Yf||(Yf=!0,br.unstable_scheduleCallback(br.unstable_NormalPriority,EC)))}function il(t){function e(i){return pa(i,t)}if(0<Cc.length){pa(Cc[0],t);for(var r=1;r<Cc.length;r++){var n=Cc[r];n.blockedOn===t&&(n.blockedOn=null)}}for(vi!==null&&pa(vi,t),yi!==null&&pa(yi,t),_i!==null&&pa(_i,t),rl.forEach(e),nl.forEach(e),r=0;r<li.length;r++)n=li[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<li.length&&(r=li[0],r.blockedOn===null);)J0(r),r.blockedOn===null&&li.shift()}var us=Kn.ReactCurrentBatchConfig,Pu=!0;function xC(t,e,r,n){var i=Ce,o=us.transition;us.transition=null;try{Ce=1,zm(t,e,r,n)}finally{Ce=i,us.transition=o}}function IC(t,e,r,n){var i=Ce,o=us.transition;us.transition=null;try{Ce=4,zm(t,e,r,n)}finally{Ce=i,us.transition=o}}function zm(t,e,r,n){if(Pu){var i=Xf(t,e,r,n);if(i===null)Uh(t,e,n,Nu,r),Gy(t,n);else if(wC(i,t,e,r,n))n.stopPropagation();else if(Gy(t,n),e&4&&-1<bC.indexOf(t)){for(;i!==null;){var o=zl(i);if(o!==null&&G0(o),o=Xf(t,e,r,n),o===null&&Uh(t,e,n,Nu,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else Uh(t,e,n,null,r)}}var Nu=null;function Xf(t,e,r,n){if(Nu=null,t=$m(n),t=Zi(t),t!==null)if(e=Co(t),e===null)t=null;else if(r=e.tag,r===13){if(t=U0(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Nu=t,null}function Z0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dC()){case Fm:return 1;case q0:return 4;case ku:case hC:return 16;case H0:return 536870912;default:return 16}default:return 16}}var pi=null,Bm=null,ou=null;function eE(){if(ou)return ou;var t,e=Bm,r=e.length,n,i="value"in pi?pi.value:pi.textContent,o=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[o-n];n++);return ou=i.slice(t,1<n?1-n:void 0)}function su(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function kc(){return!0}function Yy(){return!1}function xr(t){function e(r,n,i,o,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?kc:Yy,this.isPropagationStopped=Yy,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=kc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=kc)},persist:function(){},isPersistent:kc}),e}var Vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qm=xr(Vs),jl=He({},Vs,{view:0,detail:0}),TC=xr(jl),Ph,Nh,ma,wd=He({},jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ma&&(ma&&t.type==="mousemove"?(Ph=t.screenX-ma.screenX,Nh=t.screenY-ma.screenY):Nh=Ph=0,ma=t),Ph)},movementY:function(t){return"movementY"in t?t.movementY:Nh}}),Xy=xr(wd),SC=He({},wd,{dataTransfer:0}),AC=xr(SC),CC=He({},jl,{relatedTarget:0}),Dh=xr(CC),kC=He({},Vs,{animationName:0,elapsedTime:0,pseudoElement:0}),RC=xr(kC),PC=He({},Vs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),NC=xr(PC),DC=He({},Vs,{data:0}),Jy=xr(DC),OC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=MC[t])?!!e[t]:!1}function Hm(){return VC}var $C=He({},jl,{key:function(t){if(t.key){var e=OC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=su(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hm,charCode:function(t){return t.type==="keypress"?su(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?su(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),FC=xr($C),UC=He({},wd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zy=xr(UC),jC=He({},jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hm}),zC=xr(jC),BC=He({},Vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),qC=xr(BC),HC=He({},wd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),WC=xr(HC),KC=[9,13,27,32],Wm=$n&&"CompositionEvent"in window,La=null;$n&&"documentMode"in document&&(La=document.documentMode);var GC=$n&&"TextEvent"in window&&!La,tE=$n&&(!Wm||La&&8<La&&11>=La),e_=" ",t_=!1;function rE(t,e){switch(t){case"keyup":return KC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yo=!1;function QC(t,e){switch(t){case"compositionend":return nE(e);case"keypress":return e.which!==32?null:(t_=!0,e_);case"textInput":return t=e.data,t===e_&&t_?null:t;default:return null}}function YC(t,e){if(Yo)return t==="compositionend"||!Wm&&rE(t,e)?(t=eE(),ou=Bm=pi=null,Yo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tE&&e.locale!=="ko"?null:e.data;default:return null}}var XC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!XC[t.type]:e==="textarea"}function iE(t,e,r,n){L0(n),e=Du(e,"onChange"),0<e.length&&(r=new qm("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Ma=null,ol=null;function JC(t){mE(t,0)}function Ed(t){var e=Zo(t);if(C0(e))return t}function ZC(t,e){if(t==="change")return e}var oE=!1;if($n){var Oh;if($n){var Lh="oninput"in document;if(!Lh){var n_=document.createElement("div");n_.setAttribute("oninput","return;"),Lh=typeof n_.oninput=="function"}Oh=Lh}else Oh=!1;oE=Oh&&(!document.documentMode||9<document.documentMode)}function i_(){Ma&&(Ma.detachEvent("onpropertychange",sE),ol=Ma=null)}function sE(t){if(t.propertyName==="value"&&Ed(ol)){var e=[];iE(e,ol,t,$m(t)),F0(JC,e)}}function ek(t,e,r){t==="focusin"?(i_(),Ma=e,ol=r,Ma.attachEvent("onpropertychange",sE)):t==="focusout"&&i_()}function tk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ed(ol)}function rk(t,e){if(t==="click")return Ed(e)}function nk(t,e){if(t==="input"||t==="change")return Ed(e)}function ik(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qr=typeof Object.is=="function"?Object.is:ik;function sl(t,e){if(Qr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Df.call(e,i)||!Qr(t[i],e[i]))return!1}return!0}function o_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function s_(t,e){var r=o_(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=o_(r)}}function aE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?aE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lE(){for(var t=window,e=Su();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Su(t.document)}return e}function Km(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ok(t){var e=lE(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&aE(r.ownerDocument.documentElement,r)){if(n!==null&&Km(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!t.extend&&o>n&&(i=n,n=o,o=i),i=s_(r,o);var s=s_(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sk=$n&&"documentMode"in document&&11>=document.documentMode,Xo=null,Jf=null,Va=null,Zf=!1;function a_(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Zf||Xo==null||Xo!==Su(n)||(n=Xo,"selectionStart"in n&&Km(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Va&&sl(Va,n)||(Va=n,n=Du(Jf,"onSelect"),0<n.length&&(e=new qm("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Xo)))}function Rc(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Jo={animationend:Rc("Animation","AnimationEnd"),animationiteration:Rc("Animation","AnimationIteration"),animationstart:Rc("Animation","AnimationStart"),transitionend:Rc("Transition","TransitionEnd")},Mh={},cE={};$n&&(cE=document.createElement("div").style,"AnimationEvent"in window||(delete Jo.animationend.animation,delete Jo.animationiteration.animation,delete Jo.animationstart.animation),"TransitionEvent"in window||delete Jo.transitionend.transition);function xd(t){if(Mh[t])return Mh[t];if(!Jo[t])return t;var e=Jo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in cE)return Mh[t]=e[r];return t}var uE=xd("animationend"),dE=xd("animationiteration"),hE=xd("animationstart"),fE=xd("transitionend"),pE=new Map,l_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Di(t,e){pE.set(t,e),Ao(e,[t])}for(var Vh=0;Vh<l_.length;Vh++){var $h=l_[Vh],ak=$h.toLowerCase(),lk=$h[0].toUpperCase()+$h.slice(1);Di(ak,"on"+lk)}Di(uE,"onAnimationEnd");Di(dE,"onAnimationIteration");Di(hE,"onAnimationStart");Di("dblclick","onDoubleClick");Di("focusin","onFocus");Di("focusout","onBlur");Di(fE,"onTransitionEnd");_s("onMouseEnter",["mouseout","mouseover"]);_s("onMouseLeave",["mouseout","mouseover"]);_s("onPointerEnter",["pointerout","pointerover"]);_s("onPointerLeave",["pointerout","pointerover"]);Ao("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ao("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ao("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ao("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ao("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ao("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ck=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sa));function c_(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,aC(n,e,void 0,t),t.currentTarget=null}function mE(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var s=n.length-1;0<=s;s--){var l=n[s],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&i.isPropagationStopped())break e;c_(i,l,u),o=c}else for(s=0;s<n.length;s++){if(l=n[s],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&i.isPropagationStopped())break e;c_(i,l,u),o=c}}}if(Cu)throw t=Gf,Cu=!1,Gf=null,t}function Me(t,e){var r=e[ip];r===void 0&&(r=e[ip]=new Set);var n=t+"__bubble";r.has(n)||(gE(e,t,2,!1),r.add(n))}function Fh(t,e,r){var n=0;e&&(n|=4),gE(r,t,n,e)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function al(t){if(!t[Pc]){t[Pc]=!0,x0.forEach(function(r){r!=="selectionchange"&&(ck.has(r)||Fh(r,!1,t),Fh(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Pc]||(e[Pc]=!0,Fh("selectionchange",!1,e))}}function gE(t,e,r,n){switch(Z0(e)){case 1:var i=xC;break;case 4:i=IC;break;default:i=zm}r=i.bind(null,e,r,t),i=void 0,!Kf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Uh(t,e,r,n,i){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Zi(l),s===null)return;if(c=s.tag,c===5||c===6){n=o=s;continue e}l=l.parentNode}}n=n.return}F0(function(){var u=o,h=$m(r),p=[];e:{var m=pE.get(t);if(m!==void 0){var _=qm,C=t;switch(t){case"keypress":if(su(r)===0)break e;case"keydown":case"keyup":_=FC;break;case"focusin":C="focus",_=Dh;break;case"focusout":C="blur",_=Dh;break;case"beforeblur":case"afterblur":_=Dh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Xy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=AC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=zC;break;case uE:case dE:case hE:_=RC;break;case fE:_=qC;break;case"scroll":_=TC;break;case"wheel":_=WC;break;case"copy":case"cut":case"paste":_=NC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Zy}var k=(e&4)!==0,P=!k&&t==="scroll",w=k?m!==null?m+"Capture":null:m;k=[];for(var b=u,I;b!==null;){I=b;var M=I.stateNode;if(I.tag===5&&M!==null&&(I=M,w!==null&&(M=tl(b,w),M!=null&&k.push(ll(b,M,I)))),P)break;b=b.return}0<k.length&&(m=new _(m,C,null,r,h),p.push({event:m,listeners:k}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",m&&r!==Hf&&(C=r.relatedTarget||r.fromElement)&&(Zi(C)||C[Fn]))break e;if((_||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,_?(C=r.relatedTarget||r.toElement,_=u,C=C?Zi(C):null,C!==null&&(P=Co(C),C!==P||C.tag!==5&&C.tag!==6)&&(C=null)):(_=null,C=u),_!==C)){if(k=Xy,M="onMouseLeave",w="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(k=Zy,M="onPointerLeave",w="onPointerEnter",b="pointer"),P=_==null?m:Zo(_),I=C==null?m:Zo(C),m=new k(M,b+"leave",_,r,h),m.target=P,m.relatedTarget=I,M=null,Zi(h)===u&&(k=new k(w,b+"enter",C,r,h),k.target=I,k.relatedTarget=P,M=k),P=M,_&&C)t:{for(k=_,w=C,b=0,I=k;I;I=zo(I))b++;for(I=0,M=w;M;M=zo(M))I++;for(;0<b-I;)k=zo(k),b--;for(;0<I-b;)w=zo(w),I--;for(;b--;){if(k===w||w!==null&&k===w.alternate)break t;k=zo(k),w=zo(w)}k=null}else k=null;_!==null&&u_(p,m,_,k,!1),C!==null&&P!==null&&u_(p,P,C,k,!0)}}e:{if(m=u?Zo(u):window,_=m.nodeName&&m.nodeName.toLowerCase(),_==="select"||_==="input"&&m.type==="file")var $=ZC;else if(r_(m))if(oE)$=nk;else{$=tk;var F=ek}else(_=m.nodeName)&&_.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&($=rk);if($&&($=$(t,u))){iE(p,$,r,h);break e}F&&F(t,m,u),t==="focusout"&&(F=m._wrapperState)&&F.controlled&&m.type==="number"&&Uf(m,"number",m.value)}switch(F=u?Zo(u):window,t){case"focusin":(r_(F)||F.contentEditable==="true")&&(Xo=F,Jf=u,Va=null);break;case"focusout":Va=Jf=Xo=null;break;case"mousedown":Zf=!0;break;case"contextmenu":case"mouseup":case"dragend":Zf=!1,a_(p,r,h);break;case"selectionchange":if(sk)break;case"keydown":case"keyup":a_(p,r,h)}var y;if(Wm)e:{switch(t){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else Yo?rE(t,r)&&(g="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(g="onCompositionStart");g&&(tE&&r.locale!=="ko"&&(Yo||g!=="onCompositionStart"?g==="onCompositionEnd"&&Yo&&(y=eE()):(pi=h,Bm="value"in pi?pi.value:pi.textContent,Yo=!0)),F=Du(u,g),0<F.length&&(g=new Jy(g,t,null,r,h),p.push({event:g,listeners:F}),y?g.data=y:(y=nE(r),y!==null&&(g.data=y)))),(y=GC?QC(t,r):YC(t,r))&&(u=Du(u,"onBeforeInput"),0<u.length&&(h=new Jy("onBeforeInput","beforeinput",null,r,h),p.push({event:h,listeners:u}),h.data=y))}mE(p,e)})}function ll(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Du(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=tl(t,r),o!=null&&n.unshift(ll(t,o,i)),o=tl(t,e),o!=null&&n.push(ll(t,o,i))),t=t.return}return n}function zo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function u_(t,e,r,n,i){for(var o=e._reactName,s=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=tl(r,o),c!=null&&s.unshift(ll(r,c,l))):i||(c=tl(r,o),c!=null&&s.push(ll(r,c,l)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var uk=/\r\n?/g,dk=/\u0000|\uFFFD/g;function d_(t){return(typeof t=="string"?t:""+t).replace(uk,`
`).replace(dk,"")}function Nc(t,e,r){if(e=d_(e),d_(t)!==e&&r)throw Error(B(425))}function Ou(){}var ep=null,tp=null;function rp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var np=typeof setTimeout=="function"?setTimeout:void 0,hk=typeof clearTimeout=="function"?clearTimeout:void 0,h_=typeof Promise=="function"?Promise:void 0,fk=typeof queueMicrotask=="function"?queueMicrotask:typeof h_<"u"?function(t){return h_.resolve(null).then(t).catch(pk)}:np;function pk(t){setTimeout(function(){throw t})}function jh(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),il(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);il(e)}function bi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function f_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var $s=Math.random().toString(36).slice(2),on="__reactFiber$"+$s,cl="__reactProps$"+$s,Fn="__reactContainer$"+$s,ip="__reactEvents$"+$s,mk="__reactListeners$"+$s,gk="__reactHandles$"+$s;function Zi(t){var e=t[on];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Fn]||r[on]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=f_(t);t!==null;){if(r=t[on])return r;t=f_(t)}return e}t=r,r=t.parentNode}return null}function zl(t){return t=t[on]||t[Fn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Id(t){return t[cl]||null}var op=[],es=-1;function Oi(t){return{current:t}}function $e(t){0>es||(t.current=op[es],op[es]=null,es--)}function De(t,e){es++,op[es]=t.current,t.current=e}var ki={},zt=Oi(ki),lr=Oi(!1),po=ki;function bs(t,e){var r=t.type.contextTypes;if(!r)return ki;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function cr(t){return t=t.childContextTypes,t!=null}function Lu(){$e(lr),$e(zt)}function p_(t,e,r){if(zt.current!==ki)throw Error(B(168));De(zt,e),De(lr,r)}function vE(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(B(108,eC(t)||"Unknown",i));return He({},r,n)}function Mu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ki,po=zt.current,De(zt,t),De(lr,lr.current),!0}function m_(t,e,r){var n=t.stateNode;if(!n)throw Error(B(169));r?(t=vE(t,e,po),n.__reactInternalMemoizedMergedChildContext=t,$e(lr),$e(zt),De(zt,t)):$e(lr),De(lr,r)}var Cn=null,Td=!1,zh=!1;function yE(t){Cn===null?Cn=[t]:Cn.push(t)}function vk(t){Td=!0,yE(t)}function Li(){if(!zh&&Cn!==null){zh=!0;var t=0,e=Ce;try{var r=Cn;for(Ce=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Cn=null,Td=!1}catch(i){throw Cn!==null&&(Cn=Cn.slice(t+1)),B0(Fm,Li),i}finally{Ce=e,zh=!1}}return null}var ts=[],rs=0,Vu=null,$u=0,Ar=[],Cr=0,mo=null,Rn=1,Pn="";function Yi(t,e){ts[rs++]=$u,ts[rs++]=Vu,Vu=t,$u=e}function _E(t,e,r){Ar[Cr++]=Rn,Ar[Cr++]=Pn,Ar[Cr++]=mo,mo=t;var n=Rn;t=Pn;var i=32-Wr(n)-1;n&=~(1<<i),r+=1;var o=32-Wr(e)+i;if(30<o){var s=i-i%5;o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Rn=1<<32-Wr(e)+i|r<<i|n,Pn=o+t}else Rn=1<<o|r<<i|n,Pn=t}function Gm(t){t.return!==null&&(Yi(t,1),_E(t,1,0))}function Qm(t){for(;t===Vu;)Vu=ts[--rs],ts[rs]=null,$u=ts[--rs],ts[rs]=null;for(;t===mo;)mo=Ar[--Cr],Ar[Cr]=null,Pn=Ar[--Cr],Ar[Cr]=null,Rn=Ar[--Cr],Ar[Cr]=null}var _r=null,vr=null,Ue=!1,qr=null;function bE(t,e){var r=kr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function g_(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_r=t,vr=bi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_r=t,vr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=mo!==null?{id:Rn,overflow:Pn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=kr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,_r=t,vr=null,!0):!1;default:return!1}}function sp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ap(t){if(Ue){var e=vr;if(e){var r=e;if(!g_(t,e)){if(sp(t))throw Error(B(418));e=bi(r.nextSibling);var n=_r;e&&g_(t,e)?bE(n,r):(t.flags=t.flags&-4097|2,Ue=!1,_r=t)}}else{if(sp(t))throw Error(B(418));t.flags=t.flags&-4097|2,Ue=!1,_r=t}}}function v_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_r=t}function Dc(t){if(t!==_r)return!1;if(!Ue)return v_(t),Ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!rp(t.type,t.memoizedProps)),e&&(e=vr)){if(sp(t))throw wE(),Error(B(418));for(;e;)bE(t,e),e=bi(e.nextSibling)}if(v_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){vr=bi(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}vr=null}}else vr=_r?bi(t.stateNode.nextSibling):null;return!0}function wE(){for(var t=vr;t;)t=bi(t.nextSibling)}function ws(){vr=_r=null,Ue=!1}function Ym(t){qr===null?qr=[t]:qr.push(t)}var yk=Kn.ReactCurrentBatchConfig;function ga(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(B(309));var n=r.stateNode}if(!n)throw Error(B(147,t));var i=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(B(284));if(!r._owner)throw Error(B(290,t))}return t}function Oc(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function y_(t){var e=t._init;return e(t._payload)}function EE(t){function e(w,b){if(t){var I=w.deletions;I===null?(w.deletions=[b],w.flags|=16):I.push(b)}}function r(w,b){if(!t)return null;for(;b!==null;)e(w,b),b=b.sibling;return null}function n(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function i(w,b){return w=Ii(w,b),w.index=0,w.sibling=null,w}function o(w,b,I){return w.index=I,t?(I=w.alternate,I!==null?(I=I.index,I<b?(w.flags|=2,b):I):(w.flags|=2,b)):(w.flags|=1048576,b)}function s(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,b,I,M){return b===null||b.tag!==6?(b=Qh(I,w.mode,M),b.return=w,b):(b=i(b,I),b.return=w,b)}function c(w,b,I,M){var $=I.type;return $===Qo?h(w,b,I.props.children,M,I.key):b!==null&&(b.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===ii&&y_($)===b.type)?(M=i(b,I.props),M.ref=ga(w,b,I),M.return=w,M):(M=fu(I.type,I.key,I.props,null,w.mode,M),M.ref=ga(w,b,I),M.return=w,M)}function u(w,b,I,M){return b===null||b.tag!==4||b.stateNode.containerInfo!==I.containerInfo||b.stateNode.implementation!==I.implementation?(b=Yh(I,w.mode,M),b.return=w,b):(b=i(b,I.children||[]),b.return=w,b)}function h(w,b,I,M,$){return b===null||b.tag!==7?(b=lo(I,w.mode,M,$),b.return=w,b):(b=i(b,I),b.return=w,b)}function p(w,b,I){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Qh(""+b,w.mode,I),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case xc:return I=fu(b.type,b.key,b.props,null,w.mode,I),I.ref=ga(w,null,b),I.return=w,I;case Go:return b=Yh(b,w.mode,I),b.return=w,b;case ii:var M=b._init;return p(w,M(b._payload),I)}if(Ia(b)||da(b))return b=lo(b,w.mode,I,null),b.return=w,b;Oc(w,b)}return null}function m(w,b,I,M){var $=b!==null?b.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return $!==null?null:l(w,b,""+I,M);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case xc:return I.key===$?c(w,b,I,M):null;case Go:return I.key===$?u(w,b,I,M):null;case ii:return $=I._init,m(w,b,$(I._payload),M)}if(Ia(I)||da(I))return $!==null?null:h(w,b,I,M,null);Oc(w,I)}return null}function _(w,b,I,M,$){if(typeof M=="string"&&M!==""||typeof M=="number")return w=w.get(I)||null,l(b,w,""+M,$);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case xc:return w=w.get(M.key===null?I:M.key)||null,c(b,w,M,$);case Go:return w=w.get(M.key===null?I:M.key)||null,u(b,w,M,$);case ii:var F=M._init;return _(w,b,I,F(M._payload),$)}if(Ia(M)||da(M))return w=w.get(I)||null,h(b,w,M,$,null);Oc(b,M)}return null}function C(w,b,I,M){for(var $=null,F=null,y=b,g=b=0,E=null;y!==null&&g<I.length;g++){y.index>g?(E=y,y=null):E=y.sibling;var x=m(w,y,I[g],M);if(x===null){y===null&&(y=E);break}t&&y&&x.alternate===null&&e(w,y),b=o(x,b,g),F===null?$=x:F.sibling=x,F=x,y=E}if(g===I.length)return r(w,y),Ue&&Yi(w,g),$;if(y===null){for(;g<I.length;g++)y=p(w,I[g],M),y!==null&&(b=o(y,b,g),F===null?$=y:F.sibling=y,F=y);return Ue&&Yi(w,g),$}for(y=n(w,y);g<I.length;g++)E=_(y,w,g,I[g],M),E!==null&&(t&&E.alternate!==null&&y.delete(E.key===null?g:E.key),b=o(E,b,g),F===null?$=E:F.sibling=E,F=E);return t&&y.forEach(function(A){return e(w,A)}),Ue&&Yi(w,g),$}function k(w,b,I,M){var $=da(I);if(typeof $!="function")throw Error(B(150));if(I=$.call(I),I==null)throw Error(B(151));for(var F=$=null,y=b,g=b=0,E=null,x=I.next();y!==null&&!x.done;g++,x=I.next()){y.index>g?(E=y,y=null):E=y.sibling;var A=m(w,y,x.value,M);if(A===null){y===null&&(y=E);break}t&&y&&A.alternate===null&&e(w,y),b=o(A,b,g),F===null?$=A:F.sibling=A,F=A,y=E}if(x.done)return r(w,y),Ue&&Yi(w,g),$;if(y===null){for(;!x.done;g++,x=I.next())x=p(w,x.value,M),x!==null&&(b=o(x,b,g),F===null?$=x:F.sibling=x,F=x);return Ue&&Yi(w,g),$}for(y=n(w,y);!x.done;g++,x=I.next())x=_(y,w,g,x.value,M),x!==null&&(t&&x.alternate!==null&&y.delete(x.key===null?g:x.key),b=o(x,b,g),F===null?$=x:F.sibling=x,F=x);return t&&y.forEach(function(N){return e(w,N)}),Ue&&Yi(w,g),$}function P(w,b,I,M){if(typeof I=="object"&&I!==null&&I.type===Qo&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case xc:e:{for(var $=I.key,F=b;F!==null;){if(F.key===$){if($=I.type,$===Qo){if(F.tag===7){r(w,F.sibling),b=i(F,I.props.children),b.return=w,w=b;break e}}else if(F.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===ii&&y_($)===F.type){r(w,F.sibling),b=i(F,I.props),b.ref=ga(w,F,I),b.return=w,w=b;break e}r(w,F);break}else e(w,F);F=F.sibling}I.type===Qo?(b=lo(I.props.children,w.mode,M,I.key),b.return=w,w=b):(M=fu(I.type,I.key,I.props,null,w.mode,M),M.ref=ga(w,b,I),M.return=w,w=M)}return s(w);case Go:e:{for(F=I.key;b!==null;){if(b.key===F)if(b.tag===4&&b.stateNode.containerInfo===I.containerInfo&&b.stateNode.implementation===I.implementation){r(w,b.sibling),b=i(b,I.children||[]),b.return=w,w=b;break e}else{r(w,b);break}else e(w,b);b=b.sibling}b=Yh(I,w.mode,M),b.return=w,w=b}return s(w);case ii:return F=I._init,P(w,b,F(I._payload),M)}if(Ia(I))return C(w,b,I,M);if(da(I))return k(w,b,I,M);Oc(w,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,b!==null&&b.tag===6?(r(w,b.sibling),b=i(b,I),b.return=w,w=b):(r(w,b),b=Qh(I,w.mode,M),b.return=w,w=b),s(w)):r(w,b)}return P}var Es=EE(!0),xE=EE(!1),Fu=Oi(null),Uu=null,ns=null,Xm=null;function Jm(){Xm=ns=Uu=null}function Zm(t){var e=Fu.current;$e(Fu),t._currentValue=e}function lp(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function ds(t,e){Uu=t,Xm=ns=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ar=!0),t.firstContext=null)}function Or(t){var e=t._currentValue;if(Xm!==t)if(t={context:t,memoizedValue:e,next:null},ns===null){if(Uu===null)throw Error(B(308));ns=t,Uu.dependencies={lanes:0,firstContext:t}}else ns=ns.next=t;return e}var eo=null;function eg(t){eo===null?eo=[t]:eo.push(t)}function IE(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,eg(e)):(r.next=i.next,i.next=r),e.interleaved=r,Un(t,n)}function Un(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var oi=!1;function tg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ln(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wi(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ye&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Un(t,r)}return i=n.interleaved,i===null?(e.next=e,eg(n)):(e.next=i.next,i.next=e),n.interleaved=e,Un(t,r)}function au(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Um(t,r)}}function __(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?i=o=e:o=o.next=e}else i=o=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function ju(t,e,r,n){var i=t.updateQueue;oi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,s===null?o=u:s.next=u,s=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==s&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(o!==null){var p=i.baseState;s=0,h=u=c=null,l=o;do{var m=l.lane,_=l.eventTime;if((n&m)===m){h!==null&&(h=h.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var C=t,k=l;switch(m=e,_=r,k.tag){case 1:if(C=k.payload,typeof C=="function"){p=C.call(_,p,m);break e}p=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=k.payload,m=typeof C=="function"?C.call(_,p,m):C,m==null)break e;p=He({},p,m);break e;case 2:oi=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else _={eventTime:_,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=_,c=p):h=h.next=_,s|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(c=p),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);vo|=s,t.lanes=s,t.memoizedState=p}}function b_(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(B(191,i));i.call(n)}}}var Bl={},an=Oi(Bl),ul=Oi(Bl),dl=Oi(Bl);function to(t){if(t===Bl)throw Error(B(174));return t}function rg(t,e){switch(De(dl,e),De(ul,t),De(an,Bl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zf(e,t)}$e(an),De(an,e)}function xs(){$e(an),$e(ul),$e(dl)}function SE(t){to(dl.current);var e=to(an.current),r=zf(e,t.type);e!==r&&(De(ul,t),De(an,r))}function ng(t){ul.current===t&&($e(an),$e(ul))}var Be=Oi(0);function zu(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Bh=[];function ig(){for(var t=0;t<Bh.length;t++)Bh[t]._workInProgressVersionPrimary=null;Bh.length=0}var lu=Kn.ReactCurrentDispatcher,qh=Kn.ReactCurrentBatchConfig,go=0,qe=null,ft=null,yt=null,Bu=!1,$a=!1,hl=0,_k=0;function Lt(){throw Error(B(321))}function og(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Qr(t[r],e[r]))return!1;return!0}function sg(t,e,r,n,i,o){if(go=o,qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,lu.current=t===null||t.memoizedState===null?xk:Ik,t=r(n,i),$a){o=0;do{if($a=!1,hl=0,25<=o)throw Error(B(301));o+=1,yt=ft=null,e.updateQueue=null,lu.current=Tk,t=r(n,i)}while($a)}if(lu.current=qu,e=ft!==null&&ft.next!==null,go=0,yt=ft=qe=null,Bu=!1,e)throw Error(B(300));return t}function ag(){var t=hl!==0;return hl=0,t}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?qe.memoizedState=yt=t:yt=yt.next=t,yt}function Lr(){if(ft===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var e=yt===null?qe.memoizedState:yt.next;if(e!==null)yt=e,ft=t;else{if(t===null)throw Error(B(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},yt===null?qe.memoizedState=yt=t:yt=yt.next=t}return yt}function fl(t,e){return typeof e=="function"?e(t):e}function Hh(t){var e=Lr(),r=e.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=t;var n=ft,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var l=s=null,c=null,u=o;do{var h=u.lane;if((go&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var p={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=p,s=n):c=c.next=p,qe.lanes|=h,vo|=h}u=u.next}while(u!==null&&u!==o);c===null?s=n:c.next=l,Qr(n,e.memoizedState)||(ar=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do o=i.lane,qe.lanes|=o,vo|=o,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Wh(t){var e=Lr(),r=e.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Qr(o,e.memoizedState)||(ar=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function AE(){}function CE(t,e){var r=qe,n=Lr(),i=e(),o=!Qr(n.memoizedState,i);if(o&&(n.memoizedState=i,ar=!0),n=n.queue,lg(PE.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||yt!==null&&yt.memoizedState.tag&1){if(r.flags|=2048,pl(9,RE.bind(null,r,n,i,e),void 0,null),bt===null)throw Error(B(349));go&30||kE(r,e,i)}return i}function kE(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function RE(t,e,r,n){e.value=r,e.getSnapshot=n,NE(e)&&DE(t)}function PE(t,e,r){return r(function(){NE(e)&&DE(t)})}function NE(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Qr(t,r)}catch{return!0}}function DE(t){var e=Un(t,1);e!==null&&Kr(e,t,1,-1)}function w_(t){var e=nn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:t},e.queue=t,t=t.dispatch=Ek.bind(null,qe,t),[e.memoizedState,t]}function pl(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function OE(){return Lr().memoizedState}function cu(t,e,r,n){var i=nn();qe.flags|=t,i.memoizedState=pl(1|e,r,void 0,n===void 0?null:n)}function Sd(t,e,r,n){var i=Lr();n=n===void 0?null:n;var o=void 0;if(ft!==null){var s=ft.memoizedState;if(o=s.destroy,n!==null&&og(n,s.deps)){i.memoizedState=pl(e,r,o,n);return}}qe.flags|=t,i.memoizedState=pl(1|e,r,o,n)}function E_(t,e){return cu(8390656,8,t,e)}function lg(t,e){return Sd(2048,8,t,e)}function LE(t,e){return Sd(4,2,t,e)}function ME(t,e){return Sd(4,4,t,e)}function VE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $E(t,e,r){return r=r!=null?r.concat([t]):null,Sd(4,4,VE.bind(null,e,t),r)}function cg(){}function FE(t,e){var r=Lr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&og(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function UE(t,e){var r=Lr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&og(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function jE(t,e,r){return go&21?(Qr(r,e)||(r=W0(),qe.lanes|=r,vo|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ar=!0),t.memoizedState=r)}function bk(t,e){var r=Ce;Ce=r!==0&&4>r?r:4,t(!0);var n=qh.transition;qh.transition={};try{t(!1),e()}finally{Ce=r,qh.transition=n}}function zE(){return Lr().memoizedState}function wk(t,e,r){var n=xi(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},BE(t))qE(e,r);else if(r=IE(t,e,r,n),r!==null){var i=Xt();Kr(r,t,n,i),HE(r,e,n)}}function Ek(t,e,r){var n=xi(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(BE(t))qE(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,r);if(i.hasEagerState=!0,i.eagerState=l,Qr(l,s)){var c=e.interleaved;c===null?(i.next=i,eg(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=IE(t,e,i,n),r!==null&&(i=Xt(),Kr(r,t,n,i),HE(r,e,n))}}function BE(t){var e=t.alternate;return t===qe||e!==null&&e===qe}function qE(t,e){$a=Bu=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function HE(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Um(t,r)}}var qu={readContext:Or,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},xk={readContext:Or,useCallback:function(t,e){return nn().memoizedState=[t,e===void 0?null:e],t},useContext:Or,useEffect:E_,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,cu(4194308,4,VE.bind(null,e,t),r)},useLayoutEffect:function(t,e){return cu(4194308,4,t,e)},useInsertionEffect:function(t,e){return cu(4,2,t,e)},useMemo:function(t,e){var r=nn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=nn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=wk.bind(null,qe,t),[n.memoizedState,t]},useRef:function(t){var e=nn();return t={current:t},e.memoizedState=t},useState:w_,useDebugValue:cg,useDeferredValue:function(t){return nn().memoizedState=t},useTransition:function(){var t=w_(!1),e=t[0];return t=bk.bind(null,t[1]),nn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=qe,i=nn();if(Ue){if(r===void 0)throw Error(B(407));r=r()}else{if(r=e(),bt===null)throw Error(B(349));go&30||kE(n,e,r)}i.memoizedState=r;var o={value:r,getSnapshot:e};return i.queue=o,E_(PE.bind(null,n,o,t),[t]),n.flags|=2048,pl(9,RE.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=nn(),e=bt.identifierPrefix;if(Ue){var r=Pn,n=Rn;r=(n&~(1<<32-Wr(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=hl++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=_k++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ik={readContext:Or,useCallback:FE,useContext:Or,useEffect:lg,useImperativeHandle:$E,useInsertionEffect:LE,useLayoutEffect:ME,useMemo:UE,useReducer:Hh,useRef:OE,useState:function(){return Hh(fl)},useDebugValue:cg,useDeferredValue:function(t){var e=Lr();return jE(e,ft.memoizedState,t)},useTransition:function(){var t=Hh(fl)[0],e=Lr().memoizedState;return[t,e]},useMutableSource:AE,useSyncExternalStore:CE,useId:zE,unstable_isNewReconciler:!1},Tk={readContext:Or,useCallback:FE,useContext:Or,useEffect:lg,useImperativeHandle:$E,useInsertionEffect:LE,useLayoutEffect:ME,useMemo:UE,useReducer:Wh,useRef:OE,useState:function(){return Wh(fl)},useDebugValue:cg,useDeferredValue:function(t){var e=Lr();return ft===null?e.memoizedState=t:jE(e,ft.memoizedState,t)},useTransition:function(){var t=Wh(fl)[0],e=Lr().memoizedState;return[t,e]},useMutableSource:AE,useSyncExternalStore:CE,useId:zE,unstable_isNewReconciler:!1};function zr(t,e){if(t&&t.defaultProps){e=He({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function cp(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:He({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Ad={isMounted:function(t){return(t=t._reactInternals)?Co(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Xt(),i=xi(t),o=Ln(n,i);o.payload=e,r!=null&&(o.callback=r),e=wi(t,o,i),e!==null&&(Kr(e,t,i,n),au(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Xt(),i=xi(t),o=Ln(n,i);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=wi(t,o,i),e!==null&&(Kr(e,t,i,n),au(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Xt(),n=xi(t),i=Ln(r,n);i.tag=2,e!=null&&(i.callback=e),e=wi(t,i,n),e!==null&&(Kr(e,t,n,r),au(e,t,n))}};function x_(t,e,r,n,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,s):e.prototype&&e.prototype.isPureReactComponent?!sl(r,n)||!sl(i,o):!0}function WE(t,e,r){var n=!1,i=ki,o=e.contextType;return typeof o=="object"&&o!==null?o=Or(o):(i=cr(e)?po:zt.current,n=e.contextTypes,o=(n=n!=null)?bs(t,i):ki),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ad,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function I_(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Ad.enqueueReplaceState(e,e.state,null)}function up(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},tg(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Or(o):(o=cr(e)?po:zt.current,i.context=bs(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(cp(t,e,o,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ad.enqueueReplaceState(i,i.state,null),ju(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Is(t,e){try{var r="",n=e;do r+=ZA(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Kh(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function dp(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Sk=typeof WeakMap=="function"?WeakMap:Map;function KE(t,e,r){r=Ln(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Wu||(Wu=!0,wp=n),dp(t,e)},r}function GE(t,e,r){r=Ln(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){dp(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){dp(t,e),typeof n!="function"&&(Ei===null?Ei=new Set([this]):Ei.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function T_(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Sk;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=Uk.bind(null,t,e,r),e.then(t,t))}function S_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function A_(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ln(-1,1),e.tag=2,wi(r,e,1))),r.lanes|=1),t)}var Ak=Kn.ReactCurrentOwner,ar=!1;function Qt(t,e,r,n){e.child=t===null?xE(e,null,r,n):Es(e,t.child,r,n)}function C_(t,e,r,n,i){r=r.render;var o=e.ref;return ds(e,i),n=sg(t,e,r,n,o,i),r=ag(),t!==null&&!ar?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,jn(t,e,i)):(Ue&&r&&Gm(e),e.flags|=1,Qt(t,e,n,i),e.child)}function k_(t,e,r,n,i){if(t===null){var o=r.type;return typeof o=="function"&&!vg(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,QE(t,e,o,n,i)):(t=fu(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(r=r.compare,r=r!==null?r:sl,r(s,n)&&t.ref===e.ref)return jn(t,e,i)}return e.flags|=1,t=Ii(o,n),t.ref=e.ref,t.return=e,e.child=t}function QE(t,e,r,n,i){if(t!==null){var o=t.memoizedProps;if(sl(o,n)&&t.ref===e.ref)if(ar=!1,e.pendingProps=n=o,(t.lanes&i)!==0)t.flags&131072&&(ar=!0);else return e.lanes=t.lanes,jn(t,e,i)}return hp(t,e,r,n,i)}function YE(t,e,r){var n=e.pendingProps,i=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(os,gr),gr|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,De(os,gr),gr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,De(os,gr),gr|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,De(os,gr),gr|=n;return Qt(t,e,i,r),e.child}function XE(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function hp(t,e,r,n,i){var o=cr(r)?po:zt.current;return o=bs(e,o),ds(e,i),r=sg(t,e,r,n,o,i),n=ag(),t!==null&&!ar?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,jn(t,e,i)):(Ue&&n&&Gm(e),e.flags|=1,Qt(t,e,r,i),e.child)}function R_(t,e,r,n,i){if(cr(r)){var o=!0;Mu(e)}else o=!1;if(ds(e,i),e.stateNode===null)uu(t,e),WE(e,r,n),up(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Or(u):(u=cr(r)?po:zt.current,u=bs(e,u));var h=r.getDerivedStateFromProps,p=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==n||c!==u)&&I_(e,s,n,u),oi=!1;var m=e.memoizedState;s.state=m,ju(e,n,s,i),c=e.memoizedState,l!==n||m!==c||lr.current||oi?(typeof h=="function"&&(cp(e,r,h,n),c=e.memoizedState),(l=oi||x_(e,r,l,n,m,c,u))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),s.props=n,s.state=c,s.context=u,n=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,TE(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:zr(e.type,l),s.props=u,p=e.pendingProps,m=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=Or(c):(c=cr(r)?po:zt.current,c=bs(e,c));var _=r.getDerivedStateFromProps;(h=typeof _=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==p||m!==c)&&I_(e,s,n,c),oi=!1,m=e.memoizedState,s.state=m,ju(e,n,s,i);var C=e.memoizedState;l!==p||m!==C||lr.current||oi?(typeof _=="function"&&(cp(e,r,_,n),C=e.memoizedState),(u=oi||x_(e,r,u,n,m,C,c)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,C,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,C,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=C),s.props=n,s.state=C,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return fp(t,e,r,n,o,i)}function fp(t,e,r,n,i,o){XE(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&m_(e,r,!1),jn(t,e,o);n=e.stateNode,Ak.current=e;var l=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=Es(e,t.child,null,o),e.child=Es(e,null,l,o)):Qt(t,e,l,o),e.memoizedState=n.state,i&&m_(e,r,!0),e.child}function JE(t){var e=t.stateNode;e.pendingContext?p_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&p_(t,e.context,!1),rg(t,e.containerInfo)}function P_(t,e,r,n,i){return ws(),Ym(i),e.flags|=256,Qt(t,e,r,n),e.child}var pp={dehydrated:null,treeContext:null,retryLane:0};function mp(t){return{baseLanes:t,cachePool:null,transitions:null}}function ZE(t,e,r){var n=e.pendingProps,i=Be.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),De(Be,i&1),t===null)return ap(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,o?(n=e.mode,o=e.child,s={mode:"hidden",children:s},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Rd(s,n,0,null),t=lo(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=mp(r),e.memoizedState=pp,t):ug(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Ck(t,e,s,n,l,i,r);if(o){o=n.fallback,s=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Ii(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Ii(l,o):(o=lo(o,s,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,s=t.child.memoizedState,s=s===null?mp(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~r,e.memoizedState=pp,n}return o=t.child,t=o.sibling,n=Ii(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function ug(t,e){return e=Rd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Lc(t,e,r,n){return n!==null&&Ym(n),Es(e,t.child,null,r),t=ug(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ck(t,e,r,n,i,o,s){if(r)return e.flags&256?(e.flags&=-257,n=Kh(Error(B(422))),Lc(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,i=e.mode,n=Rd({mode:"visible",children:n.children},i,0,null),o=lo(o,i,s,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&Es(e,t.child,null,s),e.child.memoizedState=mp(s),e.memoizedState=pp,o);if(!(e.mode&1))return Lc(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(B(419)),n=Kh(o,n,void 0),Lc(t,e,s,n)}if(l=(s&t.childLanes)!==0,ar||l){if(n=bt,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Un(t,i),Kr(n,t,i,-1))}return gg(),n=Kh(Error(B(421))),Lc(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=jk.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,vr=bi(i.nextSibling),_r=e,Ue=!0,qr=null,t!==null&&(Ar[Cr++]=Rn,Ar[Cr++]=Pn,Ar[Cr++]=mo,Rn=t.id,Pn=t.overflow,mo=e),e=ug(e,n.children),e.flags|=4096,e)}function N_(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),lp(t.return,e,r)}function Gh(t,e,r,n,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function ex(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(Qt(t,e,n.children,r),n=Be.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&N_(t,r,e);else if(t.tag===19)N_(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(De(Be,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&zu(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Gh(e,!1,i,r,o);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&zu(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Gh(e,!0,r,null,o);break;case"together":Gh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function uu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function jn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),vo|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,r=Ii(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ii(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function kk(t,e,r){switch(e.tag){case 3:JE(e),ws();break;case 5:SE(e);break;case 1:cr(e.type)&&Mu(e);break;case 4:rg(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;De(Fu,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(De(Be,Be.current&1),e.flags|=128,null):r&e.child.childLanes?ZE(t,e,r):(De(Be,Be.current&1),t=jn(t,e,r),t!==null?t.sibling:null);De(Be,Be.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return ex(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(Be,Be.current),n)break;return null;case 22:case 23:return e.lanes=0,YE(t,e,r)}return jn(t,e,r)}var tx,gp,rx,nx;tx=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};gp=function(){};rx=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,to(an.current);var o=null;switch(r){case"input":i=$f(t,i),n=$f(t,n),o=[];break;case"select":i=He({},i,{value:void 0}),n=He({},n,{value:void 0}),o=[];break;case"textarea":i=jf(t,i),n=jf(t,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ou)}Bf(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Za.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Za.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Me("scroll",t),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};nx=function(t,e,r,n){r!==n&&(e.flags|=4)};function va(t,e){if(!Ue)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Rk(t,e,r){var n=e.pendingProps;switch(Qm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(e),null;case 1:return cr(e.type)&&Lu(),Mt(e),null;case 3:return n=e.stateNode,xs(),$e(lr),$e(zt),ig(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Dc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qr!==null&&(Ip(qr),qr=null))),gp(t,e),Mt(e),null;case 5:ng(e);var i=to(dl.current);if(r=e.type,t!==null&&e.stateNode!=null)rx(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(B(166));return Mt(e),null}if(t=to(an.current),Dc(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[on]=e,n[cl]=o,t=(e.mode&1)!==0,r){case"dialog":Me("cancel",n),Me("close",n);break;case"iframe":case"object":case"embed":Me("load",n);break;case"video":case"audio":for(i=0;i<Sa.length;i++)Me(Sa[i],n);break;case"source":Me("error",n);break;case"img":case"image":case"link":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"input":jy(n,o),Me("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Me("invalid",n);break;case"textarea":By(n,o),Me("invalid",n)}Bf(r,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&Nc(n.textContent,l,t),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Nc(n.textContent,l,t),i=["children",""+l]):Za.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Me("scroll",n)}switch(r){case"input":Ic(n),zy(n,o,!0);break;case"textarea":Ic(n),qy(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Ou)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=P0(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[on]=e,t[cl]=n,tx(t,e,!1,!1),e.stateNode=t;e:{switch(s=qf(r,n),r){case"dialog":Me("cancel",t),Me("close",t),i=n;break;case"iframe":case"object":case"embed":Me("load",t),i=n;break;case"video":case"audio":for(i=0;i<Sa.length;i++)Me(Sa[i],t);i=n;break;case"source":Me("error",t),i=n;break;case"img":case"image":case"link":Me("error",t),Me("load",t),i=n;break;case"details":Me("toggle",t),i=n;break;case"input":jy(t,n),i=$f(t,n),Me("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=He({},n,{value:void 0}),Me("invalid",t);break;case"textarea":By(t,n),i=jf(t,n),Me("invalid",t);break;default:i=n}Bf(r,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?O0(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&N0(t,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&el(t,c):typeof c=="number"&&el(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Za.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Me("scroll",t):c!=null&&Om(t,o,c,s))}switch(r){case"input":Ic(t),zy(t,n,!1);break;case"textarea":Ic(t),qy(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ci(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?as(t,!!n.multiple,o,!1):n.defaultValue!=null&&as(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ou)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mt(e),null;case 6:if(t&&e.stateNode!=null)nx(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(B(166));if(r=to(dl.current),to(an.current),Dc(e)){if(n=e.stateNode,r=e.memoizedProps,n[on]=e,(o=n.nodeValue!==r)&&(t=_r,t!==null))switch(t.tag){case 3:Nc(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Nc(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[on]=e,e.stateNode=n}return Mt(e),null;case 13:if($e(Be),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ue&&vr!==null&&e.mode&1&&!(e.flags&128))wE(),ws(),e.flags|=98560,o=!1;else if(o=Dc(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(B(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(B(317));o[on]=e}else ws(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mt(e),o=!1}else qr!==null&&(Ip(qr),qr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Be.current&1?mt===0&&(mt=3):gg())),e.updateQueue!==null&&(e.flags|=4),Mt(e),null);case 4:return xs(),gp(t,e),t===null&&al(e.stateNode.containerInfo),Mt(e),null;case 10:return Zm(e.type._context),Mt(e),null;case 17:return cr(e.type)&&Lu(),Mt(e),null;case 19:if($e(Be),o=e.memoizedState,o===null)return Mt(e),null;if(n=(e.flags&128)!==0,s=o.rendering,s===null)if(n)va(o,!1);else{if(mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=zu(t),s!==null){for(e.flags|=128,va(o,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return De(Be,Be.current&1|2),e.child}t=t.sibling}o.tail!==null&&nt()>Ts&&(e.flags|=128,n=!0,va(o,!1),e.lanes=4194304)}else{if(!n)if(t=zu(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),va(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ue)return Mt(e),null}else 2*nt()-o.renderingStartTime>Ts&&r!==1073741824&&(e.flags|=128,n=!0,va(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(r=o.last,r!==null?r.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=nt(),e.sibling=null,r=Be.current,De(Be,n?r&1|2:r&1),e):(Mt(e),null);case 22:case 23:return mg(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?gr&1073741824&&(Mt(e),e.subtreeFlags&6&&(e.flags|=8192)):Mt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function Pk(t,e){switch(Qm(e),e.tag){case 1:return cr(e.type)&&Lu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xs(),$e(lr),$e(zt),ig(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ng(e),null;case 13:if($e(Be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));ws()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $e(Be),null;case 4:return xs(),null;case 10:return Zm(e.type._context),null;case 22:case 23:return mg(),null;case 24:return null;default:return null}}var Mc=!1,Ft=!1,Nk=typeof WeakSet=="function"?WeakSet:Set,G=null;function is(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Qe(t,e,n)}else r.current=null}function vp(t,e,r){try{r()}catch(n){Qe(t,e,n)}}var D_=!1;function Dk(t,e){if(ep=Pu,t=lE(),Km(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var s=0,l=-1,c=-1,u=0,h=0,p=t,m=null;t:for(;;){for(var _;p!==r||i!==0&&p.nodeType!==3||(l=s+i),p!==o||n!==0&&p.nodeType!==3||(c=s+n),p.nodeType===3&&(s+=p.nodeValue.length),(_=p.firstChild)!==null;)m=p,p=_;for(;;){if(p===t)break t;if(m===r&&++u===i&&(l=s),m===o&&++h===n&&(c=s),(_=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=_}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(tp={focusedElem:t,selectionRange:r},Pu=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var k=C.memoizedProps,P=C.memoizedState,w=e.stateNode,b=w.getSnapshotBeforeUpdate(e.elementType===e.type?k:zr(e.type,k),P);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(M){Qe(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return C=D_,D_=!1,C}function Fa(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&vp(e,r,o)}i=i.next}while(i!==n)}}function Cd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function yp(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function ix(t){var e=t.alternate;e!==null&&(t.alternate=null,ix(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[on],delete e[cl],delete e[ip],delete e[mk],delete e[gk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ox(t){return t.tag===5||t.tag===3||t.tag===4}function O_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ox(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _p(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ou));else if(n!==4&&(t=t.child,t!==null))for(_p(t,e,r),t=t.sibling;t!==null;)_p(t,e,r),t=t.sibling}function bp(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(bp(t,e,r),t=t.sibling;t!==null;)bp(t,e,r),t=t.sibling}var xt=null,Br=!1;function ri(t,e,r){for(r=r.child;r!==null;)sx(t,e,r),r=r.sibling}function sx(t,e,r){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(bd,r)}catch{}switch(r.tag){case 5:Ft||is(r,e);case 6:var n=xt,i=Br;xt=null,ri(t,e,r),xt=n,Br=i,xt!==null&&(Br?(t=xt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):xt.removeChild(r.stateNode));break;case 18:xt!==null&&(Br?(t=xt,r=r.stateNode,t.nodeType===8?jh(t.parentNode,r):t.nodeType===1&&jh(t,r),il(t)):jh(xt,r.stateNode));break;case 4:n=xt,i=Br,xt=r.stateNode.containerInfo,Br=!0,ri(t,e,r),xt=n,Br=i;break;case 0:case 11:case 14:case 15:if(!Ft&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&vp(r,e,s),i=i.next}while(i!==n)}ri(t,e,r);break;case 1:if(!Ft&&(is(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Qe(r,e,l)}ri(t,e,r);break;case 21:ri(t,e,r);break;case 22:r.mode&1?(Ft=(n=Ft)||r.memoizedState!==null,ri(t,e,r),Ft=n):ri(t,e,r);break;default:ri(t,e,r)}}function L_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Nk),e.forEach(function(n){var i=zk.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function jr(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:xt=l.stateNode,Br=!1;break e;case 3:xt=l.stateNode.containerInfo,Br=!0;break e;case 4:xt=l.stateNode.containerInfo,Br=!0;break e}l=l.return}if(xt===null)throw Error(B(160));sx(o,s,i),xt=null,Br=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Qe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ax(e,t),e=e.sibling}function ax(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(jr(e,t),rn(t),n&4){try{Fa(3,t,t.return),Cd(3,t)}catch(k){Qe(t,t.return,k)}try{Fa(5,t,t.return)}catch(k){Qe(t,t.return,k)}}break;case 1:jr(e,t),rn(t),n&512&&r!==null&&is(r,r.return);break;case 5:if(jr(e,t),rn(t),n&512&&r!==null&&is(r,r.return),t.flags&32){var i=t.stateNode;try{el(i,"")}catch(k){Qe(t,t.return,k)}}if(n&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=r!==null?r.memoizedProps:o,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&k0(i,o),qf(l,s);var u=qf(l,o);for(s=0;s<c.length;s+=2){var h=c[s],p=c[s+1];h==="style"?O0(i,p):h==="dangerouslySetInnerHTML"?N0(i,p):h==="children"?el(i,p):Om(i,h,p,u)}switch(l){case"input":Ff(i,o);break;case"textarea":R0(i,o);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var _=o.value;_!=null?as(i,!!o.multiple,_,!1):m!==!!o.multiple&&(o.defaultValue!=null?as(i,!!o.multiple,o.defaultValue,!0):as(i,!!o.multiple,o.multiple?[]:"",!1))}i[cl]=o}catch(k){Qe(t,t.return,k)}}break;case 6:if(jr(e,t),rn(t),n&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(k){Qe(t,t.return,k)}}break;case 3:if(jr(e,t),rn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{il(e.containerInfo)}catch(k){Qe(t,t.return,k)}break;case 4:jr(e,t),rn(t);break;case 13:jr(e,t),rn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(fg=nt())),n&4&&L_(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(Ft=(u=Ft)||h,jr(e,t),Ft=u):jr(e,t),rn(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(G=t,h=t.child;h!==null;){for(p=G=h;G!==null;){switch(m=G,_=m.child,m.tag){case 0:case 11:case 14:case 15:Fa(4,m,m.return);break;case 1:is(m,m.return);var C=m.stateNode;if(typeof C.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(k){Qe(n,r,k)}}break;case 5:is(m,m.return);break;case 22:if(m.memoizedState!==null){V_(p);continue}}_!==null?(_.return=m,G=_):V_(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{i=p.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=p.stateNode,c=p.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=D0("display",s))}catch(k){Qe(t,t.return,k)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(k){Qe(t,t.return,k)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:jr(e,t),rn(t),n&4&&L_(t);break;case 21:break;default:jr(e,t),rn(t)}}function rn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(ox(r)){var n=r;break e}r=r.return}throw Error(B(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(el(i,""),n.flags&=-33);var o=O_(t);bp(t,o,i);break;case 3:case 4:var s=n.stateNode.containerInfo,l=O_(t);_p(t,l,s);break;default:throw Error(B(161))}}catch(c){Qe(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ok(t,e,r){G=t,lx(t)}function lx(t,e,r){for(var n=(t.mode&1)!==0;G!==null;){var i=G,o=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Mc;if(!s){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Ft;l=Mc;var u=Ft;if(Mc=s,(Ft=c)&&!u)for(G=i;G!==null;)s=G,c=s.child,s.tag===22&&s.memoizedState!==null?$_(i):c!==null?(c.return=s,G=c):$_(i);for(;o!==null;)G=o,lx(o),o=o.sibling;G=i,Mc=l,Ft=u}M_(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,G=o):M_(t)}}function M_(t){for(;G!==null;){var e=G;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ft||Cd(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ft)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:zr(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&b_(e,o,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}b_(e,s,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&il(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Ft||e.flags&512&&yp(e)}catch(m){Qe(e,e.return,m)}}if(e===t){G=null;break}if(r=e.sibling,r!==null){r.return=e.return,G=r;break}G=e.return}}function V_(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var r=e.sibling;if(r!==null){r.return=e.return,G=r;break}G=e.return}}function $_(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Cd(4,e)}catch(c){Qe(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){Qe(e,i,c)}}var o=e.return;try{yp(e)}catch(c){Qe(e,o,c)}break;case 5:var s=e.return;try{yp(e)}catch(c){Qe(e,s,c)}}}catch(c){Qe(e,e.return,c)}if(e===t){G=null;break}var l=e.sibling;if(l!==null){l.return=e.return,G=l;break}G=e.return}}var Lk=Math.ceil,Hu=Kn.ReactCurrentDispatcher,dg=Kn.ReactCurrentOwner,Pr=Kn.ReactCurrentBatchConfig,ye=0,bt=null,ct=null,At=0,gr=0,os=Oi(0),mt=0,ml=null,vo=0,kd=0,hg=0,Ua=null,or=null,fg=0,Ts=1/0,Sn=null,Wu=!1,wp=null,Ei=null,Vc=!1,mi=null,Ku=0,ja=0,Ep=null,du=-1,hu=0;function Xt(){return ye&6?nt():du!==-1?du:du=nt()}function xi(t){return t.mode&1?ye&2&&At!==0?At&-At:yk.transition!==null?(hu===0&&(hu=W0()),hu):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:Z0(t.type)),t):1}function Kr(t,e,r,n){if(50<ja)throw ja=0,Ep=null,Error(B(185));Ul(t,r,n),(!(ye&2)||t!==bt)&&(t===bt&&(!(ye&2)&&(kd|=r),mt===4&&ci(t,At)),ur(t,n),r===1&&ye===0&&!(e.mode&1)&&(Ts=nt()+500,Td&&Li()))}function ur(t,e){var r=t.callbackNode;yC(t,e);var n=Ru(t,t===bt?At:0);if(n===0)r!==null&&Ky(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Ky(r),e===1)t.tag===0?vk(F_.bind(null,t)):yE(F_.bind(null,t)),fk(function(){!(ye&6)&&Li()}),r=null;else{switch(K0(n)){case 1:r=Fm;break;case 4:r=q0;break;case 16:r=ku;break;case 536870912:r=H0;break;default:r=ku}r=gx(r,cx.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function cx(t,e){if(du=-1,hu=0,ye&6)throw Error(B(327));var r=t.callbackNode;if(hs()&&t.callbackNode!==r)return null;var n=Ru(t,t===bt?At:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Gu(t,n);else{e=n;var i=ye;ye|=2;var o=dx();(bt!==t||At!==e)&&(Sn=null,Ts=nt()+500,ao(t,e));do try{$k();break}catch(l){ux(t,l)}while(!0);Jm(),Hu.current=o,ye=i,ct!==null?e=0:(bt=null,At=0,e=mt)}if(e!==0){if(e===2&&(i=Qf(t),i!==0&&(n=i,e=xp(t,i))),e===1)throw r=ml,ao(t,0),ci(t,n),ur(t,nt()),r;if(e===6)ci(t,n);else{if(i=t.current.alternate,!(n&30)&&!Mk(i)&&(e=Gu(t,n),e===2&&(o=Qf(t),o!==0&&(n=o,e=xp(t,o))),e===1))throw r=ml,ao(t,0),ci(t,n),ur(t,nt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(B(345));case 2:Xi(t,or,Sn);break;case 3:if(ci(t,n),(n&130023424)===n&&(e=fg+500-nt(),10<e)){if(Ru(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Xt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=np(Xi.bind(null,t,or,Sn),e);break}Xi(t,or,Sn);break;case 4:if(ci(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-Wr(n);o=1<<s,s=e[s],s>i&&(i=s),n&=~o}if(n=i,n=nt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Lk(n/1960))-n,10<n){t.timeoutHandle=np(Xi.bind(null,t,or,Sn),n);break}Xi(t,or,Sn);break;case 5:Xi(t,or,Sn);break;default:throw Error(B(329))}}}return ur(t,nt()),t.callbackNode===r?cx.bind(null,t):null}function xp(t,e){var r=Ua;return t.current.memoizedState.isDehydrated&&(ao(t,e).flags|=256),t=Gu(t,e),t!==2&&(e=or,or=r,e!==null&&Ip(e)),t}function Ip(t){or===null?or=t:or.push.apply(or,t)}function Mk(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!Qr(o(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ci(t,e){for(e&=~hg,e&=~kd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Wr(e),n=1<<r;t[r]=-1,e&=~n}}function F_(t){if(ye&6)throw Error(B(327));hs();var e=Ru(t,0);if(!(e&1))return ur(t,nt()),null;var r=Gu(t,e);if(t.tag!==0&&r===2){var n=Qf(t);n!==0&&(e=n,r=xp(t,n))}if(r===1)throw r=ml,ao(t,0),ci(t,e),ur(t,nt()),r;if(r===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xi(t,or,Sn),ur(t,nt()),null}function pg(t,e){var r=ye;ye|=1;try{return t(e)}finally{ye=r,ye===0&&(Ts=nt()+500,Td&&Li())}}function yo(t){mi!==null&&mi.tag===0&&!(ye&6)&&hs();var e=ye;ye|=1;var r=Pr.transition,n=Ce;try{if(Pr.transition=null,Ce=1,t)return t()}finally{Ce=n,Pr.transition=r,ye=e,!(ye&6)&&Li()}}function mg(){gr=os.current,$e(os)}function ao(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,hk(r)),ct!==null)for(r=ct.return;r!==null;){var n=r;switch(Qm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Lu();break;case 3:xs(),$e(lr),$e(zt),ig();break;case 5:ng(n);break;case 4:xs();break;case 13:$e(Be);break;case 19:$e(Be);break;case 10:Zm(n.type._context);break;case 22:case 23:mg()}r=r.return}if(bt=t,ct=t=Ii(t.current,null),At=gr=e,mt=0,ml=null,hg=kd=vo=0,or=Ua=null,eo!==null){for(e=0;e<eo.length;e++)if(r=eo[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var s=o.next;o.next=i,n.next=s}r.pending=n}eo=null}return t}function ux(t,e){do{var r=ct;try{if(Jm(),lu.current=qu,Bu){for(var n=qe.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Bu=!1}if(go=0,yt=ft=qe=null,$a=!1,hl=0,dg.current=null,r===null||r.return===null){mt=1,ml=e,ct=null;break}e:{var o=t,s=r.return,l=r,c=e;if(e=At,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var _=S_(s);if(_!==null){_.flags&=-257,A_(_,s,l,o,e),_.mode&1&&T_(o,u,e),e=_,c=u;var C=e.updateQueue;if(C===null){var k=new Set;k.add(c),e.updateQueue=k}else C.add(c);break e}else{if(!(e&1)){T_(o,u,e),gg();break e}c=Error(B(426))}}else if(Ue&&l.mode&1){var P=S_(s);if(P!==null){!(P.flags&65536)&&(P.flags|=256),A_(P,s,l,o,e),Ym(Is(c,l));break e}}o=c=Is(c,l),mt!==4&&(mt=2),Ua===null?Ua=[o]:Ua.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=KE(o,c,e);__(o,w);break e;case 1:l=c;var b=o.type,I=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Ei===null||!Ei.has(I)))){o.flags|=65536,e&=-e,o.lanes|=e;var M=GE(o,l,e);__(o,M);break e}}o=o.return}while(o!==null)}fx(r)}catch($){e=$,ct===r&&r!==null&&(ct=r=r.return);continue}break}while(!0)}function dx(){var t=Hu.current;return Hu.current=qu,t===null?qu:t}function gg(){(mt===0||mt===3||mt===2)&&(mt=4),bt===null||!(vo&268435455)&&!(kd&268435455)||ci(bt,At)}function Gu(t,e){var r=ye;ye|=2;var n=dx();(bt!==t||At!==e)&&(Sn=null,ao(t,e));do try{Vk();break}catch(i){ux(t,i)}while(!0);if(Jm(),ye=r,Hu.current=n,ct!==null)throw Error(B(261));return bt=null,At=0,mt}function Vk(){for(;ct!==null;)hx(ct)}function $k(){for(;ct!==null&&!cC();)hx(ct)}function hx(t){var e=mx(t.alternate,t,gr);t.memoizedProps=t.pendingProps,e===null?fx(t):ct=e,dg.current=null}function fx(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Pk(r,e),r!==null){r.flags&=32767,ct=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mt=6,ct=null;return}}else if(r=Rk(r,e,gr),r!==null){ct=r;return}if(e=e.sibling,e!==null){ct=e;return}ct=e=t}while(e!==null);mt===0&&(mt=5)}function Xi(t,e,r){var n=Ce,i=Pr.transition;try{Pr.transition=null,Ce=1,Fk(t,e,r,n)}finally{Pr.transition=i,Ce=n}return null}function Fk(t,e,r,n){do hs();while(mi!==null);if(ye&6)throw Error(B(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(_C(t,o),t===bt&&(ct=bt=null,At=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Vc||(Vc=!0,gx(ku,function(){return hs(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Pr.transition,Pr.transition=null;var s=Ce;Ce=1;var l=ye;ye|=4,dg.current=null,Dk(t,r),ax(r,t),ok(tp),Pu=!!ep,tp=ep=null,t.current=r,Ok(r),uC(),ye=l,Ce=s,Pr.transition=o}else t.current=r;if(Vc&&(Vc=!1,mi=t,Ku=i),o=t.pendingLanes,o===0&&(Ei=null),fC(r.stateNode),ur(t,nt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,t=wp,wp=null,t;return Ku&1&&t.tag!==0&&hs(),o=t.pendingLanes,o&1?t===Ep?ja++:(ja=0,Ep=t):ja=0,Li(),null}function hs(){if(mi!==null){var t=K0(Ku),e=Pr.transition,r=Ce;try{if(Pr.transition=null,Ce=16>t?16:t,mi===null)var n=!1;else{if(t=mi,mi=null,Ku=0,ye&6)throw Error(B(331));var i=ye;for(ye|=4,G=t.current;G!==null;){var o=G,s=o.child;if(G.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(G=u;G!==null;){var h=G;switch(h.tag){case 0:case 11:case 15:Fa(8,h,o)}var p=h.child;if(p!==null)p.return=h,G=p;else for(;G!==null;){h=G;var m=h.sibling,_=h.return;if(ix(h),h===u){G=null;break}if(m!==null){m.return=_,G=m;break}G=_}}}var C=o.alternate;if(C!==null){var k=C.child;if(k!==null){C.child=null;do{var P=k.sibling;k.sibling=null,k=P}while(k!==null)}}G=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,G=s;else e:for(;G!==null;){if(o=G,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Fa(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,G=w;break e}G=o.return}}var b=t.current;for(G=b;G!==null;){s=G;var I=s.child;if(s.subtreeFlags&2064&&I!==null)I.return=s,G=I;else e:for(s=b;G!==null;){if(l=G,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Cd(9,l)}}catch($){Qe(l,l.return,$)}if(l===s){G=null;break e}var M=l.sibling;if(M!==null){M.return=l.return,G=M;break e}G=l.return}}if(ye=i,Li(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(bd,t)}catch{}n=!0}return n}finally{Ce=r,Pr.transition=e}}return!1}function U_(t,e,r){e=Is(r,e),e=KE(t,e,1),t=wi(t,e,1),e=Xt(),t!==null&&(Ul(t,1,e),ur(t,e))}function Qe(t,e,r){if(t.tag===3)U_(t,t,r);else for(;e!==null;){if(e.tag===3){U_(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ei===null||!Ei.has(n))){t=Is(r,t),t=GE(e,t,1),e=wi(e,t,1),t=Xt(),e!==null&&(Ul(e,1,t),ur(e,t));break}}e=e.return}}function Uk(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Xt(),t.pingedLanes|=t.suspendedLanes&r,bt===t&&(At&r)===r&&(mt===4||mt===3&&(At&130023424)===At&&500>nt()-fg?ao(t,0):hg|=r),ur(t,e)}function px(t,e){e===0&&(t.mode&1?(e=Ac,Ac<<=1,!(Ac&130023424)&&(Ac=4194304)):e=1);var r=Xt();t=Un(t,e),t!==null&&(Ul(t,e,r),ur(t,r))}function jk(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),px(t,r)}function zk(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(B(314))}n!==null&&n.delete(e),px(t,r)}var mx;mx=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||lr.current)ar=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ar=!1,kk(t,e,r);ar=!!(t.flags&131072)}else ar=!1,Ue&&e.flags&1048576&&_E(e,$u,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;uu(t,e),t=e.pendingProps;var i=bs(e,zt.current);ds(e,r),i=sg(null,e,n,t,i,r);var o=ag();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cr(n)?(o=!0,Mu(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,tg(e),i.updater=Ad,e.stateNode=i,i._reactInternals=e,up(e,n,t,r),e=fp(null,e,n,!0,o,r)):(e.tag=0,Ue&&o&&Gm(e),Qt(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(uu(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=qk(n),t=zr(n,t),i){case 0:e=hp(null,e,n,t,r);break e;case 1:e=R_(null,e,n,t,r);break e;case 11:e=C_(null,e,n,t,r);break e;case 14:e=k_(null,e,n,zr(n.type,t),r);break e}throw Error(B(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:zr(n,i),hp(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:zr(n,i),R_(t,e,n,i,r);case 3:e:{if(JE(e),t===null)throw Error(B(387));n=e.pendingProps,o=e.memoizedState,i=o.element,TE(t,e),ju(e,n,null,r);var s=e.memoizedState;if(n=s.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Is(Error(B(423)),e),e=P_(t,e,n,r,i);break e}else if(n!==i){i=Is(Error(B(424)),e),e=P_(t,e,n,r,i);break e}else for(vr=bi(e.stateNode.containerInfo.firstChild),_r=e,Ue=!0,qr=null,r=xE(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ws(),n===i){e=jn(t,e,r);break e}Qt(t,e,n,r)}e=e.child}return e;case 5:return SE(e),t===null&&ap(e),n=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,rp(n,i)?s=null:o!==null&&rp(n,o)&&(e.flags|=32),XE(t,e),Qt(t,e,s,r),e.child;case 6:return t===null&&ap(e),null;case 13:return ZE(t,e,r);case 4:return rg(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Es(e,null,n,r):Qt(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:zr(n,i),C_(t,e,n,i,r);case 7:return Qt(t,e,e.pendingProps,r),e.child;case 8:return Qt(t,e,e.pendingProps.children,r),e.child;case 12:return Qt(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,De(Fu,n._currentValue),n._currentValue=s,o!==null)if(Qr(o.value,s)){if(o.children===i.children&&!lr.current){e=jn(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=Ln(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),lp(o.return,r,e),l.lanes|=r;break}c=c.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(B(341));s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),lp(s,r,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Qt(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,ds(e,r),i=Or(i),n=n(i),e.flags|=1,Qt(t,e,n,r),e.child;case 14:return n=e.type,i=zr(n,e.pendingProps),i=zr(n.type,i),k_(t,e,n,i,r);case 15:return QE(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:zr(n,i),uu(t,e),e.tag=1,cr(n)?(t=!0,Mu(e)):t=!1,ds(e,r),WE(e,n,i),up(e,n,i,r),fp(null,e,n,!0,t,r);case 19:return ex(t,e,r);case 22:return YE(t,e,r)}throw Error(B(156,e.tag))};function gx(t,e){return B0(t,e)}function Bk(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kr(t,e,r,n){return new Bk(t,e,r,n)}function vg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qk(t){if(typeof t=="function")return vg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Mm)return 11;if(t===Vm)return 14}return 2}function Ii(t,e){var r=t.alternate;return r===null?(r=kr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function fu(t,e,r,n,i,o){var s=2;if(n=t,typeof t=="function")vg(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Qo:return lo(r.children,i,o,e);case Lm:s=8,i|=8;break;case Of:return t=kr(12,r,e,i|2),t.elementType=Of,t.lanes=o,t;case Lf:return t=kr(13,r,e,i),t.elementType=Lf,t.lanes=o,t;case Mf:return t=kr(19,r,e,i),t.elementType=Mf,t.lanes=o,t;case S0:return Rd(r,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case I0:s=10;break e;case T0:s=9;break e;case Mm:s=11;break e;case Vm:s=14;break e;case ii:s=16,n=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=kr(s,r,e,i),e.elementType=t,e.type=n,e.lanes=o,e}function lo(t,e,r,n){return t=kr(7,t,n,e),t.lanes=r,t}function Rd(t,e,r,n){return t=kr(22,t,n,e),t.elementType=S0,t.lanes=r,t.stateNode={isHidden:!1},t}function Qh(t,e,r){return t=kr(6,t,null,e),t.lanes=r,t}function Yh(t,e,r){return e=kr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Hk(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rh(0),this.expirationTimes=Rh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rh(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function yg(t,e,r,n,i,o,s,l,c){return t=new Hk(t,e,r,l,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=kr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},tg(o),t}function Wk(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Go,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function vx(t){if(!t)return ki;t=t._reactInternals;e:{if(Co(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var r=t.type;if(cr(r))return vE(t,r,e)}return e}function yx(t,e,r,n,i,o,s,l,c){return t=yg(r,n,!0,t,i,o,s,l,c),t.context=vx(null),r=t.current,n=Xt(),i=xi(r),o=Ln(n,i),o.callback=e??null,wi(r,o,i),t.current.lanes=i,Ul(t,i,n),ur(t,n),t}function Pd(t,e,r,n){var i=e.current,o=Xt(),s=xi(i);return r=vx(r),e.context===null?e.context=r:e.pendingContext=r,e=Ln(o,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=wi(i,e,s),t!==null&&(Kr(t,i,s,o),au(t,i,s)),s}function Qu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function j_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function _g(t,e){j_(t,e),(t=t.alternate)&&j_(t,e)}function Kk(){return null}var _x=typeof reportError=="function"?reportError:function(t){console.error(t)};function bg(t){this._internalRoot=t}Nd.prototype.render=bg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Pd(t,e,null,null)};Nd.prototype.unmount=bg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;yo(function(){Pd(null,t,null,null)}),e[Fn]=null}};function Nd(t){this._internalRoot=t}Nd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Y0();t={blockedOn:null,target:t,priority:e};for(var r=0;r<li.length&&e!==0&&e<li[r].priority;r++);li.splice(r,0,t),r===0&&J0(t)}};function wg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Dd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function z_(){}function Gk(t,e,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var u=Qu(s);o.call(u)}}var s=yx(e,n,t,0,null,!1,!1,"",z_);return t._reactRootContainer=s,t[Fn]=s.current,al(t.nodeType===8?t.parentNode:t),yo(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=Qu(c);l.call(u)}}var c=yg(t,0,!1,null,null,!1,!1,"",z_);return t._reactRootContainer=c,t[Fn]=c.current,al(t.nodeType===8?t.parentNode:t),yo(function(){Pd(e,c,r,n)}),c}function Od(t,e,r,n,i){var o=r._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var c=Qu(s);l.call(c)}}Pd(e,s,t,i)}else s=Gk(r,e,t,i,n);return Qu(s)}G0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ta(e.pendingLanes);r!==0&&(Um(e,r|1),ur(e,nt()),!(ye&6)&&(Ts=nt()+500,Li()))}break;case 13:yo(function(){var n=Un(t,1);if(n!==null){var i=Xt();Kr(n,t,1,i)}}),_g(t,1)}};jm=function(t){if(t.tag===13){var e=Un(t,134217728);if(e!==null){var r=Xt();Kr(e,t,134217728,r)}_g(t,134217728)}};Q0=function(t){if(t.tag===13){var e=xi(t),r=Un(t,e);if(r!==null){var n=Xt();Kr(r,t,e,n)}_g(t,e)}};Y0=function(){return Ce};X0=function(t,e){var r=Ce;try{return Ce=t,e()}finally{Ce=r}};Wf=function(t,e,r){switch(e){case"input":if(Ff(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Id(n);if(!i)throw Error(B(90));C0(n),Ff(n,i)}}}break;case"textarea":R0(t,r);break;case"select":e=r.value,e!=null&&as(t,!!r.multiple,e,!1)}};V0=pg;$0=yo;var Qk={usingClientEntryPoint:!1,Events:[zl,Zo,Id,L0,M0,pg]},ya={findFiberByHostInstance:Zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yk={bundleType:ya.bundleType,version:ya.version,rendererPackageName:ya.rendererPackageName,rendererConfig:ya.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=j0(t),t===null?null:t.stateNode},findFiberByHostInstance:ya.findFiberByHostInstance||Kk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{bd=$c.inject(Yk),sn=$c}catch{}}Er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qk;Er.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wg(e))throw Error(B(200));return Wk(t,e,null,r)};Er.createRoot=function(t,e){if(!wg(t))throw Error(B(299));var r=!1,n="",i=_x;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=yg(t,1,!1,null,null,r,!1,n,i),t[Fn]=e.current,al(t.nodeType===8?t.parentNode:t),new bg(e)};Er.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=j0(e),t=t===null?null:t.stateNode,t};Er.flushSync=function(t){return yo(t)};Er.hydrate=function(t,e,r){if(!Dd(e))throw Error(B(200));return Od(null,t,e,!0,r)};Er.hydrateRoot=function(t,e,r){if(!wg(t))throw Error(B(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",s=_x;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=yx(e,null,t,1,r??null,i,!1,o,s),t[Fn]=e.current,al(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Nd(e)};Er.render=function(t,e,r){if(!Dd(e))throw Error(B(200));return Od(null,t,e,!1,r)};Er.unmountComponentAtNode=function(t){if(!Dd(t))throw Error(B(40));return t._reactRootContainer?(yo(function(){Od(null,null,t,!1,function(){t._reactRootContainer=null,t[Fn]=null})}),!0):!1};Er.unstable_batchedUpdates=pg;Er.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Dd(r))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Od(t,e,r,!1,n)};Er.version="18.3.1-next-f1338f8080-20240426";function bx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bx)}catch(t){console.error(t)}}bx(),b0.exports=Er;var ss=b0.exports,wx,B_=ss;wx=B_.createRoot,B_.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gl(){return gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gl.apply(this,arguments)}var ro;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ro||(ro={}));const q_="popstate";function Xk(t){t===void 0&&(t={});function e(i,o){let{pathname:s="/",search:l="",hash:c=""}=ql(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),Tp("",{pathname:s,search:l,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(i,o){let s=i.document.querySelector("base"),l="";if(s&&s.getAttribute("href")){let c=i.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof o=="string"?o:xx(o))}function n(i,o){Ex(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return Zk(e,r,n,t)}function ln(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ex(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Jk(){return Math.random().toString(36).substr(2,8)}function H_(t,e){return{usr:t.state,key:t.key,idx:e}}function Tp(t,e,r,n){return r===void 0&&(r=null),gl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ql(e):e,{state:r,key:e&&e.key||n||Jk()})}function xx(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ql(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Zk(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:o=!1}=n,s=i.history,l=ro.Pop,c=null,u=h();u==null&&(u=0,s.replaceState(gl({},s.state,{idx:u}),""));function h(){return(s.state||{idx:null}).idx}function p(){l=ro.Pop;let P=h(),w=P==null?null:P-u;u=P,c&&c({action:l,location:k.location,delta:w})}function m(P,w){l=ro.Push;let b=Tp(k.location,P,w);r&&r(b,P),u=h()+1;let I=H_(b,u),M=k.createHref(b);try{s.pushState(I,"",M)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(M)}o&&c&&c({action:l,location:k.location,delta:1})}function _(P,w){l=ro.Replace;let b=Tp(k.location,P,w);r&&r(b,P),u=h();let I=H_(b,u),M=k.createHref(b);s.replaceState(I,"",M),o&&c&&c({action:l,location:k.location,delta:0})}function C(P){let w=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof P=="string"?P:xx(P);return b=b.replace(/ $/,"%20"),ln(w,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,w)}let k={get action(){return l},get location(){return t(i,s)},listen(P){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(q_,p),c=P,()=>{i.removeEventListener(q_,p),c=null}},createHref(P){return e(i,P)},createURL:C,encodeLocation(P){let w=C(P);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:_,go(P){return s.go(P)}};return k}var W_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(W_||(W_={}));function e1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const t1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,r1=t=>t1.test(t);function n1(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?ql(t):t,o;if(r)if(r1(r))o=r;else{if(r.includes("//")){let s=r;r=r.replace(/\/\/+/g,"/"),Ex(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+r))}r.startsWith("/")?o=K_(r.substring(1),"/"):o=K_(r,e)}else o=e;return{pathname:o,search:l1(n),hash:c1(i)}}function K_(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Xh(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function i1(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function o1(t,e){let r=i1(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function s1(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=ql(t):(i=gl({},t),ln(!i.pathname||!i.pathname.includes("?"),Xh("?","pathname","search",i)),ln(!i.pathname||!i.pathname.includes("#"),Xh("#","pathname","hash",i)),ln(!i.search||!i.search.includes("#"),Xh("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=r;else{let p=e.length-1;if(!n&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}l=p>=0?e[p]:"/"}let c=n1(i,l),u=s&&s!=="/"&&s.endsWith("/"),h=(o||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const a1=t=>t.join("/").replace(/\/\/+/g,"/"),l1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,c1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Ix=["post","put","patch","delete"];new Set(Ix);const u1=["get",...Ix];new Set(u1);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yu(){return Yu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yu.apply(this,arguments)}const Tx=R.createContext(null),Eg=R.createContext(null),xg=R.createContext(null),Ig=R.createContext({outlet:null,matches:[],isDataRoute:!1});function Tg(){return R.useContext(xg)!=null}function Sx(){return Tg()||ln(!1),R.useContext(xg).location}function Ax(t){R.useContext(Eg).static||R.useLayoutEffect(t)}function d1(){let{isDataRoute:t}=R.useContext(Ig);return t?g1():h1()}function h1(){Tg()||ln(!1);let t=R.useContext(Tx),{basename:e,future:r,navigator:n}=R.useContext(Eg),{matches:i}=R.useContext(Ig),{pathname:o}=Sx(),s=JSON.stringify(o1(i,r.v7_relativeSplatPath)),l=R.useRef(!1);return Ax(()=>{l.current=!0}),R.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let p=s1(u,JSON.parse(s),o,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:a1([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,s,o,t])}var Cx=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Cx||{}),kx=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(kx||{});function f1(t){let e=R.useContext(Tx);return e||ln(!1),e}function p1(t){let e=R.useContext(Ig);return e||ln(!1),e}function m1(t){let e=p1(),r=e.matches[e.matches.length-1];return r.route.id||ln(!1),r.route.id}function g1(){let{router:t}=f1(Cx.UseNavigateStable),e=m1(kx.UseNavigateStable),r=R.useRef(!1);return Ax(()=>{r.current=!0}),R.useCallback(function(i,o){o===void 0&&(o={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Yu({fromRouteId:e},o)))},[t,e])}function v1(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function y1(t){let{basename:e="/",children:r=null,location:n,navigationType:i=ro.Pop,navigator:o,static:s=!1,future:l}=t;Tg()&&ln(!1);let c=e.replace(/^\/*/,"/"),u=R.useMemo(()=>({basename:c,navigator:o,static:s,future:Yu({v7_relativeSplatPath:!1},l)}),[c,l,o,s]);typeof n=="string"&&(n=ql(n));let{pathname:h="/",search:p="",hash:m="",state:_=null,key:C="default"}=n,k=R.useMemo(()=>{let P=e1(h,c);return P==null?null:{location:{pathname:P,search:p,hash:m,state:_,key:C},navigationType:i}},[c,h,p,m,_,C,i]);return k==null?null:R.createElement(Eg.Provider,{value:u},R.createElement(xg.Provider,{children:r,value:k}))}new Promise(()=>{});/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sp(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function _1(t,e){let r=Sp(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(o=>{r.append(i,o)})}),r}const b1="6";try{window.__reactRouterVersion=b1}catch{}const w1="startTransition",G_=UA[w1];function E1(t){let{basename:e,children:r,future:n,window:i}=t,o=R.useRef();o.current==null&&(o.current=Xk({window:i,v5Compat:!0}));let s=o.current,[l,c]=R.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},h=R.useCallback(p=>{u&&G_?G_(()=>c(p)):c(p)},[c,u]);return R.useLayoutEffect(()=>s.listen(h),[s,h]),R.useEffect(()=>v1(n),[n]),R.createElement(y1,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:s,future:n})}var Q_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Q_||(Q_={}));var Y_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Y_||(Y_={}));function x1(t){let e=R.useRef(Sp(t)),r=R.useRef(!1),n=Sx(),i=R.useMemo(()=>_1(n.search,r.current?null:e.current),[n.search]),o=d1(),s=R.useCallback((l,c)=>{const u=Sp(typeof l=="function"?l(i):l);r.current=!0,o("?"+u,c)},[o,i]);return[i,s]}var X_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},I1=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[r++];e[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[r++],s=t[r++],l=t[r++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const o=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Px={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,l=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,h=o>>2,p=(o&3)<<4|l>>4;let m=(l&15)<<2|u>>6,_=u&63;c||(_=64,s||(m=64)),n.push(r[h],r[p],r[m],r[_])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Rx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):I1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const o=r[t.charAt(i++)],l=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const p=i<t.length?r[t.charAt(i)]:64;if(++i,o==null||l==null||u==null||p==null)throw new T1;const m=o<<2|l>>4;if(n.push(m),u!==64){const _=l<<4&240|u>>2;if(n.push(_),p!==64){const C=u<<6&192|p;n.push(C)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class T1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const S1=function(t){const e=Rx(t);return Px.encodeByteArray(e,!0)},Xu=function(t){return S1(t).replace(/\./g,"")},Nx=function(t){try{return Px.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=()=>A1().__FIREBASE_DEFAULTS__,k1=()=>{if(typeof process>"u"||typeof X_>"u")return;const t=X_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},R1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Nx(t[1]);return e&&JSON.parse(e)},Ld=()=>{try{return C1()||k1()||R1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Dx=t=>{var e,r;return(r=(e=Ld())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},P1=t=>{const e=Dx(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},Ox=()=>{var t;return(t=Ld())===null||t===void 0?void 0:t.config},Lx=t=>{var e;return(e=Ld())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Xu(JSON.stringify(r)),Xu(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function O1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function L1(){var t;const e=(t=Ld())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function M1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function V1(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function F1(){const t=Bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function U1(){return!L1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Mx(){try{return typeof indexedDB=="object"}catch{return!1}}function Vx(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(r){e(r)}})}function j1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="FirebaseError";class gn extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=z1,Object.setPrototypeOf(this,gn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ko.prototype.create)}}class ko{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?B1(o,n):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new gn(i,l,n)}}function B1(t,e){return t.replace(q1,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const q1=/\{\$([^}]+)}/g;function H1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vl(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const o=t[i],s=e[i];if(J_(o)&&J_(s)){if(!vl(o,s))return!1}else if(o!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function J_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Aa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,o]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ca(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function W1(t,e){const r=new K1(t,e);return r.subscribe.bind(r)}class K1{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");G1(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Jh),i.error===void 0&&(i.error=Jh),i.complete===void 0&&(i.complete=Jh);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function G1(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Jh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(t){return t&&t._delegate?t._delegate:t}class Yr{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new N1;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(X1(e))try{this.getOrInitializeService({instanceIdentifier:Ji})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch{}}}}clearInstance(e=Ji){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ji){return this.instances.has(e)}getOptions(e=Ji){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);n===l&&s.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),o=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Y1(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Ji){return this.component?this.component.multipleInstances?e:Ji:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Y1(t){return t===Ji?void 0:t}function X1(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Q1(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const Z1={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},eR=me.INFO,tR={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},rR=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=tR[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sg{constructor(e){this.name=e,this._logLevel=eR,this._logHandler=rR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Z1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const nR=(t,e)=>e.some(r=>t instanceof r);let Z_,eb;function iR(){return Z_||(Z_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oR(){return eb||(eb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $x=new WeakMap,Ap=new WeakMap,Fx=new WeakMap,Zh=new WeakMap,Ag=new WeakMap;function sR(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{r(Mn(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&$x.set(r,t)}).catch(()=>{}),Ag.set(e,t),e}function aR(t){if(Ap.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Ap.set(t,e)}let Cp={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Ap.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Fx.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Mn(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lR(t){Cp=t(Cp)}function cR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(ef(this),e,...r);return Fx.set(n,e.sort?e.sort():[e]),Mn(n)}:oR().includes(t)?function(...e){return t.apply(ef(this),e),Mn($x.get(this))}:function(...e){return Mn(t.apply(ef(this),e))}}function uR(t){return typeof t=="function"?cR(t):(t instanceof IDBTransaction&&aR(t),nR(t,iR())?new Proxy(t,Cp):t)}function Mn(t){if(t instanceof IDBRequest)return sR(t);if(Zh.has(t))return Zh.get(t);const e=uR(t);return e!==t&&(Zh.set(t,e),Ag.set(e,t)),e}const ef=t=>Ag.get(t);function Md(t,e,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),l=Mn(s);return n&&s.addEventListener("upgradeneeded",c=>{n(Mn(s.result),c.oldVersion,c.newVersion,Mn(s.transaction),c)}),r&&s.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}function tf(t,{blocked:e}={}){const r=indexedDB.deleteDatabase(t);return e&&r.addEventListener("blocked",n=>e(n.oldVersion,n)),Mn(r).then(()=>{})}const dR=["get","getKey","getAll","getAllKeys","count"],hR=["put","add","delete","clear"],rf=new Map;function tb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rf.get(e))return rf.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=hR.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||dR.includes(r)))return;const o=async function(s,...l){const c=this.transaction(s,i?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(l.shift())),(await Promise.all([u[r](...l),i&&c.done]))[0]};return rf.set(e,o),o}lR(t=>({...t,get:(e,r,n)=>tb(e,r)||t.get(e,r,n),has:(e,r)=>!!tb(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(pR(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function pR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kp="@firebase/app",rb="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn=new Sg("@firebase/app"),mR="@firebase/app-compat",gR="@firebase/analytics-compat",vR="@firebase/analytics",yR="@firebase/app-check-compat",_R="@firebase/app-check",bR="@firebase/auth",wR="@firebase/auth-compat",ER="@firebase/database",xR="@firebase/data-connect",IR="@firebase/database-compat",TR="@firebase/functions",SR="@firebase/functions-compat",AR="@firebase/installations",CR="@firebase/installations-compat",kR="@firebase/messaging",RR="@firebase/messaging-compat",PR="@firebase/performance",NR="@firebase/performance-compat",DR="@firebase/remote-config",OR="@firebase/remote-config-compat",LR="@firebase/storage",MR="@firebase/storage-compat",VR="@firebase/firestore",$R="@firebase/vertexai-preview",FR="@firebase/firestore-compat",UR="firebase",jR="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp="[DEFAULT]",zR={[kp]:"fire-core",[mR]:"fire-core-compat",[vR]:"fire-analytics",[gR]:"fire-analytics-compat",[_R]:"fire-app-check",[yR]:"fire-app-check-compat",[bR]:"fire-auth",[wR]:"fire-auth-compat",[ER]:"fire-rtdb",[xR]:"fire-data-connect",[IR]:"fire-rtdb-compat",[TR]:"fire-fn",[SR]:"fire-fn-compat",[AR]:"fire-iid",[CR]:"fire-iid-compat",[kR]:"fire-fcm",[RR]:"fire-fcm-compat",[PR]:"fire-perf",[NR]:"fire-perf-compat",[DR]:"fire-rc",[OR]:"fire-rc-compat",[LR]:"fire-gcs",[MR]:"fire-gcs-compat",[VR]:"fire-fst",[FR]:"fire-fst-compat",[$R]:"fire-vertex","fire-js":"fire-js",[UR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=new Map,BR=new Map,Pp=new Map;function nb(t,e){try{t.container.addComponent(e)}catch(r){zn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function fn(t){const e=t.name;if(Pp.has(e))return zn.debug(`There were multiple attempts to register component ${e}.`),!1;Pp.set(e,t);for(const r of Ju.values())nb(r,t);for(const r of BR.values())nb(r,t);return!0}function Fs(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Hr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ti=new ko("app","Firebase",qR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ti.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=jR;function Ux(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Rp,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Ti.create("bad-app-name",{appName:String(i)});if(r||(r=Ox()),!r)throw Ti.create("no-options");const o=Ju.get(i);if(o){if(vl(r,o.options)&&vl(n,o.config))return o;throw Ti.create("duplicate-app",{appName:i})}const s=new J1(i);for(const c of Pp.values())s.addComponent(c);const l=new HR(r,n,s);return Ju.set(i,l),l}function Cg(t=Rp){const e=Ju.get(t);if(!e&&t===Rp&&Ox())return Ux();if(!e)throw Ti.create("no-app",{appName:t});return e}function Nr(t,e,r){var n;let i=(n=zR[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zn.warn(l.join(" "));return}fn(new Yr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="firebase-heartbeat-database",KR=1,yl="firebase-heartbeat-store";let nf=null;function jx(){return nf||(nf=Md(WR,KR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yl)}catch(r){console.warn(r)}}}}).catch(t=>{throw Ti.create("idb-open",{originalErrorMessage:t.message})})),nf}async function GR(t){try{const r=(await jx()).transaction(yl),n=await r.objectStore(yl).get(zx(t));return await r.done,n}catch(e){if(e instanceof gn)zn.warn(e.message);else{const r=Ti.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zn.warn(r.message)}}}async function ib(t,e){try{const n=(await jx()).transaction(yl,"readwrite");await n.objectStore(yl).put(e,zx(t)),await n.done}catch(r){if(r instanceof gn)zn.warn(r.message);else{const n=Ti.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});zn.warn(n.message)}}}function zx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=1024,YR=30*24*60*60*1e3;class XR{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new ZR(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ob();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const l=new Date(s.date).valueOf();return Date.now()-l<=YR}),this._storage.overwrite(this._heartbeatsCache))}catch(n){zn.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=ob(),{heartbeatsToSend:n,unsentEntries:i}=JR(this._heartbeatsCache.heartbeats),o=Xu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(r){return zn.warn(r),""}}}function ob(){return new Date().toISOString().substring(0,10)}function JR(t,e=QR){const r=[];let n=t.slice();for(const i of t){const o=r.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),sb(r)>e){o.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),sb(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class ZR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Mx()?Vx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await GR(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return ib(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return ib(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function sb(t){return Xu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(t){fn(new Yr("platform-logger",e=>new fR(e),"PRIVATE")),fn(new Yr("heartbeat",e=>new XR(e),"PRIVATE")),Nr(kp,rb,t),Nr(kp,rb,"esm2017"),Nr("fire-js","")}eP("");function kg(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function O(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--)(s=t[l])&&(o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o}function Bx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tP=Bx,qx=new ko("auth","Firebase",Bx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=new Sg("@firebase/auth");function rP(t,...e){Zu.logLevel<=me.WARN&&Zu.warn(`Auth (${Us}): ${t}`,...e)}function pu(t,...e){Zu.logLevel<=me.ERROR&&Zu.error(`Auth (${Us}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(t,...e){throw Pg(t,...e)}function Gr(t,...e){return Pg(t,...e)}function Rg(t,e,r){const n=Object.assign(Object.assign({},tP()),{[e]:r});return new ko("auth","Firebase",n).create(e,{appName:t.name})}function Vn(t){return Rg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nP(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&Mr(t,"argument-error"),Rg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pg(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return qx.create(t,...e)}function re(t,e,...r){if(!t)throw Pg(e,...r)}function Nn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw pu(e),new Error(e)}function Bn(t,e){t||Nn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function iP(){return ab()==="http:"||ab()==="https:"}function ab(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iP()||V1()||"connection"in navigator)?navigator.onLine:!0}function sP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,r){this.shortDelay=e,this.longDelay=r,Bn(r>e,"Short delay should be less than long delay!"),this.isMobile=O1()||$1()}get(){return oP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(t,e){Bn(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=new Wl(3e4,6e4);function Mi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Vi(t,e,r,n,i={}){return Wx(t,i,async()=>{let o={},s={};n&&(e==="GET"?s=n:o={body:JSON.stringify(n)});const l=Hl(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},o);return M1()||(u.referrerPolicy="no-referrer"),Hx.fetch()(Kx(t,t.config.apiHost,r,l),u)})}async function Wx(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},aP),e);try{const i=new uP(t),o=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Fc(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const l=o.ok?s.errorMessage:s.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fc(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Fc(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Fc(t,"user-disabled",s);const h=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Rg(t,h,u);Mr(t,h)}}catch(i){if(i instanceof gn)throw i;Mr(t,"network-request-failed",{message:String(i)})}}async function Kl(t,e,r,n,i={}){const o=await Vi(t,e,r,n,i);return"mfaPendingCredential"in o&&Mr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function Kx(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?Ng(t.config,i):`${t.config.apiScheme}://${i}`}function cP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Gr(this.auth,"network-request-failed")),lP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fc(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Gr(t,e,n);return i.customData._tokenResponse=r,i}function lb(t){return t!==void 0&&t.enterprise!==void 0}class dP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return cP(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function hP(t,e){return Vi(t,"GET","/v2/recaptchaConfig",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fP(t,e){return Vi(t,"POST","/v1/accounts:delete",e)}async function Gx(t,e){return Vi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pP(t,e=!1){const r=Ye(t),n=await r.getIdToken(e),i=Dg(n);re(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:n,authTime:za(of(i.auth_time)),issuedAtTime:za(of(i.iat)),expirationTime:za(of(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function of(t){return Number(t)*1e3}function Dg(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return pu("JWT malformed, contained fewer than 3 sections"),null;try{const i=Nx(r);return i?JSON.parse(i):(pu("Failed to decode base64 JWT payload"),null)}catch(i){return pu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function cb(t){const e=Dg(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof gn&&mP(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function mP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=za(this.lastLoginAt),this.creationTime=za(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ed(t){var e;const r=t.auth,n=await t.getIdToken(),i=await _l(t,Gx(r,{idToken:n}));re(i==null?void 0:i.users.length,r,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Qx(o.providerUserInfo):[],l=yP(t.providerData,s),c=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(l!=null&&l.length),h=c?u:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Dp(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function vP(t){const e=Ye(t);await ed(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yP(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function Qx(t){return t.map(e=>{var{providerId:r}=e,n=kg(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _P(t,e){const r=await Wx(t,{},async()=>{const n=Hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=Kx(t,i,"/v1/token",`key=${o}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",Hx.fetch()(s,{method:"POST",headers:l,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function bP(t,e){return Vi(t,"POST","/v2/accounts:revokeToken",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){re(e.length!==0,"internal-error");const r=cb(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:o}=await _P(e,r);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:o}=r,s=new fs;return n&&(re(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&(re(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(re(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fs,this.toJSON())}_performRefresh(){return Nn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Dn{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,o=kg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Dp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const r=await _l(this,this.stsTokenManager.getToken(this.auth,e));return re(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return pP(this,e)}reload(){return vP(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Dn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await ed(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hr(this.auth.app))return Promise.reject(Vn(this.auth));const e=await this.getIdToken();return await _l(this,fP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,o,s,l,c,u,h;const p=(n=r.displayName)!==null&&n!==void 0?n:void 0,m=(i=r.email)!==null&&i!==void 0?i:void 0,_=(o=r.phoneNumber)!==null&&o!==void 0?o:void 0,C=(s=r.photoURL)!==null&&s!==void 0?s:void 0,k=(l=r.tenantId)!==null&&l!==void 0?l:void 0,P=(c=r._redirectEventId)!==null&&c!==void 0?c:void 0,w=(u=r.createdAt)!==null&&u!==void 0?u:void 0,b=(h=r.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:I,emailVerified:M,isAnonymous:$,providerData:F,stsTokenManager:y}=r;re(I&&y,e,"internal-error");const g=fs.fromJSON(this.name,y);re(typeof I=="string",e,"internal-error"),ni(p,e.name),ni(m,e.name),re(typeof M=="boolean",e,"internal-error"),re(typeof $=="boolean",e,"internal-error"),ni(_,e.name),ni(C,e.name),ni(k,e.name),ni(P,e.name),ni(w,e.name),ni(b,e.name);const E=new Dn({uid:I,auth:e,email:m,emailVerified:M,displayName:p,isAnonymous:$,photoURL:C,phoneNumber:_,tenantId:k,stsTokenManager:g,createdAt:w,lastLoginAt:b});return F&&Array.isArray(F)&&(E.providerData=F.map(x=>Object.assign({},x))),P&&(E._redirectEventId=P),E}static async _fromIdTokenResponse(e,r,n=!1){const i=new fs;i.updateFromServerResponse(r);const o=new Dn({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await ed(o),o}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];re(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Qx(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),l=new fs;l.updateFromIdToken(n);const c=new Dn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Dp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=new Map;function On(t){Bn(t instanceof Function,"Expected a class definition");let e=ub.get(t);return e?(Bn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ub.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}Yx.type="NONE";const db=Yx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t,e,r){return`firebase:${t}:${e}:${r}`}class ps{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:o}=this.auth;this.fullUserKey=mu(this.userKey,i.apiKey,o),this.fullPersistenceKey=mu("persistence",i.apiKey,o),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Dn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new ps(On(db),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||On(db);const s=mu(n,e.config.apiKey,e.name);let l=null;for(const u of r)try{const h=await u._get(s);if(h){const p=Dn._fromJSON(e,h);u!==o&&(l=p),o=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new ps(o,e,n):(o=c[0],l&&await o._set(s,l.toJSON()),await Promise.all(r.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new ps(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Xx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rI(e))return"Blackberry";if(nI(e))return"Webos";if(Jx(e))return"Safari";if((e.includes("chrome/")||Zx(e))&&!e.includes("edge/"))return"Chrome";if(tI(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function Xx(t=Bt()){return/firefox\//i.test(t)}function Jx(t=Bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Zx(t=Bt()){return/crios\//i.test(t)}function eI(t=Bt()){return/iemobile/i.test(t)}function tI(t=Bt()){return/android/i.test(t)}function rI(t=Bt()){return/blackberry/i.test(t)}function nI(t=Bt()){return/webos/i.test(t)}function Og(t=Bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wP(t=Bt()){var e;return Og(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function EP(){return F1()&&document.documentMode===10}function iI(t=Bt()){return Og(t)||tI(t)||nI(t)||rI(t)||/windows phone/i.test(t)||eI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(t,e=[]){let r;switch(t){case"Browser":r=hb(Bt());break;case"Worker":r=`${hb(Bt())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Us}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=o=>new Promise((s,l)=>{try{const c=e(o);s(c)}catch(c){l(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IP(t,e={}){return Vi(t,"GET","/v2/passwordPolicy",Mi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=6;class SP{constructor(e){var r,n,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=s.minPasswordLength)!==null&&r!==void 0?r:TP,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,o,s,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(r=c.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(n=c.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fb(this),this.idTokenSubscription=new fb(this),this.beforeStateQueue=new xP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=On(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await ps.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Gx(this,{idToken:e}),n=await Dn._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Hr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===l)&&(c!=null&&c.user)&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await ed(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hr(this.app))return Promise.reject(Vn(this));const r=e?Ye(e):null;return r&&re(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hr(this.app)?Promise.reject(Vn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hr(this.app)?Promise.reject(Vn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(On(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await IP(this),r=new SP(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ko("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await bP(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&On(e)||this._popupRedirectResolver;re(r,this,"argument-error"),this.redirectPersistenceManager=await ps.create(this,[On(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const o=typeof r=="function"?r:r.next.bind(r);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(l,this,"internal-error"),l.then(()=>{s||o(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{s=!0,c()}}else{const c=e.addObserver(r);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&rP(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function $i(t){return Ye(t)}class fb{constructor(e){this.auth=e,this.observer=null,this.addObserver=W1(r=>this.observer=r)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CP(t){Vd=t}function sI(t){return Vd.loadJS(t)}function kP(){return Vd.recaptchaEnterpriseScript}function RP(){return Vd.gapiScript}function PP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const NP="recaptcha-enterprise",DP="NO_RECAPTCHA";class OP{constructor(e){this.type=NP,this.auth=$i(e)}async verify(e="verify",r=!1){async function n(o){if(!r){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,l)=>{hP(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new dP(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(c=>{l(c)})})}function i(o,s,l){const c=window.grecaptcha;lb(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(DP)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{n(this.auth).then(l=>{if(!r&&lb(window.grecaptcha))i(l,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=kP();c.length!==0&&(c+=l),sI(c).then(()=>{i(l,o,s)}).catch(u=>{s(u)})}}).catch(l=>{s(l)})})}}async function pb(t,e,r,n=!1){const i=new OP(t);let o;try{o=await i.verify(r)}catch{o=await i.verify(r,!0)}const s=Object.assign({},e);return n?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Op(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await pb(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await pb(t,e,r,r==="getOobCode");return n(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(t,e){const r=Fs(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),o=r.getOptions();if(vl(o,e??{}))return i;Mr(i,"already-initialized")}return r.initialize({options:e})}function MP(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(On);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function VP(t,e,r){const n=$i(t);re(n._canInitEmulator,n,"emulator-config-failed"),re(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,o=aI(e),{host:s,port:l}=$P(e),c=l===null?"":`:${l}`;n.config.emulator={url:`${o}//${s}${c}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:s,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),FP()}function aI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $P(t){const e=aI(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const o=i[1];return{host:o,port:mb(n.substr(o.length+1))}}else{const[o,s]=n.split(":");return{host:o,port:mb(s)}}}function mb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function FP(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Nn("not implemented")}_getIdTokenResponse(e){return Nn("not implemented")}_linkToIdToken(e,r){return Nn("not implemented")}_getReauthenticationResolver(e){return Nn("not implemented")}}async function UP(t,e){return Vi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jP(t,e){return Kl(t,"POST","/v1/accounts:signInWithPassword",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zP(t,e){return Kl(t,"POST","/v1/accounts:signInWithEmailLink",Mi(t,e))}async function BP(t,e){return Kl(t,"POST","/v1/accounts:signInWithEmailLink",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl extends Lg{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new bl(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new bl(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Op(e,r,"signInWithPassword",jP);case"emailLink":return zP(e,{email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Op(e,n,"signUpPassword",UP);case"emailLink":return BP(e,{idToken:r,email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ms(t,e){return Kl(t,"POST","/v1/accounts:signInWithIdp",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP="http://localhost";class qn extends Lg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new qn(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Mr("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,o=kg(r,["providerId","signInMethod"]);if(!n||!i)return null;const s=new qn(n,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const r=this.buildRequest();return ms(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,ms(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,ms(e,r)}buildRequest(){const e={requestUri:qP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Hl(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function WP(t){const e=Aa(Ca(t)).link,r=e?Aa(Ca(e)).deep_link_id:null,n=Aa(Ca(t)).deep_link_id;return(n?Aa(Ca(n)).link:null)||n||r||e||t}class Mg{constructor(e){var r,n,i,o,s,l;const c=Aa(Ca(e)),u=(r=c.apiKey)!==null&&r!==void 0?r:null,h=(n=c.oobCode)!==null&&n!==void 0?n:null,p=HP((i=c.mode)!==null&&i!==void 0?i:null);re(u&&h&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=h,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const r=WP(e);try{return new Mg(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(){this.providerId=js.PROVIDER_ID}static credential(e,r){return bl._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=Mg.parseLink(r);return re(n,"argument-error"),bl._fromEmailAndCode(e,n.code,n.tenantId)}}js.PROVIDER_ID="password";js.EMAIL_PASSWORD_SIGN_IN_METHOD="password";js.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Vg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ba extends zs{static credentialFromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;return re("providerId"in r&&"signInMethod"in r,"argument-error"),qn._fromParams(r)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return re(e.idToken||e.accessToken,"argument-error"),qn._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Ba.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ba.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n,oauthTokenSecret:i,pendingToken:o,nonce:s,providerId:l}=e;if(!n&&!i&&!r&&!o||!l)return null;try{return new Ba(l)._credential({idToken:r,accessToken:n,nonce:s,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends zs{constructor(){super("facebook.com")}static credential(e){return qn._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ui.credential(e.oauthAccessToken)}catch{return null}}}ui.FACEBOOK_SIGN_IN_METHOD="facebook.com";ui.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn extends zs{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return qn._fromParams({providerId:kn.PROVIDER_ID,signInMethod:kn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return kn.credentialFromTaggedObject(e)}static credentialFromError(e){return kn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return kn.credential(r,n)}catch{return null}}}kn.GOOGLE_SIGN_IN_METHOD="google.com";kn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends zs{constructor(){super("github.com")}static credential(e){return qn._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return di.credential(e.oauthAccessToken)}catch{return null}}}di.GITHUB_SIGN_IN_METHOD="github.com";di.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends zs{constructor(){super("twitter.com")}static credential(e,r){return qn._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return hi.credential(r,n)}catch{return null}}}hi.TWITTER_SIGN_IN_METHOD="twitter.com";hi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KP(t,e){return Kl(t,"POST","/v1/accounts:signUp",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const o=await Dn._fromIdTokenResponse(e,n,i),s=gb(n);return new _o({user:o,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=gb(n);return new _o({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function gb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td extends gn{constructor(e,r,n,i){var o;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,td.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new td(e,r,n,i)}}function lI(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?td._fromErrorAndOperation(t,o,e,n):o})}async function GP(t,e,r=!1){const n=await _l(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return _o._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QP(t,e,r=!1){const{auth:n}=t;if(Hr(n.app))return Promise.reject(Vn(n));const i="reauthenticate";try{const o=await _l(t,lI(n,i,e,t),r);re(o.idToken,n,"internal-error");const s=Dg(o.idToken);re(s,n,"internal-error");const{sub:l}=s;return re(t.uid===l,n,"user-mismatch"),_o._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Mr(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cI(t,e,r=!1){if(Hr(t.app))return Promise.reject(Vn(t));const n="signIn",i=await lI(t,n,e),o=await _o._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(o.user),o}async function YP(t,e){return cI($i(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(t){const e=$i(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function XP(t,e,r){if(Hr(t.app))return Promise.reject(Vn(t));const n=$i(t),s=await Op(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",KP).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&uI(t),c}),l=await _o._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(l.user),l}function JP(t,e,r){return Hr(t.app)?Promise.reject(Vn(t)):YP(Ye(t),js.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&uI(t),n})}function ZP(t,e,r,n){return Ye(t).onIdTokenChanged(e,r,n)}function eN(t,e,r){return Ye(t).beforeAuthStateChanged(e,r)}function tN(t,e,r,n){return Ye(t).onAuthStateChanged(e,r,n)}function rN(t){return Ye(t).signOut()}const rd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(rd,"1"),this.storage.removeItem(rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=1e3,iN=10;class hI extends dI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,l,c)=>{this.notifyListeners(s,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},o=this.storage.getItem(n);EP()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,iN):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},nN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}hI.type="LOCAL";const oN=hI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI extends dI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}fI.type="SESSION";const pI=fI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new $d(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:o}=r.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(s).map(async u=>u(r.origin,o)),c=await sN(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$d.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((l,c)=>{const u=$g("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(p){const m=p;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(m.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return window}function lN(t){cn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(){return typeof cn().WorkerGlobalScope<"u"&&typeof cn().importScripts=="function"}async function cN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uN(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function dN(){return mI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="firebaseLocalStorageDb",hN=1,nd="firebaseLocalStorage",vI="fbase_key";class Gl{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Fd(t,e){return t.transaction([nd],e?"readwrite":"readonly").objectStore(nd)}function fN(){const t=indexedDB.deleteDatabase(gI);return new Gl(t).toPromise()}function Lp(){const t=indexedDB.open(gI,hN);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(nd,{keyPath:vI})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(nd)?e(n):(n.close(),await fN(),e(await Lp()))})})}async function vb(t,e,r){const n=Fd(t,!0).put({[vI]:e,value:r});return new Gl(n).toPromise()}async function pN(t,e){const r=Fd(t,!1).get(e),n=await new Gl(r).toPromise();return n===void 0?null:n.value}function yb(t,e){const r=Fd(t,!0).delete(e);return new Gl(r).toPromise()}const mN=800,gN=3;class yI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lp(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>gN)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$d._getInstance(dN()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await cN(),!this.activeServiceWorker)return;this.sender=new aN(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lp();return await vb(e,rd,"1"),await yb(e,rd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>vb(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>pN(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>yb(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Fd(i,!1).getAll();return new Gl(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yI.type="LOCAL";const vN=yI;new Wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t,e){return e?On(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg extends Lg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ms(e,this._buildIdpRequest())}_linkToIdToken(e,r){return ms(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return ms(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function yN(t){return cI(t.auth,new Fg(t),t.bypassAuthState)}function _N(t){const{auth:e,user:r}=t;return re(r,e,"internal-error"),QP(r,new Fg(t),t.bypassAuthState)}async function bN(t){const{auth:e,user:r}=t;return re(r,e,"internal-error"),GP(r,new Fg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,r,n,i,o=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:o,error:s,type:l}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yN;case"linkViaPopup":case"linkViaRedirect":return bN;case"reauthViaPopup":case"reauthViaRedirect":return _N;default:Mr(this.auth,"internal-error")}}resolve(e){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=new Wl(2e3,1e4);async function EN(t,e,r){if(Hr(t.app))return Promise.reject(Gr(t,"operation-not-supported-in-this-environment"));const n=$i(t);nP(t,e,Vg);const i=_I(n,r);return new no(n,"signInViaPopup",e,i).executeNotNull()}class no extends bI{constructor(e,r,n,i,o){super(e,r,i,o),this.provider=n,this.authWindow=null,this.pollId=null,no.currentPopupAction&&no.currentPopupAction.cancel(),no.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){Bn(this.filter.length===1,"Popup operations only handle one event");const e=$g();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,no.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wN.get())};e()}}no.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="pendingRedirect",gu=new Map;class IN extends bI{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=gu.get(this.auth._key());if(!e){try{const n=await TN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}gu.set(this.auth._key(),e)}return this.bypassAuthState||gu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TN(t,e){const r=CN(e),n=AN(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function SN(t,e){gu.set(t._key(),e)}function AN(t){return On(t._redirectPersistence)}function CN(t){return mu(xN,t.config.apiKey,t.name)}async function kN(t,e,r=!1){if(Hr(t.app))return Promise.reject(Vn(t));const n=$i(t),i=_I(n,e),s=await new IN(n,i,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=10*60*1e3;class PN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NN(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!wI(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Gr(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RN&&this.cachedEventUids.clear(),this.cachedEventUids.has(_b(e))}saveEventToCache(e){this.cachedEventUids.add(_b(e)),this.lastProcessedEventTime=Date.now()}}function _b(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function NN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(t,e={}){return Vi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LN=/^https?/;async function MN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await DN(t);for(const r of e)try{if(VN(r))return}catch{}Mr(t,"unauthorized-domain")}function VN(t){const e=Np(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!LN.test(r))return!1;if(ON.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=new Wl(3e4,6e4);function bb(){const t=cn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function FN(t){return new Promise((e,r)=>{var n,i,o;function s(){bb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bb(),r(Gr(t,"network-request-failed"))},timeout:$N.get()})}if(!((i=(n=cn().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=cn().gapi)===null||o===void 0)&&o.load)s();else{const l=PP("iframefcb");return cn()[l]=()=>{gapi.load?s():r(Gr(t,"network-request-failed"))},sI(`${RP()}?onload=${l}`).catch(c=>r(c))}}).catch(e=>{throw vu=null,e})}let vu=null;function UN(t){return vu=vu||FN(t),vu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=new Wl(5e3,15e3),zN="__/auth/iframe",BN="emulator/auth/iframe",qN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WN(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Ng(e,BN):`https://${t.config.authDomain}/${zN}`,n={apiKey:e.apiKey,appName:t.name,v:Us},i=HN.get(t.config.apiHost);i&&(n.eid=i);const o=t._getFrameworks();return o.length&&(n.fw=o.join(",")),`${r}?${Hl(n).slice(1)}`}async function KN(t){const e=await UN(t),r=cn().gapi;return re(r,t,"internal-error"),e.open({where:document.body,url:WN(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qN,dontclear:!0},n=>new Promise(async(i,o)=>{await n.restyle({setHideOnLeave:!1});const s=Gr(t,"network-request-failed"),l=cn().setTimeout(()=>{o(s)},jN.get());function c(){cn().clearTimeout(l),i(n)}n.ping(c).then(c,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QN=500,YN=600,XN="_blank",JN="http://localhost";class wb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZN(t,e,r,n=QN,i=YN){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c=Object.assign(Object.assign({},GN),{width:n.toString(),height:i.toString(),top:o,left:s}),u=Bt().toLowerCase();r&&(l=Zx(u)?XN:r),Xx(u)&&(e=e||JN,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[_,C])=>`${m}${_}=${C},`,"");if(wP(u)&&l!=="_self")return eD(e||"",l),new wb(null);const p=window.open(e||"",l,h);re(p,t,"popup-blocked");try{p.focus()}catch{}return new wb(p)}function eD(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD="__/auth/handler",rD="emulator/auth/handler",nD=encodeURIComponent("fac");async function Eb(t,e,r,n,i,o){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Us,eventId:i};if(e instanceof Vg){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",H1(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))s[h]=p}if(e instanceof zs){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),u=c?`#${nD}=${encodeURIComponent(c)}`:"";return`${iD(t)}?${Hl(l).slice(1)}${u}`}function iD({config:t}){return t.emulator?Ng(t,rD):`https://${t.authDomain}/${tD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf="webStorageSupport";class oD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pI,this._completeRedirectFn=kN,this._overrideRedirectResult=SN}async _openPopup(e,r,n,i){var o;Bn((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await Eb(e,r,n,Np(),i);return ZN(e,s,$g())}async _openRedirect(e,r,n,i){await this._originValidation(e);const o=await Eb(e,r,n,Np(),i);return lN(o),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:o}=this.eventManagers[r];return i?Promise.resolve(i):(Bn(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await KN(e),n=new PN(e);return r.register("authEvent",i=>(re(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(sf,{type:sf},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[sf];s!==void 0&&r(!!s),Mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=MN(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return iI()||Jx()||Og()}}const sD=oD;var xb="@firebase/auth",Ib="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cD(t){fn(new Yr("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=n.options;re(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oI(t)},u=new AP(n,i,o,c);return MP(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),fn(new Yr("auth-internal",e=>{const r=$i(e.getProvider("auth").getImmediate());return(n=>new aD(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nr(xb,Ib,lD(t)),Nr(xb,Ib,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=5*60,dD=Lx("authIdTokenMaxAge")||uD;let Tb=null;const hD=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>dD)return;const i=r==null?void 0:r.token;Tb!==i&&(Tb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function fD(t=Cg()){const e=Fs(t,"auth");if(e.isInitialized())return e.getImmediate();const r=LP(t,{popupRedirectResolver:sD,persistence:[vN,oN,pI]}),n=Lx("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const s=hD(o.toString());eN(r,s,()=>s(r.currentUser)),ZP(r,l=>s(l))}}const i=Dx("auth");return i&&VP(r,`http://${i}`),r}function pD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}CP({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const o=Gr("internal-error");o.customData=i,r(o)},n.type="text/javascript",n.charset="UTF-8",pD().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cD("Browser");var Sb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var co,EI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(y,g){function E(){}E.prototype=g.prototype,y.D=g.prototype,y.prototype=new E,y.prototype.constructor=y,y.C=function(x,A,N){for(var T=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)T[Pe-2]=arguments[Pe];return g.prototype[A].apply(x,T)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(y,g,E){E||(E=0);var x=Array(16);if(typeof g=="string")for(var A=0;16>A;++A)x[A]=g.charCodeAt(E++)|g.charCodeAt(E++)<<8|g.charCodeAt(E++)<<16|g.charCodeAt(E++)<<24;else for(A=0;16>A;++A)x[A]=g[E++]|g[E++]<<8|g[E++]<<16|g[E++]<<24;g=y.g[0],E=y.g[1],A=y.g[2];var N=y.g[3],T=g+(N^E&(A^N))+x[0]+3614090360&4294967295;g=E+(T<<7&4294967295|T>>>25),T=N+(A^g&(E^A))+x[1]+3905402710&4294967295,N=g+(T<<12&4294967295|T>>>20),T=A+(E^N&(g^E))+x[2]+606105819&4294967295,A=N+(T<<17&4294967295|T>>>15),T=E+(g^A&(N^g))+x[3]+3250441966&4294967295,E=A+(T<<22&4294967295|T>>>10),T=g+(N^E&(A^N))+x[4]+4118548399&4294967295,g=E+(T<<7&4294967295|T>>>25),T=N+(A^g&(E^A))+x[5]+1200080426&4294967295,N=g+(T<<12&4294967295|T>>>20),T=A+(E^N&(g^E))+x[6]+2821735955&4294967295,A=N+(T<<17&4294967295|T>>>15),T=E+(g^A&(N^g))+x[7]+4249261313&4294967295,E=A+(T<<22&4294967295|T>>>10),T=g+(N^E&(A^N))+x[8]+1770035416&4294967295,g=E+(T<<7&4294967295|T>>>25),T=N+(A^g&(E^A))+x[9]+2336552879&4294967295,N=g+(T<<12&4294967295|T>>>20),T=A+(E^N&(g^E))+x[10]+4294925233&4294967295,A=N+(T<<17&4294967295|T>>>15),T=E+(g^A&(N^g))+x[11]+2304563134&4294967295,E=A+(T<<22&4294967295|T>>>10),T=g+(N^E&(A^N))+x[12]+1804603682&4294967295,g=E+(T<<7&4294967295|T>>>25),T=N+(A^g&(E^A))+x[13]+4254626195&4294967295,N=g+(T<<12&4294967295|T>>>20),T=A+(E^N&(g^E))+x[14]+2792965006&4294967295,A=N+(T<<17&4294967295|T>>>15),T=E+(g^A&(N^g))+x[15]+1236535329&4294967295,E=A+(T<<22&4294967295|T>>>10),T=g+(A^N&(E^A))+x[1]+4129170786&4294967295,g=E+(T<<5&4294967295|T>>>27),T=N+(E^A&(g^E))+x[6]+3225465664&4294967295,N=g+(T<<9&4294967295|T>>>23),T=A+(g^E&(N^g))+x[11]+643717713&4294967295,A=N+(T<<14&4294967295|T>>>18),T=E+(N^g&(A^N))+x[0]+3921069994&4294967295,E=A+(T<<20&4294967295|T>>>12),T=g+(A^N&(E^A))+x[5]+3593408605&4294967295,g=E+(T<<5&4294967295|T>>>27),T=N+(E^A&(g^E))+x[10]+38016083&4294967295,N=g+(T<<9&4294967295|T>>>23),T=A+(g^E&(N^g))+x[15]+3634488961&4294967295,A=N+(T<<14&4294967295|T>>>18),T=E+(N^g&(A^N))+x[4]+3889429448&4294967295,E=A+(T<<20&4294967295|T>>>12),T=g+(A^N&(E^A))+x[9]+568446438&4294967295,g=E+(T<<5&4294967295|T>>>27),T=N+(E^A&(g^E))+x[14]+3275163606&4294967295,N=g+(T<<9&4294967295|T>>>23),T=A+(g^E&(N^g))+x[3]+4107603335&4294967295,A=N+(T<<14&4294967295|T>>>18),T=E+(N^g&(A^N))+x[8]+1163531501&4294967295,E=A+(T<<20&4294967295|T>>>12),T=g+(A^N&(E^A))+x[13]+2850285829&4294967295,g=E+(T<<5&4294967295|T>>>27),T=N+(E^A&(g^E))+x[2]+4243563512&4294967295,N=g+(T<<9&4294967295|T>>>23),T=A+(g^E&(N^g))+x[7]+1735328473&4294967295,A=N+(T<<14&4294967295|T>>>18),T=E+(N^g&(A^N))+x[12]+2368359562&4294967295,E=A+(T<<20&4294967295|T>>>12),T=g+(E^A^N)+x[5]+4294588738&4294967295,g=E+(T<<4&4294967295|T>>>28),T=N+(g^E^A)+x[8]+2272392833&4294967295,N=g+(T<<11&4294967295|T>>>21),T=A+(N^g^E)+x[11]+1839030562&4294967295,A=N+(T<<16&4294967295|T>>>16),T=E+(A^N^g)+x[14]+4259657740&4294967295,E=A+(T<<23&4294967295|T>>>9),T=g+(E^A^N)+x[1]+2763975236&4294967295,g=E+(T<<4&4294967295|T>>>28),T=N+(g^E^A)+x[4]+1272893353&4294967295,N=g+(T<<11&4294967295|T>>>21),T=A+(N^g^E)+x[7]+4139469664&4294967295,A=N+(T<<16&4294967295|T>>>16),T=E+(A^N^g)+x[10]+3200236656&4294967295,E=A+(T<<23&4294967295|T>>>9),T=g+(E^A^N)+x[13]+681279174&4294967295,g=E+(T<<4&4294967295|T>>>28),T=N+(g^E^A)+x[0]+3936430074&4294967295,N=g+(T<<11&4294967295|T>>>21),T=A+(N^g^E)+x[3]+3572445317&4294967295,A=N+(T<<16&4294967295|T>>>16),T=E+(A^N^g)+x[6]+76029189&4294967295,E=A+(T<<23&4294967295|T>>>9),T=g+(E^A^N)+x[9]+3654602809&4294967295,g=E+(T<<4&4294967295|T>>>28),T=N+(g^E^A)+x[12]+3873151461&4294967295,N=g+(T<<11&4294967295|T>>>21),T=A+(N^g^E)+x[15]+530742520&4294967295,A=N+(T<<16&4294967295|T>>>16),T=E+(A^N^g)+x[2]+3299628645&4294967295,E=A+(T<<23&4294967295|T>>>9),T=g+(A^(E|~N))+x[0]+4096336452&4294967295,g=E+(T<<6&4294967295|T>>>26),T=N+(E^(g|~A))+x[7]+1126891415&4294967295,N=g+(T<<10&4294967295|T>>>22),T=A+(g^(N|~E))+x[14]+2878612391&4294967295,A=N+(T<<15&4294967295|T>>>17),T=E+(N^(A|~g))+x[5]+4237533241&4294967295,E=A+(T<<21&4294967295|T>>>11),T=g+(A^(E|~N))+x[12]+1700485571&4294967295,g=E+(T<<6&4294967295|T>>>26),T=N+(E^(g|~A))+x[3]+2399980690&4294967295,N=g+(T<<10&4294967295|T>>>22),T=A+(g^(N|~E))+x[10]+4293915773&4294967295,A=N+(T<<15&4294967295|T>>>17),T=E+(N^(A|~g))+x[1]+2240044497&4294967295,E=A+(T<<21&4294967295|T>>>11),T=g+(A^(E|~N))+x[8]+1873313359&4294967295,g=E+(T<<6&4294967295|T>>>26),T=N+(E^(g|~A))+x[15]+4264355552&4294967295,N=g+(T<<10&4294967295|T>>>22),T=A+(g^(N|~E))+x[6]+2734768916&4294967295,A=N+(T<<15&4294967295|T>>>17),T=E+(N^(A|~g))+x[13]+1309151649&4294967295,E=A+(T<<21&4294967295|T>>>11),T=g+(A^(E|~N))+x[4]+4149444226&4294967295,g=E+(T<<6&4294967295|T>>>26),T=N+(E^(g|~A))+x[11]+3174756917&4294967295,N=g+(T<<10&4294967295|T>>>22),T=A+(g^(N|~E))+x[2]+718787259&4294967295,A=N+(T<<15&4294967295|T>>>17),T=E+(N^(A|~g))+x[9]+3951481745&4294967295,y.g[0]=y.g[0]+g&4294967295,y.g[1]=y.g[1]+(A+(T<<21&4294967295|T>>>11))&4294967295,y.g[2]=y.g[2]+A&4294967295,y.g[3]=y.g[3]+N&4294967295}n.prototype.u=function(y,g){g===void 0&&(g=y.length);for(var E=g-this.blockSize,x=this.B,A=this.h,N=0;N<g;){if(A==0)for(;N<=E;)i(this,y,N),N+=this.blockSize;if(typeof y=="string"){for(;N<g;)if(x[A++]=y.charCodeAt(N++),A==this.blockSize){i(this,x),A=0;break}}else for(;N<g;)if(x[A++]=y[N++],A==this.blockSize){i(this,x),A=0;break}}this.h=A,this.o+=g},n.prototype.v=function(){var y=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);y[0]=128;for(var g=1;g<y.length-8;++g)y[g]=0;var E=8*this.o;for(g=y.length-8;g<y.length;++g)y[g]=E&255,E/=256;for(this.u(y),y=Array(16),g=E=0;4>g;++g)for(var x=0;32>x;x+=8)y[E++]=this.g[g]>>>x&255;return y};function o(y,g){var E=l;return Object.prototype.hasOwnProperty.call(E,y)?E[y]:E[y]=g(y)}function s(y,g){this.h=g;for(var E=[],x=!0,A=y.length-1;0<=A;A--){var N=y[A]|0;x&&N==g||(E[A]=N,x=!1)}this.g=E}var l={};function c(y){return-128<=y&&128>y?o(y,function(g){return new s([g|0],0>g?-1:0)}):new s([y|0],0>y?-1:0)}function u(y){if(isNaN(y)||!isFinite(y))return p;if(0>y)return P(u(-y));for(var g=[],E=1,x=0;y>=E;x++)g[x]=y/E|0,E*=4294967296;return new s(g,0)}function h(y,g){if(y.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(y.charAt(0)=="-")return P(h(y.substring(1),g));if(0<=y.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=u(Math.pow(g,8)),x=p,A=0;A<y.length;A+=8){var N=Math.min(8,y.length-A),T=parseInt(y.substring(A,A+N),g);8>N?(N=u(Math.pow(g,N)),x=x.j(N).add(u(T))):(x=x.j(E),x=x.add(u(T)))}return x}var p=c(0),m=c(1),_=c(16777216);t=s.prototype,t.m=function(){if(k(this))return-P(this).m();for(var y=0,g=1,E=0;E<this.g.length;E++){var x=this.i(E);y+=(0<=x?x:4294967296+x)*g,g*=4294967296}return y},t.toString=function(y){if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(C(this))return"0";if(k(this))return"-"+P(this).toString(y);for(var g=u(Math.pow(y,6)),E=this,x="";;){var A=M(E,g).g;E=w(E,A.j(g));var N=((0<E.g.length?E.g[0]:E.h)>>>0).toString(y);if(E=A,C(E))return N+x;for(;6>N.length;)N="0"+N;x=N+x}},t.i=function(y){return 0>y?0:y<this.g.length?this.g[y]:this.h};function C(y){if(y.h!=0)return!1;for(var g=0;g<y.g.length;g++)if(y.g[g]!=0)return!1;return!0}function k(y){return y.h==-1}t.l=function(y){return y=w(this,y),k(y)?-1:C(y)?0:1};function P(y){for(var g=y.g.length,E=[],x=0;x<g;x++)E[x]=~y.g[x];return new s(E,~y.h).add(m)}t.abs=function(){return k(this)?P(this):this},t.add=function(y){for(var g=Math.max(this.g.length,y.g.length),E=[],x=0,A=0;A<=g;A++){var N=x+(this.i(A)&65535)+(y.i(A)&65535),T=(N>>>16)+(this.i(A)>>>16)+(y.i(A)>>>16);x=T>>>16,N&=65535,T&=65535,E[A]=T<<16|N}return new s(E,E[E.length-1]&-2147483648?-1:0)};function w(y,g){return y.add(P(g))}t.j=function(y){if(C(this)||C(y))return p;if(k(this))return k(y)?P(this).j(P(y)):P(P(this).j(y));if(k(y))return P(this.j(P(y)));if(0>this.l(_)&&0>y.l(_))return u(this.m()*y.m());for(var g=this.g.length+y.g.length,E=[],x=0;x<2*g;x++)E[x]=0;for(x=0;x<this.g.length;x++)for(var A=0;A<y.g.length;A++){var N=this.i(x)>>>16,T=this.i(x)&65535,Pe=y.i(A)>>>16,dt=y.i(A)&65535;E[2*x+2*A]+=T*dt,b(E,2*x+2*A),E[2*x+2*A+1]+=N*dt,b(E,2*x+2*A+1),E[2*x+2*A+1]+=T*Pe,b(E,2*x+2*A+1),E[2*x+2*A+2]+=N*Pe,b(E,2*x+2*A+2)}for(x=0;x<g;x++)E[x]=E[2*x+1]<<16|E[2*x];for(x=g;x<2*g;x++)E[x]=0;return new s(E,0)};function b(y,g){for(;(y[g]&65535)!=y[g];)y[g+1]+=y[g]>>>16,y[g]&=65535,g++}function I(y,g){this.g=y,this.h=g}function M(y,g){if(C(g))throw Error("division by zero");if(C(y))return new I(p,p);if(k(y))return g=M(P(y),g),new I(P(g.g),P(g.h));if(k(g))return g=M(y,P(g)),new I(P(g.g),g.h);if(30<y.g.length){if(k(y)||k(g))throw Error("slowDivide_ only works with positive integers.");for(var E=m,x=g;0>=x.l(y);)E=$(E),x=$(x);var A=F(E,1),N=F(x,1);for(x=F(x,2),E=F(E,2);!C(x);){var T=N.add(x);0>=T.l(y)&&(A=A.add(E),N=T),x=F(x,1),E=F(E,1)}return g=w(y,A.j(g)),new I(A,g)}for(A=p;0<=y.l(g);){for(E=Math.max(1,Math.floor(y.m()/g.m())),x=Math.ceil(Math.log(E)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),N=u(E),T=N.j(g);k(T)||0<T.l(y);)E-=x,N=u(E),T=N.j(g);C(N)&&(N=m),A=A.add(N),y=w(y,T)}return new I(A,y)}t.A=function(y){return M(this,y).h},t.and=function(y){for(var g=Math.max(this.g.length,y.g.length),E=[],x=0;x<g;x++)E[x]=this.i(x)&y.i(x);return new s(E,this.h&y.h)},t.or=function(y){for(var g=Math.max(this.g.length,y.g.length),E=[],x=0;x<g;x++)E[x]=this.i(x)|y.i(x);return new s(E,this.h|y.h)},t.xor=function(y){for(var g=Math.max(this.g.length,y.g.length),E=[],x=0;x<g;x++)E[x]=this.i(x)^y.i(x);return new s(E,this.h^y.h)};function $(y){for(var g=y.g.length+1,E=[],x=0;x<g;x++)E[x]=y.i(x)<<1|y.i(x-1)>>>31;return new s(E,y.h)}function F(y,g){var E=g>>5;g%=32;for(var x=y.g.length-E,A=[],N=0;N<x;N++)A[N]=0<g?y.i(N+E)>>>g|y.i(N+E+1)<<32-g:y.i(N+E);return new s(A,y.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,EI=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=h,co=s}).apply(typeof Sb<"u"?Sb:typeof self<"u"?self:typeof window<"u"?window:{});var Uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xI,ka,II,yu,Mp,TI,SI,AI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,f){return a==Array.prototype||a==Object.prototype||(a[d]=f.value),a};function r(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uc=="object"&&Uc];for(var d=0;d<a.length;++d){var f=a[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var n=r(this);function i(a,d){if(d)e:{var f=n;a=a.split(".");for(var v=0;v<a.length-1;v++){var D=a[v];if(!(D in f))break e;f=f[D]}a=a[a.length-1],v=f[a],d=d(v),d!=v&&d!=null&&e(f,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var f=0,v=!1,D={next:function(){if(!v&&f<a.length){var V=f++;return{value:d(V,a[V]),done:!1}}return v=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function c(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function u(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function h(a,d,f){return a.call.apply(a.bind,arguments)}function p(a,d,f){if(!a)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,v),a.apply(d,D)}}return function(){return a.apply(d,arguments)}}function m(a,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function _(a,d){var f=Array.prototype.slice.call(arguments,1);return function(){var v=f.slice();return v.push.apply(v,arguments),a.apply(this,v)}}function C(a,d){function f(){}f.prototype=d.prototype,a.aa=d.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(v,D,V){for(var H=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)H[Re-2]=arguments[Re];return d.prototype[D].apply(v,H)}}function k(a){const d=a.length;if(0<d){const f=Array(d);for(let v=0;v<d;v++)f[v]=a[v];return f}return[]}function P(a,d){for(let f=1;f<arguments.length;f++){const v=arguments[f];if(c(v)){const D=a.length||0,V=v.length||0;a.length=D+V;for(let H=0;H<V;H++)a[D+H]=v[H]}else a.push(v)}}class w{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function b(a){return/^[\s\xa0]*$/.test(a)}function I(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function M(a){return M[" "](a),a}M[" "]=function(){};var $=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function F(a,d,f){for(const v in a)d.call(f,a[v],v,a)}function y(a,d){for(const f in a)d.call(void 0,a[f],f,a)}function g(a){const d={};for(const f in a)d[f]=a[f];return d}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(a,d){let f,v;for(let D=1;D<arguments.length;D++){v=arguments[D];for(f in v)a[f]=v[f];for(let V=0;V<E.length;V++)f=E[V],Object.prototype.hasOwnProperty.call(v,f)&&(a[f]=v[f])}}function A(a){var d=1;a=a.split(":");const f=[];for(;0<d&&a.length;)f.push(a.shift()),d--;return a.length&&f.push(a.join(":")),f}function N(a){l.setTimeout(()=>{throw a},0)}function T(){var a=Z;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Pe{constructor(){this.h=this.g=null}add(d,f){const v=dt.get();v.set(d,f),this.h?this.h.next=v:this.g=v,this.h=v}}var dt=new w(()=>new hr,a=>a.reset());class hr{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ne,K=!1,Z=new Pe,te=()=>{const a=l.Promise.resolve(void 0);Ne=()=>{a.then(_e)}};var _e=()=>{for(var a;a=T();){try{a.h.call(a.g)}catch(f){N(f)}var d=dt;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}K=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const f=()=>{};l.addEventListener("test",f,d),l.removeEventListener("test",f,d)}catch{}return a}();function ot(a,d){if(ce.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,v=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if($){e:{try{M(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else f=="mouseover"?d=a.fromElement:f=="mouseout"&&(d=a.toElement);this.relatedTarget=d,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Ae[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ot.aa.h.call(this)}}C(ot,ce);var Ae={2:"touch",3:"pen",4:"mouse"};ot.prototype.h=function(){ot.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),je=0;function wt(a,d,f,v,D){this.listener=a,this.proxy=null,this.src=d,this.type=f,this.capture=!!v,this.ha=D,this.key=++je,this.da=this.fa=!1}function pe(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function qt(a){this.src=a,this.g={},this.h=0}qt.prototype.add=function(a,d,f,v,D){var V=a.toString();a=this.g[V],a||(a=this.g[V]=[],this.h++);var H=fr(a,d,v,D);return-1<H?(d=a[H],f||(d.fa=!1)):(d=new wt(d,this.src,V,!!v,D),d.fa=f,a.push(d)),d};function Nt(a,d){var f=d.type;if(f in a.g){var v=a.g[f],D=Array.prototype.indexOf.call(v,d,void 0),V;(V=0<=D)&&Array.prototype.splice.call(v,D,1),V&&(pe(d),a.g[f].length==0&&(delete a.g[f],a.h--))}}function fr(a,d,f,v){for(var D=0;D<a.length;++D){var V=a[D];if(!V.da&&V.listener==d&&V.capture==!!f&&V.ha==v)return D}return-1}var Ht="closure_lm_"+(1e6*Math.random()|0),nr={};function Vr(a,d,f,v,D){if(Array.isArray(d)){for(var V=0;V<d.length;V++)Vr(a,d[V],f,v,D);return null}return f=zi(f),a&&a[Ee]?a.K(d,f,u(v)?!!v.capture:!1,D):Oo(a,d,f,!1,v,D)}function Oo(a,d,f,v,D,V){if(!d)throw Error("Invalid event type");var H=u(D)?!!D.capture:!!D,Re=Jn(a);if(Re||(a[Ht]=Re=new qt(a)),f=Re.add(d,f,v,H,V),f.proxy)return f;if(v=Lo(),f.proxy=v,v.src=a,v.listener=f,a.addEventListener)Se||(D=H),D===void 0&&(D=!1),a.addEventListener(d.toString(),v,D);else if(a.attachEvent)a.attachEvent(vn(d.toString()),v);else if(a.addListener&&a.removeListener)a.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Lo(){function a(f){return d.call(a.src,a.listener,f)}const d=yn;return a}function Xn(a,d,f,v,D){if(Array.isArray(d))for(var V=0;V<d.length;V++)Xn(a,d[V],f,v,D);else v=u(v)?!!v.capture:!!v,f=zi(f),a&&a[Ee]?(a=a.i,d=String(d).toString(),d in a.g&&(V=a.g[d],f=fr(V,f,v,D),-1<f&&(pe(V[f]),Array.prototype.splice.call(V,f,1),V.length==0&&(delete a.g[d],a.h--)))):a&&(a=Jn(a))&&(d=a.g[d.toString()],a=-1,d&&(a=fr(d,f,v,D)),(f=-1<a?d[a]:null)&&ir(f))}function ir(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Ee])Nt(d.i,a);else{var f=a.type,v=a.proxy;d.removeEventListener?d.removeEventListener(f,v,a.capture):d.detachEvent?d.detachEvent(vn(f),v):d.addListener&&d.removeListener&&d.removeListener(v),(f=Jn(d))?(Nt(f,a),f.h==0&&(f.src=null,d[Ht]=null)):pe(a)}}}function vn(a){return a in nr?nr[a]:nr[a]="on"+a}function yn(a,d){if(a.da)a=!0;else{d=new ot(d,this);var f=a.listener,v=a.ha||a.src;a.fa&&ir(a),a=f.call(v,d)}return a}function Jn(a){return a=a[Ht],a instanceof qt?a:null}var Ir="__closure_events_fn_"+(1e9*Math.random()>>>0);function zi(a){return typeof a=="function"?a:(a[Ir]||(a[Ir]=function(d){return a.handleEvent(d)}),a[Ir])}function et(){se.call(this),this.i=new qt(this),this.M=this,this.F=null}C(et,se),et.prototype[Ee]=!0,et.prototype.removeEventListener=function(a,d,f,v){Xn(this,a,d,f,v)};function Oe(a,d){var f,v=a.F;if(v)for(f=[];v;v=v.F)f.push(v);if(a=a.M,v=d.type||d,typeof d=="string")d=new ce(d,a);else if(d instanceof ce)d.target=d.target||a;else{var D=d;d=new ce(v,a),x(d,D)}if(D=!0,f)for(var V=f.length-1;0<=V;V--){var H=d.g=f[V];D=pr(H,v,!0,d)&&D}if(H=d.g=a,D=pr(H,v,!0,d)&&D,D=pr(H,v,!1,d)&&D,f)for(V=0;V<f.length;V++)H=d.g=f[V],D=pr(H,v,!1,d)&&D}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var f=a.g[d],v=0;v<f.length;v++)pe(f[v]);delete a.g[d],a.h--}}this.F=null},et.prototype.K=function(a,d,f,v){return this.i.add(String(a),d,!1,f,v)},et.prototype.L=function(a,d,f,v){return this.i.add(String(a),d,!0,f,v)};function pr(a,d,f,v){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,V=0;V<d.length;++V){var H=d[V];if(H&&!H.da&&H.capture==f){var Re=H.listener,Et=H.ha||H.src;H.fa&&Nt(a.i,H),D=Re.call(Et,v)!==!1&&D}}return D&&!v.defaultPrevented}function Zr(a,d,f){if(typeof a=="function")f&&(a=m(a,f));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:l.setTimeout(a,d||0)}function $r(a){a.g=Zr(()=>{a.g=null,a.i&&(a.i=!1,$r(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class Tr extends se{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:$r(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function en(a){se.call(this),this.h=a,this.g={}}C(en,se);var Mo=[];function Vo(a){F(a.g,function(d,f){this.g.hasOwnProperty(f)&&ir(d)},a),a.g={}}en.prototype.N=function(){en.aa.N.call(this),Vo(this)},en.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _n=l.JSON.stringify,Bi=l.JSON.parse,ea=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function bn(){}bn.prototype.h=null;function ta(a){return a.h||(a.h=a.i())}function $o(){}var Fr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ke(){ce.call(this,"d")}C(Ke,ce);function st(){ce.call(this,"c")}C(st,ce);var ze={},L=null;function q(){return L=L||new et}ze.La="serverreachability";function J(a){ce.call(this,ze.La,a)}C(J,ce);function ve(a){const d=q();Oe(d,new J(d))}ze.STAT_EVENT="statevent";function de(a,d){ce.call(this,ze.STAT_EVENT,a),this.stat=d}C(de,ce);function ne(a){const d=q();Oe(d,new de(d,a))}ze.Ma="timingevent";function at(a,d){ce.call(this,ze.Ma,a),this.size=d}C(at,ce);function Ie(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},d)}function oe(){this.g=!0}oe.prototype.xa=function(){this.g=!1};function tn(a,d,f,v,D,V){a.info(function(){if(a.g)if(V)for(var H="",Re=V.split("&"),Et=0;Et<Re.length;Et++){var be=Re[Et].split("=");if(1<be.length){var Dt=be[0];be=be[1];var Ot=Dt.split("_");H=2<=Ot.length&&Ot[1]=="type"?H+(Dt+"="+be+"&"):H+(Dt+"=redacted&")}}else H=null;else H=V;return"XMLHTTP REQ ("+v+") [attempt "+D+"]: "+d+`
`+f+`
`+H})}function Wt(a,d,f,v,D,V,H){a.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+D+"]: "+d+`
`+f+`
`+V+" "+H})}function Kt(a,d,f,v){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+ra(a,f)+(v?" "+v:"")})}function qi(a,d){a.info(function(){return"TIMEOUT: "+d})}oe.prototype.info=function(){};function ra(a,d){if(!a.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var v=f[a];if(!(2>v.length)){var D=v[1];if(Array.isArray(D)&&!(1>D.length)){var V=D[0];if(V!="noop"&&V!="stop"&&V!="close")for(var H=1;H<D.length;H++)D[H]=""}}}}return _n(f)}catch{return d}}var lc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Yv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fh;function cc(){}C(cc,bn),cc.prototype.g=function(){return new XMLHttpRequest},cc.prototype.i=function(){return{}},fh=new cc;function Zn(a,d,f,v){this.j=a,this.i=d,this.l=f,this.R=v||1,this.U=new en(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xv}function Xv(){this.i=null,this.g="",this.h=!1}var Jv={},ph={};function mh(a,d,f){a.L=1,a.v=fc(wn(d)),a.m=f,a.P=!0,Zv(a,null)}function Zv(a,d){a.F=Date.now(),uc(a),a.A=wn(a.v);var f=a.A,v=a.R;Array.isArray(v)||(v=[String(v)]),fy(f.i,"t",v),a.C=0,f=a.j.J,a.h=new Xv,a.g=Py(a.j,f?d:null,!a.m),0<a.O&&(a.M=new Tr(m(a.Y,a,a.g),a.O)),d=a.U,f=a.g,v=a.ca;var D="readystatechange";Array.isArray(D)||(D&&(Mo[0]=D.toString()),D=Mo);for(var V=0;V<D.length;V++){var H=Vr(f,D[V],v||d.handleEvent,!1,d.h||d);if(!H)break;d.g[H.key]=H}d=a.H?g(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),ve(),tn(a.i,a.u,a.A,a.l,a.R,a.m)}Zn.prototype.ca=function(a){a=a.target;const d=this.M;d&&En(a)==3?d.j():this.Y(a)},Zn.prototype.Y=function(a){try{if(a==this.g)e:{const Ot=En(this.g);var d=this.g.Ba();const jo=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||by(this.g)))){this.J||Ot!=4||d==7||(d==8||0>=jo?ve(3):ve(2)),gh(this);var f=this.g.Z();this.X=f;t:if(ey(this)){var v=by(this.g);a="";var D=v.length,V=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hi(this),na(this);var H="";break t}this.h.i=new l.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,a+=this.h.i.decode(v[d],{stream:!(V&&d==D-1)});v.length=0,this.h.g+=a,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=f==200,Wt(this.i,this.u,this.A,this.l,this.R,Ot,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Re,Et=this.g;if((Re=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Re)){var be=Re;break t}}be=null}if(f=be)Kt(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vh(this,f);else{this.o=!1,this.s=3,ne(12),Hi(this),na(this);break e}}if(this.P){f=!0;let Ur;for(;!this.J&&this.C<H.length;)if(Ur=iA(this,H),Ur==ph){Ot==4&&(this.s=4,ne(14),f=!1),Kt(this.i,this.l,null,"[Incomplete Response]");break}else if(Ur==Jv){this.s=4,ne(15),Kt(this.i,this.l,H,"[Invalid Chunk]"),f=!1;break}else Kt(this.i,this.l,Ur,null),vh(this,Ur);if(ey(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||H.length!=0||this.h.h||(this.s=1,ne(16),f=!1),this.o=this.o&&f,!f)Kt(this.i,this.l,H,"[Invalid Chunked Response]"),Hi(this),na(this);else if(0<H.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),xh(Dt),Dt.M=!0,ne(11))}}else Kt(this.i,this.l,H,null),vh(this,H);Ot==4&&Hi(this),this.o&&!this.J&&(Ot==4?Ay(this.j,this):(this.o=!1,uc(this)))}else wA(this.g),f==400&&0<H.indexOf("Unknown SID")?(this.s=3,ne(12)):(this.s=0,ne(13)),Hi(this),na(this)}}}catch{}finally{}};function ey(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function iA(a,d){var f=a.C,v=d.indexOf(`
`,f);return v==-1?ph:(f=Number(d.substring(f,v)),isNaN(f)?Jv:(v+=1,v+f>d.length?ph:(d=d.slice(v,v+f),a.C=v+f,d)))}Zn.prototype.cancel=function(){this.J=!0,Hi(this)};function uc(a){a.S=Date.now()+a.I,ty(a,a.I)}function ty(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Ie(m(a.ba,a),d)}function gh(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Zn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(qi(this.i,this.A),this.L!=2&&(ve(),ne(17)),Hi(this),this.s=2,na(this)):ty(this,this.S-a)};function na(a){a.j.G==0||a.J||Ay(a.j,a)}function Hi(a){gh(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Vo(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function vh(a,d){try{var f=a.j;if(f.G!=0&&(f.g==a||yh(f.h,a))){if(!a.K&&yh(f.h,a)&&f.G==3){try{var v=f.Da.g.parse(d)}catch{v=null}if(Array.isArray(v)&&v.length==3){var D=v;if(D[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)_c(f),vc(f);else break e;Eh(f),ne(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ie(m(f.Za,f),6e3));if(1>=iy(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ki(f,11)}else if((a.K||f.g==a)&&_c(f),!b(d))for(D=f.Da.g.parse(d),d=0;d<D.length;d++){let be=D[d];if(f.T=be[0],be=be[1],f.G==2)if(be[0]=="c"){f.K=be[1],f.ia=be[2];const Dt=be[3];Dt!=null&&(f.la=Dt,f.j.info("VER="+f.la));const Ot=be[4];Ot!=null&&(f.Aa=Ot,f.j.info("SVER="+f.Aa));const jo=be[5];jo!=null&&typeof jo=="number"&&0<jo&&(v=1.5*jo,f.L=v,f.j.info("backChannelRequestTimeoutMs_="+v)),v=f;const Ur=a.g;if(Ur){const wc=Ur.g?Ur.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wc){var V=v.h;V.g||wc.indexOf("spdy")==-1&&wc.indexOf("quic")==-1&&wc.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(_h(V,V.h),V.h=null))}if(v.D){const Ih=Ur.g?Ur.g.getResponseHeader("X-HTTP-Session-Id"):null;Ih&&(v.ya=Ih,Le(v.I,v.D,Ih))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),v=f;var H=a;if(v.qa=Ry(v,v.J?v.ia:null,v.W),H.K){oy(v.h,H);var Re=H,Et=v.L;Et&&(Re.I=Et),Re.B&&(gh(Re),uc(Re)),v.g=H}else Ty(v);0<f.i.length&&yc(f)}else be[0]!="stop"&&be[0]!="close"||Ki(f,7);else f.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?Ki(f,7):wh(f):be[0]!="noop"&&f.l&&f.l.ta(be),f.v=0)}}ve(4)}catch{}}var oA=class{constructor(a,d){this.g=a,this.map=d}};function ry(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ny(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function iy(a){return a.h?1:a.g?a.g.size:0}function yh(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function _h(a,d){a.g?a.g.add(d):a.h=d}function oy(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}ry.prototype.cancel=function(){if(this.i=sy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function sy(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const f of a.g.values())d=d.concat(f.D);return d}return k(a.i)}function sA(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var d=[],f=a.length,v=0;v<f;v++)d.push(a[v]);return d}d=[],f=0;for(v in a)d[f++]=a[v];return d}function aA(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var d=[];a=a.length;for(var f=0;f<a;f++)d.push(f);return d}d=[],f=0;for(const v in a)d[f++]=v;return d}}}function ay(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var f=aA(a),v=sA(a),D=v.length,V=0;V<D;V++)d.call(void 0,v[V],f&&f[V],a)}var ly=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lA(a,d){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var v=a[f].indexOf("="),D=null;if(0<=v){var V=a[f].substring(0,v);D=a[f].substring(v+1)}else V=a[f];d(V,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Wi(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Wi){this.h=a.h,dc(this,a.j),this.o=a.o,this.g=a.g,hc(this,a.s),this.l=a.l;var d=a.i,f=new sa;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),cy(this,f),this.m=a.m}else a&&(d=String(a).match(ly))?(this.h=!1,dc(this,d[1]||"",!0),this.o=ia(d[2]||""),this.g=ia(d[3]||"",!0),hc(this,d[4]),this.l=ia(d[5]||"",!0),cy(this,d[6]||"",!0),this.m=ia(d[7]||"")):(this.h=!1,this.i=new sa(null,this.h))}Wi.prototype.toString=function(){var a=[],d=this.j;d&&a.push(oa(d,uy,!0),":");var f=this.g;return(f||d=="file")&&(a.push("//"),(d=this.o)&&a.push(oa(d,uy,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(oa(f,f.charAt(0)=="/"?dA:uA,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",oa(f,fA)),a.join("")};function wn(a){return new Wi(a)}function dc(a,d,f){a.j=f?ia(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function hc(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function cy(a,d,f){d instanceof sa?(a.i=d,pA(a.i,a.h)):(f||(d=oa(d,hA)),a.i=new sa(d,a.h))}function Le(a,d,f){a.i.set(d,f)}function fc(a){return Le(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function ia(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function oa(a,d,f){return typeof a=="string"?(a=encodeURI(a).replace(d,cA),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function cA(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var uy=/[#\/\?@]/g,uA=/[#\?:]/g,dA=/[#\?]/g,hA=/[#\?@]/g,fA=/#/g;function sa(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function ei(a){a.g||(a.g=new Map,a.h=0,a.i&&lA(a.i,function(d,f){a.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=sa.prototype,t.add=function(a,d){ei(this),this.i=null,a=Fo(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(d),this.h+=1,this};function dy(a,d){ei(a),d=Fo(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function hy(a,d){return ei(a),d=Fo(a,d),a.g.has(d)}t.forEach=function(a,d){ei(this),this.g.forEach(function(f,v){f.forEach(function(D){a.call(d,D,v,this)},this)},this)},t.na=function(){ei(this);const a=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let v=0;v<d.length;v++){const D=a[v];for(let V=0;V<D.length;V++)f.push(d[v])}return f},t.V=function(a){ei(this);let d=[];if(typeof a=="string")hy(this,a)&&(d=d.concat(this.g.get(Fo(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)d=d.concat(a[f])}return d},t.set=function(a,d){return ei(this),this.i=null,a=Fo(this,a),hy(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function fy(a,d,f){dy(a,d),0<f.length&&(a.i=null,a.g.set(Fo(a,d),k(f)),a.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var v=d[f];const V=encodeURIComponent(String(v)),H=this.V(v);for(v=0;v<H.length;v++){var D=V;H[v]!==""&&(D+="="+encodeURIComponent(String(H[v]))),a.push(D)}}return this.i=a.join("&")};function Fo(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function pA(a,d){d&&!a.j&&(ei(a),a.i=null,a.g.forEach(function(f,v){var D=v.toLowerCase();v!=D&&(dy(this,v),fy(this,D,f))},a)),a.j=d}function mA(a,d){const f=new oe;if(l.Image){const v=new Image;v.onload=_(ti,f,"TestLoadImage: loaded",!0,d,v),v.onerror=_(ti,f,"TestLoadImage: error",!1,d,v),v.onabort=_(ti,f,"TestLoadImage: abort",!1,d,v),v.ontimeout=_(ti,f,"TestLoadImage: timeout",!1,d,v),l.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=a}else d(!1)}function gA(a,d){const f=new oe,v=new AbortController,D=setTimeout(()=>{v.abort(),ti(f,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:v.signal}).then(V=>{clearTimeout(D),V.ok?ti(f,"TestPingServer: ok",!0,d):ti(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),ti(f,"TestPingServer: error",!1,d)})}function ti(a,d,f,v,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),v(f)}catch{}}function vA(){this.g=new ea}function yA(a,d,f){const v=f||"";try{ay(a,function(D,V){let H=D;u(D)&&(H=_n(D)),d.push(v+V+"="+encodeURIComponent(H))})}catch(D){throw d.push(v+"type="+encodeURIComponent("_badmap")),D}}function pc(a){this.l=a.Ub||null,this.j=a.eb||!1}C(pc,bn),pc.prototype.g=function(){return new mc(this.l,this.j)},pc.prototype.i=function(a){return function(){return a}}({});function mc(a,d){et.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(mc,et),t=mc.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,la(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||l).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,aa(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,la(this)),this.g&&(this.readyState=3,la(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;py(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function py(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?aa(this):la(this),this.readyState==3&&py(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,aa(this))},t.Qa=function(a){this.g&&(this.response=a,aa(this))},t.ga=function(){this.g&&aa(this)};function aa(a){a.readyState=4,a.l=null,a.j=null,a.v=null,la(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=d.next();return a.join(`\r
`)};function la(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(mc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function my(a){let d="";return F(a,function(f,v){d+=v,d+=":",d+=f,d+=`\r
`}),d}function bh(a,d,f){e:{for(v in f){var v=!1;break e}v=!0}v||(f=my(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):Le(a,d,f))}function Ge(a){et.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ge,et);var _A=/^https?$/i,bA=["POST","PUT"];t=Ge.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,f,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fh.g(),this.v=this.o?ta(this.o):ta(fh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(V){gy(this,V);return}if(a=f||"",f=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var D in v)f.set(D,v[D]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const V of v.keys())f.set(V,v.get(V));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(f.keys()).find(V=>V.toLowerCase()=="content-type"),D=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(bA,d,void 0))||v||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,H]of f)this.g.setRequestHeader(V,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_y(this),this.u=!0,this.g.send(a),this.u=!1}catch(V){gy(this,V)}};function gy(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,vy(a),gc(a)}function vy(a){a.A||(a.A=!0,Oe(a,"complete"),Oe(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Oe(this,"complete"),Oe(this,"abort"),gc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gc(this,!0)),Ge.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?yy(this):this.bb())},t.bb=function(){yy(this)};function yy(a){if(a.h&&typeof s<"u"&&(!a.v[1]||En(a)!=4||a.Z()!=2)){if(a.u&&En(a)==4)Zr(a.Ea,0,a);else if(Oe(a,"readystatechange"),En(a)==4){a.h=!1;try{const H=a.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var v;if(v=H===0){var D=String(a.D).match(ly)[1]||null;!D&&l.self&&l.self.location&&(D=l.self.location.protocol.slice(0,-1)),v=!_A.test(D?D.toLowerCase():"")}f=v}if(f)Oe(a,"complete"),Oe(a,"success");else{a.m=6;try{var V=2<En(a)?a.g.statusText:""}catch{V=""}a.l=V+" ["+a.Z()+"]",vy(a)}}finally{gc(a)}}}}function gc(a,d){if(a.g){_y(a);const f=a.g,v=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||Oe(a,"ready");try{f.onreadystatechange=v}catch{}}}function _y(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function En(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),Bi(d)}};function by(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function wA(a){const d={};a=(a.g&&2<=En(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<a.length;v++){if(b(a[v]))continue;var f=A(a[v]);const D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const V=d[D]||[];d[D]=V,V.push(f)}y(d,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ca(a,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||d}function wy(a){this.Aa=0,this.i=[],this.j=new oe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ca("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ca("baseRetryDelayMs",5e3,a),this.cb=ca("retryDelaySeedMs",1e4,a),this.Wa=ca("forwardChannelMaxRetries",2,a),this.wa=ca("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new ry(a&&a.concurrentRequestLimit),this.Da=new vA,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=wy.prototype,t.la=8,t.G=1,t.connect=function(a,d,f,v){ne(0),this.W=a,this.H=d||{},f&&v!==void 0&&(this.H.OSID=f,this.H.OAID=v),this.F=this.X,this.I=Ry(this,null,this.W),yc(this)};function wh(a){if(Ey(a),a.G==3){var d=a.U++,f=wn(a.I);if(Le(f,"SID",a.K),Le(f,"RID",d),Le(f,"TYPE","terminate"),ua(a,f),d=new Zn(a,a.j,d),d.L=2,d.v=fc(wn(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=d.v,f=!0),f||(d.g=Py(d.j,null),d.g.ea(d.v)),d.F=Date.now(),uc(d)}ky(a)}function vc(a){a.g&&(xh(a),a.g.cancel(),a.g=null)}function Ey(a){vc(a),a.u&&(l.clearTimeout(a.u),a.u=null),_c(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function yc(a){if(!ny(a.h)&&!a.s){a.s=!0;var d=a.Ga;Ne||te(),K||(Ne(),K=!0),Z.add(d,a),a.B=0}}function EA(a,d){return iy(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Ie(m(a.Ga,a,d),Cy(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const D=new Zn(this,this.j,a);let V=this.o;if(this.S&&(V?(V=g(V),x(V,this.S)):V=this.S),this.m!==null||this.O||(D.H=V,V=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var v=this.i[f];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(d+=v,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Iy(this,D,d),f=wn(this.I),Le(f,"RID",a),Le(f,"CVER",22),this.D&&Le(f,"X-HTTP-Session-Id",this.D),ua(this,f),V&&(this.O?d="headers="+encodeURIComponent(String(my(V)))+"&"+d:this.m&&bh(f,this.m,V)),_h(this.h,D),this.Ua&&Le(f,"TYPE","init"),this.P?(Le(f,"$req",d),Le(f,"SID","null"),D.T=!0,mh(D,f,null)):mh(D,f,d),this.G=2}}else this.G==3&&(a?xy(this,a):this.i.length==0||ny(this.h)||xy(this))};function xy(a,d){var f;d?f=d.l:f=a.U++;const v=wn(a.I);Le(v,"SID",a.K),Le(v,"RID",f),Le(v,"AID",a.T),ua(a,v),a.m&&a.o&&bh(v,a.m,a.o),f=new Zn(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),d&&(a.i=d.D.concat(a.i)),d=Iy(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),_h(a.h,f),mh(f,v,d)}function ua(a,d){a.H&&F(a.H,function(f,v){Le(d,v,f)}),a.l&&ay({},function(f,v){Le(d,v,f)})}function Iy(a,d,f){f=Math.min(a.i.length,f);var v=a.l?m(a.l.Na,a.l,a):null;e:{var D=a.i;let V=-1;for(;;){const H=["count="+f];V==-1?0<f?(V=D[0].g,H.push("ofs="+V)):V=0:H.push("ofs="+V);let Re=!0;for(let Et=0;Et<f;Et++){let be=D[Et].g;const Dt=D[Et].map;if(be-=V,0>be)V=Math.max(0,D[Et].g-100),Re=!1;else try{yA(Dt,H,"req"+be+"_")}catch{v&&v(Dt)}}if(Re){v=H.join("&");break e}}}return a=a.i.splice(0,f),d.D=a,v}function Ty(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Ne||te(),K||(Ne(),K=!0),Z.add(d,a),a.v=0}}function Eh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Ie(m(a.Fa,a),Cy(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Sy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Ie(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ne(10),vc(this),Sy(this))};function xh(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Sy(a){a.g=new Zn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=wn(a.qa);Le(d,"RID","rpc"),Le(d,"SID",a.K),Le(d,"AID",a.T),Le(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Le(d,"TO",a.ja),Le(d,"TYPE","xmlhttp"),ua(a,d),a.m&&a.o&&bh(d,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=fc(wn(d)),f.m=null,f.P=!0,Zv(f,a)}t.Za=function(){this.C!=null&&(this.C=null,vc(this),Eh(this),ne(19))};function _c(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Ay(a,d){var f=null;if(a.g==d){_c(a),xh(a),a.g=null;var v=2}else if(yh(a.h,d))f=d.D,oy(a.h,d),v=1;else return;if(a.G!=0){if(d.o)if(v==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var D=a.B;v=q(),Oe(v,new at(v,f)),yc(a)}else Ty(a);else if(D=d.s,D==3||D==0&&0<d.X||!(v==1&&EA(a,d)||v==2&&Eh(a)))switch(f&&0<f.length&&(d=a.h,d.i=d.i.concat(f)),D){case 1:Ki(a,5);break;case 4:Ki(a,10);break;case 3:Ki(a,6);break;default:Ki(a,2)}}}function Cy(a,d){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*d}function Ki(a,d){if(a.j.info("Error code "+d),d==2){var f=m(a.fb,a),v=a.Xa;const D=!v;v=new Wi(v||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||dc(v,"https"),fc(v),D?mA(v.toString(),f):gA(v.toString(),f)}else ne(2);a.G=0,a.l&&a.l.sa(d),ky(a),Ey(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ne(2)):(this.j.info("Failed to ping google.com"),ne(1))};function ky(a){if(a.G=0,a.ka=[],a.l){const d=sy(a.h);(d.length!=0||a.i.length!=0)&&(P(a.ka,d),P(a.ka,a.i),a.h.i.length=0,k(a.i),a.i.length=0),a.l.ra()}}function Ry(a,d,f){var v=f instanceof Wi?wn(f):new Wi(f);if(v.g!="")d&&(v.g=d+"."+v.g),hc(v,v.s);else{var D=l.location;v=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var V=new Wi(null);v&&dc(V,v),d&&(V.g=d),D&&hc(V,D),f&&(V.l=f),v=V}return f=a.D,d=a.ya,f&&d&&Le(v,f,d),Le(v,"VER",a.la),ua(a,v),v}function Py(a,d,f){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Ge(new pc({eb:f})):new Ge(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ny(){}t=Ny.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function bc(){}bc.prototype.g=function(a,d){return new mr(a,d)};function mr(a,d){et.call(this),this.g=new wy(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!b(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!b(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Uo(this)}C(mr,et),mr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mr.prototype.close=function(){wh(this.g)},mr.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=_n(a),a=f);d.i.push(new oA(d.Ya++,a)),d.G==3&&yc(d)},mr.prototype.N=function(){this.g.l=null,delete this.j,wh(this.g),delete this.g,mr.aa.N.call(this)};function Dy(a){Ke.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const f in d){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}C(Dy,Ke);function Oy(){st.call(this),this.status=1}C(Oy,st);function Uo(a){this.g=a}C(Uo,Ny),Uo.prototype.ua=function(){Oe(this.g,"a")},Uo.prototype.ta=function(a){Oe(this.g,new Dy(a))},Uo.prototype.sa=function(a){Oe(this.g,new Oy)},Uo.prototype.ra=function(){Oe(this.g,"b")},bc.prototype.createWebChannel=bc.prototype.g,mr.prototype.send=mr.prototype.o,mr.prototype.open=mr.prototype.m,mr.prototype.close=mr.prototype.close,AI=function(){return new bc},SI=function(){return q()},TI=ze,Mp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lc.NO_ERROR=0,lc.TIMEOUT=8,lc.HTTP_ERROR=6,yu=lc,Yv.COMPLETE="complete",II=Yv,$o.EventType=Fr,Fr.OPEN="a",Fr.CLOSE="b",Fr.ERROR="c",Fr.MESSAGE="d",et.prototype.listen=et.prototype.K,ka=$o,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,xI=Ge}).apply(typeof Uc<"u"?Uc:typeof self<"u"?self:typeof window<"u"?window:{});const Ab="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bs="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=new Sg("@firebase/firestore");function _a(){return bo.logLevel}function X(t,...e){if(bo.logLevel<=me.DEBUG){const r=e.map(Ug);bo.debug(`Firestore (${Bs}): ${t}`,...r)}}function Hn(t,...e){if(bo.logLevel<=me.ERROR){const r=e.map(Ug);bo.error(`Firestore (${Bs}): ${t}`,...r)}}function Ss(t,...e){if(bo.logLevel<=me.WARN){const r=e.map(Ug);bo.warn(`Firestore (${Bs}): ${t}`,...r)}}function Ug(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t="Unexpected state"){const e=`FIRESTORE (${Bs}) INTERNAL ASSERTION FAILED: `+t;throw Hn(e),new Error(e)}function ke(t,e){t||ie()}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends gn{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r($t.UNAUTHENTICATED))}shutdown(){}}class gD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class vD{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){ke(this.o===void 0);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let o=new uo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new uo,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new uo)}},0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ke(typeof n.accessToken=="string"),new CI(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string"),new $t(e)}}class yD{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class _D{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new yD(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){ke(this.o===void 0);const n=o=>{o.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,X("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};const i=o=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(ke(typeof r.token=="string"),this.R=r.token,new bD(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=ED(40);for(let o=0;o<i.length;++o)n.length<20&&i[o]<r&&(n+=e.charAt(i[o]%e.length))}return n}}function we(t,e){return t<e?-1:t>e?1:0}function As(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new gt(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ae(e)}static min(){return new ae(new gt(0,0))}static max(){return new ae(new gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,r,n){r===void 0?r=0:r>e.length&&ie(),n===void 0?n=e.length-r:n>e.length-r&&ie(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return wl.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof wl?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const o=e.get(i),s=r.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Ve extends wl{construct(e,r,n){return new Ve(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Q(U.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Ve(r)}static emptyPath(){return new Ve([])}}const xD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends wl{construct(e,r,n){return new St(e,r,n)}static isValidIdentifier(e){return xD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new St(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const o=()=>{if(n.length===0)throw new Q(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Q(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Q(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(n+=l,i++):(o(),i++)}if(o(),s)throw new Q(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(r)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Ve.fromString(e))}static fromName(e){return new ee(Ve.fromString(e).popFirst(5))}static empty(){return new ee(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Ve.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Ve(e.slice()))}}function ID(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(n===1e9?new gt(r+1,0):new gt(r,n));return new Ri(i,ee.empty(),e)}function TD(t){return new Ri(t.readTime,t.key,-1)}class Ri{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Ri(ae.min(),ee.empty(),-1)}static max(){return new Ri(ae.max(),ee.empty(),-1)}}function SD(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=ee.comparator(t.documentKey,e.documentKey),r!==0?r:we(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==AD)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new j((n,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,i)},this.catchCallback=o=>{this.wrapFailure(r,o).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof j?r:j.resolve(r)}catch(r){return j.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):j.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):j.reject(r)}static resolve(e){return new j((r,n)=>{r(e)})}static reject(e){return new j((r,n)=>{n(e)})}static waitFor(e){return new j((r,n)=>{let i=0,o=0,s=!1;e.forEach(l=>{++i,l.next(()=>{++o,s&&o===i&&r()},c=>n(c))}),s=!0,o===i&&r()})}static or(e){let r=j.resolve(!1);for(const n of e)r=r.next(i=>i?j.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,o)=>{n.push(r.call(this,i,o))}),this.waitFor(n)}static mapArray(e,r){return new j((n,i)=>{const o=e.length,s=new Array(o);let l=0;for(let c=0;c<o;c++){const u=c;r(e[u]).next(h=>{s[u]=h,++l,l===o&&n(s)},h=>i(h))}})}static doWhile(e,r){return new j((n,i)=>{const o=()=>{e()===!0?r().next(()=>{o()},i):n()};o()})}}function kD(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Yl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}jg.oe=-1;function Ud(t){return t==null}function id(t){return t===0&&1/t==-1/0}function RD(t){return typeof t=="number"&&Number.isInteger(t)&&!id(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Ro(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function RI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,r){this.comparator=e,this.root=r||It.EMPTY}insert(e,r){return new We(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,It.BLACK,null,null))}remove(e){return new We(this.comparator,this.root.remove(e,this.comparator).copy(null,null,It.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jc(this.root,e,this.comparator,!0)}}class jc{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=r?n(e.key,r):1,r&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class It{constructor(e,r,n,i,o){this.key=e,this.value=r,this.color=n??It.RED,this.left=i??It.EMPTY,this.right=o??It.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,o){return new It(e??this.key,r??this.value,n??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const o=n(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,r,n),null):o===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return It.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return It.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();const e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}}It.EMPTY=null,It.RED=!0,It.BLACK=!1;It.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(e,r,n,i,o){return this}insert(e,r,n){return new It(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new kb(this.data.getIterator())}getIteratorFrom(e){return new kb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,o=n.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Ct(this.comparator);return r.data=e,r}}class kb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new yr([])}unionWith(e){let r=new Ct(St.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new yr(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return As(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new PI("Invalid base64 string: "+o):o}}(e);return new Rt(r)}static fromUint8Array(e){const r=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Rt(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const PD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pi(t){if(ke(!!t),typeof t=="string"){let e=0;const r=PD.exec(t);if(ke(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function wo(t){return typeof t=="string"?Rt.fromBase64String(t):Rt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function Bg(t){const e=t.mapValue.fields.__previous_value__;return zg(e)?Bg(e):e}function El(t){const e=Pi(t.mapValue.fields.__local_write_time__.timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,r,n,i,o,s,l,c,u){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}class xl{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new xl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof xl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc={mapValue:{}};function Eo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zg(t)?4:OD(t)?9007199254740991:DD(t)?10:11:ie()}function pn(t,e){if(t===e)return!0;const r=Eo(t);if(r!==Eo(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return El(t).isEqual(El(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Pi(i.timestampValue),l=Pi(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return wo(i.bytesValue).isEqual(wo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return rt(i.geoPointValue.latitude)===rt(o.geoPointValue.latitude)&&rt(i.geoPointValue.longitude)===rt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return rt(i.integerValue)===rt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=rt(i.doubleValue),l=rt(o.doubleValue);return s===l?id(s)===id(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return As(t.arrayValue.values||[],e.arrayValue.values||[],pn);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},l=o.mapValue.fields||{};if(Cb(s)!==Cb(l))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(l[c]===void 0||!pn(s[c],l[c])))return!1;return!0}(t,e);default:return ie()}}function Il(t,e){return(t.values||[]).find(r=>pn(r,e))!==void 0}function Cs(t,e){if(t===e)return 0;const r=Eo(t),n=Eo(e);if(r!==n)return we(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(o,s){const l=rt(o.integerValue||o.doubleValue),c=rt(s.integerValue||s.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Rb(t.timestampValue,e.timestampValue);case 4:return Rb(El(t),El(e));case 5:return we(t.stringValue,e.stringValue);case 6:return function(o,s){const l=wo(o),c=wo(s);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const l=o.split("/"),c=s.split("/");for(let u=0;u<l.length&&u<c.length;u++){const h=we(l[u],c[u]);if(h!==0)return h}return we(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const l=we(rt(o.latitude),rt(s.latitude));return l!==0?l:we(rt(o.longitude),rt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Pb(t.arrayValue,e.arrayValue);case 10:return function(o,s){var l,c,u,h;const p=o.fields||{},m=s.fields||{},_=(l=p.value)===null||l===void 0?void 0:l.arrayValue,C=(c=m.value)===null||c===void 0?void 0:c.arrayValue,k=we(((u=_==null?void 0:_.values)===null||u===void 0?void 0:u.length)||0,((h=C==null?void 0:C.values)===null||h===void 0?void 0:h.length)||0);return k!==0?k:Pb(_,C)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===zc.mapValue&&s===zc.mapValue)return 0;if(o===zc.mapValue)return 1;if(s===zc.mapValue)return-1;const l=o.fields||{},c=Object.keys(l),u=s.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const m=we(c[p],h[p]);if(m!==0)return m;const _=Cs(l[c[p]],u[h[p]]);if(_!==0)return _}return we(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ie()}}function Rb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);const r=Pi(t),n=Pi(e),i=we(r.seconds,n.seconds);return i!==0?i:we(r.nanos,n.nanos)}function Pb(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const o=Cs(r[i],n[i]);if(o)return o}return we(r.length,n.length)}function ks(t){return Vp(t)}function Vp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Pi(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return wo(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return ee.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const o of r.values||[])i?i=!1:n+=",",n+=Vp(o);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",o=!0;for(const s of n)o?o=!1:i+=",",i+=`${s}:${Vp(r.fields[s])}`;return i+"}"}(t.mapValue):ie()}function Nb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $p(t){return!!t&&"integerValue"in t}function qg(t){return!!t&&"arrayValue"in t}function Db(t){return!!t&&"nullValue"in t}function Ob(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _u(t){return!!t&&"mapValue"in t}function DD(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function qa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ro(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=qa(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=qa(t.arrayValue.values[r]);return e}return Object.assign({},t)}function OD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.value=e}static empty(){return new sr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!_u(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=qa(r)}setAll(e){let r=St.emptyPath(),n={},i=[];e.forEach((s,l)=>{if(!r.isImmediateParentOf(l)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=l.popLast()}s?n[l.lastSegment()]=qa(s):i.push(l.lastSegment())});const o=this.getFieldsMap(r);this.applyChanges(o,n,i)}delete(e){const r=this.field(e.popLast());_u(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return pn(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];_u(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Ro(r,(i,o)=>e[i]=o);for(const i of n)delete e[i]}clone(){return new sr(qa(this.value))}}function NI(t){const e=[];return Ro(t.fields,(r,n)=>{const i=new St([r]);if(_u(n)){const o=NI(n.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new yr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,r,n,i,o,s,l){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(e){return new Ut(e,0,ae.min(),ae.min(),ae.min(),sr.empty(),0)}static newFoundDocument(e,r,n,i){return new Ut(e,1,r,ae.min(),n,i,0)}static newNoDocument(e,r){return new Ut(e,2,r,ae.min(),ae.min(),sr.empty(),0)}static newUnknownDocument(e,r){return new Ut(e,3,r,ae.min(),ae.min(),sr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,r){this.position=e,this.inclusive=r}}function Lb(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?n=ee.comparator(ee.fromName(s.referenceValue),r.key):n=Cs(s,r.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function Mb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!pn(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,r="asc"){this.field=e,this.dir=r}}function LD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{}class ut extends DI{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new VD(e,r,n):r==="array-contains"?new UD(e,n):r==="in"?new jD(e,n):r==="not-in"?new zD(e,n):r==="array-contains-any"?new BD(e,n):new ut(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new $D(e,n):new FD(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Cs(r,this.value)):r!==null&&Eo(this.value)===Eo(r)&&this.matchesComparison(Cs(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xr extends DI{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Xr(e,r)}matches(e){return OI(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function OI(t){return t.op==="and"}function LI(t){return MD(t)&&OI(t)}function MD(t){for(const e of t.filters)if(e instanceof Xr)return!1;return!0}function Fp(t){if(t instanceof ut)return t.field.canonicalString()+t.op.toString()+ks(t.value);if(LI(t))return t.filters.map(e=>Fp(e)).join(",");{const e=t.filters.map(r=>Fp(r)).join(",");return`${t.op}(${e})`}}function MI(t,e){return t instanceof ut?function(n,i){return i instanceof ut&&n.op===i.op&&n.field.isEqual(i.field)&&pn(n.value,i.value)}(t,e):t instanceof Xr?function(n,i){return i instanceof Xr&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((o,s,l)=>o&&MI(s,i.filters[l]),!0):!1}(t,e):void ie()}function VI(t){return t instanceof ut?function(r){return`${r.field.canonicalString()} ${r.op} ${ks(r.value)}`}(t):t instanceof Xr?function(r){return r.op.toString()+" {"+r.getFilters().map(VI).join(" ,")+"}"}(t):"Filter"}class VD extends ut{constructor(e,r,n){super(e,r,n),this.key=ee.fromName(n.referenceValue)}matches(e){const r=ee.comparator(e.key,this.key);return this.matchesComparison(r)}}class $D extends ut{constructor(e,r){super(e,"in",r),this.keys=$I("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class FD extends ut{constructor(e,r){super(e,"not-in",r),this.keys=$I("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function $I(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>ee.fromName(n.referenceValue))}class UD extends ut{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return qg(r)&&Il(r.arrayValue,this.value)}}class jD extends ut{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Il(this.value.arrayValue,r)}}class zD extends ut{constructor(e,r){super(e,"not-in",r)}matches(e){if(Il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Il(this.value.arrayValue,r)}}class BD extends ut{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!qg(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Il(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,r=null,n=[],i=[],o=null,s=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=s,this.endAt=l,this.ue=null}}function Vb(t,e=null,r=[],n=[],i=null,o=null,s=null){return new qD(t,e,r,n,i,o,s)}function Hg(t){const e=le(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Fp(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),Ud(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>ks(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>ks(n)).join(",")),e.ue=r}return e.ue}function Wg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!LD(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!MI(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Mb(t.startAt,e.startAt)&&Mb(t.endAt,e.endAt)}function Up(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,r=null,n=[],i=[],o=null,s="F",l=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function HD(t,e,r,n,i,o,s,l){return new qs(t,e,r,n,i,o,s,l)}function Kg(t){return new qs(t)}function $b(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function FI(t){return t.collectionGroup!==null}function Ha(t){const e=le(t);if(e.ce===null){e.ce=[];const r=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),r.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new Ct(St.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(o=>{r.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Tl(o,n))}),r.has(St.keyField().canonicalString())||e.ce.push(new Tl(St.keyField(),n))}return e.ce}function un(t){const e=le(t);return e.le||(e.le=WD(e,Ha(t))),e.le}function WD(t,e){if(t.limitType==="F")return Vb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Tl(i.field,o)});const r=t.endAt?new od(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new od(t.startAt.position,t.startAt.inclusive):null;return Vb(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function jp(t,e){const r=t.filters.concat([e]);return new qs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function zp(t,e,r){return new qs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function jd(t,e){return Wg(un(t),un(e))&&t.limitType===e.limitType}function UI(t){return`${Hg(un(t))}|lt:${t.limitType}`}function qo(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>VI(i)).join(", ")}]`),Ud(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>ks(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>ks(i)).join(",")),`Target(${n})`}(un(t))}; limitType=${t.limitType})`}function zd(t,e){return e.isFoundDocument()&&function(n,i){const o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):ee.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(t,e)&&function(n,i){for(const o of Ha(n))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const o of n.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(s,l,c){const u=Lb(s,l,c);return s.inclusive?u<=0:u<0}(n.startAt,Ha(n),i)||n.endAt&&!function(s,l,c){const u=Lb(s,l,c);return s.inclusive?u>=0:u>0}(n.endAt,Ha(n),i))}(t,e)}function KD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function jI(t){return(e,r)=>{let n=!1;for(const i of Ha(t)){const o=GD(i,e,r);if(o!==0)return o;n=n||i.field.isKeyField()}return 0}}function GD(t,e,r){const n=t.field.isKeyField()?ee.comparator(e.key,r.key):function(o,s,l){const c=s.data.field(o),u=l.data.field(o);return c!==null&&u!==null?Cs(c,u):ie()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,o]of n)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ro(this.inner,(r,n)=>{for(const[i,o]of n)e(i,o)})}isEmpty(){return RI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=new We(ee.comparator);function Wn(){return QD}const zI=new We(ee.comparator);function Ra(...t){let e=zI;for(const r of t)e=e.insert(r.key,r);return e}function BI(t){let e=zI;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function io(){return Wa()}function qI(){return Wa()}function Wa(){return new Hs(t=>t.toString(),(t,e)=>t.isEqual(e))}const YD=new We(ee.comparator),XD=new Ct(ee.comparator);function fe(...t){let e=XD;for(const r of t)e=e.add(r);return e}const JD=new Ct(we);function ZD(){return JD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:id(e)?"-0":e}}function HI(t){return{integerValue:""+t}}function WI(t,e){return RD(e)?HI(e):Gg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(){this._=void 0}}function e2(t,e,r){return t instanceof Sl?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&zg(o)&&(o=Bg(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(r,e):t instanceof Rs?GI(t,e):t instanceof Al?QI(t,e):function(i,o){const s=KI(i,o),l=Fb(s)+Fb(i.Pe);return $p(s)&&$p(i.Pe)?HI(l):Gg(i.serializer,l)}(t,e)}function t2(t,e,r){return t instanceof Rs?GI(t,e):t instanceof Al?QI(t,e):r}function KI(t,e){return t instanceof Cl?function(n){return $p(n)||function(o){return!!o&&"doubleValue"in o}(n)}(e)?e:{integerValue:0}:null}class Sl extends Bd{}class Rs extends Bd{constructor(e){super(),this.elements=e}}function GI(t,e){const r=YI(e);for(const n of t.elements)r.some(i=>pn(i,n))||r.push(n);return{arrayValue:{values:r}}}class Al extends Bd{constructor(e){super(),this.elements=e}}function QI(t,e){let r=YI(e);for(const n of t.elements)r=r.filter(i=>!pn(i,n));return{arrayValue:{values:r}}}class Cl extends Bd{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Fb(t){return rt(t.integerValue||t.doubleValue)}function YI(t){return qg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,r){this.field=e,this.transform=r}}function r2(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Rs&&i instanceof Rs||n instanceof Al&&i instanceof Al?As(n.elements,i.elements,pn):n instanceof Cl&&i instanceof Cl?pn(n.Pe,i.Pe):n instanceof Sl&&i instanceof Sl}(t.transform,e.transform)}class n2{constructor(e,r){this.version=e,this.transformResults=r}}class Dr{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qd{}function XI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Yg(t.key,Dr.none()):new Xl(t.key,t.data,Dr.none());{const r=t.data,n=sr.empty();let i=new Ct(St.comparator);for(let o of e.fields)if(!i.has(o)){let s=r.field(o);s===null&&o.length>1&&(o=o.popLast(),s=r.field(o)),s===null?n.delete(o):n.set(o,s),i=i.add(o)}return new Fi(t.key,n,new yr(i.toArray()),Dr.none())}}function i2(t,e,r){t instanceof Xl?function(i,o,s){const l=i.value.clone(),c=jb(i.fieldTransforms,o,s.transformResults);l.setAll(c),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,r):t instanceof Fi?function(i,o,s){if(!bu(i.precondition,o))return void o.convertToUnknownDocument(s.version);const l=jb(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(JI(i)),c.setAll(l),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,r):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,r)}function Ka(t,e,r,n){return t instanceof Xl?function(o,s,l,c){if(!bu(o.precondition,s))return l;const u=o.value.clone(),h=zb(o.fieldTransforms,c,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof Fi?function(o,s,l,c){if(!bu(o.precondition,s))return l;const u=zb(o.fieldTransforms,c,s),h=s.data;return h.setAll(JI(o)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,r,n):function(o,s,l){return bu(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,r)}function o2(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),o=KI(n.transform,i||null);o!=null&&(r===null&&(r=sr.empty()),r.set(n.field,o))}return r||null}function Ub(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&As(n,i,(o,s)=>r2(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xl extends qd{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fi extends qd{constructor(e,r,n,i,o=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function JI(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function jb(t,e,r){const n=new Map;ke(t.length===r.length);for(let i=0;i<r.length;i++){const o=t[i],s=o.transform,l=e.data.field(o.field);n.set(o.field,t2(s,l,r[i]))}return n}function zb(t,e,r){const n=new Map;for(const i of t){const o=i.transform,s=r.data.field(i.field);n.set(i.field,e2(o,s,e))}return n}class Yg extends qd{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class s2 extends qd{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&i2(o,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Ka(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Ka(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=qI();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=r.has(i.key)?null:l;const c=XI(s,l);c!==null&&n.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(ae.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),fe())}isEqual(e){return this.batchId===e.batchId&&As(this.mutations,e.mutations,(r,n)=>Ub(r,n))&&As(this.baseMutations,e.baseMutations,(r,n)=>Ub(r,n))}}class Xg{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){ke(e.mutations.length===n.length);let i=function(){return YD}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,n[s].version);return new Xg(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt,ge;function u2(t){switch(t){default:return ie();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function ZI(t){if(t===void 0)return Hn("GRPC error has no .code"),U.UNKNOWN;switch(t){case lt.OK:return U.OK;case lt.CANCELLED:return U.CANCELLED;case lt.UNKNOWN:return U.UNKNOWN;case lt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case lt.INTERNAL:return U.INTERNAL;case lt.UNAVAILABLE:return U.UNAVAILABLE;case lt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case lt.NOT_FOUND:return U.NOT_FOUND;case lt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case lt.ABORTED:return U.ABORTED;case lt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case lt.DATA_LOSS:return U.DATA_LOSS;default:return ie()}}(ge=lt||(lt={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=new co([4294967295,4294967295],0);function Bb(t){const e=d2().encode(t),r=new EI;return r.update(e),new Uint8Array(r.digest())}function qb(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new co([r,n],0),new co([i,o],0)]}class Jg{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Pa(`Invalid padding: ${r}`);if(n<0)throw new Pa(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Pa(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Pa(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=co.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(co.fromNumber(n)));return i.compare(h2)===1&&(i=new co([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=Bb(e),[n,i]=qb(r);for(let o=0;o<this.hashCount;o++){const s=this.Ee(n,i,o);if(!this.de(s))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Jg(o,i,r);return n.forEach(l=>s.insert(l)),s}insert(e){if(this.Ie===0)return;const r=Bb(e),[n,i]=qb(r);for(let o=0;o<this.hashCount;o++){const s=this.Ee(n,i,o);this.Ae(s)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Pa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,r,n,i,o){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Jl.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Hd(ae.min(),i,new We(we),Wn(),fe())}}class Jl{constructor(e,r,n,i,o){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Jl(n,r,fe(),fe(),fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class eT{constructor(e,r){this.targetId=e,this.me=r}}class tT{constructor(e,r,n=Rt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class Hb{constructor(){this.fe=0,this.ge=Kb(),this.pe=Rt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=fe(),r=fe(),n=fe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:ie()}}),new Jl(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=Kb()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class f2{constructor(e){this.Le=e,this.Be=new Map,this.ke=Wn(),this.qe=Wb(),this.Qe=new We(we)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:ie()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const o=i.target;if(Up(o))if(n===0){const s=new ee(o.path);this.Ue(r,s,Ut.newNoDocument(s,ae.min()))}else ke(n===1);else{const s=this.Ye(r);if(s!==n){const l=this.Ze(e),c=l?this.Xe(l,e,s):1;if(c!==0){this.je(r);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,u)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:o=0}=r;let s,l;try{s=wo(n).toUint8Array()}catch(c){if(c instanceof PI)return Ss("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Jg(s,i,o)}catch(c){return Ss(c instanceof Pa?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(o=>{const s=this.Le.tt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.Ue(r,o,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((o,s)=>{const l=this.Je(s);if(l){if(o.current&&Up(l.target)){const c=new ee(l.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,Ut.newNoDocument(c,e))}o.be&&(r.set(s,o.ve()),o.Ce())}});let n=fe();this.qe.forEach((o,s)=>{let l=!0;s.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(n=n.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Hd(e,r,this.Qe,this.ke,n);return this.ke=Wn(),this.qe=Wb(),this.Qe=new We(we),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Hb,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Ct(we),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||X("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Hb),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Wb(){return new We(ee.comparator)}function Kb(){return new We(ee.comparator)}const p2={asc:"ASCENDING",desc:"DESCENDING"},m2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},g2={and:"AND",or:"OR"};class v2{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Bp(t,e){return t.useProto3Json||Ud(e)?e:{value:e}}function sd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function y2(t,e){return sd(t,e.toTimestamp())}function dn(t){return ke(!!t),ae.fromTimestamp(function(r){const n=Pi(r);return new gt(n.seconds,n.nanos)}(t))}function Zg(t,e){return qp(t,e).canonicalString()}function qp(t,e){const r=function(i){return new Ve(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function nT(t){const e=Ve.fromString(t);return ke(lT(e)),e}function Hp(t,e){return Zg(t.databaseId,e.path)}function af(t,e){const r=nT(e);if(r.get(1)!==t.databaseId.projectId)throw new Q(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Q(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new ee(oT(r))}function iT(t,e){return Zg(t.databaseId,e)}function _2(t){const e=nT(t);return e.length===4?Ve.emptyPath():oT(e)}function Wp(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oT(t){return ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Gb(t,e,r){return{name:Hp(t,e),fields:r.value.mapValue.fields}}function b2(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,h){return u.useProto3Json?(ke(h===void 0||typeof h=="string"),Rt.fromBase64String(h||"")):(ke(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Rt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(u){const h=u.code===void 0?U.UNKNOWN:ZI(u.code);return new Q(h,u.message||"")}(s);r=new tT(n,i,o,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=af(t,n.document.name),o=dn(n.document.updateTime),s=n.document.createTime?dn(n.document.createTime):ae.min(),l=new sr({mapValue:{fields:n.document.fields}}),c=Ut.newFoundDocument(i,o,s,l),u=n.targetIds||[],h=n.removedTargetIds||[];r=new wu(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=af(t,n.document),o=n.readTime?dn(n.readTime):ae.min(),s=Ut.newNoDocument(i,o),l=n.removedTargetIds||[];r=new wu([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=af(t,n.document),o=n.removedTargetIds||[];r=new wu([],o,i,null)}else{if(!("filter"in e))return ie();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:o}=n,s=new c2(i,o),l=n.targetId;r=new eT(l,s)}}return r}function w2(t,e){let r;if(e instanceof Xl)r={update:Gb(t,e.key,e.value)};else if(e instanceof Yg)r={delete:Hp(t,e.key)};else if(e instanceof Fi)r={update:Gb(t,e.key,e.data),updateMask:R2(e.fieldMask)};else{if(!(e instanceof s2))return ie();r={verify:Hp(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(o,s){const l=s.transform;if(l instanceof Sl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Rs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Al)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Cl)return{fieldPath:s.field.canonicalString(),increment:l.Pe};throw ie()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:y2(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ie()}(t,e.precondition)),r}function E2(t,e){return t&&t.length>0?(ke(e!==void 0),t.map(r=>function(i,o){let s=i.updateTime?dn(i.updateTime):dn(o);return s.isEqual(ae.min())&&(s=dn(o)),new n2(s,i.transformResults||[])}(r,e))):[]}function x2(t,e){return{documents:[iT(t,e.path)]}}function I2(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=iT(t,i);const o=function(u){if(u.length!==0)return aT(Xr.create(u,"and"))}(e.filters);o&&(r.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(h=>function(m){return{field:Ho(m.field),direction:A2(m.dir)}}(h))}(e.orderBy);s&&(r.structuredQuery.orderBy=s);const l=Bp(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:r,parent:i}}function T2(t){let e=_2(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){ke(n===1);const h=r.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];r.where&&(o=function(p){const m=sT(p);return m instanceof Xr&&LI(m)?m.getFilters():[m]}(r.where));let s=[];r.orderBy&&(s=function(p){return p.map(m=>function(C){return new Tl(Wo(C.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(r.orderBy));let l=null;r.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,Ud(m)?null:m}(r.limit));let c=null;r.startAt&&(c=function(p){const m=!!p.before,_=p.values||[];return new od(_,m)}(r.startAt));let u=null;return r.endAt&&(u=function(p){const m=!p.before,_=p.values||[];return new od(_,m)}(r.endAt)),HD(e,i,s,o,l,"F",c,u)}function S2(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function sT(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Wo(r.unaryFilter.field);return ut.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Wo(r.unaryFilter.field);return ut.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Wo(r.unaryFilter.field);return ut.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Wo(r.unaryFilter.field);return ut.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ie()}}(t):t.fieldFilter!==void 0?function(r){return ut.create(Wo(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ie()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Xr.create(r.compositeFilter.filters.map(n=>sT(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ie()}}(r.compositeFilter.op))}(t):ie()}function A2(t){return p2[t]}function C2(t){return m2[t]}function k2(t){return g2[t]}function Ho(t){return{fieldPath:t.canonicalString()}}function Wo(t){return St.fromServerFormat(t.fieldPath)}function aT(t){return t instanceof ut?function(r){if(r.op==="=="){if(Ob(r.value))return{unaryFilter:{field:Ho(r.field),op:"IS_NAN"}};if(Db(r.value))return{unaryFilter:{field:Ho(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Ob(r.value))return{unaryFilter:{field:Ho(r.field),op:"IS_NOT_NAN"}};if(Db(r.value))return{unaryFilter:{field:Ho(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ho(r.field),op:C2(r.op),value:r.value}}}(t):t instanceof Xr?function(r){const n=r.getFilters().map(i=>aT(i));return n.length===1?n[0]:{compositeFilter:{op:k2(r.op),filters:n}}}(t):ie()}function R2(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function lT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,r,n,i,o=ae.min(),s=ae.min(),l=Rt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e){this.ct=e}}function N2(t){const e=T2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?zp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this.un=new O2}addToCollectionParentIndex(e,r){return this.un.add(r),j.resolve()}getCollectionParents(e,r){return j.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return j.resolve()}deleteFieldIndex(e,r){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,r){return j.resolve()}getDocumentsMatchingTarget(e,r){return j.resolve(null)}getIndexType(e,r){return j.resolve(0)}getFieldIndexes(e,r){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,r){return j.resolve(Ri.min())}getMinOffsetFromCollectionGroup(e,r){return j.resolve(Ri.min())}updateCollectionGroup(e,r,n){return j.resolve()}updateIndexEntries(e,r){return j.resolve()}}class O2{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Ct(Ve.comparator),o=!i.has(n);return this.index[r]=i.add(n),o}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Ct(Ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ps(0)}static kn(){return new Ps(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this.changes=new Hs(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?j.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Ka(n.mutation,i,yr.empty(),gt.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,fe()).next(()=>n))}getLocalViewOfDocuments(e,r,n=fe()){const i=io();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(o=>{let s=Ra();return o.forEach((l,c)=>{s=s.insert(l,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,r){const n=io();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,fe()))}populateOverlays(e,r,n){const i=[];return n.forEach(o=>{r.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,l)=>{r.set(s,l)})})}computeViews(e,r,n,i){let o=Wn();const s=Wa(),l=function(){return Wa()}();return r.forEach((c,u)=>{const h=n.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof Fi)?o=o.insert(u.key,u):h!==void 0?(s.set(u.key,h.mutation.getFieldMask()),Ka(h.mutation,u,h.mutation.getFieldMask(),gt.now())):s.set(u.key,yr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,h)=>s.set(u,h)),r.forEach((u,h)=>{var p;return l.set(u,new M2(h,(p=s.get(u))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,r){const n=Wa();let i=new We((s,l)=>s-l),o=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(s=>{for(const l of s)l.keys().forEach(c=>{const u=r.get(c);if(u===null)return;let h=n.get(c)||yr.empty();h=l.applyToLocalView(u,h),n.set(c,h);const p=(i.get(l.batchId)||fe()).add(c);i=i.insert(l.batchId,p)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,h=c.value,p=qI();h.forEach(m=>{if(!o.has(m)){const _=XI(r.get(m),n.get(m));_!==null&&p.set(m,_),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,p))}return j.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(s){return ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):FI(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-o.size):j.resolve(io());let l=-1,c=o;return s.next(u=>j.forEach(u,(h,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),o.get(h)?j.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,fe())).next(h=>({batchId:l,changes:BI(h)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new ee(r)).next(n=>{let i=Ra();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const o=r.collectionGroup;let s=Ra();return this.indexManager.getCollectionParents(e,o).next(l=>j.forEach(l,c=>{const u=function(p,m){return new qs(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(r,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,r,n,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,o,i))).next(s=>{o.forEach((c,u)=>{const h=u.getKey();s.get(h)===null&&(s=s.insert(h,Ut.newInvalidDocument(h)))});let l=Ra();return s.forEach((c,u)=>{const h=o.get(c);h!==void 0&&Ka(h.mutation,u,yr.empty(),gt.now()),zd(r,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return j.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:dn(i.createTime)}}(r)),j.resolve()}getNamedQuery(e,r){return j.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:N2(i.bundledQuery),readTime:dn(i.readTime)}}(r)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(){this.overlays=new We(ee.comparator),this.Ir=new Map}getOverlay(e,r){return j.resolve(this.overlays.get(r))}getOverlays(e,r){const n=io();return j.forEach(r,i=>this.getOverlay(e,i).next(o=>{o!==null&&n.set(i,o)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,o)=>{this.ht(e,r,o)}),j.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(n)),j.resolve()}getOverlaysForCollection(e,r,n){const i=io(),o=r.length+1,s=new ee(r.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>n&&i.set(c.getKey(),c)}return j.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let o=new We((u,h)=>u-h);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let h=o.get(u.largestBatchId);h===null&&(h=io(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const l=io(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>l.set(u,h)),!(l.size()>=i)););return j.resolve(l)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new l2(r,n));let o=this.Ir.get(r);o===void 0&&(o=fe(),this.Ir.set(r,o)),this.Ir.set(r,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(){this.Tr=new Ct(vt.Er),this.dr=new Ct(vt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new vt(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new vt(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new ee(new Ve([])),n=new vt(r,e),i=new vt(r,e+1),o=[];return this.dr.forEachInRange([n,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new ee(new Ve([])),n=new vt(r,e),i=new vt(r,e+1);let o=fe();return this.dr.forEachInRange([n,i],s=>{o=o.add(s.key)}),o}containsKey(e){const r=new vt(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class vt{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return ee.comparator(e.key,r.key)||we(e.wr,r.wr)}static Ar(e,r){return we(e.wr,r.wr)||ee.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Ct(vt.Er)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new a2(o,r,n,i);this.mutationQueue.push(s);for(const l of i)this.br=this.br.add(new vt(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return j.resolve(s)}lookupMutationBatch(e,r){return j.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),o=i<0?0:i;return j.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new vt(r,0),i=new vt(r,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([n,i],s=>{const l=this.Dr(s.wr);o.push(l)}),j.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Ct(we);return r.forEach(i=>{const o=new vt(i,0),s=new vt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],l=>{n=n.add(l.wr)})}),j.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let o=n;ee.isDocumentKey(o)||(o=o.child(""));const s=new vt(new ee(o),0);let l=new Ct(we);return this.br.forEachWhile(c=>{const u=c.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(l=l.add(c.wr)),!0)},s),j.resolve(this.Cr(l))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){ke(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return j.forEach(r.mutations,i=>{const o=new vt(i.key,r.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new vt(r,0),i=this.br.firstAfterOrEqual(n);return j.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.Mr=e,this.docs=function(){return new We(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),o=i?i.size:0,s=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return j.resolve(n?n.document.mutableCopy():Ut.newInvalidDocument(r))}getEntries(e,r){let n=Wn();return r.forEach(i=>{const o=this.docs.get(i);n=n.insert(i,o?o.document.mutableCopy():Ut.newInvalidDocument(i))}),j.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let o=Wn();const s=r.path,l=new ee(s.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||SD(TD(h),n)<=0||(i.has(h.key)||zd(r,h))&&(o=o.insert(h.key,h.mutableCopy()))}return j.resolve(o)}getAllFromCollectionGroup(e,r,n,i){ie()}Or(e,r){return j.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new B2(this)}getSize(e){return j.resolve(this.size)}}class B2 extends L2{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),j.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.persistence=e,this.Nr=new Hs(r=>Hg(r),Wg),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ev,this.targetCount=0,this.kr=Ps.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),j.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Ps(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,j.resolve()}updateTargetData(e,r){return this.Kn(r),j.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,r,n){let i=0;const o=[];return this.Nr.forEach((s,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),j.waitFor(o).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return j.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),j.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,o=[];return i&&r.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),j.waitFor(o)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),j.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return j.resolve(n)}containsKey(e,r){return j.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,r){this.qr={},this.overlays={},this.Qr=new jg(0),this.Kr=!1,this.Kr=!0,this.$r=new U2,this.referenceDelegate=e(this),this.Ur=new q2(this),this.indexManager=new D2,this.remoteDocumentCache=function(i){return new z2(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new P2(r),this.Gr=new $2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new F2,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new j2(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){X("MemoryPersistence","Starting transaction:",e);const i=new W2(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,r){return j.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class W2 extends CD{constructor(e){super(),this.currentSequenceNumber=e}}class tv{constructor(e){this.persistence=e,this.Jr=new ev,this.Yr=null}static Zr(e){return new tv(e)}get Xr(){if(this.Yr)return this.Yr;throw ie()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),j.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),j.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),j.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.Xr,n=>{const i=ee.fromPath(n);return this.ei(e,i).next(o=>{o||r.removeEntry(i,ae.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return j.or([()=>j.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=fe(),i=fe();for(const o of r.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new rv(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return U1()?8:kD(Bt())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const o={result:null};return this.Yi(e,r).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,r,i,n).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new K2;return this.Xi(e,r,s).next(l=>{if(o.result=l,this.zi)return this.es(e,r,s,l.size)})}).next(()=>o.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(_a()<=me.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",qo(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),j.resolve()):(_a()<=me.DEBUG&&X("QueryEngine","Query:",qo(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(_a()<=me.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",qo(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,un(r))):j.resolve())}Yi(e,r){if($b(r))return j.resolve(null);let n=un(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=zp(r,null,"F"),n=un(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(o=>{const s=fe(...o);return this.Ji.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,n).next(c=>{const u=this.ts(r,l);return this.ns(r,u,s,c.readTime)?this.Yi(e,zp(r,null,"F")):this.rs(e,u,r,c)}))})))}Zi(e,r,n,i){return $b(r)||i.isEqual(ae.min())?j.resolve(null):this.Ji.getDocuments(e,n).next(o=>{const s=this.ts(r,o);return this.ns(r,s,n,i)?j.resolve(null):(_a()<=me.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qo(r)),this.rs(e,s,r,ID(i,-1)).next(l=>l))})}ts(e,r){let n=new Ct(jI(e));return r.forEach((i,o)=>{zd(e,o)&&(n=n.add(o))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const o=e.limitType==="F"?r.last():r.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,r,n){return _a()<=me.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",qo(r)),this.Ji.getDocumentsMatchingQuery(e,r,Ri.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(o=>(r.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new We(we),this._s=new Hs(o=>Hg(o),Wg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new V2(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function Y2(t,e,r,n){return new Q2(t,e,r,n)}async function cT(t,e){const r=le(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(o=>(i=o,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(o=>{const s=[],l=[];let c=fe();for(const u of i){s.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of o){l.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return r.localDocuments.getDocuments(n,c).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:l}))})})}function X2(t,e){const r=le(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),o=r.cs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,h){const p=u.batch,m=p.keys();let _=j.resolve();return m.forEach(C=>{_=_.next(()=>h.getEntry(c,C)).next(k=>{const P=u.docVersions.get(C);ke(P!==null),k.version.compareTo(P)<0&&(p.applyToRemoteDocument(k,u),k.isValidDocument()&&(k.setReadTime(u.commitVersion),h.addEntry(k)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(c,p))}(r,n,e,o).next(()=>o.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(l){let c=fe();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function uT(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function J2(t,e){const r=le(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const l=[];e.targetChanges.forEach((h,p)=>{const m=i.get(p);if(!m)return;l.push(r.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>r.Ur.addMatchingKeys(o,h.addedDocuments,p)));let _=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(Rt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):h.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(h.resumeToken,n)),i=i.insert(p,_),function(k,P,w){return k.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(m,_,h)&&l.push(r.Ur.updateTargetData(o,_))});let c=Wn(),u=fe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(o,h))}),l.push(Z2(o,s,e.documentUpdates).next(h=>{c=h.Ps,u=h.Is})),!n.isEqual(ae.min())){const h=r.Ur.getLastRemoteSnapshotVersion(o).next(p=>r.Ur.setTargetsMetadata(o,o.currentSequenceNumber,n));l.push(h)}return j.waitFor(l).next(()=>s.apply(o)).next(()=>r.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(r.os=i,o))}function Z2(t,e,r){let n=fe(),i=fe();return r.forEach(o=>n=n.add(o)),e.getEntries(t,n).next(o=>{let s=Wn();return r.forEach((l,c)=>{const u=o.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(ae.min())?(e.removeEntry(l,c.readTime),s=s.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(l,c)):X("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{Ps:s,Is:i}})}function eO(t,e){const r=le(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function tO(t,e){const r=le(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(o=>o?(i=o,j.resolve(i)):r.Ur.allocateTargetId(n).next(s=>(i=new gi(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function Kp(t,e,r){const n=le(t),i=n.os.get(e),o=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",o,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Yl(s))throw s;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function Qb(t,e,r){const n=le(t);let i=ae.min(),o=fe();return n.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,h){const p=le(c),m=p._s.get(h);return m!==void 0?j.resolve(p.os.get(m)):p.Ur.getTargetData(u,h)}(n,s,un(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(s,l.targetId).next(c=>{o=c})}).next(()=>n.ss.getDocumentsMatchingQuery(s,e,r?i:ae.min(),r?o:fe())).next(l=>(rO(n,KD(e),l),{documents:l,Ts:o})))}function rO(t,e,r){let n=t.us.get(e)||ae.min();r.forEach((i,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),t.us.set(e,n)}class Yb{constructor(){this.activeTargetIds=ZD()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nO{constructor(){this.so=new Yb,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Yb,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bc=null;function lf(){return Bc===null?Bc=function(){return 268435456+Math.round(2147483648*Math.random())}():Bc++,"0x"+Bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vt="WebChannelConnection";class aO extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(r,n,i,o,s){const l=lf(),c=this.xo(r,n.toUriEncodedString());X("RestConnection",`Sending RPC '${r}' ${l}:`,c,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(r,c,u,i).then(h=>(X("RestConnection",`Received RPC '${r}' ${l}: `,h),h),h=>{throw Ss("RestConnection",`RPC '${r}' ${l} failed with error: `,h,"url: ",c,"request:",i),h})}Lo(r,n,i,o,s,l){return this.Mo(r,n,i,o,s)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bs}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,s)=>r[s]=o),i&&i.headers.forEach((o,s)=>r[s]=o)}xo(r,n){const i=oO[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const o=lf();return new Promise((s,l)=>{const c=new xI;c.setWithCredentials(!0),c.listenOnce(II.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case yu.NO_ERROR:const h=c.getResponseJson();X(Vt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case yu.TIMEOUT:X(Vt,`RPC '${e}' ${o} timed out`),l(new Q(U.DEADLINE_EXCEEDED,"Request time out"));break;case yu.HTTP_ERROR:const p=c.getStatus();if(X(Vt,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const _=m==null?void 0:m.error;if(_&&_.status&&_.message){const C=function(P){const w=P.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(w)>=0?w:U.UNKNOWN}(_.status);l(new Q(C,_.message))}else l(new Q(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Q(U.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{X(Vt,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);X(Vt,`RPC '${e}' ${o} sending request:`,i),c.send(r,"POST",u,n,15)})}Bo(e,r,n){const i=lf(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=AI(),l=SI(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const h=o.join("");X(Vt,`Creating RPC '${e}' stream ${i}: ${h}`,c);const p=s.createWebChannel(h,c);let m=!1,_=!1;const C=new sO({Io:P=>{_?X(Vt,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(m||(X(Vt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),X(Vt,`RPC '${e}' stream ${i} sending:`,P),p.send(P))},To:()=>p.close()}),k=(P,w,b)=>{P.listen(w,I=>{try{b(I)}catch(M){setTimeout(()=>{throw M},0)}})};return k(p,ka.EventType.OPEN,()=>{_||(X(Vt,`RPC '${e}' stream ${i} transport opened.`),C.yo())}),k(p,ka.EventType.CLOSE,()=>{_||(_=!0,X(Vt,`RPC '${e}' stream ${i} transport closed`),C.So())}),k(p,ka.EventType.ERROR,P=>{_||(_=!0,Ss(Vt,`RPC '${e}' stream ${i} transport errored:`,P),C.So(new Q(U.UNAVAILABLE,"The operation could not be completed")))}),k(p,ka.EventType.MESSAGE,P=>{var w;if(!_){const b=P.data[0];ke(!!b);const I=b,M=I.error||((w=I[0])===null||w===void 0?void 0:w.error);if(M){X(Vt,`RPC '${e}' stream ${i} received error:`,M);const $=M.status;let F=function(E){const x=lt[E];if(x!==void 0)return ZI(x)}($),y=M.message;F===void 0&&(F=U.INTERNAL,y="Unknown error status: "+$+" with message "+M.message),_=!0,C.So(new Q(F,y)),p.close()}else X(Vt,`RPC '${e}' stream ${i} received:`,b),C.bo(b)}}),k(l,TI.STAT_EVENT,P=>{P.stat===Mp.PROXY?X(Vt,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===Mp.NOPROXY&&X(Vt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}}function cf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(t){return new v2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,r,n=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,r,n,i,o,s,l,c){this.ui=e,this.Ho=n,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new dT(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===U.RESOURCE_EXHAUSTED?(Hn(r.toString()),Hn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new Q(U.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lO extends hT{constructor(e,r,n,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=o}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=b2(this.serializer,e),n=function(o){if(!("targetChange"in o))return ae.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ae.min():s.readTime?dn(s.readTime):ae.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=Wp(this.serializer),r.addTarget=function(o,s){let l;const c=s.target;if(l=Up(c)?{documents:x2(o,c)}:{query:I2(o,c)._t},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=rT(o,s.resumeToken);const u=Bp(o,s.expectedCount);u!==null&&(l.expectedCount=u)}else if(s.snapshotVersion.compareTo(ae.min())>0){l.readTime=sd(o,s.snapshotVersion.toTimestamp());const u=Bp(o,s.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const n=S2(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=Wp(this.serializer),r.removeTarget=e,this.a_(r)}}class cO extends hT{constructor(e,r,n,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return ke(!!e.streamToken),this.lastStreamToken=e.streamToken,ke(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=E2(e.writeResults,e.commitTime),n=dn(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=Wp(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>w2(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Q(U.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,qp(r,n),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(U.UNKNOWN,o.toString())})}Lo(e,r,n,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Lo(e,qp(r,n),i,s,l,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(U.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class dO{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Hn(r),this.D_=!1):X("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e,r,n,i,o){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{n.enqueueAndForget(async()=>{Po(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=le(c);u.L_.add(4),await Zl(u),u.q_.set("Unknown"),u.L_.delete(4),await Kd(u)}(this))})}),this.q_=new dO(n,i)}}async function Kd(t){if(Po(t))for(const e of t.B_)await e(!0)}async function Zl(t){for(const e of t.B_)await e(!1)}function fT(t,e){const r=le(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),sv(r)?ov(r):Ws(r).r_()&&iv(r,e))}function nv(t,e){const r=le(t),n=Ws(r);r.N_.delete(e),n.r_()&&pT(r,e),r.N_.size===0&&(n.r_()?n.o_():Po(r)&&r.q_.set("Unknown"))}function iv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Ws(t).A_(e)}function pT(t,e){t.Q_.xe(e),Ws(t).R_(e)}function ov(t){t.Q_=new f2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ws(t).start(),t.q_.v_()}function sv(t){return Po(t)&&!Ws(t).n_()&&t.N_.size>0}function Po(t){return le(t).L_.size===0}function mT(t){t.Q_=void 0}async function fO(t){t.q_.set("Online")}async function pO(t){t.N_.forEach((e,r)=>{iv(t,e)})}async function mO(t,e){mT(t),sv(t)?(t.q_.M_(e),ov(t)):t.q_.set("Unknown")}async function gO(t,e,r){if(t.q_.set("Online"),e instanceof tT&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const l of o.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(n){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await ad(t,n)}else if(e instanceof wu?t.Q_.Ke(e):e instanceof eT?t.Q_.He(e):t.Q_.We(e),!r.isEqual(ae.min()))try{const n=await uT(t.localStore);r.compareTo(n)>=0&&await function(o,s){const l=o.Q_.rt(s);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.N_.get(u);h&&o.N_.set(u,h.withResumeToken(c.resumeToken,s))}}),l.targetMismatches.forEach((c,u)=>{const h=o.N_.get(c);if(!h)return;o.N_.set(c,h.withResumeToken(Rt.EMPTY_BYTE_STRING,h.snapshotVersion)),pT(o,c);const p=new gi(h.target,c,u,h.sequenceNumber);iv(o,p)}),o.remoteSyncer.applyRemoteEvent(l)}(t,r)}catch(n){X("RemoteStore","Failed to raise snapshot:",n),await ad(t,n)}}async function ad(t,e,r){if(!Yl(e))throw e;t.L_.add(1),await Zl(t),t.q_.set("Offline"),r||(r=()=>uT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await Kd(t)})}function gT(t,e){return e().catch(r=>ad(t,r,e))}async function Gd(t){const e=le(t),r=Ni(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;vO(e);)try{const i=await eO(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,yO(e,i)}catch(i){await ad(e,i)}vT(e)&&yT(e)}function vO(t){return Po(t)&&t.O_.length<10}function yO(t,e){t.O_.push(e);const r=Ni(t);r.r_()&&r.V_&&r.m_(e.mutations)}function vT(t){return Po(t)&&!Ni(t).n_()&&t.O_.length>0}function yT(t){Ni(t).start()}async function _O(t){Ni(t).p_()}async function bO(t){const e=Ni(t);for(const r of t.O_)e.m_(r.mutations)}async function wO(t,e,r){const n=t.O_.shift(),i=Xg.from(n,e,r);await gT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Gd(t)}async function EO(t,e){e&&Ni(t).V_&&await async function(n,i){if(function(s){return u2(s)&&s!==U.ABORTED}(i.code)){const o=n.O_.shift();Ni(n).s_(),await gT(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Gd(n)}}(t,e),vT(t)&&yT(t)}async function Jb(t,e){const r=le(t);r.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const n=Po(r);r.L_.add(3),await Zl(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await Kd(r)}async function xO(t,e){const r=le(t);e?(r.L_.delete(2),await Kd(r)):e||(r.L_.add(2),await Zl(r),r.q_.set("Unknown"))}function Ws(t){return t.K_||(t.K_=function(r,n,i){const o=le(r);return o.w_(),new lO(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:fO.bind(null,t),Ro:pO.bind(null,t),mo:mO.bind(null,t),d_:gO.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),sv(t)?ov(t):t.q_.set("Unknown")):(await t.K_.stop(),mT(t))})),t.K_}function Ni(t){return t.U_||(t.U_=function(r,n,i){const o=le(r);return o.w_(),new cO(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:_O.bind(null,t),mo:EO.bind(null,t),f_:bO.bind(null,t),g_:wO.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Gd(t)):(await t.U_.stop(),t.O_.length>0&&(X("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,r,n,i,o){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=o,this.deferred=new uo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,o){const s=Date.now()+n,l=new av(e,r,s,i,o);return l.start(n),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lv(t,e){if(Hn("AsyncQueue",`${e}: ${t}`),Yl(t))return new Q(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this.comparator=e?(r,n)=>e(r,n)||ee.comparator(r.key,n.key):(r,n)=>ee.comparator(r.key,n.key),this.keyedMap=Ra(),this.sortedSet=new We(this.comparator)}static emptySet(e){return new gs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof gs)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,o=n.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new gs;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(){this.W_=new We(ee.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):ie():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class Ns{constructor(e,r,n,i,o,s,l,c,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,o){const s=[];return r.forEach(l=>{s.push({type:0,doc:l})}),new Ns(e,r,gs.emptySet(r),s,n,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class TO{constructor(){this.queries=ew(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=le(r),o=i.queries;i.queries=ew(),o.forEach((s,l)=>{for(const c of l.j_)c.onError(n)})})(this,new Q(U.ABORTED,"Firestore shutting down"))}}function ew(){return new Hs(t=>UI(t),jd)}async function SO(t,e){const r=le(t);let n=3;const i=e.query;let o=r.queries.get(i);o?!o.H_()&&e.J_()&&(n=2):(o=new IO,n=e.J_()?0:1);try{switch(n){case 0:o.z_=await r.onListen(i,!0);break;case 1:o.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const l=lv(s,`Initialization of query '${qo(e.query)}' failed`);return void e.onError(l)}r.queries.set(i,o),o.j_.push(e),e.Z_(r.onlineState),o.z_&&e.X_(o.z_)&&cv(r)}async function AO(t,e){const r=le(t),n=e.query;let i=3;const o=r.queries.get(n);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function CO(t,e){const r=le(t);let n=!1;for(const i of e){const o=i.query,s=r.queries.get(o);if(s){for(const l of s.j_)l.X_(i)&&(n=!0);s.z_=i}}n&&cv(r)}function kO(t,e,r){const n=le(t),i=n.queries.get(e);if(i)for(const o of i.j_)o.onError(r);n.queries.delete(e)}function cv(t){t.Y_.forEach(e=>{e.next()})}var Gp,tw;(tw=Gp||(Gp={})).ea="default",tw.Cache="cache";class RO{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Ns(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=Ns.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Gp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e){this.key=e}}class bT{constructor(e){this.key=e}}class PO{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=fe(),this.mutatedKeys=fe(),this.Aa=jI(e),this.Ra=new gs(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new Zb,i=r?r.Ra:this.Ra;let o=r?r.mutatedKeys:this.mutatedKeys,s=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{const m=i.get(h),_=zd(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),k=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let P=!1;m&&_?m.data.isEqual(_.data)?C!==k&&(n.track({type:3,doc:_}),P=!0):this.ga(m,_)||(n.track({type:2,doc:_}),P=!0,(c&&this.Aa(_,c)>0||u&&this.Aa(_,u)<0)&&(l=!0)):!m&&_?(n.track({type:0,doc:_}),P=!0):m&&!_&&(n.track({type:1,doc:m}),P=!0,(c||u)&&(l=!0)),P&&(_?(s=s.add(_),o=k?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),n.track({type:1,doc:h})}return{Ra:s,fa:n,ns:l,mutatedKeys:o}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((h,p)=>function(_,C){const k=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return k(_)-k(C)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(n),i=i!=null&&i;const l=r&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,u=c!==this.Ea;return this.Ea=c,s.length!==0||u?{snapshot:new Ns(this.query,e.Ra,o,s,e.mutatedKeys,c===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Zb,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=fe(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new bT(n))}),this.da.forEach(n=>{e.has(n)||r.push(new _T(n))}),r}ba(e){this.Ta=e.Ts,this.da=fe();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Ns.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class NO{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class DO{constructor(e){this.key=e,this.va=!1}}class OO{constructor(e,r,n,i,o,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Hs(l=>UI(l),jd),this.Ma=new Map,this.xa=new Set,this.Oa=new We(ee.comparator),this.Na=new Map,this.La=new ev,this.Ba={},this.ka=new Map,this.qa=Ps.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function LO(t,e,r=!0){const n=ST(t);let i;const o=n.Fa.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await wT(n,e,r,!0),i}async function MO(t,e){const r=ST(t);await wT(r,e,!0,!1)}async function wT(t,e,r,n){const i=await tO(t.localStore,un(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,r);let l;return n&&(l=await VO(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&r&&fT(t.remoteStore,i),l}async function VO(t,e,r,n,i){t.Ka=(p,m,_)=>async function(k,P,w,b){let I=P.view.ma(w);I.ns&&(I=await Qb(k.localStore,P.query,!1).then(({documents:y})=>P.view.ma(y,I)));const M=b&&b.targetChanges.get(P.targetId),$=b&&b.targetMismatches.get(P.targetId)!=null,F=P.view.applyChanges(I,k.isPrimaryClient,M,$);return nw(k,P.targetId,F.wa),F.snapshot}(t,p,m,_);const o=await Qb(t.localStore,e,!0),s=new PO(e,o.Ts),l=s.ma(o.documents),c=Jl.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=s.applyChanges(l,t.isPrimaryClient,c);nw(t,r,u.wa);const h=new NO(e,r,s);return t.Fa.set(e,h),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),u.snapshot}async function $O(t,e,r){const n=le(t),i=n.Fa.get(e),o=n.Ma.get(i.targetId);if(o.length>1)return n.Ma.set(i.targetId,o.filter(s=>!jd(s,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Kp(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&nv(n.remoteStore,i.targetId),Qp(n,i.targetId)}).catch(Ql)):(Qp(n,i.targetId),await Kp(n.localStore,i.targetId,!0))}async function FO(t,e){const r=le(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),nv(r.remoteStore,n.targetId))}async function UO(t,e,r){const n=KO(t);try{const i=await function(s,l){const c=le(s),u=gt.now(),h=l.reduce((_,C)=>_.add(C.key),fe());let p,m;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let C=Wn(),k=fe();return c.cs.getEntries(_,h).next(P=>{C=P,C.forEach((w,b)=>{b.isValidDocument()||(k=k.add(w))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,C)).next(P=>{p=P;const w=[];for(const b of l){const I=o2(b,p.get(b.key).overlayedDocument);I!=null&&w.push(new Fi(b.key,I,NI(I.value.mapValue),Dr.exists(!0)))}return c.mutationQueue.addMutationBatch(_,u,w,l)}).next(P=>{m=P;const w=P.applyToLocalDocumentSet(p,k);return c.documentOverlayCache.saveOverlays(_,P.batchId,w)})}).then(()=>({batchId:m.batchId,changes:BI(p)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(s,l,c){let u=s.Ba[s.currentUser.toKey()];u||(u=new We(we)),u=u.insert(l,c),s.Ba[s.currentUser.toKey()]=u}(n,i.batchId,r),await ec(n,i.changes),await Gd(n.remoteStore)}catch(i){const o=lv(i,"Failed to persist write");r.reject(o)}}async function ET(t,e){const r=le(t);try{const n=await J2(r.localStore,e);e.targetChanges.forEach((i,o)=>{const s=r.Na.get(o);s&&(ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?ke(s.va):i.removedDocuments.size>0&&(ke(s.va),s.va=!1))}),await ec(r,n,e)}catch(n){await Ql(n)}}function rw(t,e,r){const n=le(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((o,s)=>{const l=s.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(s,l){const c=le(s);c.onlineState=l;let u=!1;c.queries.forEach((h,p)=>{for(const m of p.j_)m.Z_(l)&&(u=!0)}),u&&cv(c)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function jO(t,e,r){const n=le(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),o=i&&i.key;if(o){let s=new We(ee.comparator);s=s.insert(o,Ut.newNoDocument(o,ae.min()));const l=fe().add(o),c=new Hd(ae.min(),new Map,new We(we),s,l);await ET(n,c),n.Oa=n.Oa.remove(o),n.Na.delete(e),uv(n)}else await Kp(n.localStore,e,!1).then(()=>Qp(n,e,r)).catch(Ql)}async function zO(t,e){const r=le(t),n=e.batch.batchId;try{const i=await X2(r.localStore,e);IT(r,n,null),xT(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await ec(r,i)}catch(i){await Ql(i)}}async function BO(t,e,r){const n=le(t);try{const i=await function(s,l){const c=le(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,l).next(p=>(ke(p!==null),h=p.keys(),c.mutationQueue.removeMutationBatch(u,p))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(n.localStore,e);IT(n,e,r),xT(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await ec(n,i)}catch(i){await Ql(i)}}function xT(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function IT(t,e,r){const n=le(t);let i=n.Ba[n.currentUser.toKey()];if(i){const o=i.get(e);o&&(r?o.reject(r):o.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function Qp(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||TT(t,n)})}function TT(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(nv(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),uv(t))}function nw(t,e,r){for(const n of r)n instanceof _T?(t.La.addReference(n.key,e),qO(t,n)):n instanceof bT?(X("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||TT(t,n.key)):ie()}function qO(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(X("SyncEngine","New document in limbo: "+r),t.xa.add(n),uv(t))}function uv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new ee(Ve.fromString(e)),n=t.qa.next();t.Na.set(n,new DO(r)),t.Oa=t.Oa.insert(r,n),fT(t.remoteStore,new gi(un(Kg(r.path)),n,"TargetPurposeLimboResolution",jg.oe))}}async function ec(t,e,r){const n=le(t),i=[],o=[],s=[];n.Fa.isEmpty()||(n.Fa.forEach((l,c)=>{s.push(n.Ka(c,e,r).then(u=>{var h;if((u||r)&&n.isPrimaryClient){const p=u?!u.fromCache:(h=r==null?void 0:r.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;n.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(u){i.push(u);const p=rv.Wi(c.targetId,u);o.push(p)}}))}),await Promise.all(s),n.Ca.d_(i),await async function(c,u){const h=le(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>j.forEach(u,m=>j.forEach(m.$i,_=>h.persistence.referenceDelegate.addReference(p,m.targetId,_)).next(()=>j.forEach(m.Ui,_=>h.persistence.referenceDelegate.removeReference(p,m.targetId,_)))))}catch(p){if(!Yl(p))throw p;X("LocalStore","Failed to update sequence numbers: "+p)}for(const p of u){const m=p.targetId;if(!p.fromCache){const _=h.os.get(m),C=_.snapshotVersion,k=_.withLastLimboFreeSnapshotVersion(C);h.os=h.os.insert(m,k)}}}(n.localStore,o))}async function HO(t,e){const r=le(t);if(!r.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const n=await cT(r.localStore,e);r.currentUser=e,function(o,s){o.ka.forEach(l=>{l.forEach(c=>{c.reject(new Q(U.CANCELLED,s))})}),o.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await ec(r,n.hs)}}function WO(t,e){const r=le(t),n=r.Na.get(e);if(n&&n.va)return fe().add(n.key);{let i=fe();const o=r.Ma.get(e);if(!o)return i;for(const s of o){const l=r.Fa.get(s);i=i.unionWith(l.view.Va)}return i}}function ST(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ET.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jO.bind(null,e),e.Ca.d_=CO.bind(null,e.eventManager),e.Ca.$a=kO.bind(null,e.eventManager),e}function KO(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BO.bind(null,e),e}class ld{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return Y2(this.persistence,new G2,e.initialUser,this.serializer)}Ga(e){return new H2(tv.Zr,this.serializer)}Wa(e){return new nO}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ld.provider={build:()=>new ld};class Yp{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>rw(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=HO.bind(null,this.syncEngine),await xO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new TO}()}createDatastore(e){const r=Wd(e.databaseInfo.databaseId),n=function(o){return new aO(o)}(e.databaseInfo);return function(o,s,l,c){return new uO(o,s,l,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,o,s,l){return new hO(n,i,o,s,l)}(this.localStore,this.datastore,e.asyncQueue,r=>rw(this.syncEngine,r,0),function(){return Xb.D()?new Xb:new iO}())}createSyncEngine(e,r){return function(i,o,s,l,c,u,h){const p=new OO(i,o,s,l,c,u);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const o=le(i);X("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Zl(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Yp.provider={build:()=>new Yp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Hn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,r,n,i,o){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=$t.UNAUTHENTICATED,this.clientId=kI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async s=>{X("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(X("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new uo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=lv(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function uf(t,e){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await cT(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function iw(t,e){t.asyncQueue.verifyOperationInProgress();const r=await YO(t);X("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>Jb(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>Jb(e.remoteStore,i)),t._onlineComponents=e}async function YO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await uf(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Ss("Error using user provided cache. Falling back to memory cache: "+r),await uf(t,new ld)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await uf(t,new ld);return t._offlineComponents}async function AT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await iw(t,t._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await iw(t,new Yp))),t._onlineComponents}function XO(t){return AT(t).then(e=>e.syncEngine)}async function ow(t){const e=await AT(t),r=e.eventManager;return r.onListen=LO.bind(null,e.syncEngine),r.onUnlisten=$O.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=MO.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=FO.bind(null,e.syncEngine),r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(t,e,r){if(!r)throw new Q(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function JO(t,e,r,n){if(e===!0&&n===!0)throw new Q(U.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function aw(t){if(!ee.isDocumentKey(t))throw new Q(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function lw(t){if(ee.isDocumentKey(t))throw new Q(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie()}function hn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Qd(t);throw new Q(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CT((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yd{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cw(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new mD;switch(n.type){case"firstParty":return new _D(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Q(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=sw.get(r);n&&(X("ComponentProvider","Removing Datastore"),sw.delete(r),n.terminate())}(this),Promise.resolve()}}function ZO(t,e,r,n={}){var i;const o=(t=hn(t,Yd))._getSettings(),s=`${e}:${r}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ss("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),n.mockUserToken){let l,c;if(typeof n.mockUserToken=="string")l=n.mockUserToken,c=$t.MOCK_USER;else{l=D1(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=n.mockUserToken.sub||n.mockUserToken.user_id;if(!u)throw new Q(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new $t(u)}t._authCredentials=new gD(new CI(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new No(this.firestore,e,this._query)}}class Jt{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Si(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jt(this.firestore,e,this._key)}}class Si extends No{constructor(e,r,n){super(e,r,Kg(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new ee(e))}withConverter(e){return new Si(this.firestore,e,this._path)}}function df(t,e,...r){if(t=Ye(t),kT("collection","path",e),t instanceof Yd){const n=Ve.fromString(e,...r);return lw(n),new Si(t,null,n)}{if(!(t instanceof Jt||t instanceof Si))throw new Q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ve.fromString(e,...r));return lw(n),new Si(t.firestore,null,n)}}function ht(t,e,...r){if(t=Ye(t),arguments.length===1&&(e=kI.newId()),kT("doc","path",e),t instanceof Yd){const n=Ve.fromString(e,...r);return aw(n),new Jt(t,null,new ee(n))}{if(!(t instanceof Jt||t instanceof Si))throw new Q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ve.fromString(e,...r));return aw(n),new Jt(t.firestore,t instanceof Si?t.converter:null,new ee(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new dT(this,"async_queue_retry"),this.Vu=()=>{const n=cf();n&&X("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=cf();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=cf();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new uo;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Yl(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),l}(n);throw Hn("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=av.createAndSchedule(this,e,r,n,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ie()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function dw(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const o of n)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class xo extends Yd{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new uw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uw(e),this._firestoreClient=void 0,await e}}}function eL(t,e){const r=typeof t=="object"?t:Cg(),n=typeof t=="string"?t:"(default)",i=Fs(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const o=P1("firestore");o&&ZO(i,...o)}return i}function RT(t){if(t._terminated)throw new Q(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||tL(t),t._firestoreClient}function tL(t){var e,r,n;const i=t._freezeSettings(),o=function(l,c,u,h){return new ND(l,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,CT(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new QO(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ds(Rt.fromBase64String(e))}catch(r){throw new Q(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Ds(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Q(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Q(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Q(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=/^__.*__$/;class nL{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Fi(e,this.data,this.fieldMask,r,this.fieldTransforms):new Xl(e,this.data,r,this.fieldTransforms)}}class PT{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Fi(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function NT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}class Jd{constructor(e,r,n,i,o,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Jd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return cd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(NT(this.Cu)&&rL.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class iL{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Wd(e)}Qu(e,r,n,i=!1){return new Jd({Cu:e,methodName:r,qu:n,path:St.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zd(t){const e=t._freezeSettings(),r=Wd(t._databaseId);return new iL(t._databaseId,!!e.ignoreUndefinedProperties,r)}function DT(t,e,r,n,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,r,i);gv("Data must be an object, but it was:",s,n);const l=OT(n,s);let c,u;if(o.merge)c=new yr(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const p of o.mergeFields){const m=Xp(e,p,r);if(!s.contains(m))throw new Q(U.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);MT(h,m)||h.push(m)}c=new yr(h),u=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,u=s.fieldTransforms;return new nL(new sr(l),c,u)}class eh extends Ks{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof eh}}function oL(t,e,r){return new Jd({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class fv extends Ks{_toFieldTransform(e){return new Qg(e.path,new Sl)}isEqual(e){return e instanceof fv}}class pv extends Ks{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=oL(this,e,!0),n=this.Ku.map(o=>Gs(o,r)),i=new Rs(n);return new Qg(e.path,i)}isEqual(e){return e instanceof pv&&vl(this.Ku,e.Ku)}}class mv extends Ks{constructor(e,r){super(e),this.$u=r}_toFieldTransform(e){const r=new Cl(e.serializer,WI(e.serializer,this.$u));return new Qg(e.path,r)}isEqual(e){return e instanceof mv&&this.$u===e.$u}}function sL(t,e,r,n){const i=t.Qu(1,e,r);gv("Data must be an object, but it was:",i,n);const o=[],s=sr.empty();Ro(n,(c,u)=>{const h=vv(e,c,r);u=Ye(u);const p=i.Nu(h);if(u instanceof eh)o.push(h);else{const m=Gs(u,p);m!=null&&(o.push(h),s.set(h,m))}});const l=new yr(o);return new PT(s,l,i.fieldTransforms)}function aL(t,e,r,n,i,o){const s=t.Qu(1,e,r),l=[Xp(e,n,r)],c=[i];if(o.length%2!=0)throw new Q(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)l.push(Xp(e,o[m])),c.push(o[m+1]);const u=[],h=sr.empty();for(let m=l.length-1;m>=0;--m)if(!MT(u,l[m])){const _=l[m];let C=c[m];C=Ye(C);const k=s.Nu(_);if(C instanceof eh)u.push(_);else{const P=Gs(C,k);P!=null&&(u.push(_),h.set(_,P))}}const p=new yr(u);return new PT(h,p,s.fieldTransforms)}function lL(t,e,r,n=!1){return Gs(r,t.Qu(n?4:3,e))}function Gs(t,e){if(LT(t=Ye(t)))return gv("Unsupported field value:",e,t),OT(t,e);if(t instanceof Ks)return function(n,i){if(!NT(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const o=[];let s=0;for(const l of n){let c=Gs(l,i.Lu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(n,i){if((n=Ye(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return WI(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=gt.fromDate(n);return{timestampValue:sd(i.serializer,o)}}if(n instanceof gt){const o=new gt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:sd(i.serializer,o)}}if(n instanceof dv)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ds)return{bytesValue:rT(i.serializer,n._byteString)};if(n instanceof Jt){const o=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Zg(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof hv)return function(s,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw l.Bu("VectorValues must only contain numeric values.");return Gg(l.serializer,c)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${Qd(n)}`)}(t,e)}function OT(t,e){const r={};return RI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ro(t,(n,i)=>{const o=Gs(i,e.Mu(n));o!=null&&(r[n]=o)}),{mapValue:{fields:r}}}function LT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gt||t instanceof dv||t instanceof Ds||t instanceof Jt||t instanceof Ks||t instanceof hv)}function gv(t,e,r){if(!LT(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=Qd(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function Xp(t,e,r){if((e=Ye(e))instanceof Xd)return e._internalPath;if(typeof e=="string")return vv(t,e);throw cd("Field path arguments must be of type string or ",t,!1,void 0,r)}const cL=new RegExp("[~\\*/\\[\\]]");function vv(t,e,r){if(e.search(cL)>=0)throw cd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Xd(...e.split("."))._internalPath}catch{throw cd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function cd(t,e,r,n,i){const o=n&&!n.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${n}`),s&&(c+=` in document ${i}`),c+=")"),new Q(U.INVALID_ARGUMENT,l+t+c)}function MT(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,r,n,i,o){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(th("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class uL extends VT{data(){return super.data()}}function th(t,e){return typeof e=="string"?vv(t,e):e instanceof Xd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yv{}class $T extends yv{}function hL(t,e,...r){let n=[];e instanceof yv&&n.push(e),n=n.concat(r),function(o){const s=o.filter(c=>c instanceof _v).length,l=o.filter(c=>c instanceof rh).length;if(s>1||s>0&&l>0)throw new Q(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class rh extends $T{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new rh(e,r,n)}_apply(e){const r=this._parse(e);return FT(e._query,r),new No(e.firestore,e.converter,jp(e._query,r))}_parse(e){const r=Zd(e.firestore);return function(o,s,l,c,u,h,p){let m;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Q(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){fw(p,h);const _=[];for(const C of p)_.push(hw(c,o,C));m={arrayValue:{values:_}}}else m=hw(c,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||fw(p,h),m=lL(l,s,p,h==="in"||h==="not-in");return ut.create(u,h,m)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function fL(t,e,r){const n=e,i=th("where",t);return rh._create(i,n,r)}class _v extends yv{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new _v(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Xr.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,o){let s=i;const l=o.getFlattenedFilters();for(const c of l)FT(s,c),s=jp(s,c)}(e._query,r),new No(e.firestore,e.converter,jp(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bv extends $T{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new bv(e,r)}_apply(e){const r=function(i,o,s){if(i.startAt!==null)throw new Q(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Q(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tl(o,s)}(e._query,this._field,this._direction);return new No(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new qs(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function pL(t,e="asc"){const r=e,n=th("orderBy",t);return bv._create(n,r)}function hw(t,e,r){if(typeof(r=Ye(r))=="string"){if(r==="")throw new Q(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FI(e)&&r.indexOf("/")!==-1)throw new Q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Ve.fromString(r));if(!ee.isDocumentKey(n))throw new Q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Nb(t,new ee(n))}if(r instanceof Jt)return Nb(t,r._key);throw new Q(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qd(r)}.`)}function fw(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FT(t,e){const r=function(i,o){for(const s of i)for(const l of s.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Q(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class mL{convertValue(e,r="none"){switch(Eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(wo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw ie()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Ro(e,(i,o)=>{n[i]=this.convertValue(o,r)}),n}convertVectorValue(e){var r,n,i;const o=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(s=>rt(s.doubleValue));return new hv(o)}convertGeoPoint(e){return new dv(rt(e.latitude),rt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Bg(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(El(e));default:return null}}convertTimestamp(e){const r=Pi(e);return new gt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Ve.fromString(e);ke(lT(n));const i=new xl(n.get(1),n.get(3)),o=new ee(n.popFirst(5));return i.isEqual(r)||Hn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jT extends VT{constructor(e,r,n,i,o,s){super(e,r,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Eu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(th("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class Eu extends jT{data(e={}){return super.data(e)}}class gL{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Na(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new Eu(this._firestore,this._userDataWriter,n.key,n,new Na(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Q(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>{const c=new Eu(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Na(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const c=new Eu(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Na(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return l.type!==0&&(u=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),h=s.indexOf(l.doc.key)),{type:vL(l.type),doc:c,oldIndex:u,newIndex:h}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function vL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie()}}class zT extends mL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ds(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,r)}}function Bo(t,e,r){t=hn(t,Jt);const n=hn(t.firestore,xo),i=UT(t.converter,e,r);return nh(n,[DT(Zd(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Dr.none())])}function xn(t,e,r,...n){t=hn(t,Jt);const i=hn(t.firestore,xo),o=Zd(i);let s;return s=typeof(e=Ye(e))=="string"||e instanceof Xd?aL(o,"updateDoc",t._key,e,r,n):sL(o,"updateDoc",t._key,e),nh(i,[s.toMutation(t._key,Dr.exists(!0))])}function pw(t){return nh(hn(t.firestore,xo),[new Yg(t._key,Dr.none())])}function yL(t,e){const r=hn(t.firestore,xo),n=ht(t),i=UT(t.converter,e);return nh(r,[DT(Zd(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Dr.exists(!1))]).then(()=>n)}function qc(t,...e){var r,n,i;t=Ye(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||dw(e[s])||(o=e[s],s++);const l={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(dw(e[s])){const p=e[s];e[s]=(r=p.next)===null||r===void 0?void 0:r.bind(p),e[s+1]=(n=p.error)===null||n===void 0?void 0:n.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let c,u,h;if(t instanceof Jt)u=hn(t.firestore,xo),h=Kg(t._key.path),c={next:p=>{e[s]&&e[s](_L(u,t,p))},error:e[s+1],complete:e[s+2]};else{const p=hn(t,No);u=hn(p.firestore,xo),h=p._query;const m=new zT(u);c={next:_=>{e[s]&&e[s](new gL(u,m,p,_))},error:e[s+1],complete:e[s+2]},dL(t._query)}return function(m,_,C,k){const P=new GO(k),w=new RO(_,P,C);return m.asyncQueue.enqueueAndForget(async()=>SO(await ow(m),w)),()=>{P.Za(),m.asyncQueue.enqueueAndForget(async()=>AO(await ow(m),w))}}(RT(u),h,l,c)}function nh(t,e){return function(n,i){const o=new uo;return n.asyncQueue.enqueueAndForget(async()=>UO(await XO(n),i,o)),o.promise}(RT(t),e)}function _L(t,e,r){const n=r.docs.get(e._key),i=new zT(t);return new jT(t,i,e._key,n,new Na(r.hasPendingWrites,r.fromCache),e.converter)}function Gi(){return new fv("serverTimestamp")}function hf(...t){return new pv("arrayUnion",t)}function bL(t){return new mv("increment",t)}(function(e,r=!0){(function(i){Bs=i})(Us),fn(new Yr("firestore",(n,{instanceIdentifier:i,options:o})=>{const s=n.getProvider("app").getImmediate(),l=new xo(new vD(n.getProvider("auth-internal")),new wD(n.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Q(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xl(u.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:r},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Nr(Ab,"4.7.3",e),Nr(Ab,"4.7.3","esm2017")})();var wL="firebase",EL="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nr(wL,EL,"app");const BT="@firebase/installations",wv="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=1e4,HT=`w:${wv}`,WT="FIS_v2",xL="https://firebaseinstallations.googleapis.com/v1",IL=60*60*1e3,TL="installations",SL="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Io=new ko(TL,SL,AL);function KT(t){return t instanceof gn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT({projectId:t}){return`${xL}/projects/${t}/installations`}function QT(t){return{token:t.token,requestStatus:2,expiresIn:kL(t.expiresIn),creationTime:Date.now()}}async function YT(t,e){const n=(await e.json()).error;return Io.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function XT({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function CL(t,{refreshToken:e}){const r=XT(t);return r.append("Authorization",RL(e)),r}async function JT(t){const e=await t();return e.status>=500&&e.status<600?t():e}function kL(t){return Number(t.replace("s","000"))}function RL(t){return`${WT} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PL({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=GT(t),i=XT(t),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const s={fid:r,authVersion:WT,appId:t.appId,sdkVersion:HT},l={method:"POST",headers:i,body:JSON.stringify(s)},c=await JT(()=>fetch(n,l));if(c.ok){const u=await c.json();return{fid:u.fid||r,registrationStatus:2,refreshToken:u.refreshToken,authToken:QT(u.authToken)}}else throw await YT("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL=/^[cdef][\w-]{21}$/,Jp="";function OL(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=LL(t);return DL.test(r)?r:Jp}catch{return Jp}}function LL(t){return NL(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=new Map;function tS(t,e){const r=ih(t);rS(r,e),ML(r,e)}function rS(t,e){const r=eS.get(t);if(r)for(const n of r)n(e)}function ML(t,e){const r=VL();r&&r.postMessage({key:t,fid:e}),$L()}let oo=null;function VL(){return!oo&&"BroadcastChannel"in self&&(oo=new BroadcastChannel("[Firebase] FID Change"),oo.onmessage=t=>{rS(t.data.key,t.data.fid)}),oo}function $L(){eS.size===0&&oo&&(oo.close(),oo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL="firebase-installations-database",UL=1,To="firebase-installations-store";let ff=null;function Ev(){return ff||(ff=Md(FL,UL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(To)}}})),ff}async function ud(t,e){const r=ih(t),i=(await Ev()).transaction(To,"readwrite"),o=i.objectStore(To),s=await o.get(r);return await o.put(e,r),await i.done,(!s||s.fid!==e.fid)&&tS(t,e.fid),e}async function nS(t){const e=ih(t),n=(await Ev()).transaction(To,"readwrite");await n.objectStore(To).delete(e),await n.done}async function oh(t,e){const r=ih(t),i=(await Ev()).transaction(To,"readwrite"),o=i.objectStore(To),s=await o.get(r),l=e(s);return l===void 0?await o.delete(r):await o.put(l,r),await i.done,l&&(!s||s.fid!==l.fid)&&tS(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xv(t){let e;const r=await oh(t.appConfig,n=>{const i=jL(n),o=zL(t,i);return e=o.registrationPromise,o.installationEntry});return r.fid===Jp?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function jL(t){const e=t||{fid:OL(),registrationStatus:0};return iS(e)}function zL(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Io.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=BL(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:qL(t)}:{installationEntry:e}}async function BL(t,e){try{const r=await PL(t,e);return ud(t.appConfig,r)}catch(r){throw KT(r)&&r.customData.serverCode===409?await nS(t.appConfig):await ud(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function qL(t){let e=await mw(t.appConfig);for(;e.registrationStatus===1;)await ZT(100),e=await mw(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await xv(t);return n||r}return e}function mw(t){return oh(t,e=>{if(!e)throw Io.create("installation-not-found");return iS(e)})}function iS(t){return HL(t)?{fid:t.fid,registrationStatus:0}:t}function HL(t){return t.registrationStatus===1&&t.registrationTime+qT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WL({appConfig:t,heartbeatServiceProvider:e},r){const n=KL(t,r),i=CL(t,r),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const s={installation:{sdkVersion:HT,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(s)},c=await JT(()=>fetch(n,l));if(c.ok){const u=await c.json();return QT(u)}else throw await YT("Generate Auth Token",c)}function KL(t,{fid:e}){return`${GT(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iv(t,e=!1){let r;const n=await oh(t.appConfig,o=>{if(!oS(o))throw Io.create("not-registered");const s=o.authToken;if(!e&&YL(s))return o;if(s.requestStatus===1)return r=GL(t,e),o;{if(!navigator.onLine)throw Io.create("app-offline");const l=JL(o);return r=QL(t,l),l}});return r?await r:n.authToken}async function GL(t,e){let r=await gw(t.appConfig);for(;r.authToken.requestStatus===1;)await ZT(100),r=await gw(t.appConfig);const n=r.authToken;return n.requestStatus===0?Iv(t,e):n}function gw(t){return oh(t,e=>{if(!oS(e))throw Io.create("not-registered");const r=e.authToken;return ZL(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function QL(t,e){try{const r=await WL(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await ud(t.appConfig,n),r}catch(r){if(KT(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await nS(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ud(t.appConfig,n)}throw r}}function oS(t){return t!==void 0&&t.registrationStatus===2}function YL(t){return t.requestStatus===2&&!XL(t)}function XL(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+IL}function JL(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function ZL(t){return t.requestStatus===1&&t.requestTime+qT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eM(t){const e=t,{installationEntry:r,registrationPromise:n}=await xv(e);return n?n.catch(console.error):Iv(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tM(t,e=!1){const r=t;return await rM(r),(await Iv(r,e)).token}async function rM(t){const{registrationPromise:e}=await xv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(t){if(!t||!t.options)throw pf("App Configuration");if(!t.name)throw pf("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw pf(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function pf(t){return Io.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="installations",iM="installations-internal",oM=t=>{const e=t.getProvider("app").getImmediate(),r=nM(e),n=Fs(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},sM=t=>{const e=t.getProvider("app").getImmediate(),r=Fs(e,sS).getImmediate();return{getId:()=>eM(r),getToken:i=>tM(r,i)}};function aM(){fn(new Yr(sS,oM,"PUBLIC")),fn(new Yr(iM,sM,"PRIVATE"))}aM();Nr(BT,wv);Nr(BT,wv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM="/firebase-messaging-sw.js",cM="/firebase-cloud-messaging-push-scope",aS="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",uM="https://fcmregistrations.googleapis.com/v1",lS="google.c.a.c_id",dM="google.c.a.c_l",hM="google.c.a.ts",fM="google.c.a.e";var vw;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(vw||(vw={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var kl;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(kl||(kl={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function pM(t){const e="=".repeat((4-t.length%4)%4),r=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(r),i=new Uint8Array(n.length);for(let o=0;o<n.length;++o)i[o]=n.charCodeAt(o);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf="fcm_token_details_db",mM=5,yw="fcm_token_object_Store";async function gM(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(o=>o.name).includes(mf))return null;let e=null;return(await Md(mf,mM,{upgrade:async(n,i,o,s)=>{var l;if(i<2||!n.objectStoreNames.contains(yw))return;const c=s.objectStore(yw),u=await c.index("fcmSenderId").get(t);if(await c.clear(),!!u){if(i===2){const h=u;if(!h.auth||!h.p256dh||!h.endpoint)return;e={token:h.fcmToken,createTime:(l=h.createTime)!==null&&l!==void 0?l:Date.now(),subscriptionOptions:{auth:h.auth,p256dh:h.p256dh,endpoint:h.endpoint,swScope:h.swScope,vapidKey:typeof h.vapidKey=="string"?h.vapidKey:An(h.vapidKey)}}}else if(i===3){const h=u;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:An(h.auth),p256dh:An(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:An(h.vapidKey)}}}else if(i===4){const h=u;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:An(h.auth),p256dh:An(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:An(h.vapidKey)}}}}}})).close(),await tf(mf),await tf("fcm_vapid_details_db"),await tf("undefined"),vM(e)?e:null}function vM(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM="firebase-messaging-database",_M=1,Rl="firebase-messaging-store";let gf=null;function cS(){return gf||(gf=Md(yM,_M,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Rl)}}})),gf}async function bM(t){const e=uS(t),n=await(await cS()).transaction(Rl).objectStore(Rl).get(e);if(n)return n;{const i=await gM(t.appConfig.senderId);if(i)return await Tv(t,i),i}}async function Tv(t,e){const r=uS(t),i=(await cS()).transaction(Rl,"readwrite");return await i.objectStore(Rl).put(e,r),await i.done,e}function uS({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},jt=new ko("messaging","Messaging",wM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EM(t,e){const r=await Av(t),n=dS(e),i={method:"POST",headers:r,body:JSON.stringify(n)};let o;try{o=await(await fetch(Sv(t.appConfig),i)).json()}catch(s){throw jt.create("token-subscribe-failed",{errorInfo:s==null?void 0:s.toString()})}if(o.error){const s=o.error.message;throw jt.create("token-subscribe-failed",{errorInfo:s})}if(!o.token)throw jt.create("token-subscribe-no-token");return o.token}async function xM(t,e){const r=await Av(t),n=dS(e.subscriptionOptions),i={method:"PATCH",headers:r,body:JSON.stringify(n)};let o;try{o=await(await fetch(`${Sv(t.appConfig)}/${e.token}`,i)).json()}catch(s){throw jt.create("token-update-failed",{errorInfo:s==null?void 0:s.toString()})}if(o.error){const s=o.error.message;throw jt.create("token-update-failed",{errorInfo:s})}if(!o.token)throw jt.create("token-update-no-token");return o.token}async function IM(t,e){const n={method:"DELETE",headers:await Av(t)};try{const o=await(await fetch(`${Sv(t.appConfig)}/${e}`,n)).json();if(o.error){const s=o.error.message;throw jt.create("token-unsubscribe-failed",{errorInfo:s})}}catch(i){throw jt.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function Sv({projectId:t}){return`${uM}/projects/${t}/registrations`}async function Av({appConfig:t,installations:e}){const r=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function dS({p256dh:t,auth:e,endpoint:r,vapidKey:n}){const i={web:{endpoint:r,auth:e,p256dh:t}};return n!==aS&&(i.web.applicationPubKey=n),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=7*24*60*60*1e3;async function SM(t){const e=await CM(t.swRegistration,t.vapidKey),r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:An(e.getKey("auth")),p256dh:An(e.getKey("p256dh"))},n=await bM(t.firebaseDependencies);if(n){if(kM(n.subscriptionOptions,r))return Date.now()>=n.createTime+TM?AM(t,{token:n.token,createTime:Date.now(),subscriptionOptions:r}):n.token;try{await IM(t.firebaseDependencies,n.token)}catch(i){console.warn(i)}return _w(t.firebaseDependencies,r)}else return _w(t.firebaseDependencies,r)}async function AM(t,e){try{const r=await xM(t.firebaseDependencies,e),n=Object.assign(Object.assign({},e),{token:r,createTime:Date.now()});return await Tv(t.firebaseDependencies,n),r}catch(r){throw r}}async function _w(t,e){const n={token:await EM(t,e),createTime:Date.now(),subscriptionOptions:e};return await Tv(t,n),n.token}async function CM(t,e){const r=await t.pushManager.getSubscription();return r||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:pM(e)})}function kM(t,e){const r=e.vapidKey===t.vapidKey,n=e.endpoint===t.endpoint,i=e.auth===t.auth,o=e.p256dh===t.p256dh;return r&&n&&i&&o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return RM(e,t),PM(e,t),NM(e,t),e}function RM(t,e){if(!e.notification)return;t.notification={};const r=e.notification.title;r&&(t.notification.title=r);const n=e.notification.body;n&&(t.notification.body=n);const i=e.notification.image;i&&(t.notification.image=i);const o=e.notification.icon;o&&(t.notification.icon=o)}function PM(t,e){e.data&&(t.data=e.data)}function NM(t,e){var r,n,i,o,s;if(!e.fcmOptions&&!(!((r=e.notification)===null||r===void 0)&&r.click_action))return;t.fcmOptions={};const l=(i=(n=e.fcmOptions)===null||n===void 0?void 0:n.link)!==null&&i!==void 0?i:(o=e.notification)===null||o===void 0?void 0:o.click_action;l&&(t.fcmOptions.link=l);const c=(s=e.fcmOptions)===null||s===void 0?void 0:s.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(t){return typeof t=="object"&&!!t&&lS in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(t){if(!t||!t.options)throw vf("App Configuration Object");if(!t.name)throw vf("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:r}=t;for(const n of e)if(!r[n])throw vf(n);return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function vf(t){return jt.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,r,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=OM(e);this.firebaseDependencies={app:e,appConfig:i,installations:r,analyticsProvider:n}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MM(t){try{t.swRegistration=await navigator.serviceWorker.register(lM,{scope:cM}),t.swRegistration.update().catch(()=>{})}catch(e){throw jt.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VM(t,e){if(!e&&!t.swRegistration&&await MM(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw jt.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $M(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=aS)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hS(t,e){if(!navigator)throw jt.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw jt.create("permission-blocked");return await $M(t,e==null?void 0:e.vapidKey),await VM(t,e==null?void 0:e.serviceWorkerRegistration),SM(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FM(t,e,r){const n=UM(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:r[lS],message_name:r[dM],message_time:r[hM],message_device_time:Math.floor(Date.now()/1e3)})}function UM(t){switch(t){case kl.NOTIFICATION_CLICKED:return"notification_open";case kl.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jM(t,e){const r=e.data;if(!r.isFirebaseMessaging)return;t.onMessageHandler&&r.messageType===kl.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(bw(r)):t.onMessageHandler.next(bw(r)));const n=r.data;DM(n)&&n[fM]==="1"&&await FM(t,r.messageType,n)}const ww="@firebase/messaging",Ew="0.12.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM=t=>{const e=new LM(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>jM(e,r)),e},BM=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:n=>hS(e,n)}};function qM(){fn(new Yr("messaging",zM,"PUBLIC")),fn(new Yr("messaging-internal",BM,"PRIVATE")),Nr(ww,Ew),Nr(ww,Ew,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HM(){try{await Vx()}catch{return!1}return typeof window<"u"&&Mx()&&j1()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(t,e){if(!navigator)throw jt.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(t=Cg()){return HM().then(e=>{if(!e)throw jt.create("unsupported-browser")},e=>{throw jt.create("indexed-db-unsupported")}),Fs(Ye(t),"messaging").getImmediate()}async function GM(t,e){return t=Ye(t),hS(t,e)}function QM(t,e){return t=Ye(t),WM(t,e)}qM();const YM={apiKey:"AIzaSyCfkeRu4DVuSBBBa9bc0rrhtu-gCixFqIo",authDomain:"barbacker-6c683.firebaseapp.com",projectId:"barbacker-6c683",storageBucket:"barbacker-6c683.firebasestorage.app",messagingSenderId:"869145643734",appId:"1:869145643734:web:d902468d6942df6bc81777"},Cv=Ux(YM),tt=eL(Cv),ba=fD(Cv),fS=KM(Cv),XM=new kn;new Ba("apple.com");const JM=async()=>{try{if(await Notification.requestPermission()==="granted")return await GM(fS,{vapidKey:"G-H8717DGSJ8"})}catch(t){console.error("Notification permission denied",t)}return null},ZM=()=>new Promise(t=>{QM(fS,e=>{t(e)})});/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const it=t=>(e,r)=>{r!==void 0?r.addInitializer(()=>{customElements.define(t,e)}):customElements.define(t,e)};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const xu=globalThis,kv=xu.ShadowRoot&&(xu.ShadyCSS===void 0||xu.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Rv=Symbol(),xw=new WeakMap;let pS=class{constructor(e,r,n){if(this._$cssResult$=!0,n!==Rv)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=r}get styleSheet(){let e=this.o;const r=this.t;if(kv&&e===void 0){const n=r!==void 0&&r.length===1;n&&(e=xw.get(r)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&xw.set(r,e))}return e}toString(){return this.cssText}};const e4=t=>new pS(typeof t=="string"?t:t+"",void 0,Rv),Te=(t,...e)=>{const r=t.length===1?t[0]:e.reduce((n,i,o)=>n+(s=>{if(s._$cssResult$===!0)return s.cssText;if(typeof s=="number")return s;throw Error("Value passed to 'css' function must be a 'css' function result: "+s+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[o+1],t[0]);return new pS(r,t,Rv)},t4=(t,e)=>{if(kv)t.adoptedStyleSheets=e.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet);else for(const r of e){const n=document.createElement("style"),i=xu.litNonce;i!==void 0&&n.setAttribute("nonce",i),n.textContent=r.cssText,t.appendChild(n)}},Iw=kv?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(const n of e.cssRules)r+=n.cssText;return e4(r)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:r4,defineProperty:n4,getOwnPropertyDescriptor:i4,getOwnPropertyNames:o4,getOwnPropertySymbols:s4,getPrototypeOf:a4}=Object,Ai=globalThis,Tw=Ai.trustedTypes,l4=Tw?Tw.emptyScript:"",yf=Ai.reactiveElementPolyfillSupport,Ga=(t,e)=>t,dd={toAttribute(t,e){switch(e){case Boolean:t=t?l4:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},Pv=(t,e)=>!r4(t,e),Sw={attribute:!0,type:String,converter:dd,reflect:!1,useDefault:!1,hasChanged:Pv};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Ai.litPropertyMetadata??(Ai.litPropertyMetadata=new WeakMap);let Ko=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,r=Sw){if(r.state&&(r.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((r=Object.create(r)).wrapped=!0),this.elementProperties.set(e,r),!r.noAccessor){const n=Symbol(),i=this.getPropertyDescriptor(e,n,r);i!==void 0&&n4(this.prototype,e,i)}}static getPropertyDescriptor(e,r,n){const{get:i,set:o}=i4(this.prototype,e)??{get(){return this[r]},set(s){this[r]=s}};return{get:i,set(s){const l=i==null?void 0:i.call(this);o==null||o.call(this,s),this.requestUpdate(e,l,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??Sw}static _$Ei(){if(this.hasOwnProperty(Ga("elementProperties")))return;const e=a4(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(Ga("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Ga("properties"))){const r=this.properties,n=[...o4(r),...s4(r)];for(const i of n)this.createProperty(i,r[i])}const e=this[Symbol.metadata];if(e!==null){const r=litPropertyMetadata.get(e);if(r!==void 0)for(const[n,i]of r)this.elementProperties.set(n,i)}this._$Eh=new Map;for(const[r,n]of this.elementProperties){const i=this._$Eu(r,n);i!==void 0&&this._$Eh.set(i,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const r=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const i of n)r.unshift(Iw(i))}else e!==void 0&&r.push(Iw(e));return r}static _$Eu(e,r){const n=r.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(r=>this.enableUpdating=r),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(r=>r(this))}addController(e){var r;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)==null||r.call(e))}removeController(e){var r;(r=this._$EO)==null||r.delete(e)}_$E_(){const e=new Map,r=this.constructor.elementProperties;for(const n of r.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return t4(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(r=>{var n;return(n=r.hostConnected)==null?void 0:n.call(r)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(r=>{var n;return(n=r.hostDisconnected)==null?void 0:n.call(r)})}attributeChangedCallback(e,r,n){this._$AK(e,n)}_$ET(e,r){var o;const n=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,n);if(i!==void 0&&n.reflect===!0){const s=(((o=n.converter)==null?void 0:o.toAttribute)!==void 0?n.converter:dd).toAttribute(r,n.type);this._$Em=e,s==null?this.removeAttribute(i):this.setAttribute(i,s),this._$Em=null}}_$AK(e,r){var o,s;const n=this.constructor,i=n._$Eh.get(e);if(i!==void 0&&this._$Em!==i){const l=n.getPropertyOptions(i),c=typeof l.converter=="function"?{fromAttribute:l.converter}:((o=l.converter)==null?void 0:o.fromAttribute)!==void 0?l.converter:dd;this._$Em=i;const u=c.fromAttribute(r,l.type);this[i]=u??((s=this._$Ej)==null?void 0:s.get(i))??u,this._$Em=null}}requestUpdate(e,r,n,i=!1,o){var s;if(e!==void 0){const l=this.constructor;if(i===!1&&(o=this[e]),n??(n=l.getPropertyOptions(e)),!((n.hasChanged??Pv)(o,r)||n.useDefault&&n.reflect&&o===((s=this._$Ej)==null?void 0:s.get(e))&&!this.hasAttribute(l._$Eu(e,n))))return;this.C(e,r,n)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,r,{useDefault:n,reflect:i,wrapped:o},s){n&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,s??r??this[e]),o!==!0||s!==void 0)||(this._$AL.has(e)||(this.hasUpdated||n||(r=void 0),this._$AL.set(e,r)),i===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var n;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[o,s]of this._$Ep)this[o]=s;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[o,s]of i){const{wrapped:l}=s,c=this[o];l!==!0||this._$AL.has(o)||c===void 0||this.C(o,void 0,s,c)}}let e=!1;const r=this._$AL;try{e=this.shouldUpdate(r),e?(this.willUpdate(r),(n=this._$EO)==null||n.forEach(i=>{var o;return(o=i.hostUpdate)==null?void 0:o.call(i)}),this.update(r)):this._$EM()}catch(i){throw e=!1,this._$EM(),i}e&&this._$AE(r)}willUpdate(e){}_$AE(e){var r;(r=this._$EO)==null||r.forEach(n=>{var i;return(i=n.hostUpdated)==null?void 0:i.call(n)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(r=>this._$ET(r,this[r]))),this._$EM()}updated(e){}firstUpdated(e){}};Ko.elementStyles=[],Ko.shadowRootOptions={mode:"open"},Ko[Ga("elementProperties")]=new Map,Ko[Ga("finalized")]=new Map,yf==null||yf({ReactiveElement:Ko}),(Ai.reactiveElementVersions??(Ai.reactiveElementVersions=[])).push("2.1.2");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const c4={attribute:!0,type:String,converter:dd,reflect:!1,hasChanged:Pv},u4=(t=c4,e,r)=>{const{kind:n,metadata:i}=r;let o=globalThis.litPropertyMetadata.get(i);if(o===void 0&&globalThis.litPropertyMetadata.set(i,o=new Map),n==="setter"&&((t=Object.create(t)).wrapped=!0),o.set(r.name,t),n==="accessor"){const{name:s}=r;return{set(l){const c=e.get.call(this);e.set.call(this,l),this.requestUpdate(s,c,t,!0,l)},init(l){return l!==void 0&&this.C(s,void 0,t,l),l}}}if(n==="setter"){const{name:s}=r;return function(l){const c=this[s];e.call(this,l),this.requestUpdate(s,c,t,!0,l)}}throw Error("Unsupported decorator location: "+n)};function z(t){return(e,r)=>typeof r=="object"?u4(t,e,r):((n,i,o)=>{const s=i.hasOwnProperty(o);return i.constructor.createProperty(o,n),s?Object.getOwnPropertyDescriptor(i,o):void 0})(t,e,r)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function rr(t){return z({...t,state:!0,attribute:!1})}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Nv=(t,e,r)=>(r.configurable=!0,r.enumerable=!0,Reflect.decorate&&typeof e!="object"&&Object.defineProperty(t,e,r),r);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Xe(t,e){return(r,n,i)=>{const o=s=>{var l;return((l=s.renderRoot)==null?void 0:l.querySelector(t))??null};return Nv(r,n,{get(){return o(this)}})}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let d4;function h4(t){return(e,r)=>Nv(e,r,{get(){return(this.renderRoot??d4??(d4=document.createDocumentFragment())).querySelectorAll(t)}})}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Qs(t){return(e,r)=>{const{slot:n,selector:i}=t??{},o="slot"+(n?`[name=${n}]`:":not([name])");return Nv(e,r,{get(){var c;const s=(c=this.renderRoot)==null?void 0:c.querySelector(o),l=(s==null?void 0:s.assignedElements(t))??[];return i===void 0?l:l.filter(u=>u.matches(i))}})}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Qa=globalThis,Aw=t=>t,hd=Qa.trustedTypes,Cw=hd?hd.createPolicy("lit-html",{createHTML:t=>t}):void 0,mS="$lit$",fi=`lit$${Math.random().toFixed(9).slice(2)}$`,gS="?"+fi,f4=`<${gS}>`,So=document,Pl=()=>So.createComment(""),Nl=t=>t===null||typeof t!="object"&&typeof t!="function",Dv=Array.isArray,p4=t=>Dv(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",_f=`[ 	
\f\r]`,wa=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,kw=/-->/g,Rw=/>/g,Qi=RegExp(`>|${_f}(?:([^\\s"'>=/]+)(${_f}*=${_f}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Pw=/'/g,Nw=/"/g,vS=/^(?:script|style|textarea|title)$/i,m4=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),Y=m4(1),Rr=Symbol.for("lit-noChange"),W=Symbol.for("lit-nothing"),Dw=new WeakMap,so=So.createTreeWalker(So,129);function yS(t,e){if(!Dv(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return Cw!==void 0?Cw.createHTML(e):e}const g4=(t,e)=>{const r=t.length-1,n=[];let i,o=e===2?"<svg>":e===3?"<math>":"",s=wa;for(let l=0;l<r;l++){const c=t[l];let u,h,p=-1,m=0;for(;m<c.length&&(s.lastIndex=m,h=s.exec(c),h!==null);)m=s.lastIndex,s===wa?h[1]==="!--"?s=kw:h[1]!==void 0?s=Rw:h[2]!==void 0?(vS.test(h[2])&&(i=RegExp("</"+h[2],"g")),s=Qi):h[3]!==void 0&&(s=Qi):s===Qi?h[0]===">"?(s=i??wa,p=-1):h[1]===void 0?p=-2:(p=s.lastIndex-h[2].length,u=h[1],s=h[3]===void 0?Qi:h[3]==='"'?Nw:Pw):s===Nw||s===Pw?s=Qi:s===kw||s===Rw?s=wa:(s=Qi,i=void 0);const _=s===Qi&&t[l+1].startsWith("/>")?" ":"";o+=s===wa?c+f4:p>=0?(n.push(u),c.slice(0,p)+mS+c.slice(p)+fi+_):c+fi+(p===-2?l:_)}return[yS(t,o+(t[r]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),n]};class Dl{constructor({strings:e,_$litType$:r},n){let i;this.parts=[];let o=0,s=0;const l=e.length-1,c=this.parts,[u,h]=g4(e,r);if(this.el=Dl.createElement(u,n),so.currentNode=this.el.content,r===2||r===3){const p=this.el.content.firstChild;p.replaceWith(...p.childNodes)}for(;(i=so.nextNode())!==null&&c.length<l;){if(i.nodeType===1){if(i.hasAttributes())for(const p of i.getAttributeNames())if(p.endsWith(mS)){const m=h[s++],_=i.getAttribute(p).split(fi),C=/([.?@])?(.*)/.exec(m);c.push({type:1,index:o,name:C[2],strings:_,ctor:C[1]==="."?y4:C[1]==="?"?_4:C[1]==="@"?b4:sh}),i.removeAttribute(p)}else p.startsWith(fi)&&(c.push({type:6,index:o}),i.removeAttribute(p));if(vS.test(i.tagName)){const p=i.textContent.split(fi),m=p.length-1;if(m>0){i.textContent=hd?hd.emptyScript:"";for(let _=0;_<m;_++)i.append(p[_],Pl()),so.nextNode(),c.push({type:2,index:++o});i.append(p[m],Pl())}}}else if(i.nodeType===8)if(i.data===gS)c.push({type:2,index:o});else{let p=-1;for(;(p=i.data.indexOf(fi,p+1))!==-1;)c.push({type:7,index:o}),p+=fi.length-1}o++}}static createElement(e,r){const n=So.createElement("template");return n.innerHTML=e,n}}function Os(t,e,r=t,n){var s,l;if(e===Rr)return e;let i=n!==void 0?(s=r._$Co)==null?void 0:s[n]:r._$Cl;const o=Nl(e)?void 0:e._$litDirective$;return(i==null?void 0:i.constructor)!==o&&((l=i==null?void 0:i._$AO)==null||l.call(i,!1),o===void 0?i=void 0:(i=new o(t),i._$AT(t,r,n)),n!==void 0?(r._$Co??(r._$Co=[]))[n]=i:r._$Cl=i),i!==void 0&&(e=Os(t,i._$AS(t,e.values),i,n)),e}class v4{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:r},parts:n}=this._$AD,i=((e==null?void 0:e.creationScope)??So).importNode(r,!0);so.currentNode=i;let o=so.nextNode(),s=0,l=0,c=n[0];for(;c!==void 0;){if(s===c.index){let u;c.type===2?u=new tc(o,o.nextSibling,this,e):c.type===1?u=new c.ctor(o,c.name,c.strings,this,e):c.type===6&&(u=new w4(o,this,e)),this._$AV.push(u),c=n[++l]}s!==(c==null?void 0:c.index)&&(o=so.nextNode(),s++)}return so.currentNode=So,i}p(e){let r=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,r),r+=n.strings.length-2):n._$AI(e[r])),r++}}class tc{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,r,n,i){this.type=2,this._$AH=W,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=n,this.options=i,this._$Cv=(i==null?void 0:i.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=Os(this,e,r),Nl(e)?e===W||e==null||e===""?(this._$AH!==W&&this._$AR(),this._$AH=W):e!==this._$AH&&e!==Rr&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):p4(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==W&&Nl(this._$AH)?this._$AA.nextSibling.data=e:this.T(So.createTextNode(e)),this._$AH=e}$(e){var o;const{values:r,_$litType$:n}=e,i=typeof n=="number"?this._$AC(e):(n.el===void 0&&(n.el=Dl.createElement(yS(n.h,n.h[0]),this.options)),n);if(((o=this._$AH)==null?void 0:o._$AD)===i)this._$AH.p(r);else{const s=new v4(i,this),l=s.u(this.options);s.p(r),this.T(l),this._$AH=s}}_$AC(e){let r=Dw.get(e.strings);return r===void 0&&Dw.set(e.strings,r=new Dl(e)),r}k(e){Dv(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let n,i=0;for(const o of e)i===r.length?r.push(n=new tc(this.O(Pl()),this.O(Pl()),this,this.options)):n=r[i],n._$AI(o),i++;i<r.length&&(this._$AR(n&&n._$AB.nextSibling,i),r.length=i)}_$AR(e=this._$AA.nextSibling,r){var n;for((n=this._$AP)==null?void 0:n.call(this,!1,!0,r);e!==this._$AB;){const i=Aw(e).nextSibling;Aw(e).remove(),e=i}}setConnected(e){var r;this._$AM===void 0&&(this._$Cv=e,(r=this._$AP)==null||r.call(this,e))}}class sh{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,r,n,i,o){this.type=1,this._$AH=W,this._$AN=void 0,this.element=e,this.name=r,this._$AM=i,this.options=o,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=W}_$AI(e,r=this,n,i){const o=this.strings;let s=!1;if(o===void 0)e=Os(this,e,r,0),s=!Nl(e)||e!==this._$AH&&e!==Rr,s&&(this._$AH=e);else{const l=e;let c,u;for(e=o[0],c=0;c<o.length-1;c++)u=Os(this,l[n+c],r,c),u===Rr&&(u=this._$AH[c]),s||(s=!Nl(u)||u!==this._$AH[c]),u===W?e=W:e!==W&&(e+=(u??"")+o[c+1]),this._$AH[c]=u}s&&!i&&this.j(e)}j(e){e===W?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class y4 extends sh{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===W?void 0:e}}class _4 extends sh{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==W)}}class b4 extends sh{constructor(e,r,n,i,o){super(e,r,n,i,o),this.type=5}_$AI(e,r=this){if((e=Os(this,e,r,0)??W)===Rr)return;const n=this._$AH,i=e===W&&n!==W||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,o=e!==W&&(n===W||i);i&&this.element.removeEventListener(this.name,this,n),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var r;typeof this._$AH=="function"?this._$AH.call(((r=this.options)==null?void 0:r.host)??this.element,e):this._$AH.handleEvent(e)}}class w4{constructor(e,r,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){Os(this,e)}}const bf=Qa.litHtmlPolyfillSupport;bf==null||bf(Dl,tc),(Qa.litHtmlVersions??(Qa.litHtmlVersions=[])).push("3.3.2");const _S=(t,e,r)=>{const n=(r==null?void 0:r.renderBefore)??e;let i=n._$litPart$;if(i===void 0){const o=(r==null?void 0:r.renderBefore)??null;n._$litPart$=i=new tc(e.insertBefore(Pl(),o),o,void 0,r??{})}return i._$AI(t),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ho=globalThis;let Fe=class extends Ko{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var r;const e=super.createRenderRoot();return(r=this.renderOptions).renderBefore??(r.renderBefore=e.firstChild),e}update(e){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=_S(r,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return Rr}};var l0;Fe._$litElement$=!0,Fe.finalized=!0,(l0=ho.litElementHydrateSupport)==null||l0.call(ho,{LitElement:Fe});const wf=ho.litElementPolyfillSupport;wf==null||wf({LitElement:Fe});(ho.litElementVersions??(ho.litElementVersions=[])).push("4.2.2");/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class E4 extends Fe{connectedCallback(){super.connectedCallback(),this.setAttribute("aria-hidden","true")}render(){return Y`<span class="shadow"></span>`}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const x4=Te`:host,.shadow,.shadow::before,.shadow::after{border-radius:inherit;inset:0;position:absolute;transition-duration:inherit;transition-property:inherit;transition-timing-function:inherit}:host{display:flex;pointer-events:none;transition-property:box-shadow,opacity}.shadow::before,.shadow::after{content:"";transition-property:box-shadow,opacity;--_level: var(--md-elevation-level, 0);--_shadow-color: var(--md-elevation-shadow-color, var(--md-sys-color-shadow, #000))}.shadow::before{box-shadow:0px calc(1px*(clamp(0,var(--_level),1) + clamp(0,var(--_level) - 3,1) + 2*clamp(0,var(--_level) - 4,1))) calc(1px*(2*clamp(0,var(--_level),1) + clamp(0,var(--_level) - 2,1) + clamp(0,var(--_level) - 4,1))) 0px var(--_shadow-color);opacity:.3}.shadow::after{box-shadow:0px calc(1px*(clamp(0,var(--_level),1) + clamp(0,var(--_level) - 1,1) + 2*clamp(0,var(--_level) - 2,3))) calc(1px*(3*clamp(0,var(--_level),2) + 2*clamp(0,var(--_level) - 2,3))) calc(1px*(clamp(0,var(--_level),4) + 2*clamp(0,var(--_level) - 4,1))) var(--_shadow-color);opacity:.15}
`;/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Zp=class extends E4{};Zp.styles=[x4];Zp=O([it("md-elevation")],Zp);/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bS=Symbol("attachableController");let Iu;Iu=new MutationObserver(t=>{var e;for(const r of t)(e=r.target[bS])==null||e.hostConnected()});class wS{get htmlFor(){return this.host.getAttribute("for")}set htmlFor(e){e===null?this.host.removeAttribute("for"):this.host.setAttribute("for",e)}get control(){return this.host.hasAttribute("for")?!this.htmlFor||!this.host.isConnected?null:this.host.getRootNode().querySelector(`#${this.htmlFor}`):this.currentControl||this.host.parentElement}set control(e){e?this.attach(e):this.detach()}constructor(e,r){this.host=e,this.onControlChange=r,this.currentControl=null,e.addController(this),e[bS]=this,Iu==null||Iu.observe(e,{attributeFilter:["for"]})}attach(e){e!==this.currentControl&&(this.setCurrentControl(e),this.host.removeAttribute("for"))}detach(){this.setCurrentControl(null),this.host.setAttribute("for","")}hostConnected(){this.setCurrentControl(this.control)}hostDisconnected(){this.setCurrentControl(null)}setCurrentControl(e){this.onControlChange(this.currentControl,e),this.currentControl=e}}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const I4=["focusin","focusout","pointerdown"];class Ov extends Fe{constructor(){super(...arguments),this.visible=!1,this.inward=!1,this.attachableController=new wS(this,this.onControlChange.bind(this))}get htmlFor(){return this.attachableController.htmlFor}set htmlFor(e){this.attachableController.htmlFor=e}get control(){return this.attachableController.control}set control(e){this.attachableController.control=e}attach(e){this.attachableController.attach(e)}detach(){this.attachableController.detach()}connectedCallback(){super.connectedCallback(),this.setAttribute("aria-hidden","true")}handleEvent(e){var r;if(!e[Ow]){switch(e.type){default:return;case"focusin":this.visible=((r=this.control)==null?void 0:r.matches(":focus-visible"))??!1;break;case"focusout":case"pointerdown":this.visible=!1;break}e[Ow]=!0}}onControlChange(e,r){for(const n of I4)e==null||e.removeEventListener(n,this),r==null||r.addEventListener(n,this)}update(e){e.has("visible")&&this.dispatchEvent(new Event("visibility-changed")),super.update(e)}}O([z({type:Boolean,reflect:!0})],Ov.prototype,"visible",void 0);O([z({type:Boolean,reflect:!0})],Ov.prototype,"inward",void 0);const Ow=Symbol("handledByFocusRing");/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const T4=Te`:host{animation-delay:0s,calc(var(--md-focus-ring-duration, 600ms)*.25);animation-duration:calc(var(--md-focus-ring-duration, 600ms)*.25),calc(var(--md-focus-ring-duration, 600ms)*.75);animation-timing-function:cubic-bezier(0.2, 0, 0, 1);box-sizing:border-box;color:var(--md-focus-ring-color, var(--md-sys-color-secondary, #625b71));display:none;pointer-events:none;position:absolute}:host([visible]){display:flex}:host(:not([inward])){animation-name:outward-grow,outward-shrink;border-end-end-radius:calc(var(--md-focus-ring-shape-end-end, var(--md-focus-ring-shape, var(--md-sys-shape-corner-full, 9999px))) + var(--md-focus-ring-outward-offset, 2px));border-end-start-radius:calc(var(--md-focus-ring-shape-end-start, var(--md-focus-ring-shape, var(--md-sys-shape-corner-full, 9999px))) + var(--md-focus-ring-outward-offset, 2px));border-start-end-radius:calc(var(--md-focus-ring-shape-start-end, var(--md-focus-ring-shape, var(--md-sys-shape-corner-full, 9999px))) + var(--md-focus-ring-outward-offset, 2px));border-start-start-radius:calc(var(--md-focus-ring-shape-start-start, var(--md-focus-ring-shape, var(--md-sys-shape-corner-full, 9999px))) + var(--md-focus-ring-outward-offset, 2px));inset:calc(-1*var(--md-focus-ring-outward-offset, 2px));outline:var(--md-focus-ring-width, 3px) solid currentColor}:host([inward]){animation-name:inward-grow,inward-shrink;border-end-end-radius:calc(var(--md-focus-ring-shape-end-end, var(--md-focus-ring-shape, var(--md-sys-shape-corner-full, 9999px))) - var(--md-focus-ring-inward-offset, 0px));border-end-start-radius:calc(var(--md-focus-ring-shape-end-start, var(--md-focus-ring-shape, var(--md-sys-shape-corner-full, 9999px))) - var(--md-focus-ring-inward-offset, 0px));border-start-end-radius:calc(var(--md-focus-ring-shape-start-end, var(--md-focus-ring-shape, var(--md-sys-shape-corner-full, 9999px))) - var(--md-focus-ring-inward-offset, 0px));border-start-start-radius:calc(var(--md-focus-ring-shape-start-start, var(--md-focus-ring-shape, var(--md-sys-shape-corner-full, 9999px))) - var(--md-focus-ring-inward-offset, 0px));border:var(--md-focus-ring-width, 3px) solid currentColor;inset:var(--md-focus-ring-inward-offset, 0px)}@keyframes outward-grow{from{outline-width:0}to{outline-width:var(--md-focus-ring-active-width, 8px)}}@keyframes outward-shrink{from{outline-width:var(--md-focus-ring-active-width, 8px)}}@keyframes inward-grow{from{border-width:0}to{border-width:var(--md-focus-ring-active-width, 8px)}}@keyframes inward-shrink{from{border-width:var(--md-focus-ring-active-width, 8px)}}@media(prefers-reduced-motion){:host{animation:none}}
`;/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let em=class extends Ov{};em.styles=[T4];em=O([it("md-focus-ring")],em);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const si={ATTRIBUTE:1,PROPERTY:3,BOOLEAN_ATTRIBUTE:4},Lv=t=>(...e)=>({_$litDirective$:t,values:e});let Mv=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,r,n){this._$Ct=e,this._$AM=r,this._$Ci=n}_$AS(e,r){return this.update(e,r)}update(e,r){return this.render(...r)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const wr=Lv(class extends Mv{constructor(t){var e;if(super(t),t.type!==si.ATTRIBUTE||t.name!=="class"||((e=t.strings)==null?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){var n,i;if(this.st===void 0){this.st=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(o=>o!=="")));for(const o in e)e[o]&&!((n=this.nt)!=null&&n.has(o))&&this.st.add(o);return this.render(e)}const r=t.element.classList;for(const o of this.st)o in e||(r.remove(o),this.st.delete(o));for(const o in e){const s=!!e[o];s===this.st.has(o)||(i=this.nt)!=null&&i.has(o)||(s?(r.add(o),this.st.add(o)):(r.remove(o),this.st.delete(o)))}return Rr}});/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ls={STANDARD:"cubic-bezier(0.2, 0, 0, 1)",EMPHASIZED:"cubic-bezier(.3,0,0,1)",EMPHASIZED_ACCELERATE:"cubic-bezier(.3,0,.8,.15)"};/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const S4=450,Lw=225,A4=.2,C4=10,k4=75,R4=.35,P4="::after",N4="forwards";var Gt;(function(t){t[t.INACTIVE=0]="INACTIVE",t[t.TOUCH_DELAY=1]="TOUCH_DELAY",t[t.HOLDING=2]="HOLDING",t[t.WAITING_FOR_CLICK=3]="WAITING_FOR_CLICK"})(Gt||(Gt={}));const D4=["click","contextmenu","pointercancel","pointerdown","pointerenter","pointerleave","pointerup"],O4=150,Ef=window.matchMedia("(forced-colors: active)");class rc extends Fe{constructor(){super(...arguments),this.disabled=!1,this.hovered=!1,this.pressed=!1,this.rippleSize="",this.rippleScale="",this.initialSize=0,this.state=Gt.INACTIVE,this.checkBoundsAfterContextMenu=!1,this.attachableController=new wS(this,this.onControlChange.bind(this))}get htmlFor(){return this.attachableController.htmlFor}set htmlFor(e){this.attachableController.htmlFor=e}get control(){return this.attachableController.control}set control(e){this.attachableController.control=e}attach(e){this.attachableController.attach(e)}detach(){this.attachableController.detach()}connectedCallback(){super.connectedCallback(),this.setAttribute("aria-hidden","true")}render(){const e={hovered:this.hovered,pressed:this.pressed};return Y`<div class="surface ${wr(e)}"></div>`}update(e){e.has("disabled")&&this.disabled&&(this.hovered=!1,this.pressed=!1),super.update(e)}handlePointerenter(e){this.shouldReactToEvent(e)&&(this.hovered=!0)}handlePointerleave(e){this.shouldReactToEvent(e)&&(this.hovered=!1,this.state!==Gt.INACTIVE&&this.endPressAnimation())}handlePointerup(e){if(this.shouldReactToEvent(e)){if(this.state===Gt.HOLDING){this.state=Gt.WAITING_FOR_CLICK;return}if(this.state===Gt.TOUCH_DELAY){this.state=Gt.WAITING_FOR_CLICK,this.startPressAnimation(this.rippleStartEvent);return}}}async handlePointerdown(e){if(this.shouldReactToEvent(e)){if(this.rippleStartEvent=e,!this.isTouch(e)){this.state=Gt.WAITING_FOR_CLICK,this.startPressAnimation(e);return}this.checkBoundsAfterContextMenu&&!this.inBounds(e)||(this.checkBoundsAfterContextMenu=!1,this.state=Gt.TOUCH_DELAY,await new Promise(r=>{setTimeout(r,O4)}),this.state===Gt.TOUCH_DELAY&&(this.state=Gt.HOLDING,this.startPressAnimation(e)))}}handleClick(){if(!this.disabled){if(this.state===Gt.WAITING_FOR_CLICK){this.endPressAnimation();return}this.state===Gt.INACTIVE&&(this.startPressAnimation(),this.endPressAnimation())}}handlePointercancel(e){this.shouldReactToEvent(e)&&this.endPressAnimation()}handleContextmenu(){this.disabled||(this.checkBoundsAfterContextMenu=!0,this.endPressAnimation())}determineRippleSize(){const{height:e,width:r}=this.getBoundingClientRect(),n=Math.max(e,r),i=Math.max(R4*n,k4),o=Math.floor(n*A4),l=Math.sqrt(r**2+e**2)+C4;this.initialSize=o,this.rippleScale=`${(l+i)/o}`,this.rippleSize=`${o}px`}getNormalizedPointerEventCoords(e){const{scrollX:r,scrollY:n}=window,{left:i,top:o}=this.getBoundingClientRect(),s=r+i,l=n+o,{pageX:c,pageY:u}=e;return{x:c-s,y:u-l}}getTranslationCoordinates(e){const{height:r,width:n}=this.getBoundingClientRect(),i={x:(n-this.initialSize)/2,y:(r-this.initialSize)/2};let o;return e instanceof PointerEvent?o=this.getNormalizedPointerEventCoords(e):o={x:n/2,y:r/2},o={x:o.x-this.initialSize/2,y:o.y-this.initialSize/2},{startPoint:o,endPoint:i}}startPressAnimation(e){var s;if(!this.mdRoot)return;this.pressed=!0,(s=this.growAnimation)==null||s.cancel(),this.determineRippleSize();const{startPoint:r,endPoint:n}=this.getTranslationCoordinates(e),i=`${r.x}px, ${r.y}px`,o=`${n.x}px, ${n.y}px`;this.growAnimation=this.mdRoot.animate({top:[0,0],left:[0,0],height:[this.rippleSize,this.rippleSize],width:[this.rippleSize,this.rippleSize],transform:[`translate(${i}) scale(1)`,`translate(${o}) scale(${this.rippleScale})`]},{pseudoElement:P4,duration:S4,easing:Ls.STANDARD,fill:N4})}async endPressAnimation(){this.rippleStartEvent=void 0,this.state=Gt.INACTIVE;const e=this.growAnimation;let r=1/0;if(typeof(e==null?void 0:e.currentTime)=="number"?r=e.currentTime:e!=null&&e.currentTime&&(r=e.currentTime.to("ms").value),r>=Lw){this.pressed=!1;return}await new Promise(n=>{setTimeout(n,Lw-r)}),this.growAnimation===e&&(this.pressed=!1)}shouldReactToEvent(e){if(this.disabled||!e.isPrimary||this.rippleStartEvent&&this.rippleStartEvent.pointerId!==e.pointerId)return!1;if(e.type==="pointerenter"||e.type==="pointerleave")return!this.isTouch(e);const r=e.buttons===1;return this.isTouch(e)||r}inBounds({x:e,y:r}){const{top:n,left:i,bottom:o,right:s}=this.getBoundingClientRect();return e>=i&&e<=s&&r>=n&&r<=o}isTouch({pointerType:e}){return e==="touch"}async handleEvent(e){if(!(Ef!=null&&Ef.matches))switch(e.type){case"click":this.handleClick();break;case"contextmenu":this.handleContextmenu();break;case"pointercancel":this.handlePointercancel(e);break;case"pointerdown":await this.handlePointerdown(e);break;case"pointerenter":this.handlePointerenter(e);break;case"pointerleave":this.handlePointerleave(e);break;case"pointerup":this.handlePointerup(e);break}}onControlChange(e,r){for(const n of D4)e==null||e.removeEventListener(n,this),r==null||r.addEventListener(n,this)}}O([z({type:Boolean,reflect:!0})],rc.prototype,"disabled",void 0);O([rr()],rc.prototype,"hovered",void 0);O([rr()],rc.prototype,"pressed",void 0);O([Xe(".surface")],rc.prototype,"mdRoot",void 0);/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const L4=Te`:host{display:flex;margin:auto;pointer-events:none}:host([disabled]){display:none}@media(forced-colors: active){:host{display:none}}:host,.surface{border-radius:inherit;position:absolute;inset:0;overflow:hidden}.surface{-webkit-tap-highlight-color:rgba(0,0,0,0)}.surface::before,.surface::after{content:"";opacity:0;position:absolute}.surface::before{background-color:var(--md-ripple-hover-color, var(--md-sys-color-on-surface, #1d1b20));inset:0;transition:opacity 15ms linear,background-color 15ms linear}.surface::after{background:radial-gradient(closest-side, var(--md-ripple-pressed-color, var(--md-sys-color-on-surface, #1d1b20)) max(100% - 70px, 65%), transparent 100%);transform-origin:center center;transition:opacity 375ms linear}.hovered::before{background-color:var(--md-ripple-hover-color, var(--md-sys-color-on-surface, #1d1b20));opacity:var(--md-ripple-hover-opacity, 0.08)}.pressed::after{opacity:var(--md-ripple-pressed-opacity, 0.12);transition-duration:105ms}
`;/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let tm=class extends rc{};tm.styles=[L4];tm=O([it("md-ripple")],tm);/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ES=["role","ariaAtomic","ariaAutoComplete","ariaBusy","ariaChecked","ariaColCount","ariaColIndex","ariaColSpan","ariaCurrent","ariaDisabled","ariaExpanded","ariaHasPopup","ariaHidden","ariaInvalid","ariaKeyShortcuts","ariaLabel","ariaLevel","ariaLive","ariaModal","ariaMultiLine","ariaMultiSelectable","ariaOrientation","ariaPlaceholder","ariaPosInSet","ariaPressed","ariaReadOnly","ariaRequired","ariaRoleDescription","ariaRowCount","ariaRowIndex","ariaRowSpan","ariaSelected","ariaSetSize","ariaSort","ariaValueMax","ariaValueMin","ariaValueNow","ariaValueText"];ES.map(xS);function xS(t){return t.replace("aria","aria-").replace(/Elements?/g,"").toLowerCase()}/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ui(t){for(const e of ES)t.createProperty(e,{attribute:xS(e),reflect:!0});t.addInitializer(e=>{const r={hostConnected(){e.setAttribute("role","presentation")}};e.addController(r)})}/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tt=Symbol("internals"),xf=Symbol("privateInternals");function nc(t){class e extends t{get[Tt](){return this[xf]||(this[xf]=this.attachInternals()),this[xf]}}return e}/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IS(t){t.addInitializer(e=>{const r=e;r.addEventListener("click",async n=>{const{type:i,[Tt]:o}=r,{form:s}=o;if(!(!s||i==="button")&&(await new Promise(l=>{setTimeout(l)}),!n.defaultPrevented)){if(i==="reset"){s.reset();return}s.addEventListener("submit",l=>{Object.defineProperty(l,"submitter",{configurable:!0,enumerable:!0,get:()=>r})},{capture:!0,once:!0}),o.setFormValue(r.value),s.requestSubmit()}})})}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TS(t){const e=new MouseEvent("click",{bubbles:!0});return t.dispatchEvent(e),e}function Vv(t){return t.currentTarget!==t.target||t.composedPath()[0]!==t.target||t.target.disabled?!1:!M4(t)}function M4(t){const e=rm;return e&&(t.preventDefault(),t.stopImmediatePropagation()),V4(),e}let rm=!1;async function V4(){rm=!0,await null,rm=!1}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $4=nc(Fe);class Pt extends $4{get name(){return this.getAttribute("name")??""}set name(e){this.setAttribute("name",e)}get form(){return this[Tt].form}constructor(){super(),this.disabled=!1,this.href="",this.target="",this.trailingIcon=!1,this.hasIcon=!1,this.type="submit",this.value="",this.handleActivationClick=e=>{!Vv(e)||!this.buttonElement||(this.focus(),TS(this.buttonElement))},this.addEventListener("click",this.handleActivationClick)}focus(){var e;(e=this.buttonElement)==null||e.focus()}blur(){var e;(e=this.buttonElement)==null||e.blur()}render(){var i;const e=this.disabled&&!this.href,r=this.href?this.renderLink():this.renderButton(),n=this.href?"link":"button";return Y`
      ${(i=this.renderElevationOrOutline)==null?void 0:i.call(this)}
      <div class="background"></div>
      <md-focus-ring part="focus-ring" for=${n}></md-focus-ring>
      <md-ripple
        part="ripple"
        for=${n}
        ?disabled="${e}"></md-ripple>
      ${r}
    `}renderButton(){const{ariaLabel:e,ariaHasPopup:r,ariaExpanded:n}=this;return Y`<button
      id="button"
      class="button"
      ?disabled=${this.disabled}
      aria-label="${e||W}"
      aria-haspopup="${r||W}"
      aria-expanded="${n||W}">
      ${this.renderContent()}
    </button>`}renderLink(){const{ariaLabel:e,ariaHasPopup:r,ariaExpanded:n}=this;return Y`<a
      id="link"
      class="button"
      aria-label="${e||W}"
      aria-haspopup="${r||W}"
      aria-expanded="${n||W}"
      href=${this.href}
      target=${this.target||W}
      >${this.renderContent()}
    </a>`}renderContent(){const e=Y`<slot
      name="icon"
      @slotchange="${this.handleSlotChange}"></slot>`;return Y`
      <span class="touch"></span>
      ${this.trailingIcon?W:e}
      <span class="label"><slot></slot></span>
      ${this.trailingIcon?e:W}
    `}handleSlotChange(){this.hasIcon=this.assignedIcons.length>0}}Ui(Pt),IS(Pt);Pt.formAssociated=!0;Pt.shadowRootOptions={mode:"open",delegatesFocus:!0};O([z({type:Boolean,reflect:!0})],Pt.prototype,"disabled",void 0);O([z()],Pt.prototype,"href",void 0);O([z()],Pt.prototype,"target",void 0);O([z({type:Boolean,attribute:"trailing-icon",reflect:!0})],Pt.prototype,"trailingIcon",void 0);O([z({type:Boolean,attribute:"has-icon",reflect:!0})],Pt.prototype,"hasIcon",void 0);O([z()],Pt.prototype,"type",void 0);O([z({reflect:!0})],Pt.prototype,"value",void 0);O([Xe(".button")],Pt.prototype,"buttonElement",void 0);O([Qs({slot:"icon",flatten:!0})],Pt.prototype,"assignedIcons",void 0);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class F4 extends Pt{renderElevationOrOutline(){return Y`<md-elevation part="elevation"></md-elevation>`}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const U4=Te`:host{--_container-color: var(--md-filled-button-container-color, var(--md-sys-color-primary, #6750a4));--_container-elevation: var(--md-filled-button-container-elevation, 0);--_container-height: var(--md-filled-button-container-height, 40px);--_container-shadow-color: var(--md-filled-button-container-shadow-color, var(--md-sys-color-shadow, #000));--_disabled-container-color: var(--md-filled-button-disabled-container-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-container-elevation: var(--md-filled-button-disabled-container-elevation, 0);--_disabled-container-opacity: var(--md-filled-button-disabled-container-opacity, 0.12);--_disabled-label-text-color: var(--md-filled-button-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-label-text-opacity: var(--md-filled-button-disabled-label-text-opacity, 0.38);--_focus-container-elevation: var(--md-filled-button-focus-container-elevation, 0);--_focus-label-text-color: var(--md-filled-button-focus-label-text-color, var(--md-sys-color-on-primary, #fff));--_hover-container-elevation: var(--md-filled-button-hover-container-elevation, 1);--_hover-label-text-color: var(--md-filled-button-hover-label-text-color, var(--md-sys-color-on-primary, #fff));--_hover-state-layer-color: var(--md-filled-button-hover-state-layer-color, var(--md-sys-color-on-primary, #fff));--_hover-state-layer-opacity: var(--md-filled-button-hover-state-layer-opacity, 0.08);--_label-text-color: var(--md-filled-button-label-text-color, var(--md-sys-color-on-primary, #fff));--_label-text-font: var(--md-filled-button-label-text-font, var(--md-sys-typescale-label-large-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-line-height: var(--md-filled-button-label-text-line-height, var(--md-sys-typescale-label-large-line-height, 1.25rem));--_label-text-size: var(--md-filled-button-label-text-size, var(--md-sys-typescale-label-large-size, 0.875rem));--_label-text-weight: var(--md-filled-button-label-text-weight, var(--md-sys-typescale-label-large-weight, var(--md-ref-typeface-weight-medium, 500)));--_pressed-container-elevation: var(--md-filled-button-pressed-container-elevation, 0);--_pressed-label-text-color: var(--md-filled-button-pressed-label-text-color, var(--md-sys-color-on-primary, #fff));--_pressed-state-layer-color: var(--md-filled-button-pressed-state-layer-color, var(--md-sys-color-on-primary, #fff));--_pressed-state-layer-opacity: var(--md-filled-button-pressed-state-layer-opacity, 0.12);--_disabled-icon-color: var(--md-filled-button-disabled-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-icon-opacity: var(--md-filled-button-disabled-icon-opacity, 0.38);--_focus-icon-color: var(--md-filled-button-focus-icon-color, var(--md-sys-color-on-primary, #fff));--_hover-icon-color: var(--md-filled-button-hover-icon-color, var(--md-sys-color-on-primary, #fff));--_icon-color: var(--md-filled-button-icon-color, var(--md-sys-color-on-primary, #fff));--_icon-size: var(--md-filled-button-icon-size, 18px);--_pressed-icon-color: var(--md-filled-button-pressed-icon-color, var(--md-sys-color-on-primary, #fff));--_container-shape-start-start: var(--md-filled-button-container-shape-start-start, var(--md-filled-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-start-end: var(--md-filled-button-container-shape-start-end, var(--md-filled-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-end-end: var(--md-filled-button-container-shape-end-end, var(--md-filled-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-end-start: var(--md-filled-button-container-shape-end-start, var(--md-filled-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_leading-space: var(--md-filled-button-leading-space, 24px);--_trailing-space: var(--md-filled-button-trailing-space, 24px);--_with-leading-icon-leading-space: var(--md-filled-button-with-leading-icon-leading-space, 16px);--_with-leading-icon-trailing-space: var(--md-filled-button-with-leading-icon-trailing-space, 24px);--_with-trailing-icon-leading-space: var(--md-filled-button-with-trailing-icon-leading-space, 24px);--_with-trailing-icon-trailing-space: var(--md-filled-button-with-trailing-icon-trailing-space, 16px)}
`;/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SS=Te`md-elevation{transition-duration:280ms}:host([disabled]) md-elevation{transition:none}md-elevation{--md-elevation-level: var(--_container-elevation);--md-elevation-shadow-color: var(--_container-shadow-color)}:host(:focus-within) md-elevation{--md-elevation-level: var(--_focus-container-elevation)}:host(:hover) md-elevation{--md-elevation-level: var(--_hover-container-elevation)}:host(:active) md-elevation{--md-elevation-level: var(--_pressed-container-elevation)}:host([disabled]) md-elevation{--md-elevation-level: var(--_disabled-container-elevation)}
`;/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ah=Te`:host{border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-start-radius:var(--_container-shape-end-start);border-end-end-radius:var(--_container-shape-end-end);box-sizing:border-box;cursor:pointer;display:inline-flex;gap:8px;min-height:var(--_container-height);outline:none;padding-block:calc((var(--_container-height) - max(var(--_label-text-line-height),var(--_icon-size)))/2);padding-inline-start:var(--_leading-space);padding-inline-end:var(--_trailing-space);place-content:center;place-items:center;position:relative;font-family:var(--_label-text-font);font-size:var(--_label-text-size);line-height:var(--_label-text-line-height);font-weight:var(--_label-text-weight);text-overflow:ellipsis;text-wrap:nowrap;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0);vertical-align:top;--md-ripple-hover-color: var(--_hover-state-layer-color);--md-ripple-pressed-color: var(--_pressed-state-layer-color);--md-ripple-hover-opacity: var(--_hover-state-layer-opacity);--md-ripple-pressed-opacity: var(--_pressed-state-layer-opacity)}md-focus-ring{--md-focus-ring-shape-start-start: var(--_container-shape-start-start);--md-focus-ring-shape-start-end: var(--_container-shape-start-end);--md-focus-ring-shape-end-end: var(--_container-shape-end-end);--md-focus-ring-shape-end-start: var(--_container-shape-end-start)}:host([disabled]){cursor:default;pointer-events:none}.button{border-radius:inherit;cursor:inherit;display:inline-flex;align-items:center;justify-content:center;border:none;outline:none;-webkit-appearance:none;vertical-align:middle;background:rgba(0,0,0,0);text-decoration:none;min-width:calc(64px - var(--_leading-space) - var(--_trailing-space));width:100%;z-index:0;height:100%;font:inherit;color:var(--_label-text-color);padding:0;gap:inherit;text-transform:inherit}.button::-moz-focus-inner{padding:0;border:0}:host(:hover) .button{color:var(--_hover-label-text-color)}:host(:focus-within) .button{color:var(--_focus-label-text-color)}:host(:active) .button{color:var(--_pressed-label-text-color)}.background{background-color:var(--_container-color);border-radius:inherit;inset:0;position:absolute}.label{overflow:hidden}:is(.button,.label,.label slot),.label ::slotted(*){text-overflow:inherit}:host([disabled]) .label{color:var(--_disabled-label-text-color);opacity:var(--_disabled-label-text-opacity)}:host([disabled]) .background{background-color:var(--_disabled-container-color);opacity:var(--_disabled-container-opacity)}@media(forced-colors: active){.background{border:1px solid CanvasText}:host([disabled]){--_disabled-icon-color: GrayText;--_disabled-icon-opacity: 1;--_disabled-container-opacity: 1;--_disabled-label-text-color: GrayText;--_disabled-label-text-opacity: 1}}:host([has-icon]:not([trailing-icon])){padding-inline-start:var(--_with-leading-icon-leading-space);padding-inline-end:var(--_with-leading-icon-trailing-space)}:host([has-icon][trailing-icon]){padding-inline-start:var(--_with-trailing-icon-leading-space);padding-inline-end:var(--_with-trailing-icon-trailing-space)}::slotted([slot=icon]){display:inline-flex;position:relative;writing-mode:horizontal-tb;fill:currentColor;flex-shrink:0;color:var(--_icon-color);font-size:var(--_icon-size);inline-size:var(--_icon-size);block-size:var(--_icon-size)}:host(:hover) ::slotted([slot=icon]){color:var(--_hover-icon-color)}:host(:focus-within) ::slotted([slot=icon]){color:var(--_focus-icon-color)}:host(:active) ::slotted([slot=icon]){color:var(--_pressed-icon-color)}:host([disabled]) ::slotted([slot=icon]){color:var(--_disabled-icon-color);opacity:var(--_disabled-icon-opacity)}.touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}:host([touch-target=wrapper]){margin:max(0px,(48px - var(--_container-height))/2) 0}:host([touch-target=none]) .touch{display:none}
`;/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let nm=class extends F4{};nm.styles=[ah,SS,U4];nm=O([it("md-filled-button")],nm);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class j4 extends Pt{renderElevationOrOutline(){return Y`<md-elevation part="elevation"></md-elevation>`}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const z4=Te`:host{--_container-color: var(--md-filled-tonal-button-container-color, var(--md-sys-color-secondary-container, #e8def8));--_container-elevation: var(--md-filled-tonal-button-container-elevation, 0);--_container-height: var(--md-filled-tonal-button-container-height, 40px);--_container-shadow-color: var(--md-filled-tonal-button-container-shadow-color, var(--md-sys-color-shadow, #000));--_disabled-container-color: var(--md-filled-tonal-button-disabled-container-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-container-elevation: var(--md-filled-tonal-button-disabled-container-elevation, 0);--_disabled-container-opacity: var(--md-filled-tonal-button-disabled-container-opacity, 0.12);--_disabled-label-text-color: var(--md-filled-tonal-button-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-label-text-opacity: var(--md-filled-tonal-button-disabled-label-text-opacity, 0.38);--_focus-container-elevation: var(--md-filled-tonal-button-focus-container-elevation, 0);--_focus-label-text-color: var(--md-filled-tonal-button-focus-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_hover-container-elevation: var(--md-filled-tonal-button-hover-container-elevation, 1);--_hover-label-text-color: var(--md-filled-tonal-button-hover-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_hover-state-layer-color: var(--md-filled-tonal-button-hover-state-layer-color, var(--md-sys-color-on-secondary-container, #1d192b));--_hover-state-layer-opacity: var(--md-filled-tonal-button-hover-state-layer-opacity, 0.08);--_label-text-color: var(--md-filled-tonal-button-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_label-text-font: var(--md-filled-tonal-button-label-text-font, var(--md-sys-typescale-label-large-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-line-height: var(--md-filled-tonal-button-label-text-line-height, var(--md-sys-typescale-label-large-line-height, 1.25rem));--_label-text-size: var(--md-filled-tonal-button-label-text-size, var(--md-sys-typescale-label-large-size, 0.875rem));--_label-text-weight: var(--md-filled-tonal-button-label-text-weight, var(--md-sys-typescale-label-large-weight, var(--md-ref-typeface-weight-medium, 500)));--_pressed-container-elevation: var(--md-filled-tonal-button-pressed-container-elevation, 0);--_pressed-label-text-color: var(--md-filled-tonal-button-pressed-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_pressed-state-layer-color: var(--md-filled-tonal-button-pressed-state-layer-color, var(--md-sys-color-on-secondary-container, #1d192b));--_pressed-state-layer-opacity: var(--md-filled-tonal-button-pressed-state-layer-opacity, 0.12);--_disabled-icon-color: var(--md-filled-tonal-button-disabled-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-icon-opacity: var(--md-filled-tonal-button-disabled-icon-opacity, 0.38);--_focus-icon-color: var(--md-filled-tonal-button-focus-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_hover-icon-color: var(--md-filled-tonal-button-hover-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_icon-color: var(--md-filled-tonal-button-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_icon-size: var(--md-filled-tonal-button-icon-size, 18px);--_pressed-icon-color: var(--md-filled-tonal-button-pressed-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_container-shape-start-start: var(--md-filled-tonal-button-container-shape-start-start, var(--md-filled-tonal-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-start-end: var(--md-filled-tonal-button-container-shape-start-end, var(--md-filled-tonal-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-end-end: var(--md-filled-tonal-button-container-shape-end-end, var(--md-filled-tonal-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-end-start: var(--md-filled-tonal-button-container-shape-end-start, var(--md-filled-tonal-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_leading-space: var(--md-filled-tonal-button-leading-space, 24px);--_trailing-space: var(--md-filled-tonal-button-trailing-space, 24px);--_with-leading-icon-leading-space: var(--md-filled-tonal-button-with-leading-icon-leading-space, 16px);--_with-leading-icon-trailing-space: var(--md-filled-tonal-button-with-leading-icon-trailing-space, 24px);--_with-trailing-icon-leading-space: var(--md-filled-tonal-button-with-trailing-icon-leading-space, 24px);--_with-trailing-icon-trailing-space: var(--md-filled-tonal-button-with-trailing-icon-trailing-space, 16px)}
`;/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let im=class extends j4{};im.styles=[ah,SS,z4];im=O([it("md-filled-tonal-button")],im);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class B4 extends Pt{renderElevationOrOutline(){return Y`<div class="outline"></div>`}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const q4=Te`:host{--_container-height: var(--md-outlined-button-container-height, 40px);--_disabled-label-text-color: var(--md-outlined-button-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-label-text-opacity: var(--md-outlined-button-disabled-label-text-opacity, 0.38);--_disabled-outline-color: var(--md-outlined-button-disabled-outline-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-outline-opacity: var(--md-outlined-button-disabled-outline-opacity, 0.12);--_focus-label-text-color: var(--md-outlined-button-focus-label-text-color, var(--md-sys-color-primary, #6750a4));--_hover-label-text-color: var(--md-outlined-button-hover-label-text-color, var(--md-sys-color-primary, #6750a4));--_hover-state-layer-color: var(--md-outlined-button-hover-state-layer-color, var(--md-sys-color-primary, #6750a4));--_hover-state-layer-opacity: var(--md-outlined-button-hover-state-layer-opacity, 0.08);--_label-text-color: var(--md-outlined-button-label-text-color, var(--md-sys-color-primary, #6750a4));--_label-text-font: var(--md-outlined-button-label-text-font, var(--md-sys-typescale-label-large-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-line-height: var(--md-outlined-button-label-text-line-height, var(--md-sys-typescale-label-large-line-height, 1.25rem));--_label-text-size: var(--md-outlined-button-label-text-size, var(--md-sys-typescale-label-large-size, 0.875rem));--_label-text-weight: var(--md-outlined-button-label-text-weight, var(--md-sys-typescale-label-large-weight, var(--md-ref-typeface-weight-medium, 500)));--_outline-color: var(--md-outlined-button-outline-color, var(--md-sys-color-outline, #79747e));--_outline-width: var(--md-outlined-button-outline-width, 1px);--_pressed-label-text-color: var(--md-outlined-button-pressed-label-text-color, var(--md-sys-color-primary, #6750a4));--_pressed-outline-color: var(--md-outlined-button-pressed-outline-color, var(--md-sys-color-outline, #79747e));--_pressed-state-layer-color: var(--md-outlined-button-pressed-state-layer-color, var(--md-sys-color-primary, #6750a4));--_pressed-state-layer-opacity: var(--md-outlined-button-pressed-state-layer-opacity, 0.12);--_disabled-icon-color: var(--md-outlined-button-disabled-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-icon-opacity: var(--md-outlined-button-disabled-icon-opacity, 0.38);--_focus-icon-color: var(--md-outlined-button-focus-icon-color, var(--md-sys-color-primary, #6750a4));--_hover-icon-color: var(--md-outlined-button-hover-icon-color, var(--md-sys-color-primary, #6750a4));--_icon-color: var(--md-outlined-button-icon-color, var(--md-sys-color-primary, #6750a4));--_icon-size: var(--md-outlined-button-icon-size, 18px);--_pressed-icon-color: var(--md-outlined-button-pressed-icon-color, var(--md-sys-color-primary, #6750a4));--_container-shape-start-start: var(--md-outlined-button-container-shape-start-start, var(--md-outlined-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-start-end: var(--md-outlined-button-container-shape-start-end, var(--md-outlined-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-end-end: var(--md-outlined-button-container-shape-end-end, var(--md-outlined-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-end-start: var(--md-outlined-button-container-shape-end-start, var(--md-outlined-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_leading-space: var(--md-outlined-button-leading-space, 24px);--_trailing-space: var(--md-outlined-button-trailing-space, 24px);--_with-leading-icon-leading-space: var(--md-outlined-button-with-leading-icon-leading-space, 16px);--_with-leading-icon-trailing-space: var(--md-outlined-button-with-leading-icon-trailing-space, 24px);--_with-trailing-icon-leading-space: var(--md-outlined-button-with-trailing-icon-leading-space, 24px);--_with-trailing-icon-trailing-space: var(--md-outlined-button-with-trailing-icon-trailing-space, 16px);--_container-color: none;--_disabled-container-color: none;--_disabled-container-opacity: 0}.outline{inset:0;border-style:solid;position:absolute;box-sizing:border-box;border-color:var(--_outline-color);border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-start-radius:var(--_container-shape-end-start);border-end-end-radius:var(--_container-shape-end-end)}:host(:active) .outline{border-color:var(--_pressed-outline-color)}:host([disabled]) .outline{border-color:var(--_disabled-outline-color);opacity:var(--_disabled-outline-opacity)}@media(forced-colors: active){:host([disabled]) .background{border-color:GrayText}:host([disabled]) .outline{opacity:1}}.outline,md-ripple{border-width:var(--_outline-width)}md-ripple{inline-size:calc(100% - 2*var(--_outline-width));block-size:calc(100% - 2*var(--_outline-width));border-style:solid;border-color:rgba(0,0,0,0)}
`;/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let om=class extends B4{};om.styles=[ah,q4];om=O([it("md-outlined-button")],om);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class H4 extends Pt{}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const W4=Te`:host{--_container-height: var(--md-text-button-container-height, 40px);--_disabled-label-text-color: var(--md-text-button-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-label-text-opacity: var(--md-text-button-disabled-label-text-opacity, 0.38);--_focus-label-text-color: var(--md-text-button-focus-label-text-color, var(--md-sys-color-primary, #6750a4));--_hover-label-text-color: var(--md-text-button-hover-label-text-color, var(--md-sys-color-primary, #6750a4));--_hover-state-layer-color: var(--md-text-button-hover-state-layer-color, var(--md-sys-color-primary, #6750a4));--_hover-state-layer-opacity: var(--md-text-button-hover-state-layer-opacity, 0.08);--_label-text-color: var(--md-text-button-label-text-color, var(--md-sys-color-primary, #6750a4));--_label-text-font: var(--md-text-button-label-text-font, var(--md-sys-typescale-label-large-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-line-height: var(--md-text-button-label-text-line-height, var(--md-sys-typescale-label-large-line-height, 1.25rem));--_label-text-size: var(--md-text-button-label-text-size, var(--md-sys-typescale-label-large-size, 0.875rem));--_label-text-weight: var(--md-text-button-label-text-weight, var(--md-sys-typescale-label-large-weight, var(--md-ref-typeface-weight-medium, 500)));--_pressed-label-text-color: var(--md-text-button-pressed-label-text-color, var(--md-sys-color-primary, #6750a4));--_pressed-state-layer-color: var(--md-text-button-pressed-state-layer-color, var(--md-sys-color-primary, #6750a4));--_pressed-state-layer-opacity: var(--md-text-button-pressed-state-layer-opacity, 0.12);--_disabled-icon-color: var(--md-text-button-disabled-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-icon-opacity: var(--md-text-button-disabled-icon-opacity, 0.38);--_focus-icon-color: var(--md-text-button-focus-icon-color, var(--md-sys-color-primary, #6750a4));--_hover-icon-color: var(--md-text-button-hover-icon-color, var(--md-sys-color-primary, #6750a4));--_icon-color: var(--md-text-button-icon-color, var(--md-sys-color-primary, #6750a4));--_icon-size: var(--md-text-button-icon-size, 18px);--_pressed-icon-color: var(--md-text-button-pressed-icon-color, var(--md-sys-color-primary, #6750a4));--_container-shape-start-start: var(--md-text-button-container-shape-start-start, var(--md-text-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-start-end: var(--md-text-button-container-shape-start-end, var(--md-text-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-end-end: var(--md-text-button-container-shape-end-end, var(--md-text-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_container-shape-end-start: var(--md-text-button-container-shape-end-start, var(--md-text-button-container-shape, var(--md-sys-shape-corner-full, 9999px)));--_leading-space: var(--md-text-button-leading-space, 12px);--_trailing-space: var(--md-text-button-trailing-space, 12px);--_with-leading-icon-leading-space: var(--md-text-button-with-leading-icon-leading-space, 12px);--_with-leading-icon-trailing-space: var(--md-text-button-with-leading-icon-trailing-space, 16px);--_with-trailing-icon-leading-space: var(--md-text-button-with-trailing-icon-leading-space, 16px);--_with-trailing-icon-trailing-space: var(--md-text-button-with-trailing-icon-trailing-space, 12px);--_container-color: none;--_disabled-container-color: none;--_disabled-container-opacity: 0}
`;/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let sm=class extends H4{};sm.styles=[ah,W4];sm=O([it("md-text-button")],sm);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Je extends Fe{constructor(){super(...arguments),this.disabled=!1,this.error=!1,this.focused=!1,this.label="",this.noAsterisk=!1,this.populated=!1,this.required=!1,this.resizable=!1,this.supportingText="",this.errorText="",this.count=-1,this.max=-1,this.hasStart=!1,this.hasEnd=!1,this.isAnimating=!1,this.refreshErrorAlert=!1,this.disableTransitions=!1}get counterText(){const e=this.count??-1,r=this.max??-1;return e<0||r<=0?"":`${e} / ${r}`}get supportingOrErrorText(){return this.error&&this.errorText?this.errorText:this.supportingText}reannounceError(){this.refreshErrorAlert=!0}update(e){e.has("disabled")&&e.get("disabled")!==void 0&&(this.disableTransitions=!0),this.disabled&&this.focused&&(e.set("focused",!0),this.focused=!1),this.animateLabelIfNeeded({wasFocused:e.get("focused"),wasPopulated:e.get("populated")}),super.update(e)}render(){var o,s,l;const e=this.renderLabel(!0),r=this.renderLabel(!1),n=(o=this.renderOutline)==null?void 0:o.call(this,e),i={disabled:this.disabled,"disable-transitions":this.disableTransitions,error:this.error&&!this.disabled,focused:this.focused,"with-start":this.hasStart,"with-end":this.hasEnd,populated:this.populated,resizable:this.resizable,required:this.required,"no-label":!this.label};return Y`
      <div class="field ${wr(i)}">
        <div class="container-overflow">
          ${(s=this.renderBackground)==null?void 0:s.call(this)} ${(l=this.renderIndicator)==null?void 0:l.call(this)} ${n}
          <div class="container">
            <div class="start">
              <slot name="start"></slot>
            </div>
            <div class="middle">
              <div class="label-wrapper">
                ${r} ${n?W:e}
              </div>
              <div class="content">
                <slot></slot>
              </div>
            </div>
            <div class="end">
              <slot name="end"></slot>
            </div>
          </div>
        </div>
        ${this.renderSupportingText()}
      </div>
    `}updated(e){(e.has("supportingText")||e.has("errorText")||e.has("count")||e.has("max"))&&this.updateSlottedAriaDescribedBy(),this.refreshErrorAlert&&requestAnimationFrame(()=>{this.refreshErrorAlert=!1}),this.disableTransitions&&requestAnimationFrame(()=>{this.disableTransitions=!1})}renderSupportingText(){const{supportingOrErrorText:e,counterText:r}=this;if(!e&&!r)return W;const n=Y`<span>${e}</span>`,i=r?Y`<span class="counter">${r}</span>`:W,s=this.error&&this.errorText&&!this.refreshErrorAlert?"alert":W;return Y`
      <div class="supporting-text" role=${s}>${n}${i}</div>
      <slot
        name="aria-describedby"
        @slotchange=${this.updateSlottedAriaDescribedBy}></slot>
    `}updateSlottedAriaDescribedBy(){for(const e of this.slottedAriaDescribedBy)_S(Y`${this.supportingOrErrorText} ${this.counterText}`,e),e.setAttribute("hidden","")}renderLabel(e){if(!this.label)return W;let r;e?r=this.focused||this.populated||this.isAnimating:r=!this.focused&&!this.populated&&!this.isAnimating;const n={hidden:!r,floating:e,resting:!e},i=`${this.label}${this.required&&!this.noAsterisk?"*":""}`;return Y`
      <span class="label ${wr(n)}" aria-hidden=${!r}
        >${i}</span
      >
    `}animateLabelIfNeeded({wasFocused:e,wasPopulated:r}){var o,s,l;if(!this.label)return;e??(e=this.focused),r??(r=this.populated);const n=e||r,i=this.focused||this.populated;n!==i&&(this.isAnimating=!0,(o=this.labelAnimation)==null||o.cancel(),this.labelAnimation=(s=this.floatingLabelEl)==null?void 0:s.animate(this.getLabelKeyframes(),{duration:150,easing:Ls.STANDARD}),(l=this.labelAnimation)==null||l.addEventListener("finish",()=>{this.isAnimating=!1}))}getLabelKeyframes(){const{floatingLabelEl:e,restingLabelEl:r}=this;if(!e||!r)return[];const{x:n,y:i,height:o}=e.getBoundingClientRect(),{x:s,y:l,height:c}=r.getBoundingClientRect(),u=e.scrollWidth,h=r.scrollWidth,p=h/u,m=s-n,_=l-i+Math.round((c-o*p)/2),C=`translateX(${m}px) translateY(${_}px) scale(${p})`,k="translateX(0) translateY(0) scale(1)",P=r.clientWidth,b=h>P?`${P/p}px`:"";return this.focused||this.populated?[{transform:C,width:b},{transform:k,width:b}]:[{transform:k,width:b},{transform:C,width:b}]}getSurfacePositionClientRect(){return this.containerEl.getBoundingClientRect()}}O([z({type:Boolean})],Je.prototype,"disabled",void 0);O([z({type:Boolean})],Je.prototype,"error",void 0);O([z({type:Boolean})],Je.prototype,"focused",void 0);O([z()],Je.prototype,"label",void 0);O([z({type:Boolean,attribute:"no-asterisk"})],Je.prototype,"noAsterisk",void 0);O([z({type:Boolean})],Je.prototype,"populated",void 0);O([z({type:Boolean})],Je.prototype,"required",void 0);O([z({type:Boolean})],Je.prototype,"resizable",void 0);O([z({attribute:"supporting-text"})],Je.prototype,"supportingText",void 0);O([z({attribute:"error-text"})],Je.prototype,"errorText",void 0);O([z({type:Number})],Je.prototype,"count",void 0);O([z({type:Number})],Je.prototype,"max",void 0);O([z({type:Boolean,attribute:"has-start"})],Je.prototype,"hasStart",void 0);O([z({type:Boolean,attribute:"has-end"})],Je.prototype,"hasEnd",void 0);O([Qs({slot:"aria-describedby"})],Je.prototype,"slottedAriaDescribedBy",void 0);O([rr()],Je.prototype,"isAnimating",void 0);O([rr()],Je.prototype,"refreshErrorAlert",void 0);O([rr()],Je.prototype,"disableTransitions",void 0);O([Xe(".label.floating")],Je.prototype,"floatingLabelEl",void 0);O([Xe(".label.resting")],Je.prototype,"restingLabelEl",void 0);O([Xe(".container")],Je.prototype,"containerEl",void 0);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class K4 extends Je{renderBackground(){return Y`
      <div class="background"></div>
      <div class="state-layer"></div>
    `}renderIndicator(){return Y`<div class="active-indicator"></div>`}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const G4=Te`@layer styles{:host{--_active-indicator-color: var(--md-filled-field-active-indicator-color, var(--md-sys-color-on-surface-variant, #49454f));--_active-indicator-height: var(--md-filled-field-active-indicator-height, 1px);--_bottom-space: var(--md-filled-field-bottom-space, 16px);--_container-color: var(--md-filled-field-container-color, var(--md-sys-color-surface-container-highest, #e6e0e9));--_content-color: var(--md-filled-field-content-color, var(--md-sys-color-on-surface, #1d1b20));--_content-font: var(--md-filled-field-content-font, var(--md-sys-typescale-body-large-font, var(--md-ref-typeface-plain, Roboto)));--_content-line-height: var(--md-filled-field-content-line-height, var(--md-sys-typescale-body-large-line-height, 1.5rem));--_content-size: var(--md-filled-field-content-size, var(--md-sys-typescale-body-large-size, 1rem));--_content-weight: var(--md-filled-field-content-weight, var(--md-sys-typescale-body-large-weight, var(--md-ref-typeface-weight-regular, 400)));--_disabled-active-indicator-color: var(--md-filled-field-disabled-active-indicator-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-active-indicator-height: var(--md-filled-field-disabled-active-indicator-height, 1px);--_disabled-active-indicator-opacity: var(--md-filled-field-disabled-active-indicator-opacity, 0.38);--_disabled-container-color: var(--md-filled-field-disabled-container-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-container-opacity: var(--md-filled-field-disabled-container-opacity, 0.04);--_disabled-content-color: var(--md-filled-field-disabled-content-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-content-opacity: var(--md-filled-field-disabled-content-opacity, 0.38);--_disabled-label-text-color: var(--md-filled-field-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-label-text-opacity: var(--md-filled-field-disabled-label-text-opacity, 0.38);--_disabled-leading-content-color: var(--md-filled-field-disabled-leading-content-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-leading-content-opacity: var(--md-filled-field-disabled-leading-content-opacity, 0.38);--_disabled-supporting-text-color: var(--md-filled-field-disabled-supporting-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-supporting-text-opacity: var(--md-filled-field-disabled-supporting-text-opacity, 0.38);--_disabled-trailing-content-color: var(--md-filled-field-disabled-trailing-content-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-trailing-content-opacity: var(--md-filled-field-disabled-trailing-content-opacity, 0.38);--_error-active-indicator-color: var(--md-filled-field-error-active-indicator-color, var(--md-sys-color-error, #b3261e));--_error-content-color: var(--md-filled-field-error-content-color, var(--md-sys-color-on-surface, #1d1b20));--_error-focus-active-indicator-color: var(--md-filled-field-error-focus-active-indicator-color, var(--md-sys-color-error, #b3261e));--_error-focus-content-color: var(--md-filled-field-error-focus-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_error-focus-label-text-color: var(--md-filled-field-error-focus-label-text-color, var(--md-sys-color-error, #b3261e));--_error-focus-leading-content-color: var(--md-filled-field-error-focus-leading-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_error-focus-supporting-text-color: var(--md-filled-field-error-focus-supporting-text-color, var(--md-sys-color-error, #b3261e));--_error-focus-trailing-content-color: var(--md-filled-field-error-focus-trailing-content-color, var(--md-sys-color-error, #b3261e));--_error-hover-active-indicator-color: var(--md-filled-field-error-hover-active-indicator-color, var(--md-sys-color-on-error-container, #410e0b));--_error-hover-content-color: var(--md-filled-field-error-hover-content-color, var(--md-sys-color-on-surface, #1d1b20));--_error-hover-label-text-color: var(--md-filled-field-error-hover-label-text-color, var(--md-sys-color-on-error-container, #410e0b));--_error-hover-leading-content-color: var(--md-filled-field-error-hover-leading-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_error-hover-state-layer-color: var(--md-filled-field-error-hover-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--_error-hover-state-layer-opacity: var(--md-filled-field-error-hover-state-layer-opacity, 0.08);--_error-hover-supporting-text-color: var(--md-filled-field-error-hover-supporting-text-color, var(--md-sys-color-error, #b3261e));--_error-hover-trailing-content-color: var(--md-filled-field-error-hover-trailing-content-color, var(--md-sys-color-on-error-container, #410e0b));--_error-label-text-color: var(--md-filled-field-error-label-text-color, var(--md-sys-color-error, #b3261e));--_error-leading-content-color: var(--md-filled-field-error-leading-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_error-supporting-text-color: var(--md-filled-field-error-supporting-text-color, var(--md-sys-color-error, #b3261e));--_error-trailing-content-color: var(--md-filled-field-error-trailing-content-color, var(--md-sys-color-error, #b3261e));--_focus-active-indicator-color: var(--md-filled-field-focus-active-indicator-color, var(--md-sys-color-primary, #6750a4));--_focus-active-indicator-height: var(--md-filled-field-focus-active-indicator-height, 3px);--_focus-content-color: var(--md-filled-field-focus-content-color, var(--md-sys-color-on-surface, #1d1b20));--_focus-label-text-color: var(--md-filled-field-focus-label-text-color, var(--md-sys-color-primary, #6750a4));--_focus-leading-content-color: var(--md-filled-field-focus-leading-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_focus-supporting-text-color: var(--md-filled-field-focus-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_focus-trailing-content-color: var(--md-filled-field-focus-trailing-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-active-indicator-color: var(--md-filled-field-hover-active-indicator-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-active-indicator-height: var(--md-filled-field-hover-active-indicator-height, 1px);--_hover-content-color: var(--md-filled-field-hover-content-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-label-text-color: var(--md-filled-field-hover-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-leading-content-color: var(--md-filled-field-hover-leading-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-state-layer-color: var(--md-filled-field-hover-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-state-layer-opacity: var(--md-filled-field-hover-state-layer-opacity, 0.08);--_hover-supporting-text-color: var(--md-filled-field-hover-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-trailing-content-color: var(--md-filled-field-hover-trailing-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_label-text-color: var(--md-filled-field-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_label-text-font: var(--md-filled-field-label-text-font, var(--md-sys-typescale-body-large-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-line-height: var(--md-filled-field-label-text-line-height, var(--md-sys-typescale-body-large-line-height, 1.5rem));--_label-text-populated-line-height: var(--md-filled-field-label-text-populated-line-height, var(--md-sys-typescale-body-small-line-height, 1rem));--_label-text-populated-size: var(--md-filled-field-label-text-populated-size, var(--md-sys-typescale-body-small-size, 0.75rem));--_label-text-size: var(--md-filled-field-label-text-size, var(--md-sys-typescale-body-large-size, 1rem));--_label-text-weight: var(--md-filled-field-label-text-weight, var(--md-sys-typescale-body-large-weight, var(--md-ref-typeface-weight-regular, 400)));--_leading-content-color: var(--md-filled-field-leading-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_leading-space: var(--md-filled-field-leading-space, 16px);--_supporting-text-color: var(--md-filled-field-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_supporting-text-font: var(--md-filled-field-supporting-text-font, var(--md-sys-typescale-body-small-font, var(--md-ref-typeface-plain, Roboto)));--_supporting-text-leading-space: var(--md-filled-field-supporting-text-leading-space, 16px);--_supporting-text-line-height: var(--md-filled-field-supporting-text-line-height, var(--md-sys-typescale-body-small-line-height, 1rem));--_supporting-text-size: var(--md-filled-field-supporting-text-size, var(--md-sys-typescale-body-small-size, 0.75rem));--_supporting-text-top-space: var(--md-filled-field-supporting-text-top-space, 4px);--_supporting-text-trailing-space: var(--md-filled-field-supporting-text-trailing-space, 16px);--_supporting-text-weight: var(--md-filled-field-supporting-text-weight, var(--md-sys-typescale-body-small-weight, var(--md-ref-typeface-weight-regular, 400)));--_top-space: var(--md-filled-field-top-space, 16px);--_trailing-content-color: var(--md-filled-field-trailing-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_trailing-space: var(--md-filled-field-trailing-space, 16px);--_with-label-bottom-space: var(--md-filled-field-with-label-bottom-space, 8px);--_with-label-top-space: var(--md-filled-field-with-label-top-space, 8px);--_container-shape-start-start: var(--md-filled-field-container-shape-start-start, var(--md-filled-field-container-shape, var(--md-sys-shape-corner-extra-small, 4px)));--_container-shape-start-end: var(--md-filled-field-container-shape-start-end, var(--md-filled-field-container-shape, var(--md-sys-shape-corner-extra-small, 4px)));--_container-shape-end-end: var(--md-filled-field-container-shape-end-end, var(--md-filled-field-container-shape, var(--md-sys-shape-corner-none, 0px)));--_container-shape-end-start: var(--md-filled-field-container-shape-end-start, var(--md-filled-field-container-shape, var(--md-sys-shape-corner-none, 0px)))}.background,.state-layer{border-radius:inherit;inset:0;pointer-events:none;position:absolute}.background{background:var(--_container-color)}.state-layer{visibility:hidden}.field:not(.disabled):hover .state-layer{visibility:visible}.label.floating{position:absolute;top:var(--_with-label-top-space)}.field:not(.with-start) .label-wrapper{margin-inline-start:var(--_leading-space)}.field:not(.with-end) .label-wrapper{margin-inline-end:var(--_trailing-space)}.active-indicator{inset:auto 0 0 0;pointer-events:none;position:absolute;width:100%;z-index:1}.active-indicator::before,.active-indicator::after{border-bottom:var(--_active-indicator-height) solid var(--_active-indicator-color);inset:auto 0 0 0;content:"";position:absolute;width:100%}.active-indicator::after{opacity:0;transition:opacity 150ms cubic-bezier(0.2, 0, 0, 1)}.focused .active-indicator::after{opacity:1}.field:not(.with-start) .content ::slotted(*){padding-inline-start:var(--_leading-space)}.field:not(.with-end) .content ::slotted(*){padding-inline-end:var(--_trailing-space)}.field:not(.no-label) .content ::slotted(:not(textarea)){padding-bottom:var(--_with-label-bottom-space);padding-top:calc(var(--_with-label-top-space) + var(--_label-text-populated-line-height))}.field:not(.no-label) .content ::slotted(textarea){margin-bottom:var(--_with-label-bottom-space);margin-top:calc(var(--_with-label-top-space) + var(--_label-text-populated-line-height))}:hover .active-indicator::before{border-bottom-color:var(--_hover-active-indicator-color);border-bottom-width:var(--_hover-active-indicator-height)}.active-indicator::after{border-bottom-color:var(--_focus-active-indicator-color);border-bottom-width:var(--_focus-active-indicator-height)}:hover .state-layer{background:var(--_hover-state-layer-color);opacity:var(--_hover-state-layer-opacity)}.disabled .active-indicator::before{border-bottom-color:var(--_disabled-active-indicator-color);border-bottom-width:var(--_disabled-active-indicator-height);opacity:var(--_disabled-active-indicator-opacity)}.disabled .background{background:var(--_disabled-container-color);opacity:var(--_disabled-container-opacity)}.error .active-indicator::before{border-bottom-color:var(--_error-active-indicator-color)}.error:hover .active-indicator::before{border-bottom-color:var(--_error-hover-active-indicator-color)}.error:hover .state-layer{background:var(--_error-hover-state-layer-color);opacity:var(--_error-hover-state-layer-opacity)}.error .active-indicator::after{border-bottom-color:var(--_error-focus-active-indicator-color)}.resizable .container{bottom:var(--_focus-active-indicator-height);clip-path:inset(var(--_focus-active-indicator-height) 0 0 0)}.resizable .container>*{top:var(--_focus-active-indicator-height)}}@layer hcm{@media(forced-colors: active){.disabled .active-indicator::before{border-color:GrayText;opacity:1}}}
`;/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Q4=Te`:host{display:inline-flex;resize:both}.field{display:flex;flex:1;flex-direction:column;writing-mode:horizontal-tb;max-width:100%}.container-overflow{border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-end-radius:var(--_container-shape-end-end);border-end-start-radius:var(--_container-shape-end-start);display:flex;height:100%;position:relative}.container{align-items:center;border-radius:inherit;display:flex;flex:1;max-height:100%;min-height:100%;min-width:min-content;position:relative}.field,.container-overflow{resize:inherit}.resizable:not(.disabled) .container{resize:inherit;overflow:hidden}.disabled{pointer-events:none}@layer styles{.start,.middle,.end{display:flex;box-sizing:border-box;height:100%;position:relative}.start{color:var(--_leading-content-color)}.end{color:var(--_trailing-content-color)}.start,.end{align-items:center;justify-content:center}.with-start .start,.with-end .end{min-width:48px}.with-start .start{margin-inline-end:4px}.with-end .end{margin-inline-start:4px}.middle{align-items:stretch;align-self:baseline;flex:1}.content{color:var(--_content-color);display:flex;flex:1;opacity:0;transition:opacity 83ms cubic-bezier(0.2, 0, 0, 1)}.no-label .content,.focused .content,.populated .content{opacity:1;transition-delay:67ms}:is(.disabled,.disable-transitions) .content{transition:none}.content ::slotted(*){all:unset;color:currentColor;font-family:var(--_content-font);font-size:var(--_content-size);line-height:var(--_content-line-height);font-weight:var(--_content-weight);width:100%;overflow-wrap:revert;white-space:revert}.content ::slotted(:not(textarea)){padding-top:var(--_top-space);padding-bottom:var(--_bottom-space)}.content ::slotted(textarea){margin-top:var(--_top-space);margin-bottom:var(--_bottom-space)}:hover .content{color:var(--_hover-content-color)}:hover .start{color:var(--_hover-leading-content-color)}:hover .end{color:var(--_hover-trailing-content-color)}.focused .content{color:var(--_focus-content-color)}.focused .start{color:var(--_focus-leading-content-color)}.focused .end{color:var(--_focus-trailing-content-color)}.disabled .content{color:var(--_disabled-content-color)}.disabled.no-label .content,.disabled.focused .content,.disabled.populated .content{opacity:var(--_disabled-content-opacity)}.disabled .start{color:var(--_disabled-leading-content-color);opacity:var(--_disabled-leading-content-opacity)}.disabled .end{color:var(--_disabled-trailing-content-color);opacity:var(--_disabled-trailing-content-opacity)}.error .content{color:var(--_error-content-color)}.error .start{color:var(--_error-leading-content-color)}.error .end{color:var(--_error-trailing-content-color)}.error:hover .content{color:var(--_error-hover-content-color)}.error:hover .start{color:var(--_error-hover-leading-content-color)}.error:hover .end{color:var(--_error-hover-trailing-content-color)}.error.focused .content{color:var(--_error-focus-content-color)}.error.focused .start{color:var(--_error-focus-leading-content-color)}.error.focused .end{color:var(--_error-focus-trailing-content-color)}}@layer hcm{@media(forced-colors: active){.disabled :is(.start,.content,.end){color:GrayText;opacity:1}}}@layer styles{.label{box-sizing:border-box;color:var(--_label-text-color);overflow:hidden;max-width:100%;text-overflow:ellipsis;white-space:nowrap;z-index:1;font-family:var(--_label-text-font);font-size:var(--_label-text-size);line-height:var(--_label-text-line-height);font-weight:var(--_label-text-weight);width:min-content}.label-wrapper{inset:0;pointer-events:none;position:absolute}.label.resting{position:absolute;top:var(--_top-space)}.label.floating{font-size:var(--_label-text-populated-size);line-height:var(--_label-text-populated-line-height);transform-origin:top left}.label.hidden{opacity:0}.no-label .label{display:none}.label-wrapper{inset:0;position:absolute;text-align:initial}:hover .label{color:var(--_hover-label-text-color)}.focused .label{color:var(--_focus-label-text-color)}.disabled .label{color:var(--_disabled-label-text-color)}.disabled .label:not(.hidden){opacity:var(--_disabled-label-text-opacity)}.error .label{color:var(--_error-label-text-color)}.error:hover .label{color:var(--_error-hover-label-text-color)}.error.focused .label{color:var(--_error-focus-label-text-color)}}@layer hcm{@media(forced-colors: active){.disabled .label:not(.hidden){color:GrayText;opacity:1}}}@layer styles{.supporting-text{color:var(--_supporting-text-color);display:flex;font-family:var(--_supporting-text-font);font-size:var(--_supporting-text-size);line-height:var(--_supporting-text-line-height);font-weight:var(--_supporting-text-weight);gap:16px;justify-content:space-between;padding-inline-start:var(--_supporting-text-leading-space);padding-inline-end:var(--_supporting-text-trailing-space);padding-top:var(--_supporting-text-top-space)}.supporting-text :nth-child(2){flex-shrink:0}:hover .supporting-text{color:var(--_hover-supporting-text-color)}.focus .supporting-text{color:var(--_focus-supporting-text-color)}.disabled .supporting-text{color:var(--_disabled-supporting-text-color);opacity:var(--_disabled-supporting-text-opacity)}.error .supporting-text{color:var(--_error-supporting-text-color)}.error:hover .supporting-text{color:var(--_error-hover-supporting-text-color)}.error.focus .supporting-text{color:var(--_error-focus-supporting-text-color)}}@layer hcm{@media(forced-colors: active){.disabled .supporting-text{color:GrayText;opacity:1}}}
`;/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let am=class extends K4{};am.styles=[Q4,G4];am=O([it("md-filled-field")],am);/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const AS=Symbol.for(""),Y4=t=>{if((t==null?void 0:t.r)===AS)return t==null?void 0:t._$litStatic$},fo=(t,...e)=>({_$litStatic$:e.reduce((r,n,i)=>r+(o=>{if(o._$litStatic$!==void 0)return o._$litStatic$;throw Error(`Value passed to 'literal' function must be a 'literal' result: ${o}. Use 'unsafeStatic' to pass non-literal values, but
            take care to ensure page security.`)})(n)+t[i+1],t[0]),r:AS}),Mw=new Map,X4=t=>(e,...r)=>{const n=r.length;let i,o;const s=[],l=[];let c,u=0,h=!1;for(;u<n;){for(c=e[u];u<n&&(o=r[u],(i=Y4(o))!==void 0);)c+=i+e[++u],h=!0;u!==n&&l.push(o),s.push(c),u++}if(u===n&&s.push(e[n]),h){const p=s.join("$$lit$$");(e=Mw.get(p))===void 0&&(s.raw=s,Mw.set(p,e=s)),r=l}return t(e,...r)},$v=X4(Y);/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const J4=Te`:host{--_active-indicator-color: var(--md-filled-text-field-active-indicator-color, var(--md-sys-color-on-surface-variant, #49454f));--_active-indicator-height: var(--md-filled-text-field-active-indicator-height, 1px);--_caret-color: var(--md-filled-text-field-caret-color, var(--md-sys-color-primary, #6750a4));--_container-color: var(--md-filled-text-field-container-color, var(--md-sys-color-surface-container-highest, #e6e0e9));--_disabled-active-indicator-color: var(--md-filled-text-field-disabled-active-indicator-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-active-indicator-height: var(--md-filled-text-field-disabled-active-indicator-height, 1px);--_disabled-active-indicator-opacity: var(--md-filled-text-field-disabled-active-indicator-opacity, 0.38);--_disabled-container-color: var(--md-filled-text-field-disabled-container-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-container-opacity: var(--md-filled-text-field-disabled-container-opacity, 0.04);--_disabled-input-text-color: var(--md-filled-text-field-disabled-input-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-input-text-opacity: var(--md-filled-text-field-disabled-input-text-opacity, 0.38);--_disabled-label-text-color: var(--md-filled-text-field-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-label-text-opacity: var(--md-filled-text-field-disabled-label-text-opacity, 0.38);--_disabled-leading-icon-color: var(--md-filled-text-field-disabled-leading-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-leading-icon-opacity: var(--md-filled-text-field-disabled-leading-icon-opacity, 0.38);--_disabled-supporting-text-color: var(--md-filled-text-field-disabled-supporting-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-supporting-text-opacity: var(--md-filled-text-field-disabled-supporting-text-opacity, 0.38);--_disabled-trailing-icon-color: var(--md-filled-text-field-disabled-trailing-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-trailing-icon-opacity: var(--md-filled-text-field-disabled-trailing-icon-opacity, 0.38);--_error-active-indicator-color: var(--md-filled-text-field-error-active-indicator-color, var(--md-sys-color-error, #b3261e));--_error-focus-active-indicator-color: var(--md-filled-text-field-error-focus-active-indicator-color, var(--md-sys-color-error, #b3261e));--_error-focus-caret-color: var(--md-filled-text-field-error-focus-caret-color, var(--md-sys-color-error, #b3261e));--_error-focus-input-text-color: var(--md-filled-text-field-error-focus-input-text-color, var(--md-sys-color-on-surface, #1d1b20));--_error-focus-label-text-color: var(--md-filled-text-field-error-focus-label-text-color, var(--md-sys-color-error, #b3261e));--_error-focus-leading-icon-color: var(--md-filled-text-field-error-focus-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_error-focus-supporting-text-color: var(--md-filled-text-field-error-focus-supporting-text-color, var(--md-sys-color-error, #b3261e));--_error-focus-trailing-icon-color: var(--md-filled-text-field-error-focus-trailing-icon-color, var(--md-sys-color-error, #b3261e));--_error-hover-active-indicator-color: var(--md-filled-text-field-error-hover-active-indicator-color, var(--md-sys-color-on-error-container, #410e0b));--_error-hover-input-text-color: var(--md-filled-text-field-error-hover-input-text-color, var(--md-sys-color-on-surface, #1d1b20));--_error-hover-label-text-color: var(--md-filled-text-field-error-hover-label-text-color, var(--md-sys-color-on-error-container, #410e0b));--_error-hover-leading-icon-color: var(--md-filled-text-field-error-hover-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_error-hover-state-layer-color: var(--md-filled-text-field-error-hover-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--_error-hover-state-layer-opacity: var(--md-filled-text-field-error-hover-state-layer-opacity, 0.08);--_error-hover-supporting-text-color: var(--md-filled-text-field-error-hover-supporting-text-color, var(--md-sys-color-error, #b3261e));--_error-hover-trailing-icon-color: var(--md-filled-text-field-error-hover-trailing-icon-color, var(--md-sys-color-on-error-container, #410e0b));--_error-input-text-color: var(--md-filled-text-field-error-input-text-color, var(--md-sys-color-on-surface, #1d1b20));--_error-label-text-color: var(--md-filled-text-field-error-label-text-color, var(--md-sys-color-error, #b3261e));--_error-leading-icon-color: var(--md-filled-text-field-error-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_error-supporting-text-color: var(--md-filled-text-field-error-supporting-text-color, var(--md-sys-color-error, #b3261e));--_error-trailing-icon-color: var(--md-filled-text-field-error-trailing-icon-color, var(--md-sys-color-error, #b3261e));--_focus-active-indicator-color: var(--md-filled-text-field-focus-active-indicator-color, var(--md-sys-color-primary, #6750a4));--_focus-active-indicator-height: var(--md-filled-text-field-focus-active-indicator-height, 3px);--_focus-input-text-color: var(--md-filled-text-field-focus-input-text-color, var(--md-sys-color-on-surface, #1d1b20));--_focus-label-text-color: var(--md-filled-text-field-focus-label-text-color, var(--md-sys-color-primary, #6750a4));--_focus-leading-icon-color: var(--md-filled-text-field-focus-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_focus-supporting-text-color: var(--md-filled-text-field-focus-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_focus-trailing-icon-color: var(--md-filled-text-field-focus-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-active-indicator-color: var(--md-filled-text-field-hover-active-indicator-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-active-indicator-height: var(--md-filled-text-field-hover-active-indicator-height, 1px);--_hover-input-text-color: var(--md-filled-text-field-hover-input-text-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-label-text-color: var(--md-filled-text-field-hover-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-leading-icon-color: var(--md-filled-text-field-hover-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-state-layer-color: var(--md-filled-text-field-hover-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--_hover-state-layer-opacity: var(--md-filled-text-field-hover-state-layer-opacity, 0.08);--_hover-supporting-text-color: var(--md-filled-text-field-hover-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-trailing-icon-color: var(--md-filled-text-field-hover-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_input-text-color: var(--md-filled-text-field-input-text-color, var(--md-sys-color-on-surface, #1d1b20));--_input-text-font: var(--md-filled-text-field-input-text-font, var(--md-sys-typescale-body-large-font, var(--md-ref-typeface-plain, Roboto)));--_input-text-line-height: var(--md-filled-text-field-input-text-line-height, var(--md-sys-typescale-body-large-line-height, 1.5rem));--_input-text-placeholder-color: var(--md-filled-text-field-input-text-placeholder-color, var(--md-sys-color-on-surface-variant, #49454f));--_input-text-prefix-color: var(--md-filled-text-field-input-text-prefix-color, var(--md-sys-color-on-surface-variant, #49454f));--_input-text-size: var(--md-filled-text-field-input-text-size, var(--md-sys-typescale-body-large-size, 1rem));--_input-text-suffix-color: var(--md-filled-text-field-input-text-suffix-color, var(--md-sys-color-on-surface-variant, #49454f));--_input-text-weight: var(--md-filled-text-field-input-text-weight, var(--md-sys-typescale-body-large-weight, var(--md-ref-typeface-weight-regular, 400)));--_label-text-color: var(--md-filled-text-field-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_label-text-font: var(--md-filled-text-field-label-text-font, var(--md-sys-typescale-body-large-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-line-height: var(--md-filled-text-field-label-text-line-height, var(--md-sys-typescale-body-large-line-height, 1.5rem));--_label-text-populated-line-height: var(--md-filled-text-field-label-text-populated-line-height, var(--md-sys-typescale-body-small-line-height, 1rem));--_label-text-populated-size: var(--md-filled-text-field-label-text-populated-size, var(--md-sys-typescale-body-small-size, 0.75rem));--_label-text-size: var(--md-filled-text-field-label-text-size, var(--md-sys-typescale-body-large-size, 1rem));--_label-text-weight: var(--md-filled-text-field-label-text-weight, var(--md-sys-typescale-body-large-weight, var(--md-ref-typeface-weight-regular, 400)));--_leading-icon-color: var(--md-filled-text-field-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_leading-icon-size: var(--md-filled-text-field-leading-icon-size, 24px);--_supporting-text-color: var(--md-filled-text-field-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_supporting-text-font: var(--md-filled-text-field-supporting-text-font, var(--md-sys-typescale-body-small-font, var(--md-ref-typeface-plain, Roboto)));--_supporting-text-line-height: var(--md-filled-text-field-supporting-text-line-height, var(--md-sys-typescale-body-small-line-height, 1rem));--_supporting-text-size: var(--md-filled-text-field-supporting-text-size, var(--md-sys-typescale-body-small-size, 0.75rem));--_supporting-text-weight: var(--md-filled-text-field-supporting-text-weight, var(--md-sys-typescale-body-small-weight, var(--md-ref-typeface-weight-regular, 400)));--_trailing-icon-color: var(--md-filled-text-field-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_trailing-icon-size: var(--md-filled-text-field-trailing-icon-size, 24px);--_container-shape-start-start: var(--md-filled-text-field-container-shape-start-start, var(--md-filled-text-field-container-shape, var(--md-sys-shape-corner-extra-small, 4px)));--_container-shape-start-end: var(--md-filled-text-field-container-shape-start-end, var(--md-filled-text-field-container-shape, var(--md-sys-shape-corner-extra-small, 4px)));--_container-shape-end-end: var(--md-filled-text-field-container-shape-end-end, var(--md-filled-text-field-container-shape, var(--md-sys-shape-corner-none, 0px)));--_container-shape-end-start: var(--md-filled-text-field-container-shape-end-start, var(--md-filled-text-field-container-shape, var(--md-sys-shape-corner-none, 0px)));--_leading-space: var(--md-filled-text-field-leading-space, 16px);--_trailing-space: var(--md-filled-text-field-trailing-space, 16px);--_top-space: var(--md-filled-text-field-top-space, 16px);--_bottom-space: var(--md-filled-text-field-bottom-space, 16px);--_input-text-prefix-trailing-space: var(--md-filled-text-field-input-text-prefix-trailing-space, 2px);--_input-text-suffix-leading-space: var(--md-filled-text-field-input-text-suffix-leading-space, 2px);--_with-label-top-space: var(--md-filled-text-field-with-label-top-space, 8px);--_with-label-bottom-space: var(--md-filled-text-field-with-label-bottom-space, 8px);--_focus-caret-color: var(--md-filled-text-field-focus-caret-color, var(--md-sys-color-primary, #6750a4));--md-filled-field-active-indicator-color: var(--_active-indicator-color);--md-filled-field-active-indicator-height: var(--_active-indicator-height);--md-filled-field-bottom-space: var(--_bottom-space);--md-filled-field-container-color: var(--_container-color);--md-filled-field-container-shape-end-end: var(--_container-shape-end-end);--md-filled-field-container-shape-end-start: var(--_container-shape-end-start);--md-filled-field-container-shape-start-end: var(--_container-shape-start-end);--md-filled-field-container-shape-start-start: var(--_container-shape-start-start);--md-filled-field-content-color: var(--_input-text-color);--md-filled-field-content-font: var(--_input-text-font);--md-filled-field-content-line-height: var(--_input-text-line-height);--md-filled-field-content-size: var(--_input-text-size);--md-filled-field-content-weight: var(--_input-text-weight);--md-filled-field-disabled-active-indicator-color: var(--_disabled-active-indicator-color);--md-filled-field-disabled-active-indicator-height: var(--_disabled-active-indicator-height);--md-filled-field-disabled-active-indicator-opacity: var(--_disabled-active-indicator-opacity);--md-filled-field-disabled-container-color: var(--_disabled-container-color);--md-filled-field-disabled-container-opacity: var(--_disabled-container-opacity);--md-filled-field-disabled-content-color: var(--_disabled-input-text-color);--md-filled-field-disabled-content-opacity: var(--_disabled-input-text-opacity);--md-filled-field-disabled-label-text-color: var(--_disabled-label-text-color);--md-filled-field-disabled-label-text-opacity: var(--_disabled-label-text-opacity);--md-filled-field-disabled-leading-content-color: var(--_disabled-leading-icon-color);--md-filled-field-disabled-leading-content-opacity: var(--_disabled-leading-icon-opacity);--md-filled-field-disabled-supporting-text-color: var(--_disabled-supporting-text-color);--md-filled-field-disabled-supporting-text-opacity: var(--_disabled-supporting-text-opacity);--md-filled-field-disabled-trailing-content-color: var(--_disabled-trailing-icon-color);--md-filled-field-disabled-trailing-content-opacity: var(--_disabled-trailing-icon-opacity);--md-filled-field-error-active-indicator-color: var(--_error-active-indicator-color);--md-filled-field-error-content-color: var(--_error-input-text-color);--md-filled-field-error-focus-active-indicator-color: var(--_error-focus-active-indicator-color);--md-filled-field-error-focus-content-color: var(--_error-focus-input-text-color);--md-filled-field-error-focus-label-text-color: var(--_error-focus-label-text-color);--md-filled-field-error-focus-leading-content-color: var(--_error-focus-leading-icon-color);--md-filled-field-error-focus-supporting-text-color: var(--_error-focus-supporting-text-color);--md-filled-field-error-focus-trailing-content-color: var(--_error-focus-trailing-icon-color);--md-filled-field-error-hover-active-indicator-color: var(--_error-hover-active-indicator-color);--md-filled-field-error-hover-content-color: var(--_error-hover-input-text-color);--md-filled-field-error-hover-label-text-color: var(--_error-hover-label-text-color);--md-filled-field-error-hover-leading-content-color: var(--_error-hover-leading-icon-color);--md-filled-field-error-hover-state-layer-color: var(--_error-hover-state-layer-color);--md-filled-field-error-hover-state-layer-opacity: var(--_error-hover-state-layer-opacity);--md-filled-field-error-hover-supporting-text-color: var(--_error-hover-supporting-text-color);--md-filled-field-error-hover-trailing-content-color: var(--_error-hover-trailing-icon-color);--md-filled-field-error-label-text-color: var(--_error-label-text-color);--md-filled-field-error-leading-content-color: var(--_error-leading-icon-color);--md-filled-field-error-supporting-text-color: var(--_error-supporting-text-color);--md-filled-field-error-trailing-content-color: var(--_error-trailing-icon-color);--md-filled-field-focus-active-indicator-color: var(--_focus-active-indicator-color);--md-filled-field-focus-active-indicator-height: var(--_focus-active-indicator-height);--md-filled-field-focus-content-color: var(--_focus-input-text-color);--md-filled-field-focus-label-text-color: var(--_focus-label-text-color);--md-filled-field-focus-leading-content-color: var(--_focus-leading-icon-color);--md-filled-field-focus-supporting-text-color: var(--_focus-supporting-text-color);--md-filled-field-focus-trailing-content-color: var(--_focus-trailing-icon-color);--md-filled-field-hover-active-indicator-color: var(--_hover-active-indicator-color);--md-filled-field-hover-active-indicator-height: var(--_hover-active-indicator-height);--md-filled-field-hover-content-color: var(--_hover-input-text-color);--md-filled-field-hover-label-text-color: var(--_hover-label-text-color);--md-filled-field-hover-leading-content-color: var(--_hover-leading-icon-color);--md-filled-field-hover-state-layer-color: var(--_hover-state-layer-color);--md-filled-field-hover-state-layer-opacity: var(--_hover-state-layer-opacity);--md-filled-field-hover-supporting-text-color: var(--_hover-supporting-text-color);--md-filled-field-hover-trailing-content-color: var(--_hover-trailing-icon-color);--md-filled-field-label-text-color: var(--_label-text-color);--md-filled-field-label-text-font: var(--_label-text-font);--md-filled-field-label-text-line-height: var(--_label-text-line-height);--md-filled-field-label-text-populated-line-height: var(--_label-text-populated-line-height);--md-filled-field-label-text-populated-size: var(--_label-text-populated-size);--md-filled-field-label-text-size: var(--_label-text-size);--md-filled-field-label-text-weight: var(--_label-text-weight);--md-filled-field-leading-content-color: var(--_leading-icon-color);--md-filled-field-leading-space: var(--_leading-space);--md-filled-field-supporting-text-color: var(--_supporting-text-color);--md-filled-field-supporting-text-font: var(--_supporting-text-font);--md-filled-field-supporting-text-line-height: var(--_supporting-text-line-height);--md-filled-field-supporting-text-size: var(--_supporting-text-size);--md-filled-field-supporting-text-weight: var(--_supporting-text-weight);--md-filled-field-top-space: var(--_top-space);--md-filled-field-trailing-content-color: var(--_trailing-icon-color);--md-filled-field-trailing-space: var(--_trailing-space);--md-filled-field-with-label-bottom-space: var(--_with-label-bottom-space);--md-filled-field-with-label-top-space: var(--_with-label-top-space)}
`;/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Z4=t=>t.strings===void 0,eV={},tV=(t,e=eV)=>t._$AH=e;/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Vw=Lv(class extends Mv{constructor(t){if(super(t),t.type!==si.PROPERTY&&t.type!==si.ATTRIBUTE&&t.type!==si.BOOLEAN_ATTRIBUTE)throw Error("The `live` directive is not allowed on child or event bindings");if(!Z4(t))throw Error("`live` bindings can only contain a single expression")}render(t){return t}update(t,[e]){if(e===Rr||e===W)return e;const r=t.element,n=t.name;if(t.type===si.PROPERTY){if(e===r[n])return Rr}else if(t.type===si.BOOLEAN_ATTRIBUTE){if(!!e===r.hasAttribute(n))return Rr}else if(t.type===si.ATTRIBUTE&&r.getAttribute(n)===e+"")return Rr;return tV(t),e}});/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const CS="important",rV=" !"+CS,$w=Lv(class extends Mv{constructor(t){var e;if(super(t),t.type!==si.ATTRIBUTE||t.name!=="style"||((e=t.strings)==null?void 0:e.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce((e,r)=>{const n=t[r];return n==null?e:e+`${r=r.includes("-")?r:r.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${n};`},"")}update(t,[e]){const{style:r}=t.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(e)),this.render(e);for(const n of this.ft)e[n]==null&&(this.ft.delete(n),n.includes("-")?r.removeProperty(n):r[n]=null);for(const n in e){const i=e[n];if(i!=null){this.ft.add(n);const o=typeof i=="string"&&i.endsWith(rV);n.includes("-")||o?r.setProperty(n,o?i.slice(0,-11):i,o?CS:""):r[n]=i}}return Rr}});/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nV={fromAttribute(t){return t??""},toAttribute(t){return t||null}};/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lh(t,e){e.bubbles&&(!t.shadowRoot||e.composed)&&e.stopPropagation();const r=Reflect.construct(e.constructor,[e.type,e]),n=t.dispatchEvent(r);return n||e.preventDefault(),n}/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ol=Symbol("createValidator"),Ll=Symbol("getValidityAnchor"),If=Symbol("privateValidator"),In=Symbol("privateSyncValidity"),Hc=Symbol("privateCustomValidationMessage");function Fv(t){var e;class r extends t{constructor(){super(...arguments),this[e]=""}get validity(){return this[In](),this[Tt].validity}get validationMessage(){return this[In](),this[Tt].validationMessage}get willValidate(){return this[In](),this[Tt].willValidate}checkValidity(){return this[In](),this[Tt].checkValidity()}reportValidity(){return this[In](),this[Tt].reportValidity()}setCustomValidity(i){this[Hc]=i,this[In]()}requestUpdate(i,o,s){super.requestUpdate(i,o,s),this[In]()}firstUpdated(i){super.firstUpdated(i),this[In]()}[(e=Hc,In)](){this[If]||(this[If]=this[Ol]());const{validity:i,validationMessage:o}=this[If].getValidity(),s=!!this[Hc],l=this[Hc]||o;this[Tt].setValidity({...i,customError:s},l,this[Ll]()??void 0)}[Ol](){throw new Error("Implement [createValidator]")}[Ll](){throw new Error("Implement [getValidityAnchor]")}}return r}/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vs=Symbol("getFormValue"),fd=Symbol("getFormState");function Uv(t){class e extends t{get form(){return this[Tt].form}get labels(){return this[Tt].labels}get name(){return this.getAttribute("name")??""}set name(n){this.setAttribute("name",n)}get disabled(){return this.hasAttribute("disabled")}set disabled(n){this.toggleAttribute("disabled",n)}attributeChangedCallback(n,i,o){if(n==="name"||n==="disabled"){const s=n==="disabled"?i!==null:i;this.requestUpdate(n,s);return}super.attributeChangedCallback(n,i,o)}requestUpdate(n,i,o){super.requestUpdate(n,i,o),this[Tt].setFormValue(this[vs](),this[fd]())}[vs](){throw new Error("Implement [getFormValue]")}[fd](){return this[vs]()}formDisabledCallback(n){this.disabled=n}}return e.formAssociated=!0,O([z({noAccessor:!0})],e.prototype,"name",null),O([z({type:Boolean,noAccessor:!0})],e.prototype,"disabled",null),e}/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lm=Symbol("onReportValidity"),Wc=Symbol("privateCleanupFormListeners"),Kc=Symbol("privateDoNotReportInvalid"),Gc=Symbol("privateIsSelfReportingValidity"),Qc=Symbol("privateCallOnReportValidity");function iV(t){var e,r,n;class i extends t{constructor(...s){super(...s),this[e]=new AbortController,this[r]=!1,this[n]=!1,this.addEventListener("invalid",l=>{this[Kc]||!l.isTrusted||this.addEventListener("invalid",()=>{this[Qc](l)},{once:!0})},{capture:!0})}checkValidity(){this[Kc]=!0;const s=super.checkValidity();return this[Kc]=!1,s}reportValidity(){this[Gc]=!0;const s=super.reportValidity();return s&&this[Qc](null),this[Gc]=!1,s}[(e=Wc,r=Kc,n=Gc,Qc)](s){const l=s==null?void 0:s.defaultPrevented;l||(this[lm](s),!(!l&&(s==null?void 0:s.defaultPrevented)))||(this[Gc]||aV(this[Tt].form,this))&&this.focus()}[lm](s){throw new Error("Implement [onReportValidity]")}formAssociatedCallback(s){super.formAssociatedCallback&&super.formAssociatedCallback(s),this[Wc].abort(),s&&(this[Wc]=new AbortController,oV(this,s,()=>{this[Qc](null)},this[Wc].signal))}}return i}function oV(t,e,r,n){const i=sV(e);let o=!1,s,l=!1;i.addEventListener("before",()=>{l=!0,s=new AbortController,o=!1,t.addEventListener("invalid",()=>{o=!0},{signal:s.signal})},{signal:n}),i.addEventListener("after",()=>{l=!1,s==null||s.abort(),!o&&r()},{signal:n}),e.addEventListener("submit",()=>{l||r()},{signal:n})}const Tf=new WeakMap;function sV(t){if(!Tf.has(t)){const e=new EventTarget;Tf.set(t,e);for(const r of["reportValidity","requestSubmit"]){const n=t[r];t[r]=function(){e.dispatchEvent(new Event("before"));const i=Reflect.apply(n,this,arguments);return e.dispatchEvent(new Event("after")),i}}}return Tf.get(t)}function aV(t,e){if(!t)return!0;let r;for(const n of t.elements)if(n.matches(":invalid")){r=n;break}return r===e}/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jv{constructor(e){this.getCurrentState=e,this.currentValidity={validity:{},validationMessage:""}}getValidity(){const e=this.getCurrentState();if(!(!this.prevState||!this.equals(this.prevState,e)))return this.currentValidity;const{validity:n,validationMessage:i}=this.computeValidity(e);return this.prevState=this.copy(e),this.currentValidity={validationMessage:i,validity:{badInput:n.badInput,customError:n.customError,patternMismatch:n.patternMismatch,rangeOverflow:n.rangeOverflow,rangeUnderflow:n.rangeUnderflow,stepMismatch:n.stepMismatch,tooLong:n.tooLong,tooShort:n.tooShort,typeMismatch:n.typeMismatch,valueMissing:n.valueMissing}},this.currentValidity}}/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lV extends jv{computeValidity({state:e,renderedControl:r}){let n=r;Ea(e)&&!n?(n=this.inputControl||document.createElement("input"),this.inputControl=n):n||(n=this.textAreaControl||document.createElement("textarea"),this.textAreaControl=n);const i=Ea(e)?n:null;if(i&&(i.type=e.type),n.value!==e.value&&(n.value=e.value),n.required=e.required,i){const o=e;o.pattern?i.pattern=o.pattern:i.removeAttribute("pattern"),o.min?i.min=o.min:i.removeAttribute("min"),o.max?i.max=o.max:i.removeAttribute("max"),o.step?i.step=o.step:i.removeAttribute("step")}return(e.minLength??-1)>-1?n.setAttribute("minlength",String(e.minLength)):n.removeAttribute("minlength"),(e.maxLength??-1)>-1?n.setAttribute("maxlength",String(e.maxLength)):n.removeAttribute("maxlength"),{validity:n.validity,validationMessage:n.validationMessage}}equals({state:e},{state:r}){const n=e.type===r.type&&e.value===r.value&&e.required===r.required&&e.minLength===r.minLength&&e.maxLength===r.maxLength;return!Ea(e)||!Ea(r)?n:n&&e.pattern===r.pattern&&e.min===r.min&&e.max===r.max&&e.step===r.step}copy({state:e}){return{state:Ea(e)?this.copyInput(e):this.copyTextArea(e),renderedControl:null}}copyInput(e){const{type:r,pattern:n,min:i,max:o,step:s}=e;return{...this.copySharedState(e),type:r,pattern:n,min:i,max:o,step:s}}copyTextArea(e){return{...this.copySharedState(e),type:e.type}}copySharedState({value:e,required:r,minLength:n,maxLength:i}){return{value:e,required:r,minLength:n,maxLength:i}}}function Ea(t){return t.type!=="textarea"}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cV=iV(Fv(Uv(nc(Fe))));class ue extends cV{constructor(){super(...arguments),this.error=!1,this.errorText="",this.label="",this.noAsterisk=!1,this.required=!1,this.value="",this.prefixText="",this.suffixText="",this.hasLeadingIcon=!1,this.hasTrailingIcon=!1,this.supportingText="",this.textDirection="",this.rows=2,this.cols=20,this.inputMode="",this.max="",this.maxLength=-1,this.min="",this.minLength=-1,this.noSpinner=!1,this.pattern="",this.placeholder="",this.readOnly=!1,this.multiple=!1,this.step="",this.type="text",this.autocomplete="",this.dirty=!1,this.focused=!1,this.nativeError=!1,this.nativeErrorText=""}get selectionDirection(){return this.getInputOrTextarea().selectionDirection}set selectionDirection(e){this.getInputOrTextarea().selectionDirection=e}get selectionEnd(){return this.getInputOrTextarea().selectionEnd}set selectionEnd(e){this.getInputOrTextarea().selectionEnd=e}get selectionStart(){return this.getInputOrTextarea().selectionStart}set selectionStart(e){this.getInputOrTextarea().selectionStart=e}get valueAsNumber(){const e=this.getInput();return e?e.valueAsNumber:NaN}set valueAsNumber(e){const r=this.getInput();r&&(r.valueAsNumber=e,this.value=r.value)}get valueAsDate(){const e=this.getInput();return e?e.valueAsDate:null}set valueAsDate(e){const r=this.getInput();r&&(r.valueAsDate=e,this.value=r.value)}get hasError(){return this.error||this.nativeError}select(){this.getInputOrTextarea().select()}setRangeText(...e){this.getInputOrTextarea().setRangeText(...e),this.value=this.getInputOrTextarea().value}setSelectionRange(e,r,n){this.getInputOrTextarea().setSelectionRange(e,r,n)}stepDown(e){const r=this.getInput();r&&(r.stepDown(e),this.value=r.value)}stepUp(e){const r=this.getInput();r&&(r.stepUp(e),this.value=r.value)}reset(){this.dirty=!1,this.value=this.getAttribute("value")??"",this.nativeError=!1,this.nativeErrorText=""}attributeChangedCallback(e,r,n){e==="value"&&this.dirty||super.attributeChangedCallback(e,r,n)}render(){const e={disabled:this.disabled,error:!this.disabled&&this.hasError,textarea:this.type==="textarea","no-spinner":this.noSpinner};return Y`
      <span class="text-field ${wr(e)}">
        ${this.renderField()}
      </span>
    `}updated(e){const r=this.getInputOrTextarea().value;this.value!==r&&(this.value=r)}renderField(){return $v`<${this.fieldTag}
      class="field"
      count=${this.value.length}
      ?disabled=${this.disabled}
      ?error=${this.hasError}
      error-text=${this.getErrorText()}
      ?focused=${this.focused}
      ?has-end=${this.hasTrailingIcon}
      ?has-start=${this.hasLeadingIcon}
      label=${this.label}
      ?no-asterisk=${this.noAsterisk}
      max=${this.maxLength}
      ?populated=${!!this.value}
      ?required=${this.required}
      ?resizable=${this.type==="textarea"}
      supporting-text=${this.supportingText}
    >
      ${this.renderLeadingIcon()}
      ${this.renderInputOrTextarea()}
      ${this.renderTrailingIcon()}
      <div id="description" slot="aria-describedby"></div>
    </${this.fieldTag}>`}renderLeadingIcon(){return Y`
      <span class="icon leading" slot="start">
        <slot name="leading-icon" @slotchange=${this.handleIconChange}></slot>
      </span>
    `}renderTrailingIcon(){return Y`
      <span class="icon trailing" slot="end">
        <slot name="trailing-icon" @slotchange=${this.handleIconChange}></slot>
      </span>
    `}renderInputOrTextarea(){const e={direction:this.textDirection},r=this.ariaLabel||this.label||W,n=this.autocomplete,i=(this.maxLength??-1)>-1,o=(this.minLength??-1)>-1;if(this.type==="textarea")return Y`
        <textarea
          class="input"
          style=${$w(e)}
          aria-describedby="description"
          aria-invalid=${this.hasError}
          aria-label=${r}
          autocomplete=${n||W}
          name=${this.name||W}
          ?disabled=${this.disabled}
          maxlength=${i?this.maxLength:W}
          minlength=${o?this.minLength:W}
          placeholder=${this.placeholder||W}
          ?readonly=${this.readOnly}
          ?required=${this.required}
          rows=${this.rows}
          cols=${this.cols}
          .value=${Vw(this.value)}
          @change=${this.redispatchEvent}
          @focus=${this.handleFocusChange}
          @blur=${this.handleFocusChange}
          @input=${this.handleInput}
          @select=${this.redispatchEvent}></textarea>
      `;const s=this.renderPrefix(),l=this.renderSuffix(),c=this.inputMode;return Y`
      <div class="input-wrapper">
        ${s}
        <input
          class="input"
          style=${$w(e)}
          aria-describedby="description"
          aria-invalid=${this.hasError}
          aria-label=${r}
          autocomplete=${n||W}
          name=${this.name||W}
          ?disabled=${this.disabled}
          inputmode=${c||W}
          max=${this.max||W}
          maxlength=${i?this.maxLength:W}
          min=${this.min||W}
          minlength=${o?this.minLength:W}
          pattern=${this.pattern||W}
          placeholder=${this.placeholder||W}
          ?readonly=${this.readOnly}
          ?required=${this.required}
          ?multiple=${this.multiple}
          step=${this.step||W}
          type=${this.type}
          .value=${Vw(this.value)}
          @change=${this.redispatchEvent}
          @focus=${this.handleFocusChange}
          @blur=${this.handleFocusChange}
          @input=${this.handleInput}
          @select=${this.redispatchEvent} />
        ${l}
      </div>
    `}renderPrefix(){return this.renderAffix(this.prefixText,!1)}renderSuffix(){return this.renderAffix(this.suffixText,!0)}renderAffix(e,r){return e?Y`<span class="${wr({suffix:r,prefix:!r})}">${e}</span>`:W}getErrorText(){return this.error?this.errorText:this.nativeErrorText}handleFocusChange(){var e;this.focused=((e=this.inputOrTextarea)==null?void 0:e.matches(":focus"))??!1}handleInput(e){this.dirty=!0,this.value=e.target.value}redispatchEvent(e){lh(this,e)}getInputOrTextarea(){return this.inputOrTextarea||(this.connectedCallback(),this.scheduleUpdate()),this.isUpdatePending&&this.scheduleUpdate(),this.inputOrTextarea}getInput(){return this.type==="textarea"?null:this.getInputOrTextarea()}handleIconChange(){this.hasLeadingIcon=this.leadingIcons.length>0,this.hasTrailingIcon=this.trailingIcons.length>0}[vs](){return this.value}formResetCallback(){this.reset()}formStateRestoreCallback(e){this.value=e}focus(){this.getInputOrTextarea().focus()}[Ol](){return new lV(()=>({state:this,renderedControl:this.inputOrTextarea}))}[Ll](){return this.inputOrTextarea}[lm](e){var n;e==null||e.preventDefault();const r=this.getErrorText();this.nativeError=!!e,this.nativeErrorText=this.validationMessage,r===this.getErrorText()&&((n=this.field)==null||n.reannounceError())}}Ui(ue);ue.shadowRootOptions={...Fe.shadowRootOptions,delegatesFocus:!0};O([z({type:Boolean,reflect:!0})],ue.prototype,"error",void 0);O([z({attribute:"error-text"})],ue.prototype,"errorText",void 0);O([z()],ue.prototype,"label",void 0);O([z({type:Boolean,attribute:"no-asterisk"})],ue.prototype,"noAsterisk",void 0);O([z({type:Boolean,reflect:!0})],ue.prototype,"required",void 0);O([z()],ue.prototype,"value",void 0);O([z({attribute:"prefix-text"})],ue.prototype,"prefixText",void 0);O([z({attribute:"suffix-text"})],ue.prototype,"suffixText",void 0);O([z({type:Boolean,attribute:"has-leading-icon"})],ue.prototype,"hasLeadingIcon",void 0);O([z({type:Boolean,attribute:"has-trailing-icon"})],ue.prototype,"hasTrailingIcon",void 0);O([z({attribute:"supporting-text"})],ue.prototype,"supportingText",void 0);O([z({attribute:"text-direction"})],ue.prototype,"textDirection",void 0);O([z({type:Number})],ue.prototype,"rows",void 0);O([z({type:Number})],ue.prototype,"cols",void 0);O([z({reflect:!0})],ue.prototype,"inputMode",void 0);O([z()],ue.prototype,"max",void 0);O([z({type:Number})],ue.prototype,"maxLength",void 0);O([z()],ue.prototype,"min",void 0);O([z({type:Number})],ue.prototype,"minLength",void 0);O([z({type:Boolean,attribute:"no-spinner"})],ue.prototype,"noSpinner",void 0);O([z()],ue.prototype,"pattern",void 0);O([z({reflect:!0,converter:nV})],ue.prototype,"placeholder",void 0);O([z({type:Boolean,reflect:!0})],ue.prototype,"readOnly",void 0);O([z({type:Boolean,reflect:!0})],ue.prototype,"multiple",void 0);O([z()],ue.prototype,"step",void 0);O([z({reflect:!0})],ue.prototype,"type",void 0);O([z({reflect:!0})],ue.prototype,"autocomplete",void 0);O([rr()],ue.prototype,"dirty",void 0);O([rr()],ue.prototype,"focused",void 0);O([rr()],ue.prototype,"nativeError",void 0);O([rr()],ue.prototype,"nativeErrorText",void 0);O([Xe(".input")],ue.prototype,"inputOrTextarea",void 0);O([Xe(".field")],ue.prototype,"field",void 0);O([Qs({slot:"leading-icon"})],ue.prototype,"leadingIcons",void 0);O([Qs({slot:"trailing-icon"})],ue.prototype,"trailingIcons",void 0);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uV extends ue{constructor(){super(...arguments),this.fieldTag=fo`md-filled-field`}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dV=Te`:host{display:inline-flex;outline:none;resize:both;text-align:start;-webkit-tap-highlight-color:rgba(0,0,0,0)}.text-field,.field{width:100%}.text-field{display:inline-flex}.field{cursor:text}.disabled .field{cursor:default}.text-field,.textarea .field{resize:inherit}.icon{color:currentColor;display:flex;fill:currentColor}.icon ::slotted(*){display:flex}[hasstart] .icon.leading{font-size:var(--_leading-icon-size);height:var(--_leading-icon-size);width:var(--_leading-icon-size)}[hasend] .icon.trailing{font-size:var(--_trailing-icon-size);height:var(--_trailing-icon-size);width:var(--_trailing-icon-size)}.input-wrapper{display:flex}.input-wrapper>*{all:inherit;padding:0}.input{caret-color:var(--_caret-color);overflow-x:hidden;text-align:inherit}.input::placeholder{color:currentColor;opacity:1}.input::-webkit-calendar-picker-indicator{display:none}.input::-webkit-search-decoration,.input::-webkit-search-cancel-button{display:none}@media(forced-colors: active){.input{background:none}}.no-spinner .input::-webkit-inner-spin-button,.no-spinner .input::-webkit-outer-spin-button{display:none}.no-spinner .input[type=number]{-moz-appearance:textfield}:focus-within .input{caret-color:var(--_focus-caret-color)}.error:focus-within .input{caret-color:var(--_error-focus-caret-color)}.text-field:not(.disabled) .prefix{color:var(--_input-text-prefix-color)}.text-field:not(.disabled) .suffix{color:var(--_input-text-suffix-color)}.text-field:not(.disabled) .input::placeholder{color:var(--_input-text-placeholder-color)}.prefix,.suffix{text-wrap:nowrap;width:min-content}.prefix{padding-inline-end:var(--_input-text-prefix-trailing-space)}.suffix{padding-inline-start:var(--_input-text-suffix-leading-space)}
`;/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let cm=class extends uV{constructor(){super(...arguments),this.fieldTag=fo`md-filled-field`}};cm.styles=[dV,J4];cm=O([it("md-filled-text-field")],cm);/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hV extends Fe{render(){return Y`<slot></slot>`}connectedCallback(){if(super.connectedCallback(),this.getAttribute("aria-hidden")==="false"){this.removeAttribute("aria-hidden");return}this.setAttribute("aria-hidden","true")}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fV=Te`:host{font-size:var(--md-icon-size, 24px);width:var(--md-icon-size, 24px);height:var(--md-icon-size, 24px);color:inherit;font-variation-settings:inherit;font-weight:400;font-family:var(--md-icon-font, Material Symbols Outlined);display:inline-flex;font-style:normal;place-items:center;place-content:center;line-height:1;overflow:hidden;letter-spacing:normal;text-transform:none;user-select:none;white-space:nowrap;word-wrap:normal;flex-shrink:0;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale}::slotted(svg){fill:currentColor}::slotted(*){height:100%;width:100%}
`;/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let um=class extends hV{};um.styles=[fV];um=O([it("md-icon")],um);/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kS(t,e=Gn){const r=PS(t,e);return r&&(r.tabIndex=0,r.focus()),r}function RS(t,e=Gn){const r=pV(t,e);return r&&(r.tabIndex=0,r.focus()),r}function Sf(t,e=Gn){for(let r=0;r<t.length;r++){const n=t[r];if(n.tabIndex===0&&e(n))return{item:n,index:r}}return null}function PS(t,e=Gn){for(const r of t)if(e(r))return r;return null}function pV(t,e=Gn){for(let r=t.length-1;r>=0;r--){const n=t[r];if(e(n))return n}return null}function mV(t,e,r=Gn,n=!0){for(let i=1;i<t.length;i++){const o=(i+e)%t.length;if(o<e&&!n)return null;const s=t[o];if(r(s))return s}return t[e]?t[e]:null}function gV(t,e,r=Gn,n=!0){for(let i=1;i<t.length;i++){const o=(e-i+t.length)%t.length;if(o>e&&!n)return null;const s=t[o];if(r(s))return s}return t[e]?t[e]:null}function Fw(t,e,r=Gn,n=!0){if(e){const i=mV(t,e.index,r,n);return i&&(i.tabIndex=0,i.focus()),i}else return kS(t,r)}function Uw(t,e,r=Gn,n=!0){if(e){const i=gV(t,e.index,r,n);return i&&(i.tabIndex=0,i.focus()),i}else return RS(t,r)}function vV(){return new Event("request-activation",{bubbles:!0,composed:!0})}function Gn(t){return!t.disabled}/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tn={ArrowDown:"ArrowDown",ArrowLeft:"ArrowLeft",ArrowUp:"ArrowUp",ArrowRight:"ArrowRight",Home:"Home",End:"End"};class yV{constructor(e){this.handleKeydown=h=>{const p=h.key;if(h.defaultPrevented||!this.isNavigableKey(p))return;const m=this.items;if(!m.length)return;const _=Sf(m,this.isActivatable);h.preventDefault();const C=this.isRtl(),k=C?Tn.ArrowRight:Tn.ArrowLeft,P=C?Tn.ArrowLeft:Tn.ArrowRight;let w=null;switch(p){case Tn.ArrowDown:case P:w=Fw(m,_,this.isActivatable,this.wrapNavigation());break;case Tn.ArrowUp:case k:w=Uw(m,_,this.isActivatable,this.wrapNavigation());break;case Tn.Home:w=kS(m,this.isActivatable);break;case Tn.End:w=RS(m,this.isActivatable);break}w&&_&&_.item!==w&&(_.item.tabIndex=-1)},this.onDeactivateItems=()=>{const h=this.items;for(const p of h)this.deactivateItem(p)},this.onRequestActivation=h=>{this.onDeactivateItems();const p=h.target;this.activateItem(p),p.focus()},this.onSlotchange=()=>{const h=this.items;let p=!1;for(const _ of h){if(!_.disabled&&_.tabIndex>-1&&!p){p=!0,_.tabIndex=0;continue}_.tabIndex=-1}if(p)return;const m=PS(h,this.isActivatable);m&&(m.tabIndex=0)};const{isItem:r,getPossibleItems:n,isRtl:i,deactivateItem:o,activateItem:s,isNavigableKey:l,isActivatable:c,wrapNavigation:u}=e;this.isItem=r,this.getPossibleItems=n,this.isRtl=i,this.deactivateItem=o,this.activateItem=s,this.isNavigableKey=l,this.isActivatable=c,this.wrapNavigation=u??(()=>!0)}get items(){const e=this.getPossibleItems(),r=[];for(const n of e){if(this.isItem(n)){r.push(n);continue}const o=n.item;o&&this.isItem(o)&&r.push(o)}return r}activateNextItem(){const e=this.items,r=Sf(e,this.isActivatable);return r&&(r.item.tabIndex=-1),Fw(e,r,this.isActivatable,this.wrapNavigation())}activatePreviousItem(){const e=this.items,r=Sf(e,this.isActivatable);return r&&(r.item.tabIndex=-1),Uw(e,r,this.isActivatable,this.wrapNavigation())}}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _V=new Set(Object.values(Tn));class NS extends Fe{get items(){return this.listController.items}constructor(){super(),this.listController=new yV({isItem:e=>e.hasAttribute("md-list-item"),getPossibleItems:()=>this.slotItems,isRtl:()=>getComputedStyle(this).direction==="rtl",deactivateItem:e=>{e.tabIndex=-1},activateItem:e=>{e.tabIndex=0},isNavigableKey:e=>_V.has(e),isActivatable:e=>!e.disabled&&e.type!=="text"}),this.internals=this.attachInternals(),this.internals.role="list",this.addEventListener("keydown",this.listController.handleKeydown)}render(){return Y`
      <slot
        @deactivate-items=${this.listController.onDeactivateItems}
        @request-activation=${this.listController.onRequestActivation}
        @slotchange=${this.listController.onSlotchange}>
      </slot>
    `}activateNextItem(){return this.listController.activateNextItem()}activatePreviousItem(){return this.listController.activatePreviousItem()}}O([Qs({flatten:!0})],NS.prototype,"slotItems",void 0);/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bV=Te`:host{background:var(--md-list-container-color, var(--md-sys-color-surface, #fef7ff));color:unset;display:flex;flex-direction:column;outline:none;padding:8px 0;position:relative}
`;/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let dm=class extends NS{};dm.styles=[bV];dm=O([it("md-list")],dm);/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zv extends Fe{constructor(){super(...arguments),this.multiline=!1}render(){return Y`
      <slot name="container"></slot>
      <slot class="non-text" name="start"></slot>
      <div class="text">
        <slot name="overline" @slotchange=${this.handleTextSlotChange}></slot>
        <slot
          class="default-slot"
          @slotchange=${this.handleTextSlotChange}></slot>
        <slot name="headline" @slotchange=${this.handleTextSlotChange}></slot>
        <slot
          name="supporting-text"
          @slotchange=${this.handleTextSlotChange}></slot>
      </div>
      <slot class="non-text" name="trailing-supporting-text"></slot>
      <slot class="non-text" name="end"></slot>
    `}handleTextSlotChange(){let e=!1,r=0;for(const n of this.textSlots)if(wV(n)&&(r+=1),r>1){e=!0;break}this.multiline=e}}O([z({type:Boolean,reflect:!0})],zv.prototype,"multiline",void 0);O([h4(".text slot")],zv.prototype,"textSlots",void 0);function wV(t){var e;for(const r of t.assignedNodes({flatten:!0})){const n=r.nodeType===Node.ELEMENT_NODE,i=r.nodeType===Node.TEXT_NODE&&((e=r.textContent)==null?void 0:e.match(/\S/));if(n||i)return!0}return!1}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EV=Te`:host{color:var(--md-sys-color-on-surface, #1d1b20);font-family:var(--md-sys-typescale-body-large-font, var(--md-ref-typeface-plain, Roboto));font-size:var(--md-sys-typescale-body-large-size, 1rem);font-weight:var(--md-sys-typescale-body-large-weight, var(--md-ref-typeface-weight-regular, 400));line-height:var(--md-sys-typescale-body-large-line-height, 1.5rem);align-items:center;box-sizing:border-box;display:flex;gap:16px;min-height:56px;overflow:hidden;padding:12px 16px;position:relative;text-overflow:ellipsis}:host([multiline]){min-height:72px}[name=overline]{color:var(--md-sys-color-on-surface-variant, #49454f);font-family:var(--md-sys-typescale-label-small-font, var(--md-ref-typeface-plain, Roboto));font-size:var(--md-sys-typescale-label-small-size, 0.6875rem);font-weight:var(--md-sys-typescale-label-small-weight, var(--md-ref-typeface-weight-medium, 500));line-height:var(--md-sys-typescale-label-small-line-height, 1rem)}[name=supporting-text]{color:var(--md-sys-color-on-surface-variant, #49454f);font-family:var(--md-sys-typescale-body-medium-font, var(--md-ref-typeface-plain, Roboto));font-size:var(--md-sys-typescale-body-medium-size, 0.875rem);font-weight:var(--md-sys-typescale-body-medium-weight, var(--md-ref-typeface-weight-regular, 400));line-height:var(--md-sys-typescale-body-medium-line-height, 1.25rem)}[name=trailing-supporting-text]{color:var(--md-sys-color-on-surface-variant, #49454f);font-family:var(--md-sys-typescale-label-small-font, var(--md-ref-typeface-plain, Roboto));font-size:var(--md-sys-typescale-label-small-size, 0.6875rem);font-weight:var(--md-sys-typescale-label-small-weight, var(--md-ref-typeface-weight-medium, 500));line-height:var(--md-sys-typescale-label-small-line-height, 1rem)}[name=container]::slotted(*){inset:0;position:absolute}.default-slot{display:inline}.default-slot,.text ::slotted(*){overflow:hidden;text-overflow:ellipsis}.text{display:flex;flex:1;flex-direction:column;overflow:hidden}
`;/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let hm=class extends zv{};hm.styles=[EV];hm=O([it("md-item")],hm);/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qn extends Fe{constructor(){super(...arguments),this.disabled=!1,this.type="text",this.isListItem=!0,this.href="",this.target=""}get isDisabled(){return this.disabled&&this.type!=="link"}willUpdate(e){this.href&&(this.type="link"),super.willUpdate(e)}render(){return this.renderListItem(Y`
      <md-item>
        <div slot="container">
          ${this.renderRipple()} ${this.renderFocusRing()}
        </div>
        <slot name="start" slot="start"></slot>
        <slot name="end" slot="end"></slot>
        ${this.renderBody()}
      </md-item>
    `)}renderListItem(e){const r=this.type==="link";let n;switch(this.type){case"link":n=fo`a`;break;case"button":n=fo`button`;break;default:case"text":n=fo`li`;break}const i=this.type!=="text",o=r&&this.target?this.target:W;return $v`
      <${n}
        id="item"
        tabindex="${this.isDisabled||!i?-1:0}"
        ?disabled=${this.isDisabled}
        role="listitem"
        aria-selected=${this.ariaSelected||W}
        aria-checked=${this.ariaChecked||W}
        aria-expanded=${this.ariaExpanded||W}
        aria-haspopup=${this.ariaHasPopup||W}
        class="list-item ${wr(this.getRenderClasses())}"
        href=${this.href||W}
        target=${o}
        @focus=${this.onFocus}
      >${e}</${n}>
    `}renderRipple(){return this.type==="text"?W:Y` <md-ripple
      part="ripple"
      for="item"
      ?disabled=${this.isDisabled}></md-ripple>`}renderFocusRing(){return this.type==="text"?W:Y` <md-focus-ring
      @visibility-changed=${this.onFocusRingVisibilityChanged}
      part="focus-ring"
      for="item"
      inward></md-focus-ring>`}onFocusRingVisibilityChanged(e){}getRenderClasses(){return{disabled:this.isDisabled}}renderBody(){return Y`
      <slot></slot>
      <slot name="overline" slot="overline"></slot>
      <slot name="headline" slot="headline"></slot>
      <slot name="supporting-text" slot="supporting-text"></slot>
      <slot
        name="trailing-supporting-text"
        slot="trailing-supporting-text"></slot>
    `}onFocus(){this.tabIndex===-1&&this.dispatchEvent(vV())}focus(){var e;(e=this.listItemRoot)==null||e.focus()}}Ui(Qn);Qn.shadowRootOptions={...Fe.shadowRootOptions,delegatesFocus:!0};O([z({type:Boolean,reflect:!0})],Qn.prototype,"disabled",void 0);O([z({reflect:!0})],Qn.prototype,"type",void 0);O([z({type:Boolean,attribute:"md-list-item",reflect:!0})],Qn.prototype,"isListItem",void 0);O([z()],Qn.prototype,"href",void 0);O([z()],Qn.prototype,"target",void 0);O([Xe(".list-item")],Qn.prototype,"listItemRoot",void 0);/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xV=Te`:host{display:flex;-webkit-tap-highlight-color:rgba(0,0,0,0);--md-ripple-hover-color: var(--md-list-item-hover-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--md-ripple-hover-opacity: var(--md-list-item-hover-state-layer-opacity, 0.08);--md-ripple-pressed-color: var(--md-list-item-pressed-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--md-ripple-pressed-opacity: var(--md-list-item-pressed-state-layer-opacity, 0.12)}:host(:is([type=button]:not([disabled]),[type=link])){cursor:pointer}md-focus-ring{z-index:1;--md-focus-ring-shape: 8px}a,button,li{background:none;border:none;cursor:inherit;padding:0;margin:0;text-align:unset;text-decoration:none}.list-item{border-radius:inherit;display:flex;flex:1;max-width:inherit;min-width:inherit;outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%}.list-item.interactive{cursor:pointer}.list-item.disabled{opacity:var(--md-list-item-disabled-opacity, 0.3);pointer-events:none}[slot=container]{pointer-events:none}md-ripple{border-radius:inherit}md-item{border-radius:inherit;flex:1;height:100%;color:var(--md-list-item-label-text-color, var(--md-sys-color-on-surface, #1d1b20));font-family:var(--md-list-item-label-text-font, var(--md-sys-typescale-body-large-font, var(--md-ref-typeface-plain, Roboto)));font-size:var(--md-list-item-label-text-size, var(--md-sys-typescale-body-large-size, 1rem));line-height:var(--md-list-item-label-text-line-height, var(--md-sys-typescale-body-large-line-height, 1.5rem));font-weight:var(--md-list-item-label-text-weight, var(--md-sys-typescale-body-large-weight, var(--md-ref-typeface-weight-regular, 400)));min-height:var(--md-list-item-one-line-container-height, 56px);padding-top:var(--md-list-item-top-space, 12px);padding-bottom:var(--md-list-item-bottom-space, 12px);padding-inline-start:var(--md-list-item-leading-space, 16px);padding-inline-end:var(--md-list-item-trailing-space, 16px)}md-item[multiline]{min-height:var(--md-list-item-two-line-container-height, 72px)}[slot=supporting-text]{color:var(--md-list-item-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));font-family:var(--md-list-item-supporting-text-font, var(--md-sys-typescale-body-medium-font, var(--md-ref-typeface-plain, Roboto)));font-size:var(--md-list-item-supporting-text-size, var(--md-sys-typescale-body-medium-size, 0.875rem));line-height:var(--md-list-item-supporting-text-line-height, var(--md-sys-typescale-body-medium-line-height, 1.25rem));font-weight:var(--md-list-item-supporting-text-weight, var(--md-sys-typescale-body-medium-weight, var(--md-ref-typeface-weight-regular, 400)))}[slot=trailing-supporting-text]{color:var(--md-list-item-trailing-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));font-family:var(--md-list-item-trailing-supporting-text-font, var(--md-sys-typescale-label-small-font, var(--md-ref-typeface-plain, Roboto)));font-size:var(--md-list-item-trailing-supporting-text-size, var(--md-sys-typescale-label-small-size, 0.6875rem));line-height:var(--md-list-item-trailing-supporting-text-line-height, var(--md-sys-typescale-label-small-line-height, 1rem));font-weight:var(--md-list-item-trailing-supporting-text-weight, var(--md-sys-typescale-label-small-weight, var(--md-ref-typeface-weight-medium, 500)))}:is([slot=start],[slot=end])::slotted(*){fill:currentColor}[slot=start]{color:var(--md-list-item-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f))}[slot=end]{color:var(--md-list-item-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f))}@media(forced-colors: active){.disabled slot{color:GrayText}.list-item.disabled{color:GrayText;opacity:1}}
`;/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let fm=class extends Qn{};fm.styles=[xV];fm=O([it("md-list-item")],fm);/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ys extends Fe{constructor(){super(...arguments),this.value=0,this.max=1,this.indeterminate=!1,this.fourColor=!1}render(){const{ariaLabel:e}=this;return Y`
      <div
        class="progress ${wr(this.getRenderClasses())}"
        role="progressbar"
        aria-label="${e||W}"
        aria-valuemin="0"
        aria-valuemax=${this.max}
        aria-valuenow=${this.indeterminate?W:this.value}
        >${this.renderIndicator()}</div
      >
    `}getRenderClasses(){return{indeterminate:this.indeterminate,"four-color":this.fourColor}}}Ui(Ys);O([z({type:Number})],Ys.prototype,"value",void 0);O([z({type:Number})],Ys.prototype,"max",void 0);O([z({type:Boolean})],Ys.prototype,"indeterminate",void 0);O([z({type:Boolean,attribute:"four-color"})],Ys.prototype,"fourColor",void 0);/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IV extends Ys{renderIndicator(){return this.indeterminate?this.renderIndeterminateContainer():this.renderDeterminateContainer()}renderDeterminateContainer(){const e=(1-this.value/this.max)*100;return Y`
      <svg viewBox="0 0 4800 4800">
        <circle class="track" pathLength="100"></circle>
        <circle
          class="active-track"
          pathLength="100"
          stroke-dashoffset=${e}></circle>
      </svg>
    `}renderIndeterminateContainer(){return Y` <div class="spinner">
      <div class="left">
        <div class="circle"></div>
      </div>
      <div class="right">
        <div class="circle"></div>
      </div>
    </div>`}}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TV=Te`:host{--_active-indicator-color: var(--md-circular-progress-active-indicator-color, var(--md-sys-color-primary, #6750a4));--_active-indicator-width: var(--md-circular-progress-active-indicator-width, 10);--_four-color-active-indicator-four-color: var(--md-circular-progress-four-color-active-indicator-four-color, var(--md-sys-color-tertiary-container, #ffd8e4));--_four-color-active-indicator-one-color: var(--md-circular-progress-four-color-active-indicator-one-color, var(--md-sys-color-primary, #6750a4));--_four-color-active-indicator-three-color: var(--md-circular-progress-four-color-active-indicator-three-color, var(--md-sys-color-tertiary, #7d5260));--_four-color-active-indicator-two-color: var(--md-circular-progress-four-color-active-indicator-two-color, var(--md-sys-color-primary-container, #eaddff));--_size: var(--md-circular-progress-size, 48px);display:inline-flex;vertical-align:middle;width:var(--_size);height:var(--_size);position:relative;align-items:center;justify-content:center;contain:strict;content-visibility:auto}.progress{flex:1;align-self:stretch;margin:4px}.progress,.spinner,.left,.right,.circle,svg,.track,.active-track{position:absolute;inset:0}svg{transform:rotate(-90deg)}circle{cx:50%;cy:50%;r:calc(50%*(1 - var(--_active-indicator-width)/100));stroke-width:calc(var(--_active-indicator-width)*1%);stroke-dasharray:100;fill:rgba(0,0,0,0)}.active-track{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1);stroke:var(--_active-indicator-color)}.track{stroke:rgba(0,0,0,0)}.progress.indeterminate{animation:linear infinite linear-rotate;animation-duration:1568.2352941176ms}.spinner{animation:infinite both rotate-arc;animation-duration:5332ms;animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.left{overflow:hidden;inset:0 50% 0 0}.right{overflow:hidden;inset:0 0 0 50%}.circle{box-sizing:border-box;border-radius:50%;border:solid calc(var(--_active-indicator-width)/100*(var(--_size) - 8px));border-color:var(--_active-indicator-color) var(--_active-indicator-color) rgba(0,0,0,0) rgba(0,0,0,0);animation:expand-arc;animation-iteration-count:infinite;animation-fill-mode:both;animation-duration:1333ms,5332ms;animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.four-color .circle{animation-name:expand-arc,four-color}.left .circle{rotate:135deg;inset:0 -100% 0 0}.right .circle{rotate:100deg;inset:0 0 0 -100%;animation-delay:-666.5ms,0ms}@media(forced-colors: active){.active-track{stroke:CanvasText}.circle{border-color:CanvasText CanvasText Canvas Canvas}}@keyframes expand-arc{0%{transform:rotate(265deg)}50%{transform:rotate(130deg)}100%{transform:rotate(265deg)}}@keyframes rotate-arc{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes linear-rotate{to{transform:rotate(360deg)}}@keyframes four-color{0%{border-top-color:var(--_four-color-active-indicator-one-color);border-right-color:var(--_four-color-active-indicator-one-color)}15%{border-top-color:var(--_four-color-active-indicator-one-color);border-right-color:var(--_four-color-active-indicator-one-color)}25%{border-top-color:var(--_four-color-active-indicator-two-color);border-right-color:var(--_four-color-active-indicator-two-color)}40%{border-top-color:var(--_four-color-active-indicator-two-color);border-right-color:var(--_four-color-active-indicator-two-color)}50%{border-top-color:var(--_four-color-active-indicator-three-color);border-right-color:var(--_four-color-active-indicator-three-color)}65%{border-top-color:var(--_four-color-active-indicator-three-color);border-right-color:var(--_four-color-active-indicator-three-color)}75%{border-top-color:var(--_four-color-active-indicator-four-color);border-right-color:var(--_four-color-active-indicator-four-color)}90%{border-top-color:var(--_four-color-active-indicator-four-color);border-right-color:var(--_four-color-active-indicator-four-color)}100%{border-top-color:var(--_four-color-active-indicator-one-color);border-right-color:var(--_four-color-active-indicator-one-color)}}
`;/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let pm=class extends IV{};pm.styles=[TV];pm=O([it("md-circular-progress")],pm);/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ji extends Fe{constructor(){super(...arguments),this.disabled=!1,this.alwaysFocusable=!1,this.label="",this.hasIcon=!1}get rippleDisabled(){return this.disabled}focus(e){this.disabled&&!this.alwaysFocusable||super.focus(e)}render(){return Y`
      <div class="container ${wr(this.getContainerClasses())}">
        ${this.renderContainerContent()}
      </div>
    `}updated(e){e.has("disabled")&&e.get("disabled")!==void 0&&this.dispatchEvent(new Event("update-focus",{bubbles:!0}))}getContainerClasses(){return{disabled:this.disabled,"has-icon":this.hasIcon}}renderContainerContent(){return Y`
      ${this.renderOutline()}
      <md-focus-ring part="focus-ring" for=${this.primaryId}></md-focus-ring>
      <md-ripple
        for=${this.primaryId}
        ?disabled=${this.rippleDisabled}></md-ripple>
      ${this.renderPrimaryAction(this.renderPrimaryContent())}
    `}renderOutline(){return Y`<span class="outline"></span>`}renderLeadingIcon(){return Y`<slot name="icon" @slotchange=${this.handleIconChange}></slot>`}renderPrimaryContent(){return Y`
      <span class="leading icon" aria-hidden="true">
        ${this.renderLeadingIcon()}
      </span>
      <span class="label">${this.label}</span>
      <span class="touch"></span>
    `}handleIconChange(e){const r=e.target;this.hasIcon=r.assignedElements({flatten:!0}).length>0}}Ui(ji);ji.shadowRootOptions={...Fe.shadowRootOptions,delegatesFocus:!0};O([z({type:Boolean,reflect:!0})],ji.prototype,"disabled",void 0);O([z({type:Boolean,attribute:"always-focusable"})],ji.prototype,"alwaysFocusable",void 0);O([z()],ji.prototype,"label",void 0);O([z({type:Boolean,reflect:!0,attribute:"has-icon"})],ji.prototype,"hasIcon",void 0);/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DS extends Fe{get chips(){return this.childElements.filter(e=>e instanceof ji)}constructor(){super(),this.internals=this.attachInternals(),this.addEventListener("focusin",this.updateTabIndices.bind(this)),this.addEventListener("update-focus",this.updateTabIndices.bind(this)),this.addEventListener("keydown",this.handleKeyDown.bind(this)),this.internals.role="toolbar"}render(){return Y`<slot @slotchange=${this.updateTabIndices}></slot>`}handleKeyDown(e){const r=e.key==="ArrowLeft",n=e.key==="ArrowRight",i=e.key==="Home",o=e.key==="End";if(!r&&!n&&!i&&!o)return;const{chips:s}=this;if(s.length<2)return;if(e.preventDefault(),i||o){const m=i?0:s.length-1;s[m].focus({trailing:o}),this.updateTabIndices();return}const c=getComputedStyle(this).direction==="rtl"?r:n,u=s.find(m=>m.matches(":focus-within"));if(!u){(c?s[0]:s[s.length-1]).focus({trailing:!c}),this.updateTabIndices();return}const h=s.indexOf(u);let p=c?h+1:h-1;for(;p!==h;){p>=s.length?p=0:p<0&&(p=s.length-1);const m=s[p];if(m.disabled&&!m.alwaysFocusable){c?p++:p--;continue}m.focus({trailing:!c}),this.updateTabIndices();break}}updateTabIndices(){const{chips:e}=this;let r;for(const n of e){const i=n.alwaysFocusable||!n.disabled;if(n.matches(":focus-within")&&i){r=n;continue}i&&!r&&(r=n),n.tabIndex=-1}r&&(r.tabIndex=0)}}O([Qs()],DS.prototype,"childElements",void 0);/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SV=Te`:host{display:flex;flex-wrap:wrap;gap:8px}
`;/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let mm=class extends DS{};mm.styles=[SV];mm=O([it("md-chip-set")],mm);/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AV=Te`.elevated{--md-elevation-level: var(--_elevated-container-elevation);--md-elevation-shadow-color: var(--_elevated-container-shadow-color)}.elevated::before{background:var(--_elevated-container-color)}.elevated:hover{--md-elevation-level: var(--_elevated-hover-container-elevation)}.elevated:focus-within{--md-elevation-level: var(--_elevated-focus-container-elevation)}.elevated:active{--md-elevation-level: var(--_elevated-pressed-container-elevation)}.elevated.disabled{--md-elevation-level: var(--_elevated-disabled-container-elevation)}.elevated.disabled::before{background:var(--_elevated-disabled-container-color);opacity:var(--_elevated-disabled-container-opacity)}@media(forced-colors: active){.elevated md-elevation{border:1px solid CanvasText}.elevated.disabled md-elevation{border-color:GrayText}}
`;/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yc="aria-label-remove";class CV extends ji{get ariaLabelRemove(){if(this.hasAttribute(Yc))return this.getAttribute(Yc);const{ariaLabel:e}=this;return`Remove ${e||this.label}`}set ariaLabelRemove(e){const r=this.ariaLabelRemove;e!==r&&(e===null?this.removeAttribute(Yc):this.setAttribute(Yc,e),this.requestUpdate())}constructor(){super(),this.handleTrailingActionFocus=this.handleTrailingActionFocus.bind(this),this.addEventListener("keydown",this.handleKeyDown.bind(this))}focus(e){if((this.alwaysFocusable||!this.disabled)&&(e!=null&&e.trailing)&&this.trailingAction){this.trailingAction.focus(e);return}super.focus(e)}renderContainerContent(){return Y`
      ${super.renderContainerContent()}
      ${this.renderTrailingAction(this.handleTrailingActionFocus)}
    `}handleKeyDown(e){var u,h;const r=e.key==="ArrowLeft",n=e.key==="ArrowRight";if(!r&&!n||!this.primaryAction||!this.trailingAction)return;const o=getComputedStyle(this).direction==="rtl"?r:n,s=(u=this.primaryAction)==null?void 0:u.matches(":focus-within"),l=(h=this.trailingAction)==null?void 0:h.matches(":focus-within");if(o&&l||!o&&s)return;e.preventDefault(),e.stopPropagation(),(o?this.trailingAction:this.primaryAction).focus()}handleTrailingActionFocus(){const{primaryAction:e,trailingAction:r}=this;!e||!r||(e.tabIndex=-1,r.addEventListener("focusout",()=>{e.tabIndex=0},{once:!0}))}}/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kV({ariaLabel:t,disabled:e,focusListener:r,tabbable:n=!1}){return Y`
    <button
      class="trailing action"
      aria-label=${t}
      tabindex=${n?W:-1}
      @click=${RV}
      @focus=${r}>
      <md-focus-ring part="trailing-focus-ring"></md-focus-ring>
      <md-ripple ?disabled=${e}></md-ripple>
      <span class="trailing icon" aria-hidden="true">
        <slot name="remove-trailing-icon">
          <svg viewBox="0 96 960 960">
            <path
              d="m249 849-42-42 231-231-231-231 42-42 231 231 231-231 42 42-231 231 231 231-42 42-231-231-231 231Z" />
          </svg>
        </slot>
      </span>
      <span class="touch"></span>
    </button>
  `}function RV(t){this.disabled||(t.stopPropagation(),!this.dispatchEvent(new Event("remove",{cancelable:!0})))||this.remove()}/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Do extends CV{constructor(){super(...arguments),this.elevated=!1,this.removable=!1,this.selected=!1,this.hasSelectedIcon=!1}get primaryId(){return"button"}getContainerClasses(){return{...super.getContainerClasses(),elevated:this.elevated,selected:this.selected,"has-trailing":this.removable,"has-icon":this.hasIcon||this.selected}}renderPrimaryAction(e){const{ariaLabel:r}=this;return Y`
      <button
        class="primary action"
        id="button"
        aria-label=${r||W}
        aria-pressed=${this.selected}
        ?disabled=${this.disabled&&!this.alwaysFocusable}
        @click=${this.handleClick}
        >${e}</button
      >
    `}renderLeadingIcon(){return this.selected?Y`
      <slot name="selected-icon">
        <svg class="checkmark" viewBox="0 0 18 18" aria-hidden="true">
          <path
            d="M6.75012 12.1274L3.62262 8.99988L2.55762 10.0574L6.75012 14.2499L15.7501 5.24988L14.6926 4.19238L6.75012 12.1274Z" />
        </svg>
      </slot>
    `:super.renderLeadingIcon()}renderTrailingAction(e){return this.removable?kV({focusListener:e,ariaLabel:this.ariaLabelRemove,disabled:this.disabled}):W}renderOutline(){return this.elevated?Y`<md-elevation part="elevation"></md-elevation>`:super.renderOutline()}handleClick(e){if(this.disabled)return;const r=this.selected;if(this.selected=!this.selected,!lh(this,e)){this.selected=r;return}}}O([z({type:Boolean})],Do.prototype,"elevated",void 0);O([z({type:Boolean})],Do.prototype,"removable",void 0);O([z({type:Boolean,reflect:!0})],Do.prototype,"selected",void 0);O([z({type:Boolean,reflect:!0,attribute:"has-selected-icon"})],Do.prototype,"hasSelectedIcon",void 0);O([Xe(".primary.action")],Do.prototype,"primaryAction",void 0);O([Xe(".trailing.action")],Do.prototype,"trailingAction",void 0);/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PV=Te`:host{--_container-height: var(--md-filter-chip-container-height, 32px);--_disabled-label-text-color: var(--md-filter-chip-disabled-label-text-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-label-text-opacity: var(--md-filter-chip-disabled-label-text-opacity, 0.38);--_elevated-container-elevation: var(--md-filter-chip-elevated-container-elevation, 1);--_elevated-container-shadow-color: var(--md-filter-chip-elevated-container-shadow-color, var(--md-sys-color-shadow, #000));--_elevated-disabled-container-color: var(--md-filter-chip-elevated-disabled-container-color, var(--md-sys-color-on-surface, #1d1b20));--_elevated-disabled-container-elevation: var(--md-filter-chip-elevated-disabled-container-elevation, 0);--_elevated-disabled-container-opacity: var(--md-filter-chip-elevated-disabled-container-opacity, 0.12);--_elevated-focus-container-elevation: var(--md-filter-chip-elevated-focus-container-elevation, 1);--_elevated-hover-container-elevation: var(--md-filter-chip-elevated-hover-container-elevation, 2);--_elevated-pressed-container-elevation: var(--md-filter-chip-elevated-pressed-container-elevation, 1);--_elevated-selected-container-color: var(--md-filter-chip-elevated-selected-container-color, var(--md-sys-color-secondary-container, #e8def8));--_label-text-font: var(--md-filter-chip-label-text-font, var(--md-sys-typescale-label-large-font, var(--md-ref-typeface-plain, Roboto)));--_label-text-line-height: var(--md-filter-chip-label-text-line-height, var(--md-sys-typescale-label-large-line-height, 1.25rem));--_label-text-size: var(--md-filter-chip-label-text-size, var(--md-sys-typescale-label-large-size, 0.875rem));--_label-text-weight: var(--md-filter-chip-label-text-weight, var(--md-sys-typescale-label-large-weight, var(--md-ref-typeface-weight-medium, 500)));--_selected-focus-label-text-color: var(--md-filter-chip-selected-focus-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-hover-label-text-color: var(--md-filter-chip-selected-hover-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-hover-state-layer-color: var(--md-filter-chip-selected-hover-state-layer-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-hover-state-layer-opacity: var(--md-filter-chip-selected-hover-state-layer-opacity, 0.08);--_selected-label-text-color: var(--md-filter-chip-selected-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-pressed-label-text-color: var(--md-filter-chip-selected-pressed-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-pressed-state-layer-color: var(--md-filter-chip-selected-pressed-state-layer-color, var(--md-sys-color-on-surface-variant, #49454f));--_selected-pressed-state-layer-opacity: var(--md-filter-chip-selected-pressed-state-layer-opacity, 0.12);--_elevated-container-color: var(--md-filter-chip-elevated-container-color, var(--md-sys-color-surface-container-low, #f7f2fa));--_disabled-outline-color: var(--md-filter-chip-disabled-outline-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-outline-opacity: var(--md-filter-chip-disabled-outline-opacity, 0.12);--_disabled-selected-container-color: var(--md-filter-chip-disabled-selected-container-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-selected-container-opacity: var(--md-filter-chip-disabled-selected-container-opacity, 0.12);--_focus-outline-color: var(--md-filter-chip-focus-outline-color, var(--md-sys-color-on-surface-variant, #49454f));--_outline-color: var(--md-filter-chip-outline-color, var(--md-sys-color-outline, #79747e));--_outline-width: var(--md-filter-chip-outline-width, 1px);--_selected-container-color: var(--md-filter-chip-selected-container-color, var(--md-sys-color-secondary-container, #e8def8));--_selected-outline-width: var(--md-filter-chip-selected-outline-width, 0px);--_focus-label-text-color: var(--md-filter-chip-focus-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-label-text-color: var(--md-filter-chip-hover-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-state-layer-color: var(--md-filter-chip-hover-state-layer-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-state-layer-opacity: var(--md-filter-chip-hover-state-layer-opacity, 0.08);--_label-text-color: var(--md-filter-chip-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_pressed-label-text-color: var(--md-filter-chip-pressed-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_pressed-state-layer-color: var(--md-filter-chip-pressed-state-layer-color, var(--md-sys-color-on-secondary-container, #1d192b));--_pressed-state-layer-opacity: var(--md-filter-chip-pressed-state-layer-opacity, 0.12);--_icon-size: var(--md-filter-chip-icon-size, 18px);--_disabled-leading-icon-color: var(--md-filter-chip-disabled-leading-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-leading-icon-opacity: var(--md-filter-chip-disabled-leading-icon-opacity, 0.38);--_selected-focus-leading-icon-color: var(--md-filter-chip-selected-focus-leading-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-hover-leading-icon-color: var(--md-filter-chip-selected-hover-leading-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-leading-icon-color: var(--md-filter-chip-selected-leading-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-pressed-leading-icon-color: var(--md-filter-chip-selected-pressed-leading-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_focus-leading-icon-color: var(--md-filter-chip-focus-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_hover-leading-icon-color: var(--md-filter-chip-hover-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_leading-icon-color: var(--md-filter-chip-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_pressed-leading-icon-color: var(--md-filter-chip-pressed-leading-icon-color, var(--md-sys-color-primary, #6750a4));--_disabled-trailing-icon-color: var(--md-filter-chip-disabled-trailing-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-trailing-icon-opacity: var(--md-filter-chip-disabled-trailing-icon-opacity, 0.38);--_selected-focus-trailing-icon-color: var(--md-filter-chip-selected-focus-trailing-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-hover-trailing-icon-color: var(--md-filter-chip-selected-hover-trailing-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-pressed-trailing-icon-color: var(--md-filter-chip-selected-pressed-trailing-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_selected-trailing-icon-color: var(--md-filter-chip-selected-trailing-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_focus-trailing-icon-color: var(--md-filter-chip-focus-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-trailing-icon-color: var(--md-filter-chip-hover-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_pressed-trailing-icon-color: var(--md-filter-chip-pressed-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_trailing-icon-color: var(--md-filter-chip-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_container-shape-start-start: var(--md-filter-chip-container-shape-start-start, var(--md-filter-chip-container-shape, var(--md-sys-shape-corner-small, 8px)));--_container-shape-start-end: var(--md-filter-chip-container-shape-start-end, var(--md-filter-chip-container-shape, var(--md-sys-shape-corner-small, 8px)));--_container-shape-end-end: var(--md-filter-chip-container-shape-end-end, var(--md-filter-chip-container-shape, var(--md-sys-shape-corner-small, 8px)));--_container-shape-end-start: var(--md-filter-chip-container-shape-end-start, var(--md-filter-chip-container-shape, var(--md-sys-shape-corner-small, 8px)));--_leading-space: var(--md-filter-chip-leading-space, 16px);--_trailing-space: var(--md-filter-chip-trailing-space, 16px);--_icon-label-space: var(--md-filter-chip-icon-label-space, 8px);--_with-leading-icon-leading-space: var(--md-filter-chip-with-leading-icon-leading-space, 8px);--_with-trailing-icon-trailing-space: var(--md-filter-chip-with-trailing-icon-trailing-space, 8px)}.selected.elevated::before{background:var(--_elevated-selected-container-color)}.checkmark{height:var(--_icon-size);width:var(--_icon-size)}.disabled .checkmark{opacity:var(--_disabled-leading-icon-opacity)}@media(forced-colors: active){.disabled .checkmark{opacity:1}}
`;/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NV=Te`.selected{--md-ripple-hover-color: var(--_selected-hover-state-layer-color);--md-ripple-hover-opacity: var(--_selected-hover-state-layer-opacity);--md-ripple-pressed-color: var(--_selected-pressed-state-layer-color);--md-ripple-pressed-opacity: var(--_selected-pressed-state-layer-opacity)}:where(.selected)::before{background:var(--_selected-container-color)}:where(.selected) .outline{border-width:var(--_selected-outline-width)}:where(.selected.disabled)::before{background:var(--_disabled-selected-container-color);opacity:var(--_disabled-selected-container-opacity)}:where(.selected) .label{color:var(--_selected-label-text-color)}:where(.selected:hover) .label{color:var(--_selected-hover-label-text-color)}:where(.selected:focus) .label{color:var(--_selected-focus-label-text-color)}:where(.selected:active) .label{color:var(--_selected-pressed-label-text-color)}:where(.selected) .leading.icon{color:var(--_selected-leading-icon-color)}:where(.selected:hover) .leading.icon{color:var(--_selected-hover-leading-icon-color)}:where(.selected:focus) .leading.icon{color:var(--_selected-focus-leading-icon-color)}:where(.selected:active) .leading.icon{color:var(--_selected-pressed-leading-icon-color)}@media(forced-colors: active){:where(.selected:not(.elevated))::before{border:1px solid CanvasText}:where(.selected) .outline{border-width:1px}}
`;/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DV=Te`:host{border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-start-radius:var(--_container-shape-end-start);border-end-end-radius:var(--_container-shape-end-end);display:inline-flex;height:var(--_container-height);cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);--md-ripple-hover-color: var(--_hover-state-layer-color);--md-ripple-hover-opacity: var(--_hover-state-layer-opacity);--md-ripple-pressed-color: var(--_pressed-state-layer-color);--md-ripple-pressed-opacity: var(--_pressed-state-layer-opacity)}:host([disabled]){pointer-events:none}:host([touch-target=wrapper]){margin:max(0px,(48px - var(--_container-height))/2) 0}md-focus-ring{--md-focus-ring-shape-start-start: var(--_container-shape-start-start);--md-focus-ring-shape-start-end: var(--_container-shape-start-end);--md-focus-ring-shape-end-end: var(--_container-shape-end-end);--md-focus-ring-shape-end-start: var(--_container-shape-end-start)}.container{border-radius:inherit;box-sizing:border-box;display:flex;height:100%;position:relative;width:100%}.container::before{border-radius:inherit;content:"";inset:0;pointer-events:none;position:absolute}.container:not(.disabled){cursor:pointer}.container.disabled{pointer-events:none}.cell{display:flex}.action{align-items:baseline;appearance:none;background:none;border:none;border-radius:inherit;display:flex;outline:none;padding:0;position:relative;text-decoration:none}.primary.action{padding-inline-start:var(--_leading-space);padding-inline-end:var(--_trailing-space)}.has-icon .primary.action{padding-inline-start:var(--_with-leading-icon-leading-space)}.touch{height:48px;inset:50% 0 0;position:absolute;transform:translateY(-50%);width:100%}:host([touch-target=none]) .touch{display:none}.outline{border:var(--_outline-width) solid var(--_outline-color);border-radius:inherit;inset:0;pointer-events:none;position:absolute}:where(:focus) .outline{border-color:var(--_focus-outline-color)}:where(.disabled) .outline{border-color:var(--_disabled-outline-color);opacity:var(--_disabled-outline-opacity)}md-ripple{border-radius:inherit}.label,.icon,.touch{z-index:1}.label{align-items:center;color:var(--_label-text-color);display:flex;font-family:var(--_label-text-font);font-size:var(--_label-text-size);line-height:var(--_label-text-line-height);font-weight:var(--_label-text-weight);height:100%;text-overflow:ellipsis;user-select:none;white-space:nowrap}:where(:hover) .label{color:var(--_hover-label-text-color)}:where(:focus) .label{color:var(--_focus-label-text-color)}:where(:active) .label{color:var(--_pressed-label-text-color)}:where(.disabled) .label{color:var(--_disabled-label-text-color);opacity:var(--_disabled-label-text-opacity)}.icon{align-self:center;display:flex;fill:currentColor;position:relative}.icon ::slotted(:first-child){font-size:var(--_icon-size);height:var(--_icon-size);width:var(--_icon-size)}.leading.icon{color:var(--_leading-icon-color)}.leading.icon ::slotted(*),.leading.icon svg{margin-inline-end:var(--_icon-label-space)}:where(:hover) .leading.icon{color:var(--_hover-leading-icon-color)}:where(:focus) .leading.icon{color:var(--_focus-leading-icon-color)}:where(:active) .leading.icon{color:var(--_pressed-leading-icon-color)}:where(.disabled) .leading.icon{color:var(--_disabled-leading-icon-color);opacity:var(--_disabled-leading-icon-opacity)}@media(forced-colors: active){:where(.disabled) :is(.label,.outline,.leading.icon){color:GrayText;opacity:1}}a,button{text-transform:inherit}a,button:not(:disabled){cursor:inherit}
`;/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OV=Te`.trailing.action{align-items:center;justify-content:center;padding-inline-start:var(--_icon-label-space);padding-inline-end:var(--_with-trailing-icon-trailing-space)}.trailing.action :is(md-ripple,md-focus-ring){border-radius:50%;height:calc(1.3333333333*var(--_icon-size));width:calc(1.3333333333*var(--_icon-size))}.trailing.action md-focus-ring{inset:unset}.has-trailing .primary.action{padding-inline-end:0}.trailing.icon{color:var(--_trailing-icon-color);height:var(--_icon-size);width:var(--_icon-size)}:where(:hover) .trailing.icon{color:var(--_hover-trailing-icon-color)}:where(:focus) .trailing.icon{color:var(--_focus-trailing-icon-color)}:where(:active) .trailing.icon{color:var(--_pressed-trailing-icon-color)}:where(.disabled) .trailing.icon{color:var(--_disabled-trailing-icon-color);opacity:var(--_disabled-trailing-icon-opacity)}:where(.selected) .trailing.icon{color:var(--_selected-trailing-icon-color)}:where(.selected:hover) .trailing.icon{color:var(--_selected-hover-trailing-icon-color)}:where(.selected:focus) .trailing.icon{color:var(--_selected-focus-trailing-icon-color)}:where(.selected:active) .trailing.icon{color:var(--_selected-pressed-trailing-icon-color)}@media(forced-colors: active){.trailing.icon{color:ButtonText}:where(.disabled) .trailing.icon{color:GrayText;opacity:1}}
`;/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let gm=class extends Do{};gm.styles=[DV,AV,OV,NV,PV];gm=O([it("md-filter-chip")],gm);/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xc=Symbol("isFocusable"),Af=Symbol("privateIsFocusable"),Jc=Symbol("externalTabIndex"),Zc=Symbol("isUpdatingTabIndex"),eu=Symbol("updateTabIndex");function LV(t){var e,r,n;class i extends t{constructor(){super(...arguments),this[e]=!0,this[r]=null,this[n]=!1}get[Xc](){return this[Af]}set[Xc](s){this[Xc]!==s&&(this[Af]=s,this[eu]())}connectedCallback(){super.connectedCallback(),this[eu]()}attributeChangedCallback(s,l,c){if(s!=="tabindex"){super.attributeChangedCallback(s,l,c);return}if(this.requestUpdate("tabIndex",Number(l??-1)),!this[Zc]){if(!this.hasAttribute("tabindex")){this[Jc]=null,this[eu]();return}this[Jc]=this.tabIndex}}[(e=Af,r=Jc,n=Zc,eu)](){const s=this[Xc]?0:-1,l=this[Jc]??s;this[Zc]=!0,this.tabIndex=l,this[Zc]=!1}}return O([z({noAccessor:!0})],i.prototype,"tabIndex",void 0),i}/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MV extends jv{computeValidity(e){this.radioElement||(this.radioElement=document.createElement("input"),this.radioElement.type="radio",this.radioElement.name="group");let r=!1,n=!1;for(const{checked:i,required:o}of e)o&&(r=!0),i&&(n=!0);return this.radioElement.checked=n,this.radioElement.required=r,{validity:{valueMissing:r&&!n},validationMessage:this.radioElement.validationMessage}}equals(e,r){if(e.length!==r.length)return!1;for(let n=0;n<e.length;n++){const i=e[n],o=r[n];if(i.checked!==o.checked||i.required!==o.required)return!1}return!0}copy(e){return e.map(({checked:r,required:n})=>({checked:r,required:n}))}}/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VV{get controls(){const e=this.host.getAttribute("name");return!e||!this.root||!this.host.isConnected?[this.host]:Array.from(this.root.querySelectorAll(`[name="${e}"]`))}constructor(e){this.host=e,this.focused=!1,this.root=null,this.handleFocusIn=()=>{this.focused=!0,this.updateTabIndices()},this.handleFocusOut=()=>{this.focused=!1,this.updateTabIndices()},this.handleKeyDown=r=>{const n=r.key==="ArrowDown",i=r.key==="ArrowUp",o=r.key==="ArrowLeft",s=r.key==="ArrowRight";if(!o&&!s&&!n&&!i)return;const l=this.controls;if(!l.length)return;r.preventDefault();const u=getComputedStyle(this.host).direction==="rtl"?o||n:s||n,h=l.indexOf(this.host);let p=u?h+1:h-1;for(;p!==h;){p>=l.length?p=0:p<0&&(p=l.length-1);const m=l[p];if(m.hasAttribute("disabled")){u?p++:p--;continue}for(const _ of l)_!==m&&(_.checked=!1,_.tabIndex=-1,_.blur());m.checked=!0,m.tabIndex=0,m.focus(),m.dispatchEvent(new Event("change",{bubbles:!0}));break}}}hostConnected(){this.root=this.host.getRootNode(),this.host.addEventListener("keydown",this.handleKeyDown),this.host.addEventListener("focusin",this.handleFocusIn),this.host.addEventListener("focusout",this.handleFocusOut),this.host.checked&&this.uncheckSiblings(),this.updateTabIndices()}hostDisconnected(){this.host.removeEventListener("keydown",this.handleKeyDown),this.host.removeEventListener("focusin",this.handleFocusIn),this.host.removeEventListener("focusout",this.handleFocusOut),this.updateTabIndices(),this.root=null}handleCheckedChange(){this.host.checked&&(this.uncheckSiblings(),this.updateTabIndices())}uncheckSiblings(){for(const e of this.controls)e!==this.host&&(e.checked=!1)}updateTabIndices(){const e=this.controls,r=e.find(n=>n.checked);if(r||this.focused){const n=r||this.host;n.tabIndex=0;for(const i of e)i!==n&&(i.tabIndex=-1);return}for(const n of e)n.tabIndex=0}}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var jw;const Cf=Symbol("checked");let $V=0;const FV=Fv(Uv(nc(LV(Fe))));class ic extends FV{get checked(){return this[Cf]}set checked(e){const r=this.checked;r!==e&&(this[Cf]=e,this.requestUpdate("checked",r),this.selectionController.handleCheckedChange())}constructor(){super(),this.maskId=`cutout${++$V}`,this[jw]=!1,this.required=!1,this.value="on",this.selectionController=new VV(this),this.addController(this.selectionController),this[Tt].role="radio",this.addEventListener("click",this.handleClick.bind(this)),this.addEventListener("keydown",this.handleKeydown.bind(this))}render(){const e={checked:this.checked};return Y`
      <div class="container ${wr(e)}" aria-hidden="true">
        <md-ripple
          part="ripple"
          .control=${this}
          ?disabled=${this.disabled}></md-ripple>
        <md-focus-ring part="focus-ring" .control=${this}></md-focus-ring>
        <svg class="icon" viewBox="0 0 20 20">
          <mask id="${this.maskId}">
            <rect width="100%" height="100%" fill="white" />
            <circle cx="10" cy="10" r="8" fill="black" />
          </mask>
          <circle
            class="outer circle"
            cx="10"
            cy="10"
            r="10"
            mask="url(#${this.maskId})" />
          <circle class="inner circle" cx="10" cy="10" r="5" />
        </svg>

        <input
          id="input"
          type="radio"
          tabindex="-1"
          .checked=${this.checked}
          .value=${this.value}
          ?disabled=${this.disabled} />
      </div>
    `}updated(){this[Tt].ariaChecked=String(this.checked)}async handleClick(e){this.disabled||(await 0,!e.defaultPrevented&&(Vv(e)&&this.focus(),this.checked=!0,this.dispatchEvent(new Event("change",{bubbles:!0})),this.dispatchEvent(new InputEvent("input",{bubbles:!0,composed:!0}))))}async handleKeydown(e){await 0,!(e.key!==" "||e.defaultPrevented)&&this.click()}[(jw=Cf,vs)](){return this.checked?this.value:null}[fd](){return String(this.checked)}formResetCallback(){this.checked=this.hasAttribute("checked")}formStateRestoreCallback(e){this.checked=e==="true"}[Ol](){return new MV(()=>this.selectionController?this.selectionController.controls:[this])}[Ll](){return this.container}}O([z({type:Boolean})],ic.prototype,"checked",null);O([z({type:Boolean})],ic.prototype,"required",void 0);O([z()],ic.prototype,"value",void 0);O([Xe(".container")],ic.prototype,"container",void 0);/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UV=Te`@layer{:host{display:inline-flex;height:var(--md-radio-icon-size, 20px);outline:none;position:relative;vertical-align:top;width:var(--md-radio-icon-size, 20px);-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;--md-ripple-hover-color: var(--md-radio-hover-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--md-ripple-hover-opacity: var(--md-radio-hover-state-layer-opacity, 0.08);--md-ripple-pressed-color: var(--md-radio-pressed-state-layer-color, var(--md-sys-color-primary, #6750a4));--md-ripple-pressed-opacity: var(--md-radio-pressed-state-layer-opacity, 0.12)}:host([disabled]){cursor:default}:host([touch-target=wrapper]){margin:max(0px,(48px - var(--md-radio-icon-size, 20px))/2)}.container{display:flex;height:100%;place-content:center;place-items:center;width:100%}md-focus-ring{height:44px;inset:unset;width:44px}.checked{--md-ripple-hover-color: var(--md-radio-selected-hover-state-layer-color, var(--md-sys-color-primary, #6750a4));--md-ripple-hover-opacity: var(--md-radio-selected-hover-state-layer-opacity, 0.08);--md-ripple-pressed-color: var(--md-radio-selected-pressed-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--md-ripple-pressed-opacity: var(--md-radio-selected-pressed-state-layer-opacity, 0.12)}input{appearance:none;height:48px;margin:0;position:absolute;width:48px;cursor:inherit}:host([touch-target=none]) input{width:100%;height:100%}md-ripple{border-radius:50%;height:var(--md-radio-state-layer-size, 40px);inset:unset;width:var(--md-radio-state-layer-size, 40px)}.icon{fill:var(--md-radio-icon-color, var(--md-sys-color-on-surface-variant, #49454f));inset:0;position:absolute}.outer.circle{transition:fill 50ms linear}.inner.circle{opacity:0;transform-origin:center;transition:opacity 50ms linear}.checked .icon{fill:var(--md-radio-selected-icon-color, var(--md-sys-color-primary, #6750a4))}.checked .inner.circle{animation:inner-circle-grow 300ms cubic-bezier(0.05, 0.7, 0.1, 1);opacity:1}@keyframes inner-circle-grow{from{transform:scale(0)}to{transform:scale(1)}}:host([disabled]) .circle{animation-duration:0s;transition-duration:0s}:host(:hover) .icon{fill:var(--md-radio-hover-icon-color, var(--md-sys-color-on-surface, #1d1b20))}:host(:focus-within) .icon{fill:var(--md-radio-focus-icon-color, var(--md-sys-color-on-surface, #1d1b20))}:host(:active) .icon{fill:var(--md-radio-pressed-icon-color, var(--md-sys-color-on-surface, #1d1b20))}:host([disabled]) .icon{fill:var(--md-radio-disabled-unselected-icon-color, var(--md-sys-color-on-surface, #1d1b20));opacity:var(--md-radio-disabled-unselected-icon-opacity, 0.38)}:host(:hover) .checked .icon{fill:var(--md-radio-selected-hover-icon-color, var(--md-sys-color-primary, #6750a4))}:host(:focus-within) .checked .icon{fill:var(--md-radio-selected-focus-icon-color, var(--md-sys-color-primary, #6750a4))}:host(:active) .checked .icon{fill:var(--md-radio-selected-pressed-icon-color, var(--md-sys-color-primary, #6750a4))}:host([disabled]) .checked .icon{fill:var(--md-radio-disabled-selected-icon-color, var(--md-sys-color-on-surface, #1d1b20));opacity:var(--md-radio-disabled-selected-icon-opacity, 0.38)}}@layer hcm{@media(forced-colors: active){.icon{fill:CanvasText}:host([disabled]) .icon{fill:GrayText;opacity:1}}}
`;/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let vm=class extends ic{};vm.styles=[UV];vm=O([it("md-radio")],vm);/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ch extends Fe{constructor(){super(...arguments),this.inset=!1,this.insetStart=!1,this.insetEnd=!1}}O([z({type:Boolean,reflect:!0})],ch.prototype,"inset",void 0);O([z({type:Boolean,reflect:!0,attribute:"inset-start"})],ch.prototype,"insetStart",void 0);O([z({type:Boolean,reflect:!0,attribute:"inset-end"})],ch.prototype,"insetEnd",void 0);/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jV=Te`:host{box-sizing:border-box;color:var(--md-divider-color, var(--md-sys-color-outline-variant, #cac4d0));display:flex;height:var(--md-divider-thickness, 1px);width:100%}:host([inset]),:host([inset-start]){padding-inline-start:16px}:host([inset]),:host([inset-end]){padding-inline-end:16px}:host::before{background:currentColor;content:"";height:100%;width:100%}@media(forced-colors: active){:host::before{background:CanvasText}}
`;/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ym=class extends ch{};ym.styles=[jV];ym=O([it("md-divider")],ym);/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zV={dialog:[[[{transform:"translateY(-50px)"},{transform:"translateY(0)"}],{duration:500,easing:Ls.EMPHASIZED}]],scrim:[[[{opacity:0},{opacity:.32}],{duration:500,easing:"linear"}]],container:[[[{opacity:0},{opacity:1}],{duration:50,easing:"linear",pseudoElement:"::before"}],[[{height:"35%"},{height:"100%"}],{duration:500,easing:Ls.EMPHASIZED,pseudoElement:"::before"}]],headline:[[[{opacity:0},{opacity:0,offset:.2},{opacity:1}],{duration:250,easing:"linear",fill:"forwards"}]],content:[[[{opacity:0},{opacity:0,offset:.2},{opacity:1}],{duration:250,easing:"linear",fill:"forwards"}]],actions:[[[{opacity:0},{opacity:0,offset:.5},{opacity:1}],{duration:300,easing:"linear",fill:"forwards"}]]},BV={dialog:[[[{transform:"translateY(0)"},{transform:"translateY(-50px)"}],{duration:150,easing:Ls.EMPHASIZED_ACCELERATE}]],scrim:[[[{opacity:.32},{opacity:0}],{duration:150,easing:"linear"}]],container:[[[{height:"100%"},{height:"35%"}],{duration:150,easing:Ls.EMPHASIZED_ACCELERATE,pseudoElement:"::before"}],[[{opacity:"1"},{opacity:"0"}],{delay:100,duration:50,easing:"linear",pseudoElement:"::before"}]],headline:[[[{opacity:1},{opacity:0}],{duration:100,easing:"linear",fill:"forwards"}]],content:[[[{opacity:1},{opacity:0}],{duration:100,easing:"linear",fill:"forwards"}]],actions:[[[{opacity:1},{opacity:0}],{duration:100,easing:"linear",fill:"forwards"}]]};/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ze extends Fe{get open(){return this.isOpen}set open(e){e!==this.isOpen&&(this.isOpen=e,e?(this.setAttribute("open",""),this.show()):(this.removeAttribute("open"),this.close()))}constructor(){super(),this.quick=!1,this.returnValue="",this.noFocusTrap=!1,this.getOpenAnimation=()=>zV,this.getCloseAnimation=()=>BV,this.isOpen=!1,this.isOpening=!1,this.isConnectedPromise=this.getIsConnectedPromise(),this.isAtScrollTop=!1,this.isAtScrollBottom=!1,this.nextClickIsFromContent=!1,this.hasHeadline=!1,this.hasActions=!1,this.hasIcon=!1,this.escapePressedWithoutCancel=!1,this.treewalker=document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT),this.addEventListener("submit",this.handleSubmit)}async show(){var n;this.isOpening=!0,await this.isConnectedPromise,await this.updateComplete;const e=this.dialog;if(e.open||!this.isOpening){this.isOpening=!1;return}if(!this.dispatchEvent(new Event("open",{cancelable:!0}))){this.open=!1,this.isOpening=!1;return}e.showModal(),this.open=!0,this.scroller&&(this.scroller.scrollTop=0),(n=this.querySelector("[autofocus]"))==null||n.focus(),await this.animateDialog(this.getOpenAnimation()),this.dispatchEvent(new Event("opened")),this.isOpening=!1}async close(e=this.returnValue){if(this.isOpening=!1,!this.isConnected){this.open=!1;return}await this.updateComplete;const r=this.dialog;if(!r.open||this.isOpening){this.open=!1;return}const n=this.returnValue;if(this.returnValue=e,!this.dispatchEvent(new Event("close",{cancelable:!0}))){this.returnValue=n;return}await this.animateDialog(this.getCloseAnimation()),r.close(e),this.open=!1,this.dispatchEvent(new Event("closed"))}connectedCallback(){super.connectedCallback(),this.isConnectedPromiseResolve()}disconnectedCallback(){super.disconnectedCallback(),this.isConnectedPromise=this.getIsConnectedPromise()}render(){const e=this.open&&!(this.isAtScrollTop&&this.isAtScrollBottom),r={"has-headline":this.hasHeadline,"has-actions":this.hasActions,"has-icon":this.hasIcon,scrollable:e,"show-top-divider":e&&!this.isAtScrollTop,"show-bottom-divider":e&&!this.isAtScrollBottom},n=this.open&&!this.noFocusTrap,i=Y`
      <div
        class="focus-trap"
        tabindex="0"
        aria-hidden="true"
        @focus=${this.handleFocusTrapFocus}></div>
    `,{ariaLabel:o}=this;return Y`
      <div class="scrim"></div>
      <dialog
        class=${wr(r)}
        aria-label=${o||W}
        aria-labelledby=${this.hasHeadline?"headline":W}
        role=${this.type==="alert"?"alertdialog":W}
        @cancel=${this.handleCancel}
        @click=${this.handleDialogClick}
        @close=${this.handleClose}
        @keydown=${this.handleKeydown}
        .returnValue=${this.returnValue||W}>
        ${n?i:W}
        <div class="container" @click=${this.handleContentClick}>
          <div class="headline">
            <div class="icon" aria-hidden="true">
              <slot name="icon" @slotchange=${this.handleIconChange}></slot>
            </div>
            <h2 id="headline" aria-hidden=${!this.hasHeadline||W}>
              <slot
                name="headline"
                @slotchange=${this.handleHeadlineChange}></slot>
            </h2>
            <md-divider></md-divider>
          </div>
          <div class="scroller">
            <div class="content">
              <div class="top anchor"></div>
              <slot name="content"></slot>
              <div class="bottom anchor"></div>
            </div>
          </div>
          <div class="actions">
            <md-divider></md-divider>
            <slot name="actions" @slotchange=${this.handleActionsChange}></slot>
          </div>
        </div>
        ${n?i:W}
      </dialog>
    `}firstUpdated(){this.intersectionObserver=new IntersectionObserver(e=>{for(const r of e)this.handleAnchorIntersection(r)},{root:this.scroller}),this.intersectionObserver.observe(this.topAnchor),this.intersectionObserver.observe(this.bottomAnchor)}handleDialogClick(){if(this.nextClickIsFromContent){this.nextClickIsFromContent=!1;return}this.dispatchEvent(new Event("cancel",{cancelable:!0}))&&this.close()}handleContentClick(){this.nextClickIsFromContent=!0}handleSubmit(e){const r=e.target,{submitter:n}=e;r.method!=="dialog"||!n||this.close(n.getAttribute("value")??this.returnValue)}handleCancel(e){if(e.target!==this.dialog)return;this.escapePressedWithoutCancel=!1;const r=!lh(this,e);e.preventDefault(),!r&&this.close()}handleClose(){var e;this.escapePressedWithoutCancel&&(this.escapePressedWithoutCancel=!1,(e=this.dialog)==null||e.dispatchEvent(new Event("cancel",{cancelable:!0})))}handleKeydown(e){e.key==="Escape"&&(this.escapePressedWithoutCancel=!0,setTimeout(()=>{this.escapePressedWithoutCancel=!1}))}async animateDialog(e){var P;if((P=this.cancelAnimations)==null||P.abort(),this.cancelAnimations=new AbortController,this.quick)return;const{dialog:r,scrim:n,container:i,headline:o,content:s,actions:l}=this;if(!r||!n||!i||!o||!s||!l)return;const{container:c,dialog:u,scrim:h,headline:p,content:m,actions:_}=e,C=[[r,u??[]],[n,h??[]],[i,c??[]],[o,p??[]],[s,m??[]],[l,_??[]]],k=[];for(const[w,b]of C)for(const I of b){const M=w.animate(...I);this.cancelAnimations.signal.addEventListener("abort",()=>{M.cancel()}),k.push(M)}await Promise.all(k.map(w=>w.finished.catch(()=>{})))}handleHeadlineChange(e){const r=e.target;this.hasHeadline=r.assignedElements().length>0}handleActionsChange(e){const r=e.target;this.hasActions=r.assignedElements().length>0}handleIconChange(e){const r=e.target;this.hasIcon=r.assignedElements().length>0}handleAnchorIntersection(e){const{target:r,isIntersecting:n}=e;r===this.topAnchor&&(this.isAtScrollTop=n),r===this.bottomAnchor&&(this.isAtScrollBottom=n)}getIsConnectedPromise(){return new Promise(e=>{this.isConnectedPromiseResolve=e})}handleFocusTrapFocus(e){var p;const[r,n]=this.getFirstAndLastFocusableChildren();if(!r||!n){(p=this.dialog)==null||p.focus();return}const i=e.target===this.firstFocusTrap,o=!i,s=e.relatedTarget===r,l=e.relatedTarget===n,c=!s&&!l;if(o&&l||i&&c){r.focus();return}if(i&&s||o&&c){n.focus();return}}getFirstAndLastFocusableChildren(){let e=null,r=null;for(this.treewalker.currentNode=this.treewalker.root;this.treewalker.nextNode();){const n=this.treewalker.currentNode;qV(n)&&(e||(e=n),r=n)}return[e,r]}}Ui(Ze);O([z({type:Boolean})],Ze.prototype,"open",null);O([z({type:Boolean})],Ze.prototype,"quick",void 0);O([z({attribute:!1})],Ze.prototype,"returnValue",void 0);O([z()],Ze.prototype,"type",void 0);O([z({type:Boolean,attribute:"no-focus-trap"})],Ze.prototype,"noFocusTrap",void 0);O([Xe("dialog")],Ze.prototype,"dialog",void 0);O([Xe(".scrim")],Ze.prototype,"scrim",void 0);O([Xe(".container")],Ze.prototype,"container",void 0);O([Xe(".headline")],Ze.prototype,"headline",void 0);O([Xe(".content")],Ze.prototype,"content",void 0);O([Xe(".actions")],Ze.prototype,"actions",void 0);O([rr()],Ze.prototype,"isAtScrollTop",void 0);O([rr()],Ze.prototype,"isAtScrollBottom",void 0);O([Xe(".scroller")],Ze.prototype,"scroller",void 0);O([Xe(".top.anchor")],Ze.prototype,"topAnchor",void 0);O([Xe(".bottom.anchor")],Ze.prototype,"bottomAnchor",void 0);O([Xe(".focus-trap")],Ze.prototype,"firstFocusTrap",void 0);O([rr()],Ze.prototype,"hasHeadline",void 0);O([rr()],Ze.prototype,"hasActions",void 0);O([rr()],Ze.prototype,"hasIcon",void 0);function qV(t){var o;const e=":is(button,input,select,textarea,object,:is(a,area)[href],[tabindex],[contenteditable=true])",r=":not(:disabled,[disabled])";return t.matches(e+r+':not([tabindex^="-"])')?!0:!t.localName.includes("-")||!t.matches(r)?!1:((o=t.shadowRoot)==null?void 0:o.delegatesFocus)??!1}/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HV=Te`:host{border-start-start-radius:var(--md-dialog-container-shape-start-start, var(--md-dialog-container-shape, var(--md-sys-shape-corner-extra-large, 28px)));border-start-end-radius:var(--md-dialog-container-shape-start-end, var(--md-dialog-container-shape, var(--md-sys-shape-corner-extra-large, 28px)));border-end-end-radius:var(--md-dialog-container-shape-end-end, var(--md-dialog-container-shape, var(--md-sys-shape-corner-extra-large, 28px)));border-end-start-radius:var(--md-dialog-container-shape-end-start, var(--md-dialog-container-shape, var(--md-sys-shape-corner-extra-large, 28px)));display:contents;margin:auto;max-height:min(560px,100% - 48px);max-width:min(560px,100% - 48px);min-height:140px;min-width:280px;position:fixed;height:fit-content;width:fit-content}dialog{background:rgba(0,0,0,0);border:none;border-radius:inherit;flex-direction:column;height:inherit;margin:inherit;max-height:inherit;max-width:inherit;min-height:inherit;min-width:inherit;outline:none;overflow:visible;padding:0;width:inherit}dialog[open]{display:flex}::backdrop{background:none}.scrim{background:var(--md-sys-color-scrim, #000);display:none;inset:0;opacity:32%;pointer-events:none;position:fixed;z-index:1}:host([open]) .scrim{display:flex}h2{all:unset;align-self:stretch}.headline{align-items:center;color:var(--md-dialog-headline-color, var(--md-sys-color-on-surface, #1d1b20));display:flex;flex-direction:column;font-family:var(--md-dialog-headline-font, var(--md-sys-typescale-headline-small-font, var(--md-ref-typeface-brand, Roboto)));font-size:var(--md-dialog-headline-size, var(--md-sys-typescale-headline-small-size, 1.5rem));line-height:var(--md-dialog-headline-line-height, var(--md-sys-typescale-headline-small-line-height, 2rem));font-weight:var(--md-dialog-headline-weight, var(--md-sys-typescale-headline-small-weight, var(--md-ref-typeface-weight-regular, 400)));position:relative}slot[name=headline]::slotted(*){align-items:center;align-self:stretch;box-sizing:border-box;display:flex;gap:8px;padding:24px 24px 0}.icon{display:flex}slot[name=icon]::slotted(*){color:var(--md-dialog-icon-color, var(--md-sys-color-secondary, #625b71));fill:currentColor;font-size:var(--md-dialog-icon-size, 24px);margin-top:24px;height:var(--md-dialog-icon-size, 24px);width:var(--md-dialog-icon-size, 24px)}.has-icon slot[name=headline]::slotted(*){justify-content:center;padding-top:16px}.scrollable slot[name=headline]::slotted(*){padding-bottom:16px}.scrollable.has-headline slot[name=content]::slotted(*){padding-top:8px}.container{border-radius:inherit;display:flex;flex-direction:column;flex-grow:1;overflow:hidden;position:relative;transform-origin:top}.container::before{background:var(--md-dialog-container-color, var(--md-sys-color-surface-container-high, #ece6f0));border-radius:inherit;content:"";inset:0;position:absolute}.scroller{display:flex;flex:1;flex-direction:column;overflow:hidden;z-index:1}.scrollable .scroller{overflow-y:scroll}.content{color:var(--md-dialog-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));font-family:var(--md-dialog-supporting-text-font, var(--md-sys-typescale-body-medium-font, var(--md-ref-typeface-plain, Roboto)));font-size:var(--md-dialog-supporting-text-size, var(--md-sys-typescale-body-medium-size, 0.875rem));line-height:var(--md-dialog-supporting-text-line-height, var(--md-sys-typescale-body-medium-line-height, 1.25rem));flex:1;font-weight:var(--md-dialog-supporting-text-weight, var(--md-sys-typescale-body-medium-weight, var(--md-ref-typeface-weight-regular, 400)));height:min-content;position:relative}slot[name=content]::slotted(*){box-sizing:border-box;padding:24px}.anchor{position:absolute}.top.anchor{top:0}.bottom.anchor{bottom:0}.actions{position:relative}slot[name=actions]::slotted(*){box-sizing:border-box;display:flex;gap:8px;justify-content:flex-end;padding:16px 24px 24px}.has-actions slot[name=content]::slotted(*){padding-bottom:8px}md-divider{display:none;position:absolute}.has-headline.show-top-divider .headline md-divider,.has-actions.show-bottom-divider .actions md-divider{display:flex}.headline md-divider{bottom:0}.actions md-divider{top:0}@media(forced-colors: active){dialog{outline:2px solid WindowText}}
`;/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let _m=class extends Ze{};_m.styles=[HV];_m=O([it("md-dialog")],_m);/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zw(t,e=!0){return e&&getComputedStyle(t).getPropertyValue("direction").trim()==="rtl"}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WV=nc(Fe);class Zt extends WV{constructor(){super(...arguments),this.disabled=!1,this.flipIconInRtl=!1,this.href="",this.target="",this.ariaLabelSelected="",this.toggle=!1,this.selected=!1,this.type="submit",this.value="",this.flipIcon=zw(this,this.flipIconInRtl)}get name(){return this.getAttribute("name")??""}set name(e){this.setAttribute("name",e)}get form(){return this[Tt].form}get labels(){return this[Tt].labels}willUpdate(){this.href&&(this.disabled=!1)}render(){const e=this.href?fo`div`:fo`button`,{ariaLabel:r,ariaHasPopup:n,ariaExpanded:i}=this,o=r&&this.ariaLabelSelected,s=this.toggle?this.selected:W;let l=W;return this.href||(l=o&&this.selected?this.ariaLabelSelected:r),$v`<${e}
        class="icon-button ${wr(this.getRenderClasses())}"
        id="button"
        aria-label="${l||W}"
        aria-haspopup="${!this.href&&n||W}"
        aria-expanded="${!this.href&&i||W}"
        aria-pressed="${s}"
        ?disabled="${!this.href&&this.disabled}"
        @click="${this.handleClick}">
        ${this.renderFocusRing()}
        ${this.renderRipple()}
        ${this.selected?W:this.renderIcon()}
        ${this.selected?this.renderSelectedIcon():W}
        ${this.renderTouchTarget()}
        ${this.href&&this.renderLink()}
  </${e}>`}renderLink(){const{ariaLabel:e}=this;return Y`
      <a
        class="link"
        id="link"
        href="${this.href}"
        target="${this.target||W}"
        aria-label="${e||W}"></a>
    `}getRenderClasses(){return{"flip-icon":this.flipIcon,selected:this.toggle&&this.selected}}renderIcon(){return Y`<span class="icon"><slot></slot></span>`}renderSelectedIcon(){return Y`<span class="icon icon--selected"
      ><slot name="selected"><slot></slot></slot
    ></span>`}renderTouchTarget(){return Y`<span class="touch"></span>`}renderFocusRing(){return Y`<md-focus-ring
      part="focus-ring"
      for=${this.href?"link":"button"}></md-focus-ring>`}renderRipple(){return Y`<md-ripple
      for=${this.href?"link":W}
      ?disabled="${!this.href&&this.disabled}"></md-ripple>`}connectedCallback(){this.flipIcon=zw(this,this.flipIconInRtl),super.connectedCallback()}async handleClick(e){await 0,!(!this.toggle||this.disabled||e.defaultPrevented)&&(this.selected=!this.selected,this.dispatchEvent(new InputEvent("input",{bubbles:!0,composed:!0})),this.dispatchEvent(new Event("change",{bubbles:!0})))}}Ui(Zt),IS(Zt);Zt.formAssociated=!0;Zt.shadowRootOptions={mode:"open",delegatesFocus:!0};O([z({type:Boolean,reflect:!0})],Zt.prototype,"disabled",void 0);O([z({type:Boolean,attribute:"flip-icon-in-rtl"})],Zt.prototype,"flipIconInRtl",void 0);O([z()],Zt.prototype,"href",void 0);O([z()],Zt.prototype,"target",void 0);O([z({attribute:"aria-label-selected"})],Zt.prototype,"ariaLabelSelected",void 0);O([z({type:Boolean})],Zt.prototype,"toggle",void 0);O([z({type:Boolean,reflect:!0})],Zt.prototype,"selected",void 0);O([z()],Zt.prototype,"type",void 0);O([z({reflect:!0})],Zt.prototype,"value",void 0);O([rr()],Zt.prototype,"flipIcon",void 0);/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KV=Te`:host{display:inline-flex;outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0);height:var(--_container-height);width:var(--_container-width);justify-content:center}:host([touch-target=wrapper]){margin:max(0px,(48px - var(--_container-height))/2) max(0px,(48px - var(--_container-width))/2)}md-focus-ring{--md-focus-ring-shape-start-start: var(--_container-shape-start-start);--md-focus-ring-shape-start-end: var(--_container-shape-start-end);--md-focus-ring-shape-end-end: var(--_container-shape-end-end);--md-focus-ring-shape-end-start: var(--_container-shape-end-start)}:host([disabled]){pointer-events:none}.icon-button{place-items:center;background:none;border:none;box-sizing:border-box;cursor:pointer;display:flex;place-content:center;outline:none;padding:0;position:relative;text-decoration:none;user-select:none;z-index:0;flex:1;border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-start-radius:var(--_container-shape-end-start);border-end-end-radius:var(--_container-shape-end-end)}.icon ::slotted(*){font-size:var(--_icon-size);height:var(--_icon-size);width:var(--_icon-size);font-weight:inherit}md-ripple{z-index:-1;border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-start-radius:var(--_container-shape-end-start);border-end-end-radius:var(--_container-shape-end-end)}.flip-icon .icon{transform:scaleX(-1)}.icon{display:inline-flex}.link{height:100%;outline:none;position:absolute;width:100%}.touch{position:absolute;height:max(48px,100%);width:max(48px,100%)}:host([touch-target=none]) .touch{display:none}@media(forced-colors: active){:host([disabled]){--_disabled-icon-opacity: 1}}
`;/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GV=Te`:host{--_disabled-icon-color: var(--md-icon-button-disabled-icon-color, var(--md-sys-color-on-surface, #1d1b20));--_disabled-icon-opacity: var(--md-icon-button-disabled-icon-opacity, 0.38);--_icon-size: var(--md-icon-button-icon-size, 24px);--_selected-focus-icon-color: var(--md-icon-button-selected-focus-icon-color, var(--md-sys-color-primary, #6750a4));--_selected-hover-icon-color: var(--md-icon-button-selected-hover-icon-color, var(--md-sys-color-primary, #6750a4));--_selected-hover-state-layer-color: var(--md-icon-button-selected-hover-state-layer-color, var(--md-sys-color-primary, #6750a4));--_selected-hover-state-layer-opacity: var(--md-icon-button-selected-hover-state-layer-opacity, 0.08);--_selected-icon-color: var(--md-icon-button-selected-icon-color, var(--md-sys-color-primary, #6750a4));--_selected-pressed-icon-color: var(--md-icon-button-selected-pressed-icon-color, var(--md-sys-color-primary, #6750a4));--_selected-pressed-state-layer-color: var(--md-icon-button-selected-pressed-state-layer-color, var(--md-sys-color-primary, #6750a4));--_selected-pressed-state-layer-opacity: var(--md-icon-button-selected-pressed-state-layer-opacity, 0.12);--_state-layer-height: var(--md-icon-button-state-layer-height, 40px);--_state-layer-shape: var(--md-icon-button-state-layer-shape, var(--md-sys-shape-corner-full, 9999px));--_state-layer-width: var(--md-icon-button-state-layer-width, 40px);--_focus-icon-color: var(--md-icon-button-focus-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-icon-color: var(--md-icon-button-hover-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-state-layer-color: var(--md-icon-button-hover-state-layer-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-state-layer-opacity: var(--md-icon-button-hover-state-layer-opacity, 0.08);--_icon-color: var(--md-icon-button-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_pressed-icon-color: var(--md-icon-button-pressed-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_pressed-state-layer-color: var(--md-icon-button-pressed-state-layer-color, var(--md-sys-color-on-surface-variant, #49454f));--_pressed-state-layer-opacity: var(--md-icon-button-pressed-state-layer-opacity, 0.12);--_container-shape-start-start: 0;--_container-shape-start-end: 0;--_container-shape-end-end: 0;--_container-shape-end-start: 0;--_container-height: 0;--_container-width: 0;height:var(--_state-layer-height);width:var(--_state-layer-width)}:host([touch-target=wrapper]){margin:max(0px,(48px - var(--_state-layer-height))/2) max(0px,(48px - var(--_state-layer-width))/2)}md-focus-ring{--md-focus-ring-shape-start-start: var(--_state-layer-shape);--md-focus-ring-shape-start-end: var(--_state-layer-shape);--md-focus-ring-shape-end-end: var(--_state-layer-shape);--md-focus-ring-shape-end-start: var(--_state-layer-shape)}.standard{background-color:rgba(0,0,0,0);color:var(--_icon-color);--md-ripple-hover-color: var(--_hover-state-layer-color);--md-ripple-hover-opacity: var(--_hover-state-layer-opacity);--md-ripple-pressed-color: var(--_pressed-state-layer-color);--md-ripple-pressed-opacity: var(--_pressed-state-layer-opacity)}.standard:hover{color:var(--_hover-icon-color)}.standard:focus{color:var(--_focus-icon-color)}.standard:active{color:var(--_pressed-icon-color)}.standard:disabled{color:var(--_disabled-icon-color)}md-ripple{border-radius:var(--_state-layer-shape)}.standard:disabled .icon{opacity:var(--_disabled-icon-opacity)}.selected{--md-ripple-hover-color: var(--_selected-hover-state-layer-color);--md-ripple-hover-opacity: var(--_selected-hover-state-layer-opacity);--md-ripple-pressed-color: var(--_selected-pressed-state-layer-color);--md-ripple-pressed-opacity: var(--_selected-pressed-state-layer-opacity)}.selected:not(:disabled){color:var(--_selected-icon-color)}.selected:not(:disabled):hover{color:var(--_selected-hover-icon-color)}.selected:not(:disabled):focus{color:var(--_selected-focus-icon-color)}.selected:not(:disabled):active{color:var(--_selected-pressed-icon-color)}
`;/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let bm=class extends Zt{getRenderClasses(){return{...super.getRenderClasses(),standard:!0}}};bm.styles=[KV,GV];bm=O([it("md-icon-button")],bm);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),XV=(t,e)=>{const r=R.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:l="",children:c,...u},h)=>R.createElement("svg",{ref:h,...QV,width:i,height:i,stroke:n,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${YV(t)}`,l].join(" "),...u},[...e.map(([p,m])=>R.createElement(p,m)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=XV("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),ZV=["Owner","Bartender","Barback","Server","Manager","Security","Runner"],Bw=[{id:"ice",label:"ICE",icon:"ac_unit"},{id:"glass",label:"GLASSWARE",icon:"wine_bar",children:[{id:"pint",label:"PINT"},{id:"rocks",label:"ROCKS"},{id:"collins",label:"COLLINS"},{id:"wine",label:"WINE GLASS"},{id:"coupe",label:"COUPE"},{id:"shot",label:"SHOT GLASS"}]},{id:"fruit",label:"FRUIT / GARNISH",icon:"restaurant",children:[{id:"lime",label:"LIMES"},{id:"lemon",label:"LEMONS"},{id:"orange",label:"ORANGES"},{id:"olive",label:"OLIVES"},{id:"cherry",label:"CHERRIES"},{id:"mint",label:"MINT"}]},{id:"restock_beer",label:"RESTOCK BEER",icon:"sports_bar"},{id:"mixers",label:"MIXERS",icon:"local_bar",children:[{id:"soda",label:"SODA"},{id:"tonic",label:"TONIC"},{id:"coke",label:"COKE"},{id:"diet",label:"DIET COKE"},{id:"sprite",label:"SPRITE"},{id:"ginger_ale",label:"GINGER ALE"},{id:"ginger_beer",label:"GINGER BEER"},{id:"cranberry",label:"CRANBERRY"},{id:"oj",label:"OJ"},{id:"pineapple",label:"PINEAPPLE"},{id:"grapefruit",label:"GRAPEFRUIT"},{id:"sour",label:"SOUR MIX"},{id:"simple",label:"SIMPLE SYRUP"},{id:"grenadine",label:"GRENADINE"},{id:"bitters",label:"BITTERS"}]},{id:"mixers",label:"MIXERS",icon:"local_bar",children:[{id:"soda",label:"SODA"},{id:"tonic",label:"TONIC"},{id:"coke",label:"COKE"},{id:"diet",label:"DIET COKE"},{id:"sprite",label:"SPRITE"},{id:"ginger_ale",label:"GINGER ALE"},{id:"ginger_beer",label:"GINGER BEER"},{id:"cranberry",label:"CRANBERRY"},{id:"oj",label:"OJ"},{id:"pineapple",label:"PINEAPPLE"},{id:"grapefruit",label:"GRAPEFRUIT"},{id:"sour",label:"SOUR MIX"},{id:"simple",label:"SIMPLE SYRUP"},{id:"grenadine",label:"GRENADINE"},{id:"bitters",label:"BITTERS"}]},{id:"mixers",label:"MIXERS",icon:"local_bar",children:[{id:"soda",label:"SODA"},{id:"tonic",label:"TONIC"},{id:"coke",label:"COKE"},{id:"diet",label:"DIET COKE"},{id:"sprite",label:"SPRITE"},{id:"ginger_ale",label:"GINGER ALE"},{id:"ginger_beer",label:"GINGER BEER"},{id:"cranberry",label:"CRANBERRY"},{id:"oj",label:"OJ"},{id:"pineapple",label:"PINEAPPLE"},{id:"grapefruit",label:"GRAPEFRUIT"},{id:"sour",label:"SOUR MIX"},{id:"simple",label:"SIMPLE SYRUP"},{id:"grenadine",label:"GRENADINE"},{id:"bitters",label:"BITTERS"}]},{id:"mixers",label:"MIXERS",icon:"local_bar",children:[{id:"soda",label:"SODA"},{id:"tonic",label:"TONIC"},{id:"coke",label:"COKE"},{id:"diet",label:"DIET COKE"},{id:"sprite",label:"SPRITE"},{id:"ginger_ale",label:"GINGER ALE"},{id:"ginger_beer",label:"GINGER BEER"},{id:"cranberry",label:"CRANBERRY"},{id:"oj",label:"OJ"},{id:"pineapple",label:"PINEAPPLE"},{id:"grapefruit",label:"GRAPEFRUIT"},{id:"sour",label:"SOUR MIX"},{id:"simple",label:"SIMPLE SYRUP"},{id:"grenadine",label:"GRENADINE"},{id:"bitters",label:"BITTERS"}]},{id:"restock",label:"RESTOCK WELL",icon:"liquor",children:[{id:"vodka",label:"VODKA"},{id:"gin",label:"GIN"},{id:"tequila",label:"TEQUILA"},{id:"rum",label:"RUM"},{id:"whiskey",label:"WHISKEY"},{id:"cordial",label:"MIXERS"},{id:"beer",label:"BEER"}]},{id:"restock_beer",label:"RESTOCK BEER",icon:"sports_bar"},{id:"trash",label:"TRASH / SPILL",icon:"delete"},{id:"keg",label:"KEG KICKED",icon:"keg"},{id:"security",label:"SECURITY",icon:"security"},{id:"manager",label:"MANAGER",icon:"manage_accounts"}],wm={Owner:["manager","security","keg","trash","ice","glass","fruit","restock","mixers","restock_beer"],Manager:["manager","security","keg","trash","restock","mixers","restock_beer"],Bartender:["ice","glass","fruit","restock","keg","trash","mixers","restock_beer"],Barback:["ice","glass","fruit","restock","keg","trash","mixers","restock_beer"],Server:[],Runner:["ice","glass","restock","mixers","restock_beer"],Security:["security","fight","manager"]},e$=[{id:"search",label:"Search"},{id:"create",label:"Create Temp"}],t$=({onJoin:t})=>{const[e,r]=R.useState("search"),[n,i]=R.useState(""),[o,s]=R.useState("bar"),[l,c]=R.useState([]),[u,h]=R.useState(!1);R.useEffect(()=>{if(e==="search"&&n.length>2){const m=setTimeout(async()=>{h(!0);try{const C=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(n+" bar")}`)).json();c(C)}catch(_){console.error(_)}finally{h(!1)}},500);return()=>clearTimeout(m)}else c([])},[n,e]);const p=m=>{m.preventDefault(),t({id:`temp_${Date.now()}`,name:n,status:"temporary",type:o})};return S.jsxs("div",{className:"space-y-4",children:[e==="search"?S.jsxs("div",{className:"space-y-2",children:[S.jsx("div",{className:"relative",children:S.jsx("md-filled-text-field",{label:"Search OpenStreetMap",value:n,onInput:m=>i(m.target.value),type:"search",className:"w-full",children:u&&S.jsx("md-circular-progress",{slot:"trailing-icon",indeterminate:!0,style:{width:"24px",height:"24px"}})})}),u&&S.jsx("div",{className:"flex justify-center p-4",children:S.jsx("md-circular-progress",{indeterminate:!0})}),u&&S.jsx("div",{className:"flex justify-center p-4",children:S.jsx("md-circular-progress",{indeterminate:!0})}),u&&S.jsx("div",{className:"flex justify-center p-4",children:S.jsx("md-circular-progress",{indeterminate:!0})}),l.length>0&&S.jsx("md-list",{className:"bg-[#1E1E1E] rounded-xl overflow-hidden border border-gray-800 max-h-60 overflow-y-auto",children:l.map(m=>S.jsxs("md-list-item",{type:"button",onClick:()=>t({id:String(m.osm_id),name:m.name||m.display_name.split(",")[0],address:m.display_name,status:"verified",osmId:String(m.osm_id)}),children:[S.jsx("div",{slot:"headline",className:"text-white",children:m.name||m.display_name.split(",")[0]}),S.jsx("div",{slot:"supporting-text",className:"text-gray-400 text-xs truncate",children:m.display_name}),S.jsx("md-icon",{slot:"start",children:"location_on"})]},m.place_id))})]}):S.jsxs("form",{onSubmit:p,className:"space-y-4",children:[S.jsx("md-filled-text-field",{label:"Bar Name",value:n,onInput:m=>i(m.target.value)}),S.jsxs("div",{className:"flex gap-6 justify-center",children:[S.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>s("bar"),children:[S.jsx("md-radio",{name:"barType",value:"bar",checked:o==="bar","touch-target":"wrapper"}),S.jsx("span",{className:"text-white",children:"Bar"})]}),S.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>s("restaurant"),children:[S.jsx("md-radio",{name:"barType",value:"restaurant",checked:o==="restaurant","touch-target":"wrapper"}),S.jsx("span",{className:"text-white",children:"Restaurant"})]})]}),S.jsx("div",{className:"flex justify-center",children:S.jsx("md-filled-button",{type:"submit",children:"Create Bar"})})]}),S.jsx("div",{className:"flex justify-center gap-4 pt-2",children:e$.map(m=>{const _=e===m.id,C=_?"md-filled-button":"md-outlined-button";return S.jsx(C,{onClick:()=>!_&&r(m.id),children:m.label},m.id)})})]})},r$=({onSelect:t})=>{const[e,r]=R.useState(""),[n,i]=R.useState("");return S.jsxs("div",{className:"w-full max-w-sm space-y-6 animate-in fade-in slide-in-from-bottom-4",children:[S.jsxs("div",{className:"text-center space-y-2",children:[S.jsx("h2",{className:"text-2xl font-bold text-white",children:"Identification"}),S.jsx("p",{className:"text-gray-500",children:"Name and Rank, soldier."})]}),S.jsx("md-filled-text-field",{label:"Display Name (e.g. 'Angry Steve')",value:n,onInput:o=>i(o.target.value),required:!0}),S.jsx("div",{className:"bg-[#1E1E1E] rounded-xl overflow-hidden border border-gray-800 max-h-60 overflow-y-auto",children:ZV.map(o=>S.jsxs("div",{onClick:()=>r(o),className:`p-4 flex items-center justify-between cursor-pointer border-b border-gray-800 last:border-0 hover:bg-white/5 ${e===o?"bg-white/10":""}`,children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("md-icon",{children:o==="Bartender"?"local_bar":"person"}),S.jsx("span",{className:"font-medium text-lg",children:o})]}),S.jsx("md-radio",{checked:e===o,"touch-target":"wrapper"})]},o))}),S.jsx("md-filled-button",{disabled:!e||!n||void 0,onClick:()=>t(e,n),children:"Clock In"})]})};/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OS=Symbol("dispatchHooks");function n$(t,e){const r=t[OS];if(!r)throw new Error(`'${t.type}' event needs setupDispatchHooks().`);r.addEventListener("after",e)}const qw=new WeakMap;function i$(t,...e){let r=qw.get(t);r||(r=new Set,qw.set(t,r));for(const n of e){if(r.has(n))continue;let i=!1;t.addEventListener(n,o=>{if(i)return;o.stopImmediatePropagation();const s=Reflect.construct(o.constructor,[o.type,o]),l=new EventTarget;s[OS]=l,i=!0;const c=t.dispatchEvent(s);i=!1,c||o.preventDefault(),l.dispatchEvent(new Event("after"))},{capture:!0}),r.add(n)}}/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class o$ extends jv{computeValidity(e){return this.checkboxControl||(this.checkboxControl=document.createElement("input"),this.checkboxControl.type="checkbox"),this.checkboxControl.checked=e.checked,this.checkboxControl.required=e.required,{validity:this.checkboxControl.validity,validationMessage:this.checkboxControl.validationMessage}}equals(e,r){return e.checked===r.checked&&e.required===r.required}copy({checked:e,required:r}){return{checked:e,required:r}}}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const s$=Fv(Uv(nc(Fe)));class Yn extends s${constructor(){super(),this.selected=!1,this.icons=!1,this.showOnlySelectedIcon=!1,this.required=!1,this.value="on",this.addEventListener("click",e=>{!Vv(e)||!this.input||(this.focus(),TS(this.input))}),i$(this,"keydown"),this.addEventListener("keydown",e=>{n$(e,()=>{e.defaultPrevented||e.key!=="Enter"||this.disabled||!this.input||this.input.click()})})}render(){return Y`
      <div class="switch ${wr(this.getRenderClasses())}">
        <input
          id="switch"
          class="touch"
          type="checkbox"
          role="switch"
          aria-label=${this.ariaLabel||W}
          ?checked=${this.selected}
          ?disabled=${this.disabled}
          ?required=${this.required}
          @input=${this.handleInput}
          @change=${this.handleChange} />

        <md-focus-ring part="focus-ring" for="switch"></md-focus-ring>
        <span class="track"> ${this.renderHandle()} </span>
      </div>
    `}getRenderClasses(){return{selected:this.selected,unselected:!this.selected,disabled:this.disabled}}renderHandle(){const e={"with-icon":this.showOnlySelectedIcon?this.selected:this.icons};return Y`
      ${this.renderTouchTarget()}
      <span class="handle-container">
        <md-ripple for="switch" ?disabled="${this.disabled}"></md-ripple>
        <span class="handle ${wr(e)}">
          ${this.shouldShowIcons()?this.renderIcons():Y``}
        </span>
      </span>
    `}renderIcons(){return Y`
      <div class="icons">
        ${this.renderOnIcon()}
        ${this.showOnlySelectedIcon?Y``:this.renderOffIcon()}
      </div>
    `}renderOnIcon(){return Y`
      <slot class="icon icon--on" name="on-icon">
        <svg viewBox="0 0 24 24">
          <path
            d="M9.55 18.2 3.65 12.3 5.275 10.675 9.55 14.95 18.725 5.775 20.35 7.4Z" />
        </svg>
      </slot>
    `}renderOffIcon(){return Y`
      <slot class="icon icon--off" name="off-icon">
        <svg viewBox="0 0 24 24">
          <path
            d="M6.4 19.2 4.8 17.6 10.4 12 4.8 6.4 6.4 4.8 12 10.4 17.6 4.8 19.2 6.4 13.6 12 19.2 17.6 17.6 19.2 12 13.6Z" />
        </svg>
      </slot>
    `}renderTouchTarget(){return Y`<span class="touch"></span>`}shouldShowIcons(){return this.icons||this.showOnlySelectedIcon}handleInput(e){const r=e.target;this.selected=r.checked}handleChange(e){lh(this,e)}[vs](){return this.selected?this.value:null}[fd](){return String(this.selected)}formResetCallback(){this.selected=this.hasAttribute("selected")}formStateRestoreCallback(e){this.selected=e==="true"}[Ol](){return new o$(()=>({checked:this.selected,required:this.required}))}[Ll](){return this.input}}Ui(Yn);Yn.shadowRootOptions={mode:"open",delegatesFocus:!0};O([z({type:Boolean})],Yn.prototype,"selected",void 0);O([z({type:Boolean})],Yn.prototype,"icons",void 0);O([z({type:Boolean,attribute:"show-only-selected-icon"})],Yn.prototype,"showOnlySelectedIcon",void 0);O([z({type:Boolean})],Yn.prototype,"required",void 0);O([z()],Yn.prototype,"value",void 0);O([Xe("input")],Yn.prototype,"input",void 0);/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const a$=Te`@layer styles, hcm;@layer styles{:host{display:inline-flex;outline:none;vertical-align:top;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer}:host([disabled]){cursor:default}:host([touch-target=wrapper]){margin:max(0px,(48px - var(--md-switch-track-height, 32px))/2) 0px}md-focus-ring{--md-focus-ring-shape-start-start: var(--md-switch-track-shape-start-start, var(--md-switch-track-shape, var(--md-sys-shape-corner-full, 9999px)));--md-focus-ring-shape-start-end: var(--md-switch-track-shape-start-end, var(--md-switch-track-shape, var(--md-sys-shape-corner-full, 9999px)));--md-focus-ring-shape-end-end: var(--md-switch-track-shape-end-end, var(--md-switch-track-shape, var(--md-sys-shape-corner-full, 9999px)));--md-focus-ring-shape-end-start: var(--md-switch-track-shape-end-start, var(--md-switch-track-shape, var(--md-sys-shape-corner-full, 9999px)))}.switch{align-items:center;display:inline-flex;flex-shrink:0;position:relative;width:var(--md-switch-track-width, 52px);height:var(--md-switch-track-height, 32px);border-start-start-radius:var(--md-switch-track-shape-start-start, var(--md-switch-track-shape, var(--md-sys-shape-corner-full, 9999px)));border-start-end-radius:var(--md-switch-track-shape-start-end, var(--md-switch-track-shape, var(--md-sys-shape-corner-full, 9999px)));border-end-end-radius:var(--md-switch-track-shape-end-end, var(--md-switch-track-shape, var(--md-sys-shape-corner-full, 9999px)));border-end-start-radius:var(--md-switch-track-shape-end-start, var(--md-switch-track-shape, var(--md-sys-shape-corner-full, 9999px)))}input{appearance:none;height:48px;outline:none;margin:0;position:absolute;width:100%;z-index:1;cursor:inherit}:host([touch-target=none]) input{display:none}}@layer styles{.track{position:absolute;width:100%;height:100%;box-sizing:border-box;border-radius:inherit;display:flex;justify-content:center;align-items:center}.track::before{content:"";display:flex;position:absolute;height:100%;width:100%;border-radius:inherit;box-sizing:border-box;transition-property:opacity,background-color;transition-timing-function:linear;transition-duration:67ms}.disabled .track{background-color:rgba(0,0,0,0);border-color:rgba(0,0,0,0)}.disabled .track::before,.disabled .track::after{transition:none;opacity:var(--md-switch-disabled-track-opacity, 0.12)}.disabled .track::before{background-clip:content-box}.selected .track::before{background-color:var(--md-switch-selected-track-color, var(--md-sys-color-primary, #6750a4))}.selected:hover .track::before{background-color:var(--md-switch-selected-hover-track-color, var(--md-sys-color-primary, #6750a4))}.selected:focus-within .track::before{background-color:var(--md-switch-selected-focus-track-color, var(--md-sys-color-primary, #6750a4))}.selected:active .track::before{background-color:var(--md-switch-selected-pressed-track-color, var(--md-sys-color-primary, #6750a4))}.selected.disabled .track{background-clip:border-box}.selected.disabled .track::before{background-color:var(--md-switch-disabled-selected-track-color, var(--md-sys-color-on-surface, #1d1b20))}.unselected .track::before{background-color:var(--md-switch-track-color, var(--md-sys-color-surface-container-highest, #e6e0e9));border-color:var(--md-switch-track-outline-color, var(--md-sys-color-outline, #79747e));border-style:solid;border-width:var(--md-switch-track-outline-width, 2px)}.unselected:hover .track::before{background-color:var(--md-switch-hover-track-color, var(--md-sys-color-surface-container-highest, #e6e0e9));border-color:var(--md-switch-hover-track-outline-color, var(--md-sys-color-outline, #79747e))}.unselected:focus-visible .track::before{background-color:var(--md-switch-focus-track-color, var(--md-sys-color-surface-container-highest, #e6e0e9));border-color:var(--md-switch-focus-track-outline-color, var(--md-sys-color-outline, #79747e))}.unselected:active .track::before{background-color:var(--md-switch-pressed-track-color, var(--md-sys-color-surface-container-highest, #e6e0e9));border-color:var(--md-switch-pressed-track-outline-color, var(--md-sys-color-outline, #79747e))}.unselected.disabled .track::before{background-color:var(--md-switch-disabled-track-color, var(--md-sys-color-surface-container-highest, #e6e0e9));border-color:var(--md-switch-disabled-track-outline-color, var(--md-sys-color-on-surface, #1d1b20))}}@layer hcm{@media(forced-colors: active){.selected .track::before{background:ButtonText;border-color:ButtonText}.disabled .track::before{border-color:GrayText;opacity:1}.disabled.selected .track::before{background:GrayText}}}@layer styles{.handle-container{display:flex;place-content:center;place-items:center;position:relative;transition:margin 300ms cubic-bezier(0.175, 0.885, 0.32, 1.275)}.selected .handle-container{margin-inline-start:calc(var(--md-switch-track-width, 52px) - var(--md-switch-track-height, 32px))}.unselected .handle-container{margin-inline-end:calc(var(--md-switch-track-width, 52px) - var(--md-switch-track-height, 32px))}.disabled .handle-container{transition:none}.handle{border-start-start-radius:var(--md-switch-handle-shape-start-start, var(--md-switch-handle-shape, var(--md-sys-shape-corner-full, 9999px)));border-start-end-radius:var(--md-switch-handle-shape-start-end, var(--md-switch-handle-shape, var(--md-sys-shape-corner-full, 9999px)));border-end-end-radius:var(--md-switch-handle-shape-end-end, var(--md-switch-handle-shape, var(--md-sys-shape-corner-full, 9999px)));border-end-start-radius:var(--md-switch-handle-shape-end-start, var(--md-switch-handle-shape, var(--md-sys-shape-corner-full, 9999px)));height:var(--md-switch-handle-height, 16px);width:var(--md-switch-handle-width, 16px);transform-origin:center;transition-property:height,width;transition-duration:250ms,250ms;transition-timing-function:cubic-bezier(0.2, 0, 0, 1),cubic-bezier(0.2, 0, 0, 1);z-index:0}.handle::before{content:"";display:flex;inset:0;position:absolute;border-radius:inherit;box-sizing:border-box;transition:background-color 67ms linear}.disabled .handle,.disabled .handle::before{transition:none}.selected .handle{height:var(--md-switch-selected-handle-height, 24px);width:var(--md-switch-selected-handle-width, 24px)}.handle.with-icon{height:var(--md-switch-with-icon-handle-height, 24px);width:var(--md-switch-with-icon-handle-width, 24px)}.selected:not(.disabled):active .handle,.unselected:not(.disabled):active .handle{height:var(--md-switch-pressed-handle-height, 28px);width:var(--md-switch-pressed-handle-width, 28px);transition-timing-function:linear;transition-duration:100ms}.selected .handle::before{background-color:var(--md-switch-selected-handle-color, var(--md-sys-color-on-primary, #fff))}.selected:hover .handle::before{background-color:var(--md-switch-selected-hover-handle-color, var(--md-sys-color-primary-container, #eaddff))}.selected:focus-within .handle::before{background-color:var(--md-switch-selected-focus-handle-color, var(--md-sys-color-primary-container, #eaddff))}.selected:active .handle::before{background-color:var(--md-switch-selected-pressed-handle-color, var(--md-sys-color-primary-container, #eaddff))}.selected.disabled .handle::before{background-color:var(--md-switch-disabled-selected-handle-color, var(--md-sys-color-surface, #fef7ff));opacity:var(--md-switch-disabled-selected-handle-opacity, 1)}.unselected .handle::before{background-color:var(--md-switch-handle-color, var(--md-sys-color-outline, #79747e))}.unselected:hover .handle::before{background-color:var(--md-switch-hover-handle-color, var(--md-sys-color-on-surface-variant, #49454f))}.unselected:focus-within .handle::before{background-color:var(--md-switch-focus-handle-color, var(--md-sys-color-on-surface-variant, #49454f))}.unselected:active .handle::before{background-color:var(--md-switch-pressed-handle-color, var(--md-sys-color-on-surface-variant, #49454f))}.unselected.disabled .handle::before{background-color:var(--md-switch-disabled-handle-color, var(--md-sys-color-on-surface, #1d1b20));opacity:var(--md-switch-disabled-handle-opacity, 0.38)}md-ripple{border-radius:var(--md-switch-state-layer-shape, var(--md-sys-shape-corner-full, 9999px));height:var(--md-switch-state-layer-size, 40px);inset:unset;width:var(--md-switch-state-layer-size, 40px)}.selected md-ripple{--md-ripple-hover-color: var(--md-switch-selected-hover-state-layer-color, var(--md-sys-color-primary, #6750a4));--md-ripple-pressed-color: var(--md-switch-selected-pressed-state-layer-color, var(--md-sys-color-primary, #6750a4));--md-ripple-hover-opacity: var(--md-switch-selected-hover-state-layer-opacity, 0.08);--md-ripple-pressed-opacity: var(--md-switch-selected-pressed-state-layer-opacity, 0.12)}.unselected md-ripple{--md-ripple-hover-color: var(--md-switch-hover-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--md-ripple-pressed-color: var(--md-switch-pressed-state-layer-color, var(--md-sys-color-on-surface, #1d1b20));--md-ripple-hover-opacity: var(--md-switch-hover-state-layer-opacity, 0.08);--md-ripple-pressed-opacity: var(--md-switch-pressed-state-layer-opacity, 0.12)}}@layer hcm{@media(forced-colors: active){.unselected .handle::before{background:ButtonText}.disabled .handle::before{opacity:1}.disabled.unselected .handle::before{background:GrayText}}}@layer styles{.icons{position:relative;height:100%;width:100%}.icon{position:absolute;inset:0;margin:auto;display:flex;align-items:center;justify-content:center;fill:currentColor;transition:fill 67ms linear,opacity 33ms linear,transform 167ms cubic-bezier(0.2, 0, 0, 1);opacity:0}.disabled .icon{transition:none}.selected .icon--on,.unselected .icon--off{opacity:1}.unselected .handle:not(.with-icon) .icon--on{transform:rotate(-45deg)}.icon--off{width:var(--md-switch-icon-size, 16px);height:var(--md-switch-icon-size, 16px);color:var(--md-switch-icon-color, var(--md-sys-color-surface-container-highest, #e6e0e9))}.unselected:hover .icon--off{color:var(--md-switch-hover-icon-color, var(--md-sys-color-surface-container-highest, #e6e0e9))}.unselected:focus-within .icon--off{color:var(--md-switch-focus-icon-color, var(--md-sys-color-surface-container-highest, #e6e0e9))}.unselected:active .icon--off{color:var(--md-switch-pressed-icon-color, var(--md-sys-color-surface-container-highest, #e6e0e9))}.unselected.disabled .icon--off{color:var(--md-switch-disabled-icon-color, var(--md-sys-color-surface-container-highest, #e6e0e9));opacity:var(--md-switch-disabled-icon-opacity, 0.38)}.icon--on{width:var(--md-switch-selected-icon-size, 16px);height:var(--md-switch-selected-icon-size, 16px);color:var(--md-switch-selected-icon-color, var(--md-sys-color-on-primary-container, #21005d))}.selected:hover .icon--on{color:var(--md-switch-selected-hover-icon-color, var(--md-sys-color-on-primary-container, #21005d))}.selected:focus-within .icon--on{color:var(--md-switch-selected-focus-icon-color, var(--md-sys-color-on-primary-container, #21005d))}.selected:active .icon--on{color:var(--md-switch-selected-pressed-icon-color, var(--md-sys-color-on-primary-container, #21005d))}.selected.disabled .icon--on{color:var(--md-switch-disabled-selected-icon-color, var(--md-sys-color-on-surface, #1d1b20));opacity:var(--md-switch-disabled-selected-icon-opacity, 0.38)}}@layer hcm{@media(forced-colors: active){.icon--off{fill:Canvas}.icon--on{fill:ButtonText}.disabled.unselected .icon--off,.disabled.selected .icon--on{opacity:1}.disabled .icon--on{fill:GrayText}}}
`;/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Em=class extends Yn{};Em.styles=[a$];Em=O([it("md-switch")],Em);const l$=({open:t,onClose:e,onSave:r,userRole:n,currentPreferences:i,allButtons:o})=>{const[s,l]=R.useState([]);R.useEffect(()=>{t&&l(i)},[t,i]);const c=(p,m)=>{l(m?_=>[..._,p]:_=>_.filter(C=>C!==p))},u=()=>{const p=wm[n]||[];l(p)},h=()=>{r(s),e()};return S.jsxs("md-dialog",{open:t?!0:void 0,onClose:e,children:[S.jsx("div",{slot:"headline",children:"Notification Settings"}),S.jsxs("div",{slot:"content",className:"flex flex-col gap-4 min-w-[300px]",children:[S.jsxs("div",{className:"text-sm text-gray-400",children:["Enable or disable notifications for your role (",n,")."]}),S.jsx("md-list",{className:"bg-transparent max-h-[60vh] overflow-y-auto",children:o.map(p=>{const m=s.includes(p.id);return S.jsxs("md-list-item",{children:[S.jsx("div",{slot:"headline",children:p.label}),S.jsx("md-icon",{slot:"start",children:p.icon||"notifications"}),S.jsx("md-switch",{slot:"end",selected:m,onClick:()=>c(p.id,!m)})]},p.id)})})]}),S.jsxs("div",{slot:"actions",children:[S.jsx("md-text-button",{onClick:u,children:"Reset to Default"}),S.jsx("div",{className:"flex-1"}),S.jsx("md-text-button",{onClick:e,children:"Cancel"}),S.jsx("md-filled-button",{onClick:h,children:"Save"})]})]})},c$=({open:t,onClose:e,barName:r,allButtons:n,hiddenButtonIds:i,onHideButton:o,users:s=[],onApproveUser:l,onRemoveUser:c,currentUserRole:u})=>{const[h,p]=R.useState("buttons"),[m,_]=R.useState(null),[C,k]=R.useState(null),P=n.filter(y=>!i.includes(y.id)),w=s.filter(y=>y.status==="pending"),b=s.filter(y=>y.status!=="pending"),I=y=>{_(y)},M=()=>{m&&(o(m),_(null))},$=y=>{k(y)},F=()=>{C&&c&&(c(C),k(null))};return S.jsxs(S.Fragment,{children:[S.jsxs("md-dialog",{open:t,onClose:e,style:{maxHeight:"80vh"},children:[S.jsxs("div",{slot:"headline",children:["Manage ",r]}),S.jsxs("div",{slot:"content",className:"flex flex-col gap-4 min-w-[300px]",children:[S.jsxs("div",{className:"flex gap-2 border-b border-gray-800 pb-2",children:[S.jsx("md-text-button",{onClick:()=>p("buttons"),disabled:h==="buttons"||void 0,className:h==="buttons"?"bg-white/10":"",children:"Buttons"}),(u==="Owner"||u==="Manager")&&S.jsxs("md-text-button",{onClick:()=>p("users"),disabled:h==="users"||void 0,className:h==="users"?"bg-white/10":"",children:["Staff ",w.length>0&&`(${w.length})`]})]}),h==="buttons"&&S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"text-sm text-gray-400",children:"Manage active pager buttons. Hiding a button removes it from the main dashboard but keeps it in the database."}),S.jsx("div",{className:"border border-gray-800 rounded overflow-hidden",children:S.jsxs("md-list",{children:[P.map(y=>S.jsxs("md-list-item",{children:[S.jsx("div",{slot:"headline",children:y.label}),S.jsx("md-icon",{slot:"start",children:y.icon||"circle"}),S.jsx("md-icon-button",{slot:"end",onClick:()=>I(y.id),children:S.jsx("md-icon",{children:"close"})})]},y.id)),P.length===0&&S.jsx("div",{className:"p-4 text-center text-gray-500",children:"No active buttons."})]})})]}),h==="users"&&S.jsxs("div",{className:"flex flex-col gap-6",children:[w.length>0&&S.jsxs("div",{className:"space-y-2",children:[S.jsx("h3",{className:"text-yellow-500 font-bold text-sm uppercase tracking-wide",children:"Pending Approval"}),S.jsx("div",{className:"border border-yellow-900/50 bg-yellow-900/10 rounded overflow-hidden",children:S.jsxs("md-list",{children:[w.map(y=>S.jsxs("md-list-item",{children:[S.jsx("div",{slot:"headline",className:"text-white",children:y.displayName}),S.jsx("div",{slot:"supporting-text",className:"text-yellow-400",children:y.role}),S.jsxs("div",{slot:"end",className:"flex gap-2",children:[S.jsx("md-icon-button",{onClick:()=>l&&l(y.id),className:"text-green-500",children:S.jsx("md-icon",{children:"check_circle"})}),S.jsx("md-icon-button",{onClick:()=>$(y.id),className:"text-red-500",children:S.jsx("md-icon",{children:"cancel"})})]})]},y.id)),w.length===0&&S.jsx("div",{className:"p-4 text-gray-500 text-center",children:"No pending approvals."})]})})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("h3",{className:"text-gray-500 font-bold text-sm uppercase tracking-wide",children:"Active Staff"}),S.jsx("div",{className:"border border-gray-800 rounded overflow-hidden",children:S.jsx("md-list",{children:b.map(y=>S.jsxs("md-list-item",{children:[S.jsx("div",{slot:"headline",children:y.displayName}),S.jsx("div",{slot:"supporting-text",className:"text-gray-400",children:y.role}),S.jsx("md-icon-button",{slot:"end",onClick:()=>$(y.id),children:S.jsx("md-icon",{children:"delete"})})]},y.id))})})]})]})]}),S.jsx("div",{slot:"actions",children:S.jsx("md-text-button",{onClick:e,children:"Close"})})]}),S.jsxs("md-dialog",{open:!!m,onClose:()=>_(null),children:[S.jsx("div",{slot:"headline",children:"Remove Button?"}),S.jsx("div",{slot:"content",children:"Are you sure you want to remove this button from the dashboard?"}),S.jsxs("div",{slot:"actions",children:[S.jsx("md-text-button",{onClick:()=>_(null),children:"Cancel"}),S.jsx("md-filled-button",{onClick:M,class:"btn-alert",children:"Remove"})]})]}),S.jsxs("md-dialog",{open:!!C,onClose:()=>k(null),children:[S.jsx("div",{slot:"headline",children:"Remove User?"}),S.jsx("div",{slot:"content",children:"Are you sure you want to remove this user from the bar? This action cannot be undone."}),S.jsxs("div",{slot:"actions",children:[S.jsx("md-text-button",{onClick:()=>k(null),children:"Cancel"}),S.jsx("md-filled-button",{onClick:F,class:"btn-alert",children:"Remove User"})]})]})]})},u$=({open:t,mode:e,searchTerm:r,onSearchChange:n,onClose:i,onSelect:o,suggestions:s})=>{const l=r.toLowerCase(),c=s.filter(h=>h.toLowerCase().includes(l)),u=c.some(h=>h.toLowerCase()===l);return S.jsxs("md-dialog",{open:t,onClose:i,children:[S.jsxs("div",{slot:"headline",children:[e==="brand"&&"Select or Add Brand",e==="type"&&"Select or Add Type",e==="well"&&"Add Well"]}),S.jsxs("div",{slot:"content",className:"flex flex-col gap-4 min-w-[300px] h-[300px]",children:[S.jsx("md-filled-text-field",{label:e==="well"?"Well Name":"Search...",value:r,onInput:h=>n(h.target.value),style:{width:"100%"}}),e!=="well"?S.jsx("div",{className:"flex-1 overflow-y-auto border border-gray-800 rounded p-2",children:S.jsxs("md-list",{children:[c.map(h=>S.jsxs("md-list-item",{type:"button",onClick:()=>o(h),children:[S.jsx("div",{slot:"headline",children:h}),S.jsx("md-icon",{slot:"end",children:"arrow_forward"})]},h)),r&&!u&&S.jsxs("md-list-item",{type:"button",onClick:()=>o(r),children:[S.jsxs("div",{slot:"headline",className:"text-blue-400",children:['Create "',r,'"']}),S.jsx("md-icon",{slot:"end",className:"text-blue-400",children:"add_circle"})]})]})}):S.jsx("div",{className:"flex justify-center p-4",children:S.jsx("md-filled-button",{onClick:()=>o(r),children:"Save & Request"})})]}),S.jsx("div",{slot:"actions",children:S.jsx("md-text-button",{onClick:i,children:"Cancel"})})]})};function d$(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return R.useMemo(()=>n=>{e.forEach(i=>i(n))},e)}const uh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Xs(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Bv(t){return"nodeType"in t}function dr(t){var e,r;return t?Xs(t)?t:Bv(t)&&(e=(r=t.ownerDocument)==null?void 0:r.defaultView)!=null?e:window:window}function qv(t){const{Document:e}=dr(t);return t instanceof e}function oc(t){return Xs(t)?!1:t instanceof dr(t).HTMLElement}function LS(t){return t instanceof dr(t).SVGElement}function Js(t){return t?Xs(t)?t.document:Bv(t)?qv(t)?t:oc(t)||LS(t)?t.ownerDocument:document:document:document}const mn=uh?R.useLayoutEffect:R.useEffect;function Hv(t){const e=R.useRef(t);return mn(()=>{e.current=t}),R.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}function h$(){const t=R.useRef(null),e=R.useCallback((n,i)=>{t.current=setInterval(n,i)},[]),r=R.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,r]}function Ml(t,e){e===void 0&&(e=[t]);const r=R.useRef(t);return mn(()=>{r.current!==t&&(r.current=t)},e),r}function sc(t,e){const r=R.useRef();return R.useMemo(()=>{const n=t(r.current);return r.current=n,n},[...e])}function pd(t){const e=Hv(t),r=R.useRef(null),n=R.useCallback(i=>{i!==r.current&&(e==null||e(i,r.current)),r.current=i},[]);return[r,n]}function xm(t){const e=R.useRef();return R.useEffect(()=>{e.current=t},[t]),e.current}let kf={};function ac(t,e){return R.useMemo(()=>{if(e)return e;const r=kf[t]==null?0:kf[t]+1;return kf[t]=r,t+"-"+r},[t,e])}function MS(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.reduce((o,s)=>{const l=Object.entries(s);for(const[c,u]of l){const h=o[c];h!=null&&(o[c]=h+t*u)}return o},{...e})}}const ys=MS(1),md=MS(-1);function f$(t){return"clientX"in t&&"clientY"in t}function Wv(t){if(!t)return!1;const{KeyboardEvent:e}=dr(t.target);return e&&t instanceof e}function p$(t){if(!t)return!1;const{TouchEvent:e}=dr(t.target);return e&&t instanceof e}function Im(t){if(p$(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:r}=t.touches[0];return{x:e,y:r}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:r}=t.changedTouches[0];return{x:e,y:r}}}return f$(t)?{x:t.clientX,y:t.clientY}:null}const Vl=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:r}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:r}=t;return"scaleX("+e+") scaleY("+r+")"}},Transform:{toString(t){if(t)return[Vl.Translate.toString(t),Vl.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:r,easing:n}=t;return e+" "+r+"ms "+n}}}),Hw="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function m$(t){return t.matches(Hw)?t:t.querySelector(Hw)}const g$={display:"none"};function v$(t){let{id:e,value:r}=t;return Yt.createElement("div",{id:e,style:g$},r)}function y$(t){let{id:e,announcement:r,ariaLiveType:n="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Yt.createElement("div",{id:e,style:i,role:"status","aria-live":n,"aria-atomic":!0},r)}function _$(){const[t,e]=R.useState("");return{announce:R.useCallback(n=>{n!=null&&e(n)},[]),announcement:t}}const VS=R.createContext(null);function b$(t){const e=R.useContext(VS);R.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function w$(){const[t]=R.useState(()=>new Set),e=R.useCallback(n=>(t.add(n),()=>t.delete(n)),[t]);return[R.useCallback(n=>{let{type:i,event:o}=n;t.forEach(s=>{var l;return(l=s[i])==null?void 0:l.call(s,o)})},[t]),e]}const E$={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},x$={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was moved over droppable area "+r.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was dropped over droppable area "+r.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function I$(t){let{announcements:e=x$,container:r,hiddenTextDescribedById:n,screenReaderInstructions:i=E$}=t;const{announce:o,announcement:s}=_$(),l=ac("DndLiveRegion"),[c,u]=R.useState(!1);if(R.useEffect(()=>{u(!0)},[]),b$(R.useMemo(()=>({onDragStart(p){let{active:m}=p;o(e.onDragStart({active:m}))},onDragMove(p){let{active:m,over:_}=p;e.onDragMove&&o(e.onDragMove({active:m,over:_}))},onDragOver(p){let{active:m,over:_}=p;o(e.onDragOver({active:m,over:_}))},onDragEnd(p){let{active:m,over:_}=p;o(e.onDragEnd({active:m,over:_}))},onDragCancel(p){let{active:m,over:_}=p;o(e.onDragCancel({active:m,over:_}))}}),[o,e])),!c)return null;const h=Yt.createElement(Yt.Fragment,null,Yt.createElement(v$,{id:n,value:i.draggable}),Yt.createElement(y$,{id:l,announcement:s}));return r?ss.createPortal(h,r):h}var pt;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(pt||(pt={}));function gd(){}function Ww(t,e){return R.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function T$(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return R.useMemo(()=>[...e].filter(n=>n!=null),[...e])}const Jr=Object.freeze({x:0,y:0});function S$(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function A$(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return r-n}function C$(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return n-r}function k$(t,e){if(!t||t.length===0)return null;const[r]=t;return r[e]}function Kw(t,e,r){return e===void 0&&(e=t.left),r===void 0&&(r=t.top),{x:e+t.width*.5,y:r+t.height*.5}}const Gw=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const i=Kw(e,e.left,e.top),o=[];for(const s of n){const{id:l}=s,c=r.get(l);if(c){const u=S$(Kw(c),i);o.push({id:l,data:{droppableContainer:s,value:u}})}}return o.sort(A$)};function R$(t,e){const r=Math.max(e.top,t.top),n=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),o=Math.min(e.top+e.height,t.top+t.height),s=i-n,l=o-r;if(n<i&&r<o){const c=e.width*e.height,u=t.width*t.height,h=s*l,p=h/(c+u-h);return Number(p.toFixed(4))}return 0}const P$=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const i=[];for(const o of n){const{id:s}=o,l=r.get(s);if(l){const c=R$(l,e);c>0&&i.push({id:s,data:{droppableContainer:o,value:c}})}}return i.sort(C$)};function N$(t,e,r){return{...t,scaleX:e&&r?e.width/r.width:1,scaleY:e&&r?e.height/r.height:1}}function $S(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Jr}function D$(t){return function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return i.reduce((s,l)=>({...s,top:s.top+t*l.y,bottom:s.bottom+t*l.y,left:s.left+t*l.x,right:s.right+t*l.x}),{...r})}}const O$=D$(1);function L$(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function M$(t,e,r){const n=L$(e);if(!n)return t;const{scaleX:i,scaleY:o,x:s,y:l}=n,c=t.left-s-(1-i)*parseFloat(r),u=t.top-l-(1-o)*parseFloat(r.slice(r.indexOf(" ")+1)),h=i?t.width/i:t.width,p=o?t.height/o:t.height;return{width:h,height:p,top:u,right:c+h,bottom:u+p,left:c}}const V$={ignoreTransform:!1};function Zs(t,e){e===void 0&&(e=V$);let r=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:h}=dr(t).getComputedStyle(t);u&&(r=M$(r,u,h))}const{top:n,left:i,width:o,height:s,bottom:l,right:c}=r;return{top:n,left:i,width:o,height:s,bottom:l,right:c}}function Qw(t){return Zs(t,{ignoreTransform:!0})}function $$(t){const e=t.innerWidth,r=t.innerHeight;return{top:0,left:0,right:e,bottom:r,width:e,height:r}}function F$(t,e){return e===void 0&&(e=dr(t).getComputedStyle(t)),e.position==="fixed"}function U$(t,e){e===void 0&&(e=dr(t).getComputedStyle(t));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const o=e[i];return typeof o=="string"?r.test(o):!1})}function Kv(t,e){const r=[];function n(i){if(e!=null&&r.length>=e||!i)return r;if(qv(i)&&i.scrollingElement!=null&&!r.includes(i.scrollingElement))return r.push(i.scrollingElement),r;if(!oc(i)||LS(i)||r.includes(i))return r;const o=dr(t).getComputedStyle(i);return i!==t&&U$(i,o)&&r.push(i),F$(i,o)?r:n(i.parentNode)}return t?n(t):r}function FS(t){const[e]=Kv(t,1);return e??null}function Rf(t){return!uh||!t?null:Xs(t)?t:Bv(t)?qv(t)||t===Js(t).scrollingElement?window:oc(t)?t:null:null}function US(t){return Xs(t)?t.scrollX:t.scrollLeft}function jS(t){return Xs(t)?t.scrollY:t.scrollTop}function Tm(t){return{x:US(t),y:jS(t)}}var _t;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(_t||(_t={}));function zS(t){return!uh||!t?!1:t===document.scrollingElement}function BS(t){const e={x:0,y:0},r=zS(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},n={x:t.scrollWidth-r.width,y:t.scrollHeight-r.height},i=t.scrollTop<=e.y,o=t.scrollLeft<=e.x,s=t.scrollTop>=n.y,l=t.scrollLeft>=n.x;return{isTop:i,isLeft:o,isBottom:s,isRight:l,maxScroll:n,minScroll:e}}const j$={x:.2,y:.2};function z$(t,e,r,n,i){let{top:o,left:s,right:l,bottom:c}=r;n===void 0&&(n=10),i===void 0&&(i=j$);const{isTop:u,isBottom:h,isLeft:p,isRight:m}=BS(t),_={x:0,y:0},C={x:0,y:0},k={height:e.height*i.y,width:e.width*i.x};return!u&&o<=e.top+k.height?(_.y=_t.Backward,C.y=n*Math.abs((e.top+k.height-o)/k.height)):!h&&c>=e.bottom-k.height&&(_.y=_t.Forward,C.y=n*Math.abs((e.bottom-k.height-c)/k.height)),!m&&l>=e.right-k.width?(_.x=_t.Forward,C.x=n*Math.abs((e.right-k.width-l)/k.width)):!p&&s<=e.left+k.width&&(_.x=_t.Backward,C.x=n*Math.abs((e.left+k.width-s)/k.width)),{direction:_,speed:C}}function B$(t){if(t===document.scrollingElement){const{innerWidth:o,innerHeight:s}=window;return{top:0,left:0,right:o,bottom:s,width:o,height:s}}const{top:e,left:r,right:n,bottom:i}=t.getBoundingClientRect();return{top:e,left:r,right:n,bottom:i,width:t.clientWidth,height:t.clientHeight}}function qS(t){return t.reduce((e,r)=>ys(e,Tm(r)),Jr)}function q$(t){return t.reduce((e,r)=>e+US(r),0)}function H$(t){return t.reduce((e,r)=>e+jS(r),0)}function W$(t,e){if(e===void 0&&(e=Zs),!t)return;const{top:r,left:n,bottom:i,right:o}=e(t);FS(t)&&(i<=0||o<=0||r>=window.innerHeight||n>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const K$=[["x",["left","right"],q$],["y",["top","bottom"],H$]];class Gv{constructor(e,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Kv(r),i=qS(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,s,l]of K$)for(const c of s)Object.defineProperty(this,c,{get:()=>{const u=l(n),h=i[o]-u;return this.rect[c]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ya{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=e}add(e,r,n){var i;(i=this.target)==null||i.addEventListener(e,r,n),this.listeners.push([e,r,n])}}function G$(t){const{EventTarget:e}=dr(t);return t instanceof e?t:Js(t)}function Pf(t,e){const r=Math.abs(t.x),n=Math.abs(t.y);return typeof e=="number"?Math.sqrt(r**2+n**2)>e:"x"in e&&"y"in e?r>e.x&&n>e.y:"x"in e?r>e.x:"y"in e?n>e.y:!1}var Sr;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Sr||(Sr={}));function Yw(t){t.preventDefault()}function Q$(t){t.stopPropagation()}var xe;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(xe||(xe={}));const HS={start:[xe.Space,xe.Enter],cancel:[xe.Esc],end:[xe.Space,xe.Enter,xe.Tab]},Y$=(t,e)=>{let{currentCoordinates:r}=e;switch(t.code){case xe.Right:return{...r,x:r.x+25};case xe.Left:return{...r,x:r.x-25};case xe.Down:return{...r,y:r.y+25};case xe.Up:return{...r,y:r.y-25}}};class WS{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:r}}=e;this.props=e,this.listeners=new Ya(Js(r)),this.windowListeners=new Ya(dr(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Sr.Resize,this.handleCancel),this.windowListeners.add(Sr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Sr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:r}=this.props,n=e.node.current;n&&W$(n),r(Jr)}handleKeyDown(e){if(Wv(e)){const{active:r,context:n,options:i}=this.props,{keyboardCodes:o=HS,coordinateGetter:s=Y$,scrollBehavior:l="smooth"}=i,{code:c}=e;if(o.end.includes(c)){this.handleEnd(e);return}if(o.cancel.includes(c)){this.handleCancel(e);return}const{collisionRect:u}=n.current,h=u?{x:u.left,y:u.top}:Jr;this.referenceCoordinates||(this.referenceCoordinates=h);const p=s(e,{active:r,context:n.current,currentCoordinates:h});if(p){const m=md(p,h),_={x:0,y:0},{scrollableAncestors:C}=n.current;for(const k of C){const P=e.code,{isTop:w,isRight:b,isLeft:I,isBottom:M,maxScroll:$,minScroll:F}=BS(k),y=B$(k),g={x:Math.min(P===xe.Right?y.right-y.width/2:y.right,Math.max(P===xe.Right?y.left:y.left+y.width/2,p.x)),y:Math.min(P===xe.Down?y.bottom-y.height/2:y.bottom,Math.max(P===xe.Down?y.top:y.top+y.height/2,p.y))},E=P===xe.Right&&!b||P===xe.Left&&!I,x=P===xe.Down&&!M||P===xe.Up&&!w;if(E&&g.x!==p.x){const A=k.scrollLeft+m.x,N=P===xe.Right&&A<=$.x||P===xe.Left&&A>=F.x;if(N&&!m.y){k.scrollTo({left:A,behavior:l});return}N?_.x=k.scrollLeft-A:_.x=P===xe.Right?k.scrollLeft-$.x:k.scrollLeft-F.x,_.x&&k.scrollBy({left:-_.x,behavior:l});break}else if(x&&g.y!==p.y){const A=k.scrollTop+m.y,N=P===xe.Down&&A<=$.y||P===xe.Up&&A>=F.y;if(N&&!m.x){k.scrollTo({top:A,behavior:l});return}N?_.y=k.scrollTop-A:_.y=P===xe.Down?k.scrollTop-$.y:k.scrollTop-F.y,_.y&&k.scrollBy({top:-_.y,behavior:l});break}}this.handleMove(e,ys(md(p,this.referenceCoordinates),_))}}}handleMove(e,r){const{onMove:n}=this.props;e.preventDefault(),n(r)}handleEnd(e){const{onEnd:r}=this.props;e.preventDefault(),this.detach(),r()}handleCancel(e){const{onCancel:r}=this.props;e.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}WS.activators=[{eventName:"onKeyDown",handler:(t,e,r)=>{let{keyboardCodes:n=HS,onActivation:i}=e,{active:o}=r;const{code:s}=t.nativeEvent;if(n.start.includes(s)){const l=o.activatorNode.current;return l&&t.target!==l?!1:(t.preventDefault(),i==null||i({event:t.nativeEvent}),!0)}return!1}}];function Xw(t){return!!(t&&"distance"in t)}function Jw(t){return!!(t&&"delay"in t)}class Qv{constructor(e,r,n){var i;n===void 0&&(n=G$(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=r;const{event:o}=e,{target:s}=o;this.props=e,this.events=r,this.document=Js(s),this.documentListeners=new Ya(this.document),this.listeners=new Ya(n),this.windowListeners=new Ya(dr(s)),this.initialCoordinates=(i=Im(o))!=null?i:Jr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Sr.Resize,this.handleCancel),this.windowListeners.add(Sr.DragStart,Yw),this.windowListeners.add(Sr.VisibilityChange,this.handleCancel),this.windowListeners.add(Sr.ContextMenu,Yw),this.documentListeners.add(Sr.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Jw(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(Xw(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,r){const{active:n,onPending:i}=this.props;i(n,e,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:e}=this,{onStart:r}=this.props;e&&(this.activated=!0,this.documentListeners.add(Sr.Click,Q$,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Sr.SelectionChange,this.removeTextSelection),r(e))}handleMove(e){var r;const{activated:n,initialCoordinates:i,props:o}=this,{onMove:s,options:{activationConstraint:l}}=o;if(!i)return;const c=(r=Im(e))!=null?r:Jr,u=md(i,c);if(!n&&l){if(Xw(l)){if(l.tolerance!=null&&Pf(u,l.tolerance))return this.handleCancel();if(Pf(u,l.distance))return this.handleStart()}if(Jw(l)&&Pf(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}e.cancelable&&e.preventDefault(),s(c)}handleEnd(){const{onAbort:e,onEnd:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleCancel(){const{onAbort:e,onCancel:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleKeydown(e){e.code===xe.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const X$={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class KS extends Qv{constructor(e){const{event:r}=e,n=Js(r.target);super(e,X$,n)}}KS.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const J$={move:{name:"mousemove"},end:{name:"mouseup"}};var Sm;(function(t){t[t.RightClick=2]="RightClick"})(Sm||(Sm={}));class GS extends Qv{constructor(e){super(e,J$,Js(e.event.target))}}GS.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return r.button===Sm.RightClick?!1:(n==null||n({event:r}),!0)}}];const Nf={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class QS extends Qv{constructor(e){super(e,Nf)}static setup(){return window.addEventListener(Nf.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Nf.move.name,e)};function e(){}}}QS.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;const{touches:i}=r;return i.length>1?!1:(n==null||n({event:r}),!0)}}];var Xa;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Xa||(Xa={}));var vd;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(vd||(vd={}));function Z$(t){let{acceleration:e,activator:r=Xa.Pointer,canScroll:n,draggingRect:i,enabled:o,interval:s=5,order:l=vd.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:h,delta:p,threshold:m}=t;const _=tF({delta:p,disabled:!o}),[C,k]=h$(),P=R.useRef({x:0,y:0}),w=R.useRef({x:0,y:0}),b=R.useMemo(()=>{switch(r){case Xa.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Xa.DraggableRect:return i}},[r,i,c]),I=R.useRef(null),M=R.useCallback(()=>{const F=I.current;if(!F)return;const y=P.current.x*w.current.x,g=P.current.y*w.current.y;F.scrollBy(y,g)},[]),$=R.useMemo(()=>l===vd.TreeOrder?[...u].reverse():u,[l,u]);R.useEffect(()=>{if(!o||!u.length||!b){k();return}for(const F of $){if((n==null?void 0:n(F))===!1)continue;const y=u.indexOf(F),g=h[y];if(!g)continue;const{direction:E,speed:x}=z$(F,g,b,e,m);for(const A of["x","y"])_[A][E[A]]||(x[A]=0,E[A]=0);if(x.x>0||x.y>0){k(),I.current=F,C(M,s),P.current=x,w.current=E;return}}P.current={x:0,y:0},w.current={x:0,y:0},k()},[e,M,n,k,o,s,JSON.stringify(b),JSON.stringify(_),C,u,$,h,JSON.stringify(m)])}const eF={x:{[_t.Backward]:!1,[_t.Forward]:!1},y:{[_t.Backward]:!1,[_t.Forward]:!1}};function tF(t){let{delta:e,disabled:r}=t;const n=xm(e);return sc(i=>{if(r||!n||!i)return eF;const o={x:Math.sign(e.x-n.x),y:Math.sign(e.y-n.y)};return{x:{[_t.Backward]:i.x[_t.Backward]||o.x===-1,[_t.Forward]:i.x[_t.Forward]||o.x===1},y:{[_t.Backward]:i.y[_t.Backward]||o.y===-1,[_t.Forward]:i.y[_t.Forward]||o.y===1}}},[r,e,n])}function rF(t,e){const r=e!=null?t.get(e):void 0,n=r?r.node.current:null;return sc(i=>{var o;return e==null?null:(o=n??i)!=null?o:null},[n,e])}function nF(t,e){return R.useMemo(()=>t.reduce((r,n)=>{const{sensor:i}=n,o=i.activators.map(s=>({eventName:s.eventName,handler:e(s.handler,n)}));return[...r,...o]},[]),[t,e])}var $l;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})($l||($l={}));var Am;(function(t){t.Optimized="optimized"})(Am||(Am={}));const Zw=new Map;function iF(t,e){let{dragging:r,dependencies:n,config:i}=e;const[o,s]=R.useState(null),{frequency:l,measure:c,strategy:u}=i,h=R.useRef(t),p=P(),m=Ml(p),_=R.useCallback(function(w){w===void 0&&(w=[]),!m.current&&s(b=>b===null?w:b.concat(w.filter(I=>!b.includes(I))))},[m]),C=R.useRef(null),k=sc(w=>{if(p&&!r)return Zw;if(!w||w===Zw||h.current!==t||o!=null){const b=new Map;for(let I of t){if(!I)continue;if(o&&o.length>0&&!o.includes(I.id)&&I.rect.current){b.set(I.id,I.rect.current);continue}const M=I.node.current,$=M?new Gv(c(M),M):null;I.rect.current=$,$&&b.set(I.id,$)}return b}return w},[t,o,r,p,c]);return R.useEffect(()=>{h.current=t},[t]),R.useEffect(()=>{p||_()},[r,p]),R.useEffect(()=>{o&&o.length>0&&s(null)},[JSON.stringify(o)]),R.useEffect(()=>{p||typeof l!="number"||C.current!==null||(C.current=setTimeout(()=>{_(),C.current=null},l))},[l,p,_,...n]),{droppableRects:k,measureDroppableContainers:_,measuringScheduled:o!=null};function P(){switch(u){case $l.Always:return!1;case $l.BeforeDragging:return r;default:return!r}}}function YS(t,e){return sc(r=>t?r||(typeof e=="function"?e(t):t):null,[e,t])}function oF(t,e){return YS(t,e)}function sF(t){let{callback:e,disabled:r}=t;const n=Hv(e),i=R.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(n)},[n,r]);return R.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function dh(t){let{callback:e,disabled:r}=t;const n=Hv(e),i=R.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(n)},[r]);return R.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function aF(t){return new Gv(Zs(t),t)}function e0(t,e,r){e===void 0&&(e=aF);const[n,i]=R.useState(null);function o(){i(c=>{if(!t)return null;if(t.isConnected===!1){var u;return(u=c??r)!=null?u:null}const h=e(t);return JSON.stringify(c)===JSON.stringify(h)?c:h})}const s=sF({callback(c){if(t)for(const u of c){const{type:h,target:p}=u;if(h==="childList"&&p instanceof HTMLElement&&p.contains(t)){o();break}}}}),l=dh({callback:o});return mn(()=>{o(),t?(l==null||l.observe(t),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),s==null||s.disconnect())},[t]),n}function lF(t){const e=YS(t);return $S(t,e)}const t0=[];function cF(t){const e=R.useRef(t),r=sc(n=>t?n&&n!==t0&&t&&e.current&&t.parentNode===e.current.parentNode?n:Kv(t):t0,[t]);return R.useEffect(()=>{e.current=t},[t]),r}function uF(t){const[e,r]=R.useState(null),n=R.useRef(t),i=R.useCallback(o=>{const s=Rf(o.target);s&&r(l=>l?(l.set(s,Tm(s)),new Map(l)):null)},[]);return R.useEffect(()=>{const o=n.current;if(t!==o){s(o);const l=t.map(c=>{const u=Rf(c);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,Tm(u)]):null}).filter(c=>c!=null);r(l.length?new Map(l):null),n.current=t}return()=>{s(t),s(o)};function s(l){l.forEach(c=>{const u=Rf(c);u==null||u.removeEventListener("scroll",i)})}},[i,t]),R.useMemo(()=>t.length?e?Array.from(e.values()).reduce((o,s)=>ys(o,s),Jr):qS(t):Jr,[t,e])}function r0(t,e){e===void 0&&(e=[]);const r=R.useRef(null);return R.useEffect(()=>{r.current=null},e),R.useEffect(()=>{const n=t!==Jr;n&&!r.current&&(r.current=t),!n&&r.current&&(r.current=null)},[t]),r.current?md(t,r.current):Jr}function dF(t){R.useEffect(()=>{if(!uh)return;const e=t.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of e)r==null||r()}},t.map(e=>{let{sensor:r}=e;return r}))}function hF(t,e){return R.useMemo(()=>t.reduce((r,n)=>{let{eventName:i,handler:o}=n;return r[i]=s=>{o(s,e)},r},{}),[t,e])}function XS(t){return R.useMemo(()=>t?$$(t):null,[t])}const n0=[];function fF(t,e){e===void 0&&(e=Zs);const[r]=t,n=XS(r?dr(r):null),[i,o]=R.useState(n0);function s(){o(()=>t.length?t.map(c=>zS(c)?n:new Gv(e(c),c)):n0)}const l=dh({callback:s});return mn(()=>{l==null||l.disconnect(),s(),t.forEach(c=>l==null?void 0:l.observe(c))},[t]),i}function pF(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return oc(e)?e:t}function mF(t){let{measure:e}=t;const[r,n]=R.useState(null),i=R.useCallback(u=>{for(const{target:h}of u)if(oc(h)){n(p=>{const m=e(h);return p?{...p,width:m.width,height:m.height}:m});break}},[e]),o=dh({callback:i}),s=R.useCallback(u=>{const h=pF(u);o==null||o.disconnect(),h&&(o==null||o.observe(h)),n(h?e(h):null)},[e,o]),[l,c]=pd(s);return R.useMemo(()=>({nodeRef:l,rect:r,setRef:c}),[r,l,c])}const gF=[{sensor:KS,options:{}},{sensor:WS,options:{}}],vF={current:{}},Tu={draggable:{measure:Qw},droppable:{measure:Qw,strategy:$l.WhileDragging,frequency:Am.Optimized},dragOverlay:{measure:Zs}};class Ja extends Map{get(e){var r;return e!=null&&(r=super.get(e))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:r}=e;return!r})}getNodeFor(e){var r,n;return(r=(n=this.get(e))==null?void 0:n.node.current)!=null?r:void 0}}const yF={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ja,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:gd},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Tu,measureDroppableContainers:gd,windowRect:null,measuringScheduled:!1},_F={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:gd,draggableNodes:new Map,over:null,measureDroppableContainers:gd},hh=R.createContext(_F),JS=R.createContext(yF);function bF(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ja}}}function wF(t,e){switch(e.type){case pt.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case pt.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case pt.DragEnd:case pt.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case pt.RegisterDroppable:{const{element:r}=e,{id:n}=r,i=new Ja(t.droppable.containers);return i.set(n,r),{...t,droppable:{...t.droppable,containers:i}}}case pt.SetDroppableDisabled:{const{id:r,key:n,disabled:i}=e,o=t.droppable.containers.get(r);if(!o||n!==o.key)return t;const s=new Ja(t.droppable.containers);return s.set(r,{...o,disabled:i}),{...t,droppable:{...t.droppable,containers:s}}}case pt.UnregisterDroppable:{const{id:r,key:n}=e,i=t.droppable.containers.get(r);if(!i||n!==i.key)return t;const o=new Ja(t.droppable.containers);return o.delete(r),{...t,droppable:{...t.droppable,containers:o}}}default:return t}}function EF(t){let{disabled:e}=t;const{active:r,activatorEvent:n,draggableNodes:i}=R.useContext(hh),o=xm(n),s=xm(r==null?void 0:r.id);return R.useEffect(()=>{if(!e&&!n&&o&&s!=null){if(!Wv(o)||document.activeElement===o.target)return;const l=i.get(s);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const h of[c.current,u.current]){if(!h)continue;const p=m$(h);if(p){p.focus();break}}})}},[n,e,i,s,o]),null}function xF(t,e){let{transform:r,...n}=e;return t!=null&&t.length?t.reduce((i,o)=>o({transform:i,...n}),r):r}function IF(t){return R.useMemo(()=>({draggable:{...Tu.draggable,...t==null?void 0:t.draggable},droppable:{...Tu.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Tu.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function TF(t){let{activeNode:e,measure:r,initialRect:n,config:i=!0}=t;const o=R.useRef(!1),{x:s,y:l}=typeof i=="boolean"?{x:i,y:i}:i;mn(()=>{if(!s&&!l||!e){o.current=!1;return}if(o.current||!n)return;const u=e==null?void 0:e.node.current;if(!u||u.isConnected===!1)return;const h=r(u),p=$S(h,n);if(s||(p.x=0),l||(p.y=0),o.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const m=FS(u);m&&m.scrollBy({top:p.y,left:p.x})}},[e,s,l,n,r])}const ZS=R.createContext({...Jr,scaleX:1,scaleY:1});var ai;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(ai||(ai={}));const i0=R.memo(function(e){var r,n,i,o;let{id:s,accessibility:l,autoScroll:c=!0,children:u,sensors:h=gF,collisionDetection:p=P$,measuring:m,modifiers:_,...C}=e;const k=R.useReducer(wF,void 0,bF),[P,w]=k,[b,I]=w$(),[M,$]=R.useState(ai.Uninitialized),F=M===ai.Initialized,{draggable:{active:y,nodes:g,translate:E},droppable:{containers:x}}=P,A=y!=null?g.get(y):null,N=R.useRef({initial:null,translated:null}),T=R.useMemo(()=>{var Ke;return y!=null?{id:y,data:(Ke=A==null?void 0:A.data)!=null?Ke:vF,rect:N}:null},[y,A]),Pe=R.useRef(null),[dt,hr]=R.useState(null),[Ne,K]=R.useState(null),Z=Ml(C,Object.values(C)),te=ac("DndDescribedBy",s),_e=R.useMemo(()=>x.getEnabled(),[x]),se=IF(m),{droppableRects:ce,measureDroppableContainers:Se,measuringScheduled:ot}=iF(_e,{dragging:F,dependencies:[E.x,E.y],config:se.droppable}),Ae=rF(g,y),Ee=R.useMemo(()=>Ne?Im(Ne):null,[Ne]),je=Fr(),wt=oF(Ae,se.draggable.measure);TF({activeNode:y!=null?g.get(y):null,config:je.layoutShiftCompensation,initialRect:wt,measure:se.draggable.measure});const pe=e0(Ae,se.draggable.measure,wt),qt=e0(Ae?Ae.parentElement:null),Nt=R.useRef({activatorEvent:null,active:null,activeNode:Ae,collisionRect:null,collisions:null,droppableRects:ce,draggableNodes:g,draggingNode:null,draggingNodeRect:null,droppableContainers:x,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),fr=x.getNodeFor((r=Nt.current.over)==null?void 0:r.id),Ht=mF({measure:se.dragOverlay.measure}),nr=(n=Ht.nodeRef.current)!=null?n:Ae,Vr=F?(i=Ht.rect)!=null?i:pe:null,Oo=!!(Ht.nodeRef.current&&Ht.rect),Lo=lF(Oo?null:pe),Xn=XS(nr?dr(nr):null),ir=cF(F?fr??Ae:null),vn=fF(ir),yn=xF(_,{transform:{x:E.x-Lo.x,y:E.y-Lo.y,scaleX:1,scaleY:1},activatorEvent:Ne,active:T,activeNodeRect:pe,containerNodeRect:qt,draggingNodeRect:Vr,over:Nt.current.over,overlayNodeRect:Ht.rect,scrollableAncestors:ir,scrollableAncestorRects:vn,windowRect:Xn}),Jn=Ee?ys(Ee,E):null,Ir=uF(ir),zi=r0(Ir),et=r0(Ir,[pe]),Oe=ys(yn,zi),pr=Vr?O$(Vr,yn):null,Zr=T&&pr?p({active:T,collisionRect:pr,droppableRects:ce,droppableContainers:_e,pointerCoordinates:Jn}):null,$r=k$(Zr,"id"),[Tr,en]=R.useState(null),Mo=Oo?yn:ys(yn,et),Vo=N$(Mo,(o=Tr==null?void 0:Tr.rect)!=null?o:null,pe),_n=R.useRef(null),Bi=R.useCallback((Ke,st)=>{let{sensor:ze,options:L}=st;if(Pe.current==null)return;const q=g.get(Pe.current);if(!q)return;const J=Ke.nativeEvent,ve=new ze({active:Pe.current,activeNode:q,event:J,options:L,context:Nt,onAbort(ne){if(!g.get(ne))return;const{onDragAbort:Ie}=Z.current,oe={id:ne};Ie==null||Ie(oe),b({type:"onDragAbort",event:oe})},onPending(ne,at,Ie,oe){if(!g.get(ne))return;const{onDragPending:Wt}=Z.current,Kt={id:ne,constraint:at,initialCoordinates:Ie,offset:oe};Wt==null||Wt(Kt),b({type:"onDragPending",event:Kt})},onStart(ne){const at=Pe.current;if(at==null)return;const Ie=g.get(at);if(!Ie)return;const{onDragStart:oe}=Z.current,tn={activatorEvent:J,active:{id:at,data:Ie.data,rect:N}};ss.unstable_batchedUpdates(()=>{oe==null||oe(tn),$(ai.Initializing),w({type:pt.DragStart,initialCoordinates:ne,active:at}),b({type:"onDragStart",event:tn}),hr(_n.current),K(J)})},onMove(ne){w({type:pt.DragMove,coordinates:ne})},onEnd:de(pt.DragEnd),onCancel:de(pt.DragCancel)});_n.current=ve;function de(ne){return async function(){const{active:Ie,collisions:oe,over:tn,scrollAdjustedTranslate:Wt}=Nt.current;let Kt=null;if(Ie&&Wt){const{cancelDrop:qi}=Z.current;Kt={activatorEvent:J,active:Ie,collisions:oe,delta:Wt,over:tn},ne===pt.DragEnd&&typeof qi=="function"&&await Promise.resolve(qi(Kt))&&(ne=pt.DragCancel)}Pe.current=null,ss.unstable_batchedUpdates(()=>{w({type:ne}),$(ai.Uninitialized),en(null),hr(null),K(null),_n.current=null;const qi=ne===pt.DragEnd?"onDragEnd":"onDragCancel";if(Kt){const ra=Z.current[qi];ra==null||ra(Kt),b({type:qi,event:Kt})}})}}},[g]),ea=R.useCallback((Ke,st)=>(ze,L)=>{const q=ze.nativeEvent,J=g.get(L);if(Pe.current!==null||!J||q.dndKit||q.defaultPrevented)return;const ve={active:J};Ke(ze,st.options,ve)===!0&&(q.dndKit={capturedBy:st.sensor},Pe.current=L,Bi(ze,st))},[g,Bi]),bn=nF(h,ea);dF(h),mn(()=>{pe&&M===ai.Initializing&&$(ai.Initialized)},[pe,M]),R.useEffect(()=>{const{onDragMove:Ke}=Z.current,{active:st,activatorEvent:ze,collisions:L,over:q}=Nt.current;if(!st||!ze)return;const J={active:st,activatorEvent:ze,collisions:L,delta:{x:Oe.x,y:Oe.y},over:q};ss.unstable_batchedUpdates(()=>{Ke==null||Ke(J),b({type:"onDragMove",event:J})})},[Oe.x,Oe.y]),R.useEffect(()=>{const{active:Ke,activatorEvent:st,collisions:ze,droppableContainers:L,scrollAdjustedTranslate:q}=Nt.current;if(!Ke||Pe.current==null||!st||!q)return;const{onDragOver:J}=Z.current,ve=L.get($r),de=ve&&ve.rect.current?{id:ve.id,rect:ve.rect.current,data:ve.data,disabled:ve.disabled}:null,ne={active:Ke,activatorEvent:st,collisions:ze,delta:{x:q.x,y:q.y},over:de};ss.unstable_batchedUpdates(()=>{en(de),J==null||J(ne),b({type:"onDragOver",event:ne})})},[$r]),mn(()=>{Nt.current={activatorEvent:Ne,active:T,activeNode:Ae,collisionRect:pr,collisions:Zr,droppableRects:ce,draggableNodes:g,draggingNode:nr,draggingNodeRect:Vr,droppableContainers:x,over:Tr,scrollableAncestors:ir,scrollAdjustedTranslate:Oe},N.current={initial:Vr,translated:pr}},[T,Ae,Zr,pr,g,nr,Vr,ce,x,Tr,ir,Oe]),Z$({...je,delta:E,draggingRect:pr,pointerCoordinates:Jn,scrollableAncestors:ir,scrollableAncestorRects:vn});const ta=R.useMemo(()=>({active:T,activeNode:Ae,activeNodeRect:pe,activatorEvent:Ne,collisions:Zr,containerNodeRect:qt,dragOverlay:Ht,draggableNodes:g,droppableContainers:x,droppableRects:ce,over:Tr,measureDroppableContainers:Se,scrollableAncestors:ir,scrollableAncestorRects:vn,measuringConfiguration:se,measuringScheduled:ot,windowRect:Xn}),[T,Ae,pe,Ne,Zr,qt,Ht,g,x,ce,Tr,Se,ir,vn,se,ot,Xn]),$o=R.useMemo(()=>({activatorEvent:Ne,activators:bn,active:T,activeNodeRect:pe,ariaDescribedById:{draggable:te},dispatch:w,draggableNodes:g,over:Tr,measureDroppableContainers:Se}),[Ne,bn,T,pe,w,te,g,Tr,Se]);return Yt.createElement(VS.Provider,{value:I},Yt.createElement(hh.Provider,{value:$o},Yt.createElement(JS.Provider,{value:ta},Yt.createElement(ZS.Provider,{value:Vo},u)),Yt.createElement(EF,{disabled:(l==null?void 0:l.restoreFocus)===!1})),Yt.createElement(I$,{...l,hiddenTextDescribedById:te}));function Fr(){const Ke=(dt==null?void 0:dt.autoScrollEnabled)===!1,st=typeof c=="object"?c.enabled===!1:c===!1,ze=F&&!Ke&&!st;return typeof c=="object"?{...c,enabled:ze}:{enabled:ze}}}),SF=R.createContext(null),o0="button",AF="Draggable";function CF(t){let{id:e,data:r,disabled:n=!1,attributes:i}=t;const o=ac(AF),{activators:s,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:h,draggableNodes:p,over:m}=R.useContext(hh),{role:_=o0,roleDescription:C="draggable",tabIndex:k=0}=i??{},P=(c==null?void 0:c.id)===e,w=R.useContext(P?ZS:SF),[b,I]=pd(),[M,$]=pd(),F=hF(s,e),y=Ml(r);mn(()=>(p.set(e,{id:e,key:o,node:b,activatorNode:M,data:y}),()=>{const E=p.get(e);E&&E.key===o&&p.delete(e)}),[p,e]);const g=R.useMemo(()=>({role:_,tabIndex:k,"aria-disabled":n,"aria-pressed":P&&_===o0?!0:void 0,"aria-roledescription":C,"aria-describedby":h.draggable}),[n,_,k,P,C,h.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:g,isDragging:P,listeners:n?void 0:F,node:b,over:m,setNodeRef:I,setActivatorNodeRef:$,transform:w}}function kF(){return R.useContext(JS)}const RF="Droppable",PF={timeout:25};function NF(t){let{data:e,disabled:r=!1,id:n,resizeObserverConfig:i}=t;const o=ac(RF),{active:s,dispatch:l,over:c,measureDroppableContainers:u}=R.useContext(hh),h=R.useRef({disabled:r}),p=R.useRef(!1),m=R.useRef(null),_=R.useRef(null),{disabled:C,updateMeasurementsFor:k,timeout:P}={...PF,...i},w=Ml(k??n),b=R.useCallback(()=>{if(!p.current){p.current=!0;return}_.current!=null&&clearTimeout(_.current),_.current=setTimeout(()=>{u(Array.isArray(w.current)?w.current:[w.current]),_.current=null},P)},[P]),I=dh({callback:b,disabled:C||!s}),M=R.useCallback((g,E)=>{I&&(E&&(I.unobserve(E),p.current=!1),g&&I.observe(g))},[I]),[$,F]=pd(M),y=Ml(e);return R.useEffect(()=>{!I||!$.current||(I.disconnect(),p.current=!1,I.observe($.current))},[$,I]),R.useEffect(()=>(l({type:pt.RegisterDroppable,element:{id:n,key:o,disabled:r,node:$,rect:m,data:y}}),()=>l({type:pt.UnregisterDroppable,key:o,id:n})),[n]),R.useEffect(()=>{r!==h.current.disabled&&(l({type:pt.SetDroppableDisabled,id:n,key:o,disabled:r}),h.current.disabled=r)},[n,o,r,l]),{active:s,rect:m,isOver:(c==null?void 0:c.id)===n,node:$,over:c,setNodeRef:F}}function eA(t,e,r){const n=t.slice();return n.splice(r<0?n.length+r:r,0,n.splice(e,1)[0]),n}function DF(t,e){return t.reduce((r,n,i)=>{const o=e.get(n);return o&&(r[i]=o),r},Array(t.length))}function tu(t){return t!==null&&t>=0}function OF(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function LF(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const yd=t=>{let{rects:e,activeIndex:r,overIndex:n,index:i}=t;const o=eA(e,n,r),s=e[i],l=o[i];return!l||!s?null:{x:l.left-s.left,y:l.top-s.top,scaleX:l.width/s.width,scaleY:l.height/s.height}},tA="Sortable",rA=Yt.createContext({activeIndex:-1,containerId:tA,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:yd,disabled:{draggable:!1,droppable:!1}});function s0(t){let{children:e,id:r,items:n,strategy:i=yd,disabled:o=!1}=t;const{active:s,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:h}=kF(),p=ac(tA,r),m=l.rect!==null,_=R.useMemo(()=>n.map(F=>typeof F=="object"&&"id"in F?F.id:F),[n]),C=s!=null,k=s?_.indexOf(s.id):-1,P=u?_.indexOf(u.id):-1,w=R.useRef(_),b=!OF(_,w.current),I=P!==-1&&k===-1||b,M=LF(o);mn(()=>{b&&C&&h(_)},[b,_,C,h]),R.useEffect(()=>{w.current=_},[_]);const $=R.useMemo(()=>({activeIndex:k,containerId:p,disabled:M,disableTransforms:I,items:_,overIndex:P,useDragOverlay:m,sortedRects:DF(_,c),strategy:i}),[k,p,M.draggable,M.droppable,I,_,P,c,m,i]);return Yt.createElement(rA.Provider,{value:$},e)}const MF=t=>{let{id:e,items:r,activeIndex:n,overIndex:i}=t;return eA(r,n,i).indexOf(e)},VF=t=>{let{containerId:e,isSorting:r,wasDragging:n,index:i,items:o,newIndex:s,previousItems:l,previousContainerId:c,transition:u}=t;return!u||!n||l!==o&&i===s?!1:r?!0:s!==i&&e===c},$F={duration:200,easing:"ease"},nA="transform",FF=Vl.Transition.toString({property:nA,duration:0,easing:"linear"}),UF={roleDescription:"sortable"};function jF(t){let{disabled:e,index:r,node:n,rect:i}=t;const[o,s]=R.useState(null),l=R.useRef(r);return mn(()=>{if(!e&&r!==l.current&&n.current){const c=i.current;if(c){const u=Zs(n.current,{ignoreTransform:!0}),h={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(h.x||h.y)&&s(h)}}r!==l.current&&(l.current=r)},[e,r,n,i]),R.useEffect(()=>{o&&s(null)},[o]),o}function zF(t){let{animateLayoutChanges:e=VF,attributes:r,disabled:n,data:i,getNewIndex:o=MF,id:s,strategy:l,resizeObserverConfig:c,transition:u=$F}=t;const{items:h,containerId:p,activeIndex:m,disabled:_,disableTransforms:C,sortedRects:k,overIndex:P,useDragOverlay:w,strategy:b}=R.useContext(rA),I=BF(n,_),M=h.indexOf(s),$=R.useMemo(()=>({sortable:{containerId:p,index:M,items:h},...i}),[p,i,M,h]),F=R.useMemo(()=>h.slice(h.indexOf(s)),[h,s]),{rect:y,node:g,isOver:E,setNodeRef:x}=NF({id:s,data:$,disabled:I.droppable,resizeObserverConfig:{updateMeasurementsFor:F,...c}}),{active:A,activatorEvent:N,activeNodeRect:T,attributes:Pe,setNodeRef:dt,listeners:hr,isDragging:Ne,over:K,setActivatorNodeRef:Z,transform:te}=CF({id:s,data:$,attributes:{...UF,...r},disabled:I.draggable}),_e=d$(x,dt),se=!!A,ce=se&&!C&&tu(m)&&tu(P),Se=!w&&Ne,ot=Se&&ce?te:null,Ee=ce?ot??(l??b)({rects:k,activeNodeRect:T,activeIndex:m,overIndex:P,index:M}):null,je=tu(m)&&tu(P)?o({id:s,items:h,activeIndex:m,overIndex:P}):M,wt=A==null?void 0:A.id,pe=R.useRef({activeId:wt,items:h,newIndex:je,containerId:p}),qt=h!==pe.current.items,Nt=e({active:A,containerId:p,isDragging:Ne,isSorting:se,id:s,index:M,items:h,newIndex:pe.current.newIndex,previousItems:pe.current.items,previousContainerId:pe.current.containerId,transition:u,wasDragging:pe.current.activeId!=null}),fr=jF({disabled:!Nt,index:M,node:g,rect:y});return R.useEffect(()=>{se&&pe.current.newIndex!==je&&(pe.current.newIndex=je),p!==pe.current.containerId&&(pe.current.containerId=p),h!==pe.current.items&&(pe.current.items=h)},[se,je,p,h]),R.useEffect(()=>{if(wt===pe.current.activeId)return;if(wt!=null&&pe.current.activeId==null){pe.current.activeId=wt;return}const nr=setTimeout(()=>{pe.current.activeId=wt},50);return()=>clearTimeout(nr)},[wt]),{active:A,activeIndex:m,attributes:Pe,data:$,rect:y,index:M,newIndex:je,items:h,isOver:E,isSorting:se,isDragging:Ne,listeners:hr,node:g,overIndex:P,over:K,setNodeRef:_e,setActivatorNodeRef:Z,setDroppableNodeRef:x,setDraggableNodeRef:dt,transform:fr??Ee,transition:Ht()};function Ht(){if(fr||qt&&pe.current.newIndex===M)return FF;if(!(Se&&!Wv(N)||!u)&&(se||Nt))return Vl.Transition.toString({...u,property:nA})}}function BF(t,e){var r,n;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(r=t==null?void 0:t.draggable)!=null?r:e.draggable,droppable:(n=t==null?void 0:t.droppable)!=null?n:e.droppable}}xe.Down,xe.Right,xe.Up,xe.Left;function a0({id:t,children:e,onClick:r,disabled:n}){const{attributes:i,listeners:o,setNodeRef:s,transform:l,transition:c,isDragging:u}=zF({id:t,disabled:n}),h={transform:Vl.Transform.toString(l),transition:c,zIndex:u?10:1,opacity:u?.5:1,touchAction:"none"};return S.jsx("div",{ref:s,style:h,...i,...o,onClick:r,className:"h-full w-full relative",children:e})}function qF(){const[t,e]=R.useState(null),[r,n]=R.useState(null),[i,o]=R.useState(!1),[s,l]=x1(),c=s.get("bar")||localStorage.getItem("barId"),[u,h]=R.useState(c),[p,m]=R.useState(""),[_,C]=R.useState(null),[k,P]=R.useState("active"),[w,b]=R.useState(""),[I,M]=R.useState([]),[$,F]=R.useState([]),[y,g]=R.useState(Bw),[E,x]=R.useState(null),[A,N]=R.useState({}),[T,Pe]=R.useState([]),[dt,hr]=R.useState([]),[Ne,K]=R.useState({}),[Z,te]=R.useState({}),[_e,se]=R.useState([]),[ce,Se]=R.useState({type:"brand",open:!1,searchTerm:""}),[ot,Ae]=R.useState({open:!1,currentQty:1,context:""}),[Ee,je]=R.useState([]),wt=R.useRef(null),[pe,qt]=R.useState(!1),[Nt,fr]=R.useState(!1),[Ht,nr]=R.useState(!1);R.useEffect(()=>{const L=tN(ba,q=>{e(q),q&&JM().then(J=>J&&x(J))});return ZM().then(()=>{navigator.vibrate&&navigator.vibrate([500,200,500]),new Audio("/alert.mp3").play().catch(()=>{})}),()=>L()},[]),R.useEffect(()=>{if(!t||!u)return;l({bar:u}),localStorage.setItem("barId",u);const L=ht(tt,`bars/${u}/users`,t.uid),q=ht(tt,`bars/${u}/tokens`,t.uid);(async()=>{E&&(await Bo(q,{token:E,updated:Gi()}),await xn(L,{status:"active",lastSeen:Gi()}).catch(()=>{}))})();const ve=qc(L,Ie=>{if(Ie.exists()){const oe=Ie.data();C(oe.role),P(oe.status||"active"),b(oe.displayName||"Unknown"),oe.notificationPreferences?M(oe.notificationPreferences):oe.role&&M(wm[oe.role]||[])}else C(null)}),de=qc(ht(tt,"bars",u),Ie=>{if(Ie.exists()){const oe=Ie.data();m(oe.name),oe.buttons&&g([...Bw,...oe.buttons]),oe.beerInventory&&N(oe.beerInventory),oe.wells&&Pe(oe.wells),oe.hiddenButtonIds&&hr(oe.hiddenButtonIds),oe.buttonUsage&&K(oe.buttonUsage),oe.customOrders&&te(oe.customOrders)}}),ne=qc(hL(df(tt,"requests"),fL("barId","==",u),pL("timestamp","desc")),Ie=>F(Ie.docs.map(oe=>({id:oe.id,...oe.data()})))),at=qc(df(tt,`bars/${u}/users`),Ie=>{se(Ie.docs.map(oe=>({id:oe.id,...oe.data()})))});return()=>{ve(),de(),ne(),at()}},[t,u,E,l]),R.useEffect(()=>(wt.current&&clearTimeout(wt.current),Ee.length>0&&(wt.current=setTimeout(()=>{const L=Ee.map(q=>q.label).join(": ");$r(`${L} (Ask Me)`),je([])},6e4)),()=>{wt.current&&clearTimeout(wt.current)}),[Ee]);const Vr=async L=>{if(!t||!u)return;if(A[L]){Se(ve=>({...ve,open:!1,searchTerm:""}));const J={id:`brand_${L}`,label:L,children:[]};je(ve=>[...ve,J]);return}await Bo(ht(tt,"bars",u),{beerInventory:{[L]:[]}},{merge:!0}),N(J=>({...J,[L]:[]})),Se(J=>({...J,open:!1,searchTerm:""}));const q={id:`brand_${L}`,label:L,children:[]};je(J=>[...J,q])},Oo=async L=>{if(!t||!u||!ce.parentContext)return;const q=ce.parentContext;if((A[q]||[]).includes(L)){Se(ne=>({...ne,open:!1,searchTerm:""}));const de={id:`type_${q}_${L}`,label:L,children:[]};je(ne=>[...ne,de]);return}await xn(ht(tt,"bars",u),{[`beerInventory.${q}`]:hf(L)}),N(de=>({...de,[q]:[...de[q]||[],L]})),Se(de=>({...de,open:!1,searchTerm:""}));const ve={id:`type_${q}_${L}`,label:L,children:[]};je(de=>[...de,ve])},Lo=async L=>{if(!(!t||!u)){if(T.includes(L)){Se(q=>({...q,open:!1,searchTerm:""})),$r(`ICE: ${L}`),je([]);return}await xn(ht(tt,"bars",u),{wells:hf(L)}),Pe(q=>[...q,L]),Se(q=>({...q,open:!1,searchTerm:""})),$r(`ICE: ${L}`),je([])}},Xn=async L=>{!t||!u||(await xn(ht(tt,"bars",u),{hiddenButtonIds:hf(L)}),hr(q=>[...q,L]))},ir=async L=>{!t||!u||await xn(ht(tt,`bars/${u}/users`,L),{status:"active"})},vn=async L=>{!t||!u||await pw(ht(tt,`bars/${u}/users`,L))},yn=L=>{if(L.id==="ice")return[...T.map(J=>({id:`well_${J}`,label:J})),{id:"add_well",label:"+ ADD WELL",isCustom:!0}];if(L.id==="restock_beer")return[...Object.keys(A).map(J=>({id:`brand_${J}`,label:J,children:[]})),{id:"add_brand",label:"+ ADD BRAND",action:"add_brand",isCustom:!0}];if(L.id.startsWith("brand_")){const q=L.label;return[...(A[q]||[]).map(de=>({id:`type_${q}_${de}`,label:de,children:[]})),{id:"add_type",label:"+ ADD TYPE",action:"add_type",isCustom:!0}]}return L.id.startsWith("type_")?[{id:"qty_6",label:"6"},{id:"qty_12",label:"12"},{id:"qty_24",label:"24"},{id:"qty_other",label:"Other",action:"custom_qty"}]:L.children||[]},Jn=L=>{u&&xn(ht(tt,"bars",u),{[`buttonUsage.${L}`]:bL(1)}).catch(q=>console.error("Failed to track usage",q))},Ir=(L,q)=>{const J=Z[q];return J?[...L].sort((ve,de)=>{const ne=J.indexOf(ve.id),at=J.indexOf(de.id);return ne===-1&&at===-1?0:ne===-1?1:at===-1?-1:ne-at}):[...L].sort((ve,de)=>{const ne=Ne[ve.id]||0;return(Ne[de.id]||0)-ne})},zi=T$(Ww(QS,{activationConstraint:{delay:250,tolerance:5}}),Ww(GS,{activationConstraint:{distance:10}})),et=async(L,q,J)=>{const{active:ve,over:de}=L;if(ve.id!==(de==null?void 0:de.id)&&u){const ne=J.findIndex(Wt=>Wt.id===ve.id),at=J.findIndex(Wt=>Wt.id===(de==null?void 0:de.id)),Ie=[...J],[oe]=Ie.splice(ne,1);Ie.splice(at,0,oe);const tn=Ie.map(Wt=>Wt.id);te(Wt=>({...Wt,[q]:tn})),await xn(ht(tt,"bars",u),{[`customOrders.${q}`]:tn})}},Oe=L=>{if(Jn(L.id),L.id==="add_well"){const J=`Well #${T.length+1}`;Se({type:"well",open:!0,searchTerm:J});return}if(L.action==="add_brand"){Se({type:"brand",open:!0,searchTerm:""});return}if(L.action==="add_type"){const J=Ee[Ee.length-1];Se({type:"type",open:!0,parentContext:J.label,searchTerm:""});return}if(L.action==="custom_qty"){Ae({open:!0,currentQty:1,context:Ee.map(J=>J.label).join(": ")});return}const q=yn(L);q&&q.length>0?je([...Ee,L]):($r([...Ee,L].map(J=>J.label).join(": ")),je([]))},pr=async(L,q)=>{if(!t||!u)return;let J="active";L!=="Owner"&&_e.some(de=>de.role==="Owner"||de.role==="Manager")&&(J="pending"),await Bo(ht(tt,`bars/${u}/users`,t.uid),{role:L,displayName:q,email:t.email,status:J,joinedAt:Gi(),lastSeen:Gi(),notificationPreferences:wm[L]||[]},{merge:!0}),E&&await Bo(ht(tt,`bars/${u}/tokens`,t.uid),{token:E,updated:Gi()})},Zr=async()=>{!t||!u||(await pw(ht(tt,`bars/${u}/tokens`,t.uid)),await xn(ht(tt,`bars/${u}/users`,t.uid),{status:"off_clock"}),h(null),localStorage.removeItem("barId"),qt(!1))},$r=async L=>{!t||!u||(navigator.vibrate&&navigator.vibrate(100),await yL(df(tt,"requests"),{barId:u,label:L,requesterId:t.uid,requesterName:w,requesterRole:_,status:"pending",timestamp:Gi(),lastNotification:Gi()}))},Tr=async L=>{await xn(ht(tt,"requests",L),{status:"claimed",claimedBy:t==null?void 0:t.uid,claimerName:w})},en=async L=>{!t||!u||(M(L),await Bo(ht(tt,`bars/${u}/users`,t.uid),{notificationPreferences:L},{merge:!0}))},Mo=async L=>{L.preventDefault();const q=new FormData(L.target);try{i?await XP(ba,q.get("email"),q.get("password")):await JP(ba,q.get("email"),q.get("password"))}catch(J){n(J.message)}},Vo=async()=>{try{await EN(ba,XM)}catch(L){n(L.message)}};if(!t)return S.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 space-y-8 bg-black",children:[S.jsx("h1",{className:"text-4xl font-bold tracking-widest text-white",children:"BARBACKER"}),r&&S.jsx("div",{className:"text-red-400 p-2 border border-red-800 rounded",children:r}),S.jsxs("form",{onSubmit:Mo,className:"w-full max-w-sm space-y-4",children:[S.jsx("md-filled-text-field",{label:"Email",name:"email",type:"email",required:!0}),S.jsx("md-filled-text-field",{label:"Password",name:"password",type:"password",required:!0}),S.jsx("md-filled-button",{type:"submit",children:i?"Create Account":"Clock In"})]}),S.jsxs("div",{className:"flex gap-4 items-center",children:[S.jsx("md-text-button",{onClick:()=>o(!i),children:i?"Login":"Register"}),S.jsxs("md-outlined-button",{onClick:Vo,children:[S.jsx("md-icon",{slot:"icon",children:"mail"}),"Google"]})]})]});if(!u)return S.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 space-y-6 bg-black",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:"Select Bar"}),S.jsxs("p",{className:"text-gray-500 text-sm",children:["You are ",t.email]})]}),S.jsx("md-text-button",{onClick:()=>rN(ba),children:"Sign Out"}),S.jsx(t$,{onJoin:async L=>{L.id&&(L.status==="temporary"&&await Bo(ht(tt,"bars",L.id),{name:L.name,address:L.address||"",status:"temporary",type:L.type||"bar",buttons:[]},{merge:!0}),h(L.id))}})]});if(!_)return S.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 space-y-6 bg-black",children:[S.jsx("md-icon-button",{onClick:()=>{h(null),localStorage.removeItem("barId")},children:S.jsx("md-icon",{children:"arrow_back"})}),S.jsx(r$,{onSelect:pr})]});const _n=L=>{for(const q of y){if(L===q.label||L.startsWith(q.label))return q.id;if(q.children){for(const J of q.children)if(L===J.label)return q.id}}},Bi=$.filter(L=>{if(L.status!=="pending")return!1;const q=_n(L.label);return q?I.includes(q):!0}),ea=$.filter(L=>L.status!=="pending").slice(0,20),bn=Ee.length>0?Ee[Ee.length-1].id:"main",$o=(Ee.length>0?yn(Ee[Ee.length-1]):y).filter(L=>!dt.includes(L.id)),Fr=Ir($o,bn),Ke=Ir(y,"main"),st=_e.filter(L=>L.status==="pending"),ze=(_==="Owner"||_==="Manager")&&st.length>0;return k==="pending"?S.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 space-y-6 bg-black text-center",children:[S.jsx("md-icon",{style:{fontSize:64},className:"text-yellow-500",children:"hourglass_empty"}),S.jsx("h2",{className:"text-2xl font-bold text-white",children:"Approval Pending"}),S.jsxs("p",{className:"text-gray-400",children:["A manager must approve your request to join ",p,"."]}),S.jsx("md-text-button",{onClick:()=>{h(null),localStorage.removeItem("barId")},children:"Cancel"})]}):S.jsxs("div",{className:"min-h-screen pb-24 bg-black relative overflow-hidden",children:[S.jsx(c$,{open:Ht,onClose:()=>nr(!1),barName:p,allButtons:Ke,hiddenButtonIds:dt,onHideButton:Xn,users:_e,onApproveUser:ir,onRemoveUser:vn,currentUserRole:_||""}),S.jsx(l$,{open:Nt,onClose:()=>fr(!1),onSave:en,userRole:_||"",currentPreferences:I,allButtons:y}),S.jsx(u$,{open:ce.open,mode:ce.type,searchTerm:ce.searchTerm,onSearchChange:L=>Se(q=>({...q,searchTerm:L})),onClose:()=>Se(L=>({...L,open:!1})),onSelect:L=>{ce.type==="brand"?Vr(L):ce.type==="type"?Oo(L):Lo(L)},suggestions:ce.type==="brand"?Object.keys(A):ce.type==="type"?Array.from(new Set(Object.values(A).flat())):[]}),S.jsxs("md-dialog",{open:ot.open,onClose:()=>Ae(L=>({...L,open:!1})),children:[S.jsx("div",{slot:"headline",children:"Select Quantity"}),S.jsxs("div",{slot:"content",className:"flex items-center justify-center gap-6 py-6",children:[S.jsx("md-filled-tonal-button",{onClick:()=>Ae(L=>({...L,currentQty:Math.max(1,L.currentQty-1)})),children:S.jsx("md-icon",{children:"remove"})}),S.jsx("span",{className:"text-4xl font-bold text-white",children:ot.currentQty}),S.jsx("md-filled-tonal-button",{onClick:()=>Ae(L=>({...L,currentQty:L.currentQty+1})),children:S.jsx("md-icon",{children:"add"})})]}),S.jsxs("div",{slot:"actions",children:[S.jsx("md-text-button",{onClick:()=>Ae(L=>({...L,open:!1})),children:"Cancel"}),S.jsx("md-filled-button",{onClick:()=>{$r(`${ot.context}: ${ot.currentQty}`),Ae(L=>({...L,open:!1})),je([])},children:"Send"})]})]}),S.jsxs("md-dialog",{open:pe,onClose:()=>qt(!1),children:[S.jsx("div",{slot:"headline",children:"Abandon Ship?"}),S.jsx("div",{slot:"content",children:"Going off clock stops all notifications. The bar will be unprotected. Are you sure?"}),S.jsxs("div",{slot:"actions",children:[S.jsx("md-text-button",{onClick:()=>qt(!1),children:"Stay"}),S.jsx("md-filled-button",{onClick:Zr,class:"btn-alert",children:"Leave"})]})]}),S.jsxs("div",{className:"flex justify-between items-center p-4 bg-[#121212] sticky top-0 z-10 border-b border-[#333]",children:[S.jsxs("div",{className:"flex flex-col",children:[S.jsx("md-text-button",{onClick:()=>nr(!0),style:{marginLeft:"-12px"},children:S.jsx("span",{className:"font-bold text-lg text-white tracking-wide",children:p})}),S.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 mt-1",children:[S.jsx("span",{className:"text-white font-bold",children:w}),S.jsx("span",{className:"bg-gray-800 px-1 rounded",children:_})]})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("md-icon-button",{onClick:()=>fr(!0),title:"Notification Settings",children:S.jsx("md-icon",{className:"text-gray-400",children:"settings"})}),S.jsx("md-icon-button",{onClick:()=>qt(!0),title:"Go Off Clock",children:S.jsx(JV,{className:"text-gray-500 hover:text-red-500"})})]})]}),Ee.length>0&&S.jsxs("div",{className:"fixed inset-0 bg-black/95 z-50 flex flex-col p-6 animate-in fade-in duration-300",children:[S.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[S.jsx("md-icon-button",{onClick:()=>je([]),children:S.jsx("md-icon",{children:"close"})}),S.jsx("span",{className:"text-xl font-medium text-gray-200",children:Ee.map(L=>L.label).join(" > ")})]}),S.jsx(i0,{sensors:zi,collisionDetection:Gw,onDragEnd:L=>et(L,bn,Fr),children:S.jsx(s0,{items:Fr,strategy:yd,children:S.jsx("div",{className:"grid grid-cols-2 gap-4 mb-auto",children:Fr.map(L=>S.jsx(a0,{id:L.id,onClick:()=>Oe(L),children:S.jsx("md-filled-tonal-button",{style:{height:"100px",fontSize:"18px",width:"100%",pointerEvents:"none"},children:L.label})},L.id))})})}),S.jsx("div",{className:"mt-8",children:S.jsx("md-filled-button",{class:"w-full bg-gray-800 text-gray-300",onClick:()=>je([]),children:"Cancel"})})]}),S.jsx(i0,{sensors:zi,collisionDetection:Gw,onDragEnd:L=>et(L,"main",Ir(y,"main").filter(q=>!dt.includes(q.id))),children:S.jsx(s0,{items:Ir(y,"main").filter(L=>!dt.includes(L.id)),strategy:yd,children:S.jsx("div",{className:"grid grid-cols-2 gap-3 p-4",children:Ir(y,"main").filter(L=>!dt.includes(L.id)).map(L=>{const q=Bi.some(J=>J.label.startsWith(L.label));return S.jsx(a0,{id:L.id,onClick:()=>Oe(L),children:S.jsx("md-filled-tonal-button",{class:q?"btn-alert":"",style:{height:"120px",width:"100%",pointerEvents:"none"},children:S.jsxs("div",{className:"flex flex-col items-center gap-2",children:[S.jsx("md-icon",{style:{fontSize:32},children:L.icon||"circle"}),S.jsx("span",{className:"text-lg font-bold leading-none",children:L.label}),q&&S.jsx("span",{className:"text-xs opacity-80",children:"PENDING"})]})})},L.id)})})})}),S.jsxs("div",{className:"px-4 mt-4",children:[ze&&S.jsxs("div",{onClick:()=>nr(!0),className:"mb-2 p-4 bg-[#2C1A1A] border-l-4 border-yellow-500 rounded-r-lg flex justify-between items-center cursor-pointer active:bg-yellow-900/40 transition-colors",children:[S.jsxs("div",{className:"flex flex-col",children:[S.jsx("span",{className:"font-medium text-yellow-100",children:"Staff Approval Needed"}),S.jsxs("span",{className:"text-xs text-yellow-400",children:[st.length," pending request(s)"]})]}),S.jsx("md-filled-button",{style:{height:"32px",backgroundColor:"#EAB308",color:"#000"},children:"VIEW"})]}),Bi.map(L=>S.jsxs("div",{onClick:()=>Tr(L.id),className:"mb-2 p-4 bg-[#2C1A1A] border-l-4 border-red-500 rounded-r-lg flex justify-between items-center cursor-pointer active:bg-red-900/40 transition-colors",children:[S.jsxs("div",{className:"flex flex-col",children:[S.jsx("span",{className:"font-medium text-red-100",children:L.label}),S.jsxs("span",{className:"text-xs text-red-400",children:[L.requesterName," (",L.requesterRole,")"]})]}),S.jsx("md-filled-button",{class:"btn-alert",style:{height:"32px"},children:"CLAIM"})]},L.id))]}),S.jsxs("div",{className:"px-4 mt-8 pb-10",children:[S.jsx("div",{className:"text-xs font-bold text-gray-600 mb-2 uppercase tracking-widest",children:"Shift Log"}),S.jsx("md-list",{className:"bg-transparent",children:ea.map(L=>S.jsxs("md-list-item",{children:[S.jsx("div",{slot:"headline",className:"text-gray-400",children:L.label}),S.jsxs("div",{slot:"supporting-text",className:"text-xs text-gray-600",children:["Asked by ",L.requesterName,"  Claimed by ",L.claimerName||"Someone"]}),S.jsx("md-icon",{slot:"start",className:"text-green-800",children:"check_circle"})]},L.id))})]})]})}wx(document.getElementById("root")).render(S.jsx(R.StrictMode,{children:S.jsx(E1,{children:S.jsx(qF,{})})}));
